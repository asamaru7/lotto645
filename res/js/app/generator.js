!function(){"use strict";function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(n,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,(r=i.key,a=void 0,a=function(n,e){if("object"!==t(n)||null===n)return n;var o=n[Symbol.toPrimitive];if(void 0!==o){var i=o.call(n,e||"default");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(r,"string"),"symbol"===t(a)?a:String(a)),i)}var r,a}var e=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._sets=[],this._fixedSets=null,this._n=0,this._r=0,this._randomSelect=!0,this._maxSelect=0,this.total=0,this.result=null,this._resolve=null,this._resultSelector=null,this._runCount=0,this._queueBreak=1e5,this._queueBreakSleep=0,this._stack=null,this._combinationTypeSequence=!1,this.debugMode=!1,this._debugRunStart=null}var e,o,i;return e=t,i=[{key:"nthCombination",value:function(t,n,e){var o=t.length;if(n<0||n>o)throw"ValueError";for(var i=1,r=Math.min(n,o-n),a=1,u=r+1;a<u;a++)i=Math.floor(i*(o-r+a)/a);if(e<0&&(e+=i),e<0||e>=i)throw"IndexError";for(var s=[];n;){for(i=Math.floor(i*n/o),o-=1,n-=1;e>=i;)e-=i,i=Math.floor(i*(o-n)/o),o-=1;s.push(t[t.length-1-o])}return s}},{key:"_floyd",value:function(t,n){var e=t.length;if(n>e)return void console&&void 0;for(var o=[],i=e-n;i<e;i++){var r=t[~~(Math.random()*i)];-1!==o.indexOf(r)?o.push(t[i]):o.push(r)}return o}},{key:"_productRange",value:function(t,n){for(var e=t,o=t;o++<n;)e*=o;return e}},{key:"numCombinations",value:function(n,e){return n===e?1:(e=e<n-e?n-e:e,t._productRange(e+1,n)/t._productRange(1,n-e))}},{key:"_shuffle",value:function(t){for(var n=t.length-1;n>0;n--){var e=Math.floor(Math.random()*(n+1)),o=[t[e],t[n]];t[n]=o[0],t[e]=o[1]}return t}}],(o=[{key:"test",value:function(n,e){var o=this,i=t.numCombinations(n.length,e);this.debugMode=!0,this._debugRunStart=null,this._combinationTypeSequence=!1,this.generate(n,e,(function(){return!0}),{random:!0,count:i}).then((function(t){o._log("End : random / "+t.length),o._log("---------------------------------------------------------------"),o._log("start"),o._debugRunStart=null,o._combinationTypeSequence=!o._combinationTypeSequence,o.generate(n,e,(function(){return!0}),{random:!0,count:i}).then((function(t){o._log("End : sequence / "+t.length)}))}))}},{key:"generate",value:function(n,e,o,i){var r,a,u,s=this;for(this._sets=[],a=0,u=n.length;a<u;a++)r=n[a],void 0!==i.except&&i.except.indexOf(r)>=0||void 0!==i.fixed&&i.fixed.indexOf(r)>=0||this._sets.push(r);return this._fixedSets=i.fixed||[],this._r=e-this._fixedSets.length,this._n=this._sets.length,this._randomSelect=void 0===i.random||i.random,this._maxSelect=void 0===i.count?0:i.count,this.total=0,this.result=[],this._resultSelector=o,new Promise((function(n){if(s._resolve=n,s._runCount=0,s.total=t.numCombinations(s._n,s._r),s._combinationTypeSequence)s._log("Start : Sequence"),s._stack=[[[],0,s._n-1,0]],s._queue();else{s._log("Start : Random");for(var e=new Array(s.total),o=0;o<s.total;o++)e[o]=o;s._randomSelect&&(e=t._shuffle(e)),s._log("create range : "+e.length),s._combinationRandom(e,0,i.count)}}))}},{key:"_end",value:function(){this._resolve(this.result),this._log("end")}},{key:"_selectValue",value:function(t){t=this._fixedSets.length>0?t.concat(this._fixedSets).sort((function(t,n){return t-n})):t.sort((function(t,n){return t-n})),this._resultSelector&&!this._resultSelector(t)||this.result.push(t)}},{key:"_queue",value:function(){var n,e=this;for(this._runCount=0;this._runCount<=this._queueBreak&&(n=this._stack.pop());)this._combinationSequence(n[0],n[1],n[2],n[3]);n=null,this._stack.length>0?setTimeout((function(){e._log("doing ["+e._runCount+" / "+e._queueBreak+"]"),e._queue()}),this._queueBreakSleep):(this._randomSelect&&this._maxSelect>0&&this.result.length>this._maxSelect&&(this.result=t._floyd(this.result,this._maxSelect)),this._end())}},{key:"_combinationSequence",value:function(t,n,e,o){for(var i=n;i<=e&&e-i+1>=this._r-o;i++)if(t[o]=this._sets[i],this._runCount++,o+1===this._r){if(this._selectValue(t.slice(0)),!this._randomSelect&&this.result.length>=this._maxSelect){this._stack=[];break}}else this._stack.push([t.slice(0),i+1,e,o+1])}},{key:"_combinationRandom",value:function(n,e){for(var o,i,r=this,a=e,u=Math.min(n.length,e+this._queueBreak);a<u;a++)if(i=a,this._runCount++,o=t.nthCombination(this._sets,this._r,n[a]),this._selectValue(o),this.result.length>=this._maxSelect)return void this._end();n.length-1<=i?this._end():setTimeout((function(){r._log("doing "+r._runCount),r._runCount=0,r._combinationRandom(n,i+1)}),this._queueBreakSleep)}},{key:"_log",value:function(t){this.debugMode&&(null===this._debugRunStart?this._debugRunStart=performance.now():performance.now())}}])&&n(e.prototype,o),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,a=void 0,a=function(t,n){if("object"!==o(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,n||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(r,"string"),"symbol"===o(a)?a:String(a)),i)}var r,a}var r=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.drwtNo=n,this.analTotal=0,this.analOdd=0,this.analEven=0,this.analHigh=0,this.analLow=0,this.analPrime=0,this.analComposite=0,this.analColor=[0,0,0,0,0],this.analContinuous=0,this.analMaxContinuous=0,this.analAcValue=0,this._analyze()}var n,e,o;return n=t,o=[{key:"prime",get:function(){return[2,3,5,7,11,13,17,19,23,29,31,37,41,43]}},{key:"composite",get:function(){return[4,6,8,9,10,12,14,15,16,18,20,21,22,24,25,26,27,28,30,32,33,34,35,36,38,39,40,42,44,45]}},{key:"color",get:function(){return["노랑","파랑","빨강","검정","초록"]}}],(e=[{key:"_analyze",value:function(){for(var n,e=[],o=-9,i=0,r=0,a=this.drwtNo.length;r<a;r++){n=this.drwtNo[r],this.analTotal+=n,n%2==0?this.analEven++:this.analOdd++,n>=23?this.analHigh++:this.analLow++,t.prime.indexOf(n)>=0&&this.analPrime++,t.composite.indexOf(n)>=0&&this.analComposite++;var u=Math.floor((n-1)/10);this.analColor[u]++,o+1===n?(this.analContinuous++,++i>this.analMaxContinuous&&(this.analMaxContinuous=i)):i=0,o=n}this.analMaxContinuous>0&&(this.analMaxContinuous+=1);for(var s=this.drwtNo,l=0;l<5;l++)for(var h=l+1;h<6;h++)e[s[h]-s[l]]=1;for(var c=0,f=0;f<45;f++)(e[f]||0)>0&&c++;this.analAcValue=c-5}},{key:"getColorName",value:function(n){return t.color[n]}}])&&i(n.prototype,e),o&&i(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function u(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,r=void 0,r=function(t,n){if("object"!==a(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,n||"default");if("object"!==a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(i,"string"),"symbol"===a(r)?r:String(r)),o)}var i,r}var s,l=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,e,o;return n=t,o=[{key:"printNumber",value:function(t){return void 0===t||0===t?"-":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"range",value:function(t,n){return Array(n-t+1).fill().map((function(n,e){return t+e}))}},{key:"percent",value:function(t,n){return Math.round(t/n*100*10)/10}}],(e=null)&&u(n.prototype,e),o&&u(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();$((function(){new Vue({el:".generator",data:{games:{},analytics:{count:1},showFixed:!0,showExcept:!1,numFixed:[],numExcept:[],sumRange1:21,sumRange2:255,acValue:[],continuous:[],maxContinuous:[],highLow:{"0:6":!1,"1:5":!1,"2:4":!1,"3:3":!1,"4:2":!1,"5:1":!1,"6:0":!1},oddEven:{"0:6":!1,"1:5":!1,"2:4":!1,"3:3":!1,"4:2":!1,"5:1":!1,"6:0":!1},numbers:[]},computed:{},watch:{numFixed:{handler:function(t,n){if(t.length>5)return alertify.error("5개까지만 숫자를 고정하실 수 없습니다."),this.numFixed=n,""},deep:!0}},mounted:function(){var t=this,n=Math.floor((new Date).getTime()/1e3/60/60/24);$.getJSON("/api/analytics.json?t="+n,(function(n){t.analytics=n})),$.getJSON("/api/games.json?t="+n,(function(n){t.games=n.list})),this.sumRange1=81,this.sumRange2=200,this.numFixed=[],this.numExcept=[],this.acValue=[7,8,9,10],this.highLow={"0:6":!1,"1:5":!1,"2:4":!0,"3:3":!0,"4:2":!0,"5:1":!1,"6:0":!1},this.oddEven={"0:6":!1,"1:5":!1,"2:4":!0,"3:3":!0,"4:2":!0,"5:1":!1,"6:0":!1},this.continuous=[0,1,2],this.maxContinuous=[0,2,3]},methods:{printNumber:function(t){return l.printNumber(t)},range:function(t,n){return l.range(t,n)},percent:function(t,n){return l.percent(t,n)},ballColorIndex:function(t){return Math.floor((t-1)/10)},anal:function(t,n){return void 0!==this.analytics[t]&&this.analytics[t][n]||null},appendNumbers:function(t){this.numbers.push(new r(t))},genStart:function(){s=$('<div class="loading"></div>').appendTo("body")},genEnd:function(){s.remove()},generate:function(){for(var t=this,n=new Array(45),o=1;o<=45;o++)n[o-1]=o;var i=this.sumRange1>0||this.sumRange2>0,a=this.acValue.length>0,u=this.continuous.length>0,s=this.maxContinuous.length>0,l=!1;for(var h in this.highLow)if(this.highLow.hasOwnProperty(h)&&this.highLow[h]){l=!0;break}var c=!1;for(var f in this.oddEven)if(this.oddEven.hasOwnProperty(f)&&this.oddEven[f]){c=!0;break}this.genStart(),this.$nextTick((function(){(new e).generate(n,6,(function(n){var e=new r(n),o=!(i&&(t.sumRange1>e.analTotal||t.sumRange2<e.analTotal)||a&&t.acValue.indexOf(e.analAcValue)<0||u&&t.continuous.indexOf(e.analContinuous)<0||s&&t.maxContinuous.indexOf(e.analMaxContinuous)<0||l&&!t.highLow[e.analHigh+":"+e.analLow]||c&&!t.oddEven[e.analOdd+":"+e.analEven]);return e=null,o}),{fixed:t.numFixed,except:t.numExcept,random:!0,count:10}).then((function(n){if(t.numbers=[],n.length>0)for(var e=0,o=n.length;e<o;e++)t.appendNumbers(n[e]);t.genEnd()}))}))}}})}))}();