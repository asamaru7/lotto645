!function (t) {
	function e(i) {
		if (n[i]) return n[i].exports;
		var r = n[i] = {exports: {}, id: i, loaded: !1};
		return t[i].call(r.exports, r, r.exports, e), r.loaded = !0, r.exports
	}

	var i = window.webpackJsonp;
	window.webpackJsonp = function (o, s) {
		for (var a, h, l = 0, u = []; l < o.length; l++) h = o[l], r[h] && u.push.apply(u, r[h]), r[h] = 0;
		for (a in s) Object.prototype.hasOwnProperty.call(s, a) && (t[a] = s[a]);
		for (i && i(o, s); u.length;) u.shift().call(null, e);
		if (s[0]) return n[0] = 0, e(0)
	};
	var n = {}, r = {1: 0};
	return e.e = function (t, i) {
		if (0 === r[t]) return i.call(null, e);
		if (void 0 !== r[t]) r[t].push(i); else {
			r[t] = [i];
			var n = document.getElementsByTagName("head")[0], o = document.createElement("script");
			o.type = "text/javascript", o.charset = "utf-8", o.async = !0, o.src = e.p + "" + t + "../src/js/npe." + ({0: "module"}[t] || t) + ".bundle.js", n.appendChild(o)
		}
	}, e.m = t, e.c = n, e.p = "", e(0)
}([function (t, e, i) {
	i(255), i(280), i(113), i(342), i(254), i(128), i(344), i(274), i(142), i(345), i(258), i(262), i(348), i(346), i(347), t.exports = i(105)
}, , function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(3), o = n(r), s = i(54), a = n(s),
		h = "function" == typeof a["default"] && "symbol" == typeof o["default"] ? function (t) {
			return typeof t
		} : function (t) {
			return t && "function" == typeof a["default"] && t.constructor === a["default"] && t !== a["default"].prototype ? "symbol" : typeof t
		};
	e["default"] = "function" == typeof a["default"] && "symbol" === h(o["default"]) ? function (t) {
		return "undefined" == typeof t ? "undefined" : h(t)
	} : function (t) {
		return t && "function" == typeof a["default"] && t.constructor === a["default"] && t !== a["default"].prototype ? "symbol" : "undefined" == typeof t ? "undefined" : h(t)
	}
}, function (t, e, i) {
	t.exports = {"default": i(4), __esModule: !0}
}, function (t, e, i) {
	i(5), i(49), t.exports = i(53).f("iterator")
}, function (t, e, i) {
	"use strict";
	var n = i(6)(!0);
	i(9)(String, "String", function (t) {
		this._t = String(t), this._i = 0
	}, function () {
		var t, e = this._t, i = this._i;
		return i >= e.length ? {value: void 0, done: !0} : (t = n(e, i), this._i += t.length, {value: t, done: !1})
	})
}, function (t, e, i) {
	var n = i(7), r = i(8);
	t.exports = function (t) {
		return function (e, i) {
			var o, s, a = String(r(e)), h = n(i), l = a.length;
			return h < 0 || h >= l ? t ? "" : void 0 : (o = a.charCodeAt(h), o < 55296 || o > 56319 || h + 1 === l || (s = a.charCodeAt(h + 1)) < 56320 || s > 57343 ? t ? a.charAt(h) : o : t ? a.slice(h, h + 2) : (o - 55296 << 10) + (s - 56320) + 65536)
		}
	}
}, function (t, e) {
	var i = Math.ceil, n = Math.floor;
	t.exports = function (t) {
		return isNaN(t = +t) ? 0 : (t > 0 ? n : i)(t)
	}
}, function (t, e) {
	t.exports = function (t) {
		if (void 0 == t) throw TypeError("Can't call method on  " + t);
		return t
	}
}, function (t, e, i) {
	"use strict";
	var n = i(10), r = i(11), o = i(26), s = i(16), a = i(27), h = i(28), l = i(29), u = i(45), c = i(47),
		f = i(46)("iterator"), d = !([].keys && "next" in [].keys()), p = "@@iterator", g = "keys", m = "values",
		y = function () {
			return this
		};
	t.exports = function (t, e, i, v, _, x, b) {
		l(i, e, v);
		var w, T, C, E = function (t) {
				if (!d && t in I) return I[t];
				switch (t) {
					case g:
						return function () {
							return new i(this, t)
						};
					case m:
						return function () {
							return new i(this, t)
						}
				}
				return function () {
					return new i(this, t)
				}
			}, M = e + " Iterator", P = _ == m, S = !1, I = t.prototype, R = I[f] || I[p] || _ && I[_], A = R || E(_),
			k = _ ? P ? E("entries") : A : void 0, O = "Array" == e ? I.entries || R : R;
		if (O && (C = c(O.call(new t)), C !== Object.prototype && (u(C, M, !0), n || a(C, f) || s(C, f, y))), P && R && R.name !== m && (S = !0, A = function () {
				return R.call(this)
			}), n && !b || !d && !S && I[f] || s(I, f, A), h[e] = A, h[M] = y, _) if (w = {
				values: P ? A : E(m),
				keys: x ? A : E(g),
				entries: k
			}, b) for (T in w) T in I || o(I, T, w[T]); else r(r.P + r.F * (d || S), e, w);
		return w
	}
}, function (t, e) {
	t.exports = !0
}, function (t, e, i) {
	var n = i(12), r = i(13), o = i(14), s = i(16), a = "prototype", h = function (t, e, i) {
		var l, u, c, f = t & h.F, d = t & h.G, p = t & h.S, g = t & h.P, m = t & h.B, y = t & h.W,
			v = d ? r : r[e] || (r[e] = {}), _ = v[a], x = d ? n : p ? n[e] : (n[e] || {})[a];
		d && (i = e);
		for (l in i) u = !f && x && void 0 !== x[l], u && l in v || (c = u ? x[l] : i[l], v[l] = d && "function" != typeof x[l] ? i[l] : m && u ? o(c, n) : y && x[l] == c ? function (t) {
			var e = function (e, i, n) {
				if (this instanceof t) {
					switch (arguments.length) {
						case 0:
							return new t;
						case 1:
							return new t(e);
						case 2:
							return new t(e, i)
					}
					return new t(e, i, n)
				}
				return t.apply(this, arguments)
			};
			return e[a] = t[a], e
		}(c) : g && "function" == typeof c ? o(Function.call, c) : c, g && ((v.virtual || (v.virtual = {}))[l] = c, t & h.R && _ && !_[l] && s(_, l, c)))
	};
	h.F = 1, h.G = 2, h.S = 4, h.P = 8, h.B = 16, h.W = 32, h.U = 64, h.R = 128, t.exports = h
}, function (t, e) {
	var i = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
	"number" == typeof __g && (__g = i)
}, function (t, e) {
	var i = t.exports = {version: "2.4.0"};
	"number" == typeof __e && (__e = i)
}, function (t, e, i) {
	var n = i(15);
	t.exports = function (t, e, i) {
		if (n(t), void 0 === e) return t;
		switch (i) {
			case 1:
				return function (i) {
					return t.call(e, i)
				};
			case 2:
				return function (i, n) {
					return t.call(e, i, n)
				};
			case 3:
				return function (i, n, r) {
					return t.call(e, i, n, r)
				}
		}
		return function () {
			return t.apply(e, arguments)
		}
	}
}, function (t, e) {
	t.exports = function (t) {
		if ("function" != typeof t) throw TypeError(t + " is not a function!");
		return t
	}
}, function (t, e, i) {
	var n = i(17), r = i(25);
	t.exports = i(21) ? function (t, e, i) {
		return n.f(t, e, r(1, i))
	} : function (t, e, i) {
		return t[e] = i, t
	}
}, function (t, e, i) {
	var n = i(18), r = i(20), o = i(24), s = Object.defineProperty;
	e.f = i(21) ? Object.defineProperty : function (t, e, i) {
		if (n(t), e = o(e, !0), n(i), r) try {
			return s(t, e, i)
		} catch (a) {
		}
		if ("get" in i || "set" in i) throw TypeError("Accessors not supported!");
		return "value" in i && (t[e] = i.value), t
	}
}, function (t, e, i) {
	var n = i(19);
	t.exports = function (t) {
		if (!n(t)) throw TypeError(t + " is not an object!");
		return t
	}
}, function (t, e) {
	t.exports = function (t) {
		return "object" == typeof t ? null !== t : "function" == typeof t
	}
}, function (t, e, i) {
	t.exports = !i(21) && !i(22)(function () {
		return 7 != Object.defineProperty(i(23)("div"), "a", {
			get: function () {
				return 7
			}
		}).a
	})
}, function (t, e, i) {
	t.exports = !i(22)(function () {
		return 7 != Object.defineProperty({}, "a", {
			get: function () {
				return 7
			}
		}).a
	})
}, function (t, e) {
	t.exports = function (t) {
		try {
			return !!t()
		} catch (e) {
			return !0
		}
	}
}, function (t, e, i) {
	var n = i(19), r = i(12).document, o = n(r) && n(r.createElement);
	t.exports = function (t) {
		return o ? r.createElement(t) : {}
	}
}, function (t, e, i) {
	var n = i(19);
	t.exports = function (t, e) {
		if (!n(t)) return t;
		var i, r;
		if (e && "function" == typeof(i = t.toString) && !n(r = i.call(t))) return r;
		if ("function" == typeof(i = t.valueOf) && !n(r = i.call(t))) return r;
		if (!e && "function" == typeof(i = t.toString) && !n(r = i.call(t))) return r;
		throw TypeError("Can't convert object to primitive value")
	}
}, function (t, e) {
	t.exports = function (t, e) {
		return {enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: e}
	}
}, function (t, e, i) {
	t.exports = i(16)
}, function (t, e) {
	var i = {}.hasOwnProperty;
	t.exports = function (t, e) {
		return i.call(t, e)
	}
}, function (t, e) {
	t.exports = {}
}, function (t, e, i) {
	"use strict";
	var n = i(30), r = i(25), o = i(45), s = {};
	i(16)(s, i(46)("iterator"), function () {
		return this
	}), t.exports = function (t, e, i) {
		t.prototype = n(s, {next: r(1, i)}), o(t, e + " Iterator")
	}
}, function (t, e, i) {
	var n = i(18), r = i(31), o = i(43), s = i(40)("IE_PROTO"), a = function () {
	}, h = "prototype", l = function () {
		var t, e = i(23)("iframe"), n = o.length, r = "<", s = ">";
		for (e.style.display = "none", i(44).appendChild(e), e.src = "javascript:", t = e.contentWindow.document, t.open(), t.write(r + "script" + s + "document.F=Object" + r + "/script" + s), t.close(), l = t.F; n--;) delete l[h][o[n]];
		return l()
	};
	t.exports = Object.create || function (t, e) {
		var i;
		return null !== t ? (a[h] = n(t), i = new a, a[h] = null, i[s] = t) : i = l(), void 0 === e ? i : r(i, e)
	}
}, function (t, e, i) {
	var n = i(17), r = i(18), o = i(32);
	t.exports = i(21) ? Object.defineProperties : function (t, e) {
		r(t);
		for (var i, s = o(e), a = s.length, h = 0; a > h;) n.f(t, i = s[h++], e[i]);
		return t
	}
}, function (t, e, i) {
	var n = i(33), r = i(43);
	t.exports = Object.keys || function (t) {
		return n(t, r)
	}
}, function (t, e, i) {
	var n = i(27), r = i(34), o = i(37)(!1), s = i(40)("IE_PROTO");
	t.exports = function (t, e) {
		var i, a = r(t), h = 0, l = [];
		for (i in a) i != s && n(a, i) && l.push(i);
		for (; e.length > h;) n(a, i = e[h++]) && (~o(l, i) || l.push(i));
		return l
	}
}, function (t, e, i) {
	var n = i(35), r = i(8);
	t.exports = function (t) {
		return n(r(t))
	}
}, function (t, e, i) {
	var n = i(36);
	t.exports = Object("z").propertyIsEnumerable(0) ? Object : function (t) {
		return "String" == n(t) ? t.split("") : Object(t)
	}
}, function (t, e) {
	var i = {}.toString;
	t.exports = function (t) {
		return i.call(t).slice(8, -1)
	}
}, function (t, e, i) {
	var n = i(34), r = i(38), o = i(39);
	t.exports = function (t) {
		return function (e, i, s) {
			var a, h = n(e), l = r(h.length), u = o(s, l);
			if (t && i != i) {
				for (; l > u;) if (a = h[u++], a != a) return !0
			} else for (; l > u; u++) if ((t || u in h) && h[u] === i) return t || u || 0;
			return !t && -1
		}
	}
}, function (t, e, i) {
	var n = i(7), r = Math.min;
	t.exports = function (t) {
		return t > 0 ? r(n(t), 9007199254740991) : 0
	}
}, function (t, e, i) {
	var n = i(7), r = Math.max, o = Math.min;
	t.exports = function (t, e) {
		return t = n(t), t < 0 ? r(t + e, 0) : o(t, e)
	}
}, function (t, e, i) {
	var n = i(41)("keys"), r = i(42);
	t.exports = function (t) {
		return n[t] || (n[t] = r(t))
	}
}, function (t, e, i) {
	var n = i(12), r = "__core-js_shared__", o = n[r] || (n[r] = {});
	t.exports = function (t) {
		return o[t] || (o[t] = {})
	}
}, function (t, e) {
	var i = 0, n = Math.random();
	t.exports = function (t) {
		return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++i + n).toString(36))
	}
}, function (t, e) {
	t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}, function (t, e, i) {
	t.exports = i(12).document && document.documentElement
}, function (t, e, i) {
	var n = i(17).f, r = i(27), o = i(46)("toStringTag");
	t.exports = function (t, e, i) {
		t && !r(t = i ? t : t.prototype, o) && n(t, o, {configurable: !0, value: e})
	}
}, function (t, e, i) {
	var n = i(41)("wks"), r = i(42), o = i(12).Symbol, s = "function" == typeof o, a = t.exports = function (t) {
		return n[t] || (n[t] = s && o[t] || (s ? o : r)("Symbol." + t))
	};
	a.store = n
}, function (t, e, i) {
	var n = i(27), r = i(48), o = i(40)("IE_PROTO"), s = Object.prototype;
	t.exports = Object.getPrototypeOf || function (t) {
		return t = r(t), n(t, o) ? t[o] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? s : null
	}
}, function (t, e, i) {
	var n = i(8);
	t.exports = function (t) {
		return Object(n(t))
	}
}, function (t, e, i) {
	i(50);
	for (var n = i(12), r = i(16), o = i(28), s = i(46)("toStringTag"), a = ["NodeList", "DOMTokenList", "MediaList", "StyleSheetList", "CSSRuleList"], h = 0; h < 5; h++) {
		var l = a[h], u = n[l], c = u && u.prototype;
		c && !c[s] && r(c, s, l), o[l] = o.Array
	}
}, function (t, e, i) {
	"use strict";
	var n = i(51), r = i(52), o = i(28), s = i(34);
	t.exports = i(9)(Array, "Array", function (t, e) {
		this._t = s(t), this._i = 0, this._k = e
	}, function () {
		var t = this._t, e = this._k, i = this._i++;
		return !t || i >= t.length ? (this._t = void 0, r(1)) : "keys" == e ? r(0, i) : "values" == e ? r(0, t[i]) : r(0, [i, t[i]])
	}, "values"), o.Arguments = o.Array, n("keys"), n("values"), n("entries")
}, function (t, e) {
	t.exports = function () {
	}
}, function (t, e) {
	t.exports = function (t, e) {
		return {value: e, done: !!t}
	}
}, function (t, e, i) {
	e.f = i(46)
}, function (t, e, i) {
	t.exports = {"default": i(55), __esModule: !0}
}, function (t, e, i) {
	i(56), i(67), i(68), i(69), t.exports = i(13).Symbol
}, function (t, e, i) {
	"use strict";
	var n = i(12), r = i(27), o = i(21), s = i(11), a = i(26), h = i(57).KEY, l = i(22), u = i(41), c = i(45),
		f = i(42), d = i(46), p = i(53), g = i(58), m = i(59), y = i(60), v = i(63), _ = i(18), x = i(34), b = i(24),
		w = i(25), T = i(30), C = i(64), E = i(66), M = i(17), P = i(32), S = E.f, I = M.f, R = C.f, A = n.Symbol,
		k = n.JSON, O = k && k.stringify, L = "prototype", D = d("_hidden"), B = d("toPrimitive"),
		N = {}.propertyIsEnumerable, F = u("symbol-registry"), z = u("symbols"), H = u("op-symbols"), j = Object[L],
		U = "function" == typeof A, V = n.QObject, X = !V || !V[L] || !V[L].findChild, W = o && l(function () {
			return 7 != T(I({}, "a", {
				get: function () {
					return I(this, "a", {value: 7}).a
				}
			})).a
		}) ? function (t, e, i) {
			var n = S(j, e);
			n && delete j[e], I(t, e, i), n && t !== j && I(j, e, n)
		} : I, G = function (t) {
			var e = z[t] = T(A[L]);
			return e._k = t, e
		}, Y = U && "symbol" == typeof A.iterator ? function (t) {
			return "symbol" == typeof t
		} : function (t) {
			return t instanceof A
		}, q = function (t, e, i) {
			return t === j && q(H, e, i), _(t), e = b(e, !0), _(i), r(z, e) ? (i.enumerable ? (r(t, D) && t[D][e] && (t[D][e] = !1), i = T(i, {enumerable: w(0, !1)})) : (r(t, D) || I(t, D, w(1, {})), t[D][e] = !0), W(t, e, i)) : I(t, e, i)
		}, Q = function (t, e) {
			_(t);
			for (var i, n = y(e = x(e)), r = 0, o = n.length; o > r;) q(t, i = n[r++], e[i]);
			return t
		}, J = function (t, e) {
			return void 0 === e ? T(t) : Q(T(t), e)
		}, Z = function (t) {
			var e = N.call(this, t = b(t, !0));
			return !(this === j && r(z, t) && !r(H, t)) && (!(e || !r(this, t) || !r(z, t) || r(this, D) && this[D][t]) || e)
		}, K = function (t, e) {
			if (t = x(t), e = b(e, !0), t !== j || !r(z, e) || r(H, e)) {
				var i = S(t, e);
				return !i || !r(z, e) || r(t, D) && t[D][e] || (i.enumerable = !0), i
			}
		}, $ = function (t) {
			for (var e, i = R(x(t)), n = [], o = 0; i.length > o;) r(z, e = i[o++]) || e == D || e == h || n.push(e);
			return n
		}, tt = function (t) {
			for (var e, i = t === j, n = R(i ? H : x(t)), o = [], s = 0; n.length > s;) !r(z, e = n[s++]) || i && !r(j, e) || o.push(z[e]);
			return o
		};
	U || (A = function () {
		if (this instanceof A) throw TypeError("Symbol is not a constructor!");
		var t = f(arguments.length > 0 ? arguments[0] : void 0), e = function (i) {
			this === j && e.call(H, i), r(this, D) && r(this[D], t) && (this[D][t] = !1), W(this, t, w(1, i))
		};
		return o && X && W(j, t, {configurable: !0, set: e}), G(t)
	}, a(A[L], "toString", function () {
		return this._k
	}), E.f = K, M.f = q, i(65).f = C.f = $, i(62).f = Z, i(61).f = tt, o && !i(10) && a(j, "propertyIsEnumerable", Z, !0), p.f = function (t) {
		return G(d(t))
	}), s(s.G + s.W + s.F * !U, {Symbol: A});
	for (var et = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), it = 0; et.length > it;) d(et[it++]);
	for (var et = P(d.store), it = 0; et.length > it;) g(et[it++]);
	s(s.S + s.F * !U, "Symbol", {
		"for": function (t) {
			return r(F, t += "") ? F[t] : F[t] = A(t)
		}, keyFor: function (t) {
			if (Y(t)) return m(F, t);
			throw TypeError(t + " is not a symbol!")
		}, useSetter: function () {
			X = !0
		}, useSimple: function () {
			X = !1
		}
	}), s(s.S + s.F * !U, "Object", {
		create: J,
		defineProperty: q,
		defineProperties: Q,
		getOwnPropertyDescriptor: K,
		getOwnPropertyNames: $,
		getOwnPropertySymbols: tt
	}), k && s(s.S + s.F * (!U || l(function () {
		var t = A();
		return "[null]" != O([t]) || "{}" != O({a: t}) || "{}" != O(Object(t))
	})), "JSON", {
		stringify: function (t) {
			if (void 0 !== t && !Y(t)) {
				for (var e, i, n = [t], r = 1; arguments.length > r;) n.push(arguments[r++]);
				return e = n[1], "function" == typeof e && (i = e), !i && v(e) || (e = function (t, e) {
					if (i && (e = i.call(this, t, e)), !Y(e)) return e
				}), n[1] = e, O.apply(k, n)
			}
		}
	}), A[L][B] || i(16)(A[L], B, A[L].valueOf), c(A, "Symbol"), c(Math, "Math", !0), c(n.JSON, "JSON", !0)
}, function (t, e, i) {
	var n = i(42)("meta"), r = i(19), o = i(27), s = i(17).f, a = 0, h = Object.isExtensible || function () {
		return !0
	}, l = !i(22)(function () {
		return h(Object.preventExtensions({}))
	}), u = function (t) {
		s(t, n, {value: {i: "O" + ++a, w: {}}})
	}, c = function (t, e) {
		if (!r(t)) return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
		if (!o(t, n)) {
			if (!h(t)) return "F";
			if (!e) return "E";
			u(t)
		}
		return t[n].i
	}, f = function (t, e) {
		if (!o(t, n)) {
			if (!h(t)) return !0;
			if (!e) return !1;
			u(t)
		}
		return t[n].w
	}, d = function (t) {
		return l && p.NEED && h(t) && !o(t, n) && u(t), t
	}, p = t.exports = {KEY: n, NEED: !1, fastKey: c, getWeak: f, onFreeze: d}
}, function (t, e, i) {
	var n = i(12), r = i(13), o = i(10), s = i(53), a = i(17).f;
	t.exports = function (t) {
		var e = r.Symbol || (r.Symbol = o ? {} : n.Symbol || {});
		"_" == t.charAt(0) || t in e || a(e, t, {value: s.f(t)})
	}
}, function (t, e, i) {
	var n = i(32), r = i(34);
	t.exports = function (t, e) {
		for (var i, o = r(t), s = n(o), a = s.length, h = 0; a > h;) if (o[i = s[h++]] === e) return i
	}
}, function (t, e, i) {
	var n = i(32), r = i(61), o = i(62);
	t.exports = function (t) {
		var e = n(t), i = r.f;
		if (i) for (var s, a = i(t), h = o.f, l = 0; a.length > l;) h.call(t, s = a[l++]) && e.push(s);
		return e
	}
}, function (t, e) {
	e.f = Object.getOwnPropertySymbols
}, function (t, e) {
	e.f = {}.propertyIsEnumerable
}, function (t, e, i) {
	var n = i(36);
	t.exports = Array.isArray || function (t) {
		return "Array" == n(t)
	}
}, function (t, e, i) {
	var n = i(34), r = i(65).f, o = {}.toString,
		s = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [],
		a = function (t) {
			try {
				return r(t)
			} catch (e) {
				return s.slice()
			}
		};
	t.exports.f = function (t) {
		return s && "[object Window]" == o.call(t) ? a(t) : r(n(t))
	}
}, function (t, e, i) {
	var n = i(33), r = i(43).concat("length", "prototype");
	e.f = Object.getOwnPropertyNames || function (t) {
		return n(t, r)
	}
}, function (t, e, i) {
	var n = i(62), r = i(25), o = i(34), s = i(24), a = i(27), h = i(20), l = Object.getOwnPropertyDescriptor;
	e.f = i(21) ? l : function (t, e) {
		if (t = o(t), e = s(e, !0), h) try {
			return l(t, e)
		} catch (i) {
		}
		if (a(t, e)) return r(!n.f.call(t, e), t[e])
	}
}, function (t, e) {
}, function (t, e, i) {
	i(58)("asyncIterator")
}, function (t, e, i) {
	i(58)("observable")
}, function (t, e) {
	"use strict";
	e.__esModule = !0, e["default"] = function (t, e) {
		if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
	}
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(72), o = n(r);
	e["default"] = function () {
		function t(t, e) {
			for (var i = 0; i < e.length; i++) {
				var n = e[i];
				n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), (0, o["default"])(t, n.key, n)
			}
		}

		return function (e, i, n) {
			return i && t(e.prototype, i), n && t(e, n), e
		}
	}()
}, function (t, e, i) {
	t.exports = {"default": i(73), __esModule: !0}
}, function (t, e, i) {
	i(74);
	var n = i(13).Object;
	t.exports = function (t, e, i) {
		return n.defineProperty(t, e, i)
	}
}, function (t, e, i) {
	var n = i(11);
	n(n.S + n.F * !i(21), "Object", {defineProperty: i(17).f})
}, , function (t, e, i) {
	t.exports = i(77)
}, function (t, e, i) {
	(function (e) {
		var n = "object" == typeof e ? e : "object" == typeof window ? window : "object" == typeof self ? self : this,
			r = n.regeneratorRuntime && Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime") >= 0,
			o = r && n.regeneratorRuntime;
		if (n.regeneratorRuntime = void 0, t.exports = i(78), r) n.regeneratorRuntime = o; else try {
			delete n.regeneratorRuntime
		} catch (s) {
			n.regeneratorRuntime = void 0
		}
	}).call(e, function () {
		return this
	}())
}, function (t, e) {
	(function (e) {
		!function (e) {
			"use strict";

			function i(t, e, i, n) {
				var o = e && e.prototype instanceof r ? e : r, s = Object.create(o.prototype), a = new d(n || []);
				return s._invoke = l(t, i, a), s
			}

			function n(t, e, i) {
				try {
					return {type: "normal", arg: t.call(e, i)}
				} catch (n) {
					return {type: "throw", arg: n}
				}
			}

			function r() {
			}

			function o() {
			}

			function s() {
			}

			function a(t) {
				["next", "throw", "return"].forEach(function (e) {
					t[e] = function (t) {
						return this._invoke(e, t)
					}
				})
			}

			function h(t) {
				function i(e, r, o, s) {
					var a = n(t[e], t, r);
					if ("throw" !== a.type) {
						var h = a.arg, l = h.value;
						return l && "object" == typeof l && v.call(l, "__await") ? Promise.resolve(l.__await).then(function (t) {
							i("next", t, o, s)
						}, function (t) {
							i("throw", t, o, s)
						}) : Promise.resolve(l).then(function (t) {
							h.value = t, o(h)
						}, s)
					}
					s(a.arg)
				}

				function r(t, e) {
					function n() {
						return new Promise(function (n, r) {
							i(t, e, n, r)
						})
					}

					return o = o ? o.then(n, n) : n()
				}

				"object" == typeof e.process && e.process.domain && (i = e.process.domain.bind(i));
				var o;
				this._invoke = r
			}

			function l(t, e, i) {
				var r = E;
				return function (o, s) {
					if (r === P) throw new Error("Generator is already running");
					if (r === S) {
						if ("throw" === o) throw s;
						return g()
					}
					for (i.method = o, i.arg = s; ;) {
						var a = i.delegate;
						if (a) {
							var h = u(a, i);
							if (h) {
								if (h === I) continue;
								return h
							}
						}
						if ("next" === i.method) i.sent = i._sent = i.arg; else if ("throw" === i.method) {
							if (r === E) throw r = S, i.arg;
							i.dispatchException(i.arg)
						} else "return" === i.method && i.abrupt("return", i.arg);
						r = P;
						var l = n(t, e, i);
						if ("normal" === l.type) {
							if (r = i.done ? S : M, l.arg === I) continue;
							return {value: l.arg, done: i.done}
						}
						"throw" === l.type && (r = S, i.method = "throw", i.arg = l.arg)
					}
				}
			}

			function u(t, e) {
				var i = t.iterator[e.method];
				if (i === m) {
					if (e.delegate = null, "throw" === e.method) {
						if (t.iterator["return"] && (e.method = "return", e.arg = m, u(t, e), "throw" === e.method)) return I;
						e.method = "throw", e.arg = new TypeError("The iterator does not provide a 'throw' method")
					}
					return I
				}
				var r = n(i, t.iterator, e.arg);
				if ("throw" === r.type) return e.method = "throw", e.arg = r.arg, e.delegate = null, I;
				var o = r.arg;
				return o ? o.done ? (e[t.resultName] = o.value, e.next = t.nextLoc, "return" !== e.method && (e.method = "next", e.arg = m), e.delegate = null, I) : o : (e.method = "throw", e.arg = new TypeError("iterator result is not an object"), e.delegate = null, I)
			}

			function c(t) {
				var e = {tryLoc: t[0]};
				1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e)
			}

			function f(t) {
				var e = t.completion || {};
				e.type = "normal", delete e.arg, t.completion = e
			}

			function d(t) {
				this.tryEntries = [{tryLoc: "root"}], t.forEach(c, this), this.reset(!0)
			}

			function p(t) {
				if (t) {
					var e = t[x];
					if (e) return e.call(t);
					if ("function" == typeof t.next) return t;
					if (!isNaN(t.length)) {
						var i = -1, n = function r() {
							for (; ++i < t.length;) if (v.call(t, i)) return r.value = t[i], r.done = !1, r;
							return r.value = m, r.done = !0, r
						};
						return n.next = n
					}
				}
				return {next: g}
			}

			function g() {
				return {value: m, done: !0}
			}

			var m, y = Object.prototype, v = y.hasOwnProperty, _ = "function" == typeof Symbol ? Symbol : {},
				x = _.iterator || "@@iterator", b = _.asyncIterator || "@@asyncIterator",
				w = _.toStringTag || "@@toStringTag", T = "object" == typeof t, C = e.regeneratorRuntime;
			if (C) return void(T && (t.exports = C));
			C = e.regeneratorRuntime = T ? t.exports : {}, C.wrap = i;
			var E = "suspendedStart", M = "suspendedYield", P = "executing", S = "completed", I = {}, R = {};
			R[x] = function () {
				return this
			};
			var A = Object.getPrototypeOf, k = A && A(A(p([])));
			k && k !== y && v.call(k, x) && (R = k);
			var O = s.prototype = r.prototype = Object.create(R);
			o.prototype = O.constructor = s, s.constructor = o, s[w] = o.displayName = "GeneratorFunction", C.isGeneratorFunction = function (t) {
				var e = "function" == typeof t && t.constructor;
				return !!e && (e === o || "GeneratorFunction" === (e.displayName || e.name))
			}, C.mark = function (t) {
				return Object.setPrototypeOf ? Object.setPrototypeOf(t, s) : (t.__proto__ = s, w in t || (t[w] = "GeneratorFunction")), t.prototype = Object.create(O), t
			}, C.awrap = function (t) {
				return {__await: t}
			}, a(h.prototype), h.prototype[b] = function () {
				return this
			}, C.AsyncIterator = h, C.async = function (t, e, n, r) {
				var o = new h(i(t, e, n, r));
				return C.isGeneratorFunction(e) ? o : o.next().then(function (t) {
					return t.done ? t.value : o.next()
				})
			}, a(O), O[w] = "Generator", O[x] = function () {
				return this
			}, O.toString = function () {
				return "[object Generator]"
			}, C.keys = function (t) {
				var e = [];
				for (var i in t) e.push(i);
				return e.reverse(), function n() {
					for (; e.length;) {
						var i = e.pop();
						if (i in t) return n.value = i, n.done = !1, n
					}
					return n.done = !0, n
				}
			}, C.values = p, d.prototype = {
				constructor: d, reset: function (t) {
					if (this.prev = 0, this.next = 0, this.sent = this._sent = m, this.done = !1, this.delegate = null, this.method = "next", this.arg = m, this.tryEntries.forEach(f), !t) for (var e in this) "t" === e.charAt(0) && v.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = m)
				}, stop: function () {
					this.done = !0;
					var t = this.tryEntries[0], e = t.completion;
					if ("throw" === e.type) throw e.arg;
					return this.rval
				}, dispatchException: function (t) {
					function e(e, n) {
						return o.type = "throw", o.arg = t, i.next = e, n && (i.method = "next", i.arg = m), !!n
					}

					if (this.done) throw t;
					for (var i = this, n = this.tryEntries.length - 1; n >= 0; --n) {
						var r = this.tryEntries[n], o = r.completion;
						if ("root" === r.tryLoc) return e("end");
						if (r.tryLoc <= this.prev) {
							var s = v.call(r, "catchLoc"), a = v.call(r, "finallyLoc");
							if (s && a) {
								if (this.prev < r.catchLoc) return e(r.catchLoc, !0);
								if (this.prev < r.finallyLoc) return e(r.finallyLoc)
							} else if (s) {
								if (this.prev < r.catchLoc) return e(r.catchLoc, !0)
							} else {
								if (!a) throw new Error("try statement without catch or finally");
								if (this.prev < r.finallyLoc) return e(r.finallyLoc)
							}
						}
					}
				}, abrupt: function (t, e) {
					for (var i = this.tryEntries.length - 1; i >= 0; --i) {
						var n = this.tryEntries[i];
						if (n.tryLoc <= this.prev && v.call(n, "finallyLoc") && this.prev < n.finallyLoc) {
							var r = n;
							break
						}
					}
					r && ("break" === t || "continue" === t) && r.tryLoc <= e && e <= r.finallyLoc && (r = null);
					var o = r ? r.completion : {};
					return o.type = t, o.arg = e, r ? (this.method = "next", this.next = r.finallyLoc, I) : this.complete(o)
				}, complete: function (t, e) {
					if ("throw" === t.type) throw t.arg;
					return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), I
				}, finish: function (t) {
					for (var e = this.tryEntries.length - 1; e >= 0; --e) {
						var i = this.tryEntries[e];
						if (i.finallyLoc === t) return this.complete(i.completion, i.afterLoc), f(i), I
					}
				}, "catch": function (t) {
					for (var e = this.tryEntries.length - 1; e >= 0; --e) {
						var i = this.tryEntries[e];
						if (i.tryLoc === t) {
							var n = i.completion;
							if ("throw" === n.type) {
								var r = n.arg;
								f(i)
							}
							return r
						}
					}
					throw new Error("illegal catch attempt")
				}, delegateYield: function (t, e, i) {
					return this.delegate = {
						iterator: p(t),
						resultName: e,
						nextLoc: i
					}, "next" === this.method && (this.arg = m), I
				}
			}
		}("object" == typeof e ? e : "object" == typeof window ? window : "object" == typeof self ? self : this)
	}).call(e, function () {
		return this
	}())
}, , function (t, e, i) {
	t.exports = {"default": i(81), __esModule: !0}
}, function (t, e, i) {
	i(67), i(5), i(49), i(82), t.exports = i(13).Promise
}, function (t, e, i) {
	"use strict";
	var n, r, o, s = i(10), a = i(12), h = i(14), l = i(83), u = i(11), c = i(19), f = i(15), d = i(84), p = i(85),
		g = i(89), m = i(90).set, y = i(92)(), v = "Promise", _ = a.TypeError, x = a.process, b = a[v], x = a.process,
		w = "process" == l(x), T = function () {
		}, C = !!function () {
			try {
				var t = b.resolve(1), e = (t.constructor = {})[i(46)("species")] = function (t) {
					t(T, T)
				};
				return (w || "function" == typeof PromiseRejectionEvent) && t.then(T) instanceof e
			} catch (n) {
			}
		}(), E = function (t, e) {
			return t === e || t === b && e === o
		}, M = function (t) {
			var e;
			return !(!c(t) || "function" != typeof(e = t.then)) && e
		}, P = function (t) {
			return E(b, t) ? new S(t) : new r(t)
		}, S = r = function (t) {
			var e, i;
			this.promise = new t(function (t, n) {
				if (void 0 !== e || void 0 !== i) throw _("Bad Promise constructor");
				e = t, i = n
			}), this.resolve = f(e), this.reject = f(i)
		}, I = function (t) {
			try {
				t()
			} catch (e) {
				return {error: e}
			}
		}, R = function (t, e) {
			if (!t._n) {
				t._n = !0;
				var i = t._c;
				y(function () {
					for (var n = t._v, r = 1 == t._s, o = 0, s = function (e) {
						var i, o, s = r ? e.ok : e.fail, a = e.resolve, h = e.reject, l = e.domain;
						try {
							s ? (r || (2 == t._h && O(t), t._h = 1), s === !0 ? i = n : (l && l.enter(), i = s(n), l && l.exit()), i === e.promise ? h(_("Promise-chain cycle")) : (o = M(i)) ? o.call(i, a, h) : a(i)) : h(n)
						} catch (u) {
							h(u)
						}
					}; i.length > o;) s(i[o++]);
					t._c = [], t._n = !1, e && !t._h && A(t)
				})
			}
		}, A = function (t) {
			m.call(a, function () {
				var e, i, n, r = t._v;
				if (k(t) && (e = I(function () {
						w ? x.emit("unhandledRejection", r, t) : (i = a.onunhandledrejection) ? i({
							promise: t,
							reason: r
						}) : (n = a.console) && n.error && n.error("Unhandled promise rejection", r)
					}), t._h = w || k(t) ? 2 : 1), t._a = void 0, e) throw e.error
			})
		}, k = function (t) {
			if (1 == t._h) return !1;
			for (var e, i = t._a || t._c, n = 0; i.length > n;) if (e = i[n++], e.fail || !k(e.promise)) return !1;
			return !0
		}, O = function (t) {
			m.call(a, function () {
				var e;
				w ? x.emit("rejectionHandled", t) : (e = a.onrejectionhandled) && e({promise: t, reason: t._v})
			})
		}, L = function (t) {
			var e = this;
			e._d || (e._d = !0, e = e._w || e, e._v = t, e._s = 2, e._a || (e._a = e._c.slice()), R(e, !0))
		}, D = function (t) {
			var e, i = this;
			if (!i._d) {
				i._d = !0, i = i._w || i;
				try {
					if (i === t) throw _("Promise can't be resolved itself");
					(e = M(t)) ? y(function () {
						var n = {_w: i, _d: !1};
						try {
							e.call(t, h(D, n, 1), h(L, n, 1))
						} catch (r) {
							L.call(n, r)
						}
					}) : (i._v = t, i._s = 1, R(i, !1))
				} catch (n) {
					L.call({_w: i, _d: !1}, n)
				}
			}
		};
	C || (b = function (t) {
		d(this, b, v, "_h"), f(t), n.call(this);
		try {
			t(h(D, this, 1), h(L, this, 1))
		} catch (e) {
			L.call(this, e)
		}
	}, n = function (t) {
		this._c = [], this._a = void 0, this._s = 0, this._d = !1, this._v = void 0, this._h = 0, this._n = !1
	}, n.prototype = i(93)(b.prototype, {
		then: function (t, e) {
			var i = P(g(this, b));
			return i.ok = "function" != typeof t || t, i.fail = "function" == typeof e && e, i.domain = w ? x.domain : void 0, this._c.push(i), this._a && this._a.push(i), this._s && R(this, !1), i.promise
		}, "catch": function (t) {
			return this.then(void 0, t)
		}
	}), S = function () {
		var t = new n;
		this.promise = t, this.resolve = h(D, t, 1), this.reject = h(L, t, 1)
	}), u(u.G + u.W + u.F * !C, {Promise: b}), i(45)(b, v), i(94)(v), o = i(13)[v], u(u.S + u.F * !C, v, {
		reject: function (t) {
			var e = P(this), i = e.reject;
			return i(t), e.promise
		}
	}), u(u.S + u.F * (s || !C), v, {
		resolve: function (t) {
			if (t instanceof b && E(t.constructor, this)) return t;
			var e = P(this), i = e.resolve;
			return i(t), e.promise
		}
	}), u(u.S + u.F * !(C && i(95)(function (t) {
		b.all(t)["catch"](T)
	})), v, {
		all: function (t) {
			var e = this, i = P(e), n = i.resolve, r = i.reject, o = I(function () {
				var i = [], o = 0, s = 1;
				p(t, !1, function (t) {
					var a = o++, h = !1;
					i.push(void 0), s++, e.resolve(t).then(function (t) {
						h || (h = !0, i[a] = t, --s || n(i))
					}, r)
				}), --s || n(i)
			});
			return o && r(o.error), i.promise
		}, race: function (t) {
			var e = this, i = P(e), n = i.reject, r = I(function () {
				p(t, !1, function (t) {
					e.resolve(t).then(i.resolve, n)
				})
			});
			return r && n(r.error), i.promise
		}
	})
}, function (t, e, i) {
	var n = i(36), r = i(46)("toStringTag"), o = "Arguments" == n(function () {
		return arguments
	}()), s = function (t, e) {
		try {
			return t[e]
		} catch (i) {
		}
	};
	t.exports = function (t) {
		var e, i, a;
		return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof(i = s(e = Object(t), r)) ? i : o ? n(e) : "Object" == (a = n(e)) && "function" == typeof e.callee ? "Arguments" : a
	}
}, function (t, e) {
	t.exports = function (t, e, i, n) {
		if (!(t instanceof e) || void 0 !== n && n in t) throw TypeError(i + ": incorrect invocation!");
		return t
	}
}, function (t, e, i) {
	var n = i(14), r = i(86), o = i(87), s = i(18), a = i(38), h = i(88), l = {}, u = {},
		e = t.exports = function (t, e, i, c, f) {
			var d, p, g, m, y = f ? function () {
				return t
			} : h(t), v = n(i, c, e ? 2 : 1), _ = 0;
			if ("function" != typeof y) throw TypeError(t + " is not iterable!");
			if (o(y)) {
				for (d = a(t.length); d > _; _++) if (m = e ? v(s(p = t[_])[0], p[1]) : v(t[_]), m === l || m === u) return m
			} else for (g = y.call(t); !(p = g.next()).done;) if (m = r(g, v, p.value, e), m === l || m === u) return m
		};
	e.BREAK = l, e.RETURN = u
}, function (t, e, i) {
	var n = i(18);
	t.exports = function (t, e, i, r) {
		try {
			return r ? e(n(i)[0], i[1]) : e(i)
		} catch (o) {
			var s = t["return"];
			throw void 0 !== s && n(s.call(t)), o
		}
	}
}, function (t, e, i) {
	var n = i(28), r = i(46)("iterator"), o = Array.prototype;
	t.exports = function (t) {
		return void 0 !== t && (n.Array === t || o[r] === t)
	}
}, function (t, e, i) {
	var n = i(83), r = i(46)("iterator"), o = i(28);
	t.exports = i(13).getIteratorMethod = function (t) {
		if (void 0 != t) return t[r] || t["@@iterator"] || o[n(t)]
	}
}, function (t, e, i) {
	var n = i(18), r = i(15), o = i(46)("species");
	t.exports = function (t, e) {
		var i, s = n(t).constructor;
		return void 0 === s || void 0 == (i = n(s)[o]) ? e : r(i)
	}
}, function (t, e, i) {
	var n, r, o, s = i(14), a = i(91), h = i(44), l = i(23), u = i(12), c = u.process, f = u.setImmediate,
		d = u.clearImmediate, p = u.MessageChannel, g = 0, m = {}, y = "onreadystatechange", v = function () {
			var t = +this;
			if (m.hasOwnProperty(t)) {
				var e = m[t];
				delete m[t], e()
			}
		}, _ = function (t) {
			v.call(t.data)
		};
	f && d || (f = function (t) {
		for (var e = [], i = 1; arguments.length > i;) e.push(arguments[i++]);
		return m[++g] = function () {
			a("function" == typeof t ? t : Function(t), e)
		}, n(g), g
	}, d = function (t) {
		delete m[t]
	}, "process" == i(36)(c) ? n = function (t) {
		c.nextTick(s(v, t, 1))
	} : p ? (r = new p, o = r.port2, r.port1.onmessage = _, n = s(o.postMessage, o, 1)) : u.addEventListener && "function" == typeof postMessage && !u.importScripts ? (n = function (t) {
		u.postMessage(t + "", "*")
	}, u.addEventListener("message", _, !1)) : n = y in l("script") ? function (t) {
		h.appendChild(l("script"))[y] = function () {
			h.removeChild(this), v.call(t)
		}
	} : function (t) {
		setTimeout(s(v, t, 1), 0)
	}), t.exports = {set: f, clear: d}
}, function (t, e) {
	t.exports = function (t, e, i) {
		var n = void 0 === i;
		switch (e.length) {
			case 0:
				return n ? t() : t.call(i);
			case 1:
				return n ? t(e[0]) : t.call(i, e[0]);
			case 2:
				return n ? t(e[0], e[1]) : t.call(i, e[0], e[1]);
			case 3:
				return n ? t(e[0], e[1], e[2]) : t.call(i, e[0], e[1], e[2]);
			case 4:
				return n ? t(e[0], e[1], e[2], e[3]) : t.call(i, e[0], e[1], e[2], e[3])
		}
		return t.apply(i, e)
	}
}, function (t, e, i) {
	var n = i(12), r = i(90).set, o = n.MutationObserver || n.WebKitMutationObserver, s = n.process, a = n.Promise,
		h = "process" == i(36)(s);
	t.exports = function () {
		var t, e, i, l = function () {
			var n, r;
			for (h && (n = s.domain) && n.exit(); t;) {
				r = t.fn, t = t.next;
				try {
					r()
				} catch (o) {
					throw t ? i() : e = void 0, o
				}
			}
			e = void 0, n && n.enter()
		};
		if (h) i = function () {
			s.nextTick(l)
		}; else if (o) {
			var u = !0, c = document.createTextNode("");
			new o(l).observe(c, {characterData: !0}), i = function () {
				c.data = u = !u
			}
		} else if (a && a.resolve) {
			var f = a.resolve();
			i = function () {
				f.then(l)
			}
		} else i = function () {
			r.call(n, l)
		};
		return function (n) {
			var r = {fn: n, next: void 0};
			e && (e.next = r), t || (t = r, i()), e = r
		}
	}
}, function (t, e, i) {
	var n = i(16);
	t.exports = function (t, e, i) {
		for (var r in e) i && t[r] ? t[r] = e[r] : n(t, r, e[r]);
		return t
	}
}, function (t, e, i) {
	"use strict";
	var n = i(12), r = i(13), o = i(17), s = i(21), a = i(46)("species");
	t.exports = function (t) {
		var e = "function" == typeof r[t] ? r[t] : n[t];
		s && e && !e[a] && o.f(e, a, {
			configurable: !0, get: function () {
				return this
			}
		})
	}
}, function (t, e, i) {
	var n = i(46)("iterator"), r = !1;
	try {
		var o = [7][n]();
		o["return"] = function () {
			r = !0
		}, Array.from(o, function () {
			throw 2
		})
	} catch (s) {
	}
	t.exports = function (t, e) {
		if (!e && !r) return !1;
		var i = !1;
		try {
			var o = [7], s = o[n]();
			s.next = function () {
				return {done: i = !0}
			}, o[n] = function () {
				return s
			}, t(o)
		} catch (a) {
		}
		return i
	}
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(2), o = n(r);
	e["default"] = function (t, e) {
		if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		return !e || "object" !== ("undefined" == typeof e ? "undefined" : (0, o["default"])(e)) && "function" != typeof e ? t : e
	}
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(98), o = n(r), s = i(102), a = n(s), h = i(2), l = n(h);
	e["default"] = function (t, e) {
		if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + ("undefined" == typeof e ? "undefined" : (0, l["default"])(e)));
		t.prototype = (0, a["default"])(e && e.prototype, {
			constructor: {
				value: t,
				enumerable: !1,
				writable: !0,
				configurable: !0
			}
		}), e && (o["default"] ? (0, o["default"])(t, e) : t.__proto__ = e)
	}
}, function (t, e, i) {
	t.exports = {"default": i(99), __esModule: !0}
}, function (t, e, i) {
	i(100), t.exports = i(13).Object.setPrototypeOf
}, function (t, e, i) {
	var n = i(11);
	n(n.S, "Object", {setPrototypeOf: i(101).set})
}, function (t, e, i) {
	var n = i(19), r = i(18), o = function (t, e) {
		if (r(t), !n(e) && null !== e) throw TypeError(e + ": can't set as prototype!")
	};
	t.exports = {
		set: Object.setPrototypeOf || ("__proto__" in {} ? function (t, e, n) {
			try {
				n = i(14)(Function.call, i(66).f(Object.prototype, "__proto__").set, 2), n(t, []), e = !(t instanceof Array)
			} catch (r) {
				e = !0
			}
			return function (t, i) {
				return o(t, i), e ? t.__proto__ = i : n(t, i), t
			}
		}({}, !1) : void 0), check: o
	}
}, function (t, e, i) {
	t.exports = {"default": i(103), __esModule: !0}
}, function (t, e, i) {
	i(104);
	var n = i(13).Object;
	t.exports = function (t, e) {
		return n.create(t, e)
	}
}, function (t, e, i) {
	var n = i(11);
	n(n.S, "Object", {create: i(30)})
}, function (t, e) {
	function i() {
		this._events = this._events || {}, this._maxListeners = this._maxListeners || void 0
	}

	function n(t) {
		return "function" == typeof t
	}

	function r(t) {
		return "number" == typeof t
	}

	function o(t) {
		return "object" == typeof t && null !== t
	}

	function s(t) {
		return void 0 === t
	}

	t.exports = i, i.EventEmitter = i, i.prototype._events = void 0, i.prototype._maxListeners = void 0, i.defaultMaxListeners = 10, i.prototype.setMaxListeners = function (t) {
		if (!r(t) || t < 0 || isNaN(t)) throw TypeError("n must be a positive number");
		return this._maxListeners = t, this
	}, i.prototype.emit = function (t) {
		var e, i, r, a, h, l;
		if (this._events || (this._events = {}), "error" === t && (!this._events.error || o(this._events.error) && !this._events.error.length)) {
			if (e = arguments[1], e instanceof Error) throw e;
			var u = new Error('Uncaught, unspecified "error" event. (' + e + ")");
			throw u.context = e, u
		}
		if (i = this._events[t], s(i)) return !1;
		if (n(i)) switch (arguments.length) {
			case 1:
				i.call(this);
				break;
			case 2:
				i.call(this, arguments[1]);
				break;
			case 3:
				i.call(this, arguments[1], arguments[2]);
				break;
			default:
				a = Array.prototype.slice.call(arguments, 1), i.apply(this, a)
		} else if (o(i)) for (a = Array.prototype.slice.call(arguments, 1), l = i.slice(), r = l.length, h = 0; h < r; h++) l[h].apply(this, a);
		return !0
	}, i.prototype.addListener = function (t, e) {
		var r;
		if (!n(e)) throw TypeError("listener must be a function");
		return this._events || (this._events = {}), this._events.newListener && this.emit("newListener", t, n(e.listener) ? e.listener : e), this._events[t] ? o(this._events[t]) ? this._events[t].push(e) : this._events[t] = [this._events[t], e] : this._events[t] = e, o(this._events[t]) && !this._events[t].warned && (r = s(this._maxListeners) ? i.defaultMaxListeners : this._maxListeners, r && r > 0 && this._events[t].length > r && (this._events[t].warned = !0, void 0, "function" == typeof console.trace && void 0)), this
	}, i.prototype.on = i.prototype.addListener, i.prototype.once = function (t, e) {
		function i() {
			this.removeListener(t, i), r || (r = !0, e.apply(this, arguments))
		}

		if (!n(e)) throw TypeError("listener must be a function");
		var r = !1;
		return i.listener = e, this.on(t, i), this
	}, i.prototype.removeListener = function (t, e) {
		var i, r, s, a;
		if (!n(e)) throw TypeError("listener must be a function");
		if (!this._events || !this._events[t]) return this;
		if (i = this._events[t], s = i.length, r = -1, i === e || n(i.listener) && i.listener === e) delete this._events[t], this._events.removeListener && this.emit("removeListener", t, e); else if (o(i)) {
			for (a = s; a-- > 0;) if (i[a] === e || i[a].listener && i[a].listener === e) {
				r = a;
				break
			}
			if (r < 0) return this;
			1 === i.length ? (i.length = 0, delete this._events[t]) : i.splice(r, 1), this._events.removeListener && this.emit("removeListener", t, e)
		}
		return this
	}, i.prototype.removeAllListeners = function (t) {
		var e, i;
		if (!this._events) return this;
		if (!this._events.removeListener) return 0 === arguments.length ? this._events = {} : this._events[t] && delete this._events[t], this;
		if (0 === arguments.length) {
			for (e in this._events) "removeListener" !== e && this.removeAllListeners(e);
			return this.removeAllListeners("removeListener"), this._events = {}, this
		}
		if (i = this._events[t], n(i)) this.removeListener(t, i); else if (i) for (; i.length;) this.removeListener(t, i[i.length - 1]);
		return delete this._events[t], this
	}, i.prototype.listeners = function (t) {
		var e;
		return e = this._events && this._events[t] ? n(this._events[t]) ? [this._events[t]] : this._events[t].slice() : []
	}, i.prototype.listenerCount = function (t) {
		if (this._events) {
			var e = this._events[t];
			if (n(e)) return 1;
			if (e) return e.length
		}
		return 0
	}, i.listenerCount = function (t, e) {
		return t.listenerCount(e)
	}
}, , , , , , , , function (t, e, i) {
	var n, r;
	!function (e, i) {
		"object" == typeof t && "object" == typeof t.exports ? t.exports = e.document ? i(e, !0) : function (t) {
			if (!t.document) throw new Error("jQuery requires a window with a document");
			return i(t)
		} : i(e)
	}("undefined" != typeof window ? window : this, function (i, o) {
		function s(t) {
			var e = !!t && "length" in t && t.length, i = yt.type(t);
			return "function" !== i && !yt.isWindow(t) && ("array" === i || 0 === e || "number" == typeof e && e > 0 && e - 1 in t)
		}

		function a(t, e, i) {
			if (yt.isFunction(e)) return yt.grep(t, function (t, n) {
				return !!e.call(t, n, t) !== i
			});
			if (e.nodeType) return yt.grep(t, function (t) {
				return t === e !== i
			});
			if ("string" == typeof e) {
				if (Pt.test(e)) return yt.filter(e, t, i);
				e = yt.filter(e, t)
			}
			return yt.grep(t, function (t) {
				return yt.inArray(t, e) > -1 !== i
			})
		}

		function h(t, e) {
			do t = t[e]; while (t && 1 !== t.nodeType);
			return t
		}

		function l(t) {
			var e = {};
			return yt.each(t.match(Ot) || [], function (t, i) {
				e[i] = !0
			}), e
		}

		function u() {
			at.addEventListener ? (at.removeEventListener("DOMContentLoaded", c), i.removeEventListener("load", c)) : (at.detachEvent("onreadystatechange", c), i.detachEvent("onload", c))
		}

		function c() {
			(at.addEventListener || "load" === i.event.type || "complete" === at.readyState) && (u(), yt.ready())
		}

		function f(t, e, i) {
			if (void 0 === i && 1 === t.nodeType) {
				var n = "data-" + e.replace(Ft, "-$1").toLowerCase();
				if (i = t.getAttribute(n), "string" == typeof i) {
					try {
						i = "true" === i || "false" !== i && ("null" === i ? null : +i + "" === i ? +i : Nt.test(i) ? yt.parseJSON(i) : i)
					} catch (r) {
					}
					yt.data(t, e, i)
				} else i = void 0
			}
			return i
		}

		function d(t) {
			var e;
			for (e in t) if (("data" !== e || !yt.isEmptyObject(t[e])) && "toJSON" !== e) return !1;
			return !0
		}

		function p(t, e, i, n) {
			if (Bt(t)) {
				var r, o, s = yt.expando, a = t.nodeType, h = a ? yt.cache : t, l = a ? t[s] : t[s] && s;
				if (l && h[l] && (n || h[l].data) || void 0 !== i || "string" != typeof e) return l || (l = a ? t[s] = st.pop() || yt.guid++ : s), h[l] || (h[l] = a ? {} : {toJSON: yt.noop}), "object" != typeof e && "function" != typeof e || (n ? h[l] = yt.extend(h[l], e) : h[l].data = yt.extend(h[l].data, e)), o = h[l], n || (o.data || (o.data = {}), o = o.data), void 0 !== i && (o[yt.camelCase(e)] = i), "string" == typeof e ? (r = o[e], null == r && (r = o[yt.camelCase(e)])) : r = o, r
			}
		}

		function g(t, e, i) {
			if (Bt(t)) {
				var n, r, o = t.nodeType, s = o ? yt.cache : t, a = o ? t[yt.expando] : yt.expando;
				if (s[a]) {
					if (e && (n = i ? s[a] : s[a].data)) {
						yt.isArray(e) ? e = e.concat(yt.map(e, yt.camelCase)) : e in n ? e = [e] : (e = yt.camelCase(e), e = e in n ? [e] : e.split(" ")), r = e.length;
						for (; r--;) delete n[e[r]];
						if (i ? !d(n) : !yt.isEmptyObject(n)) return
					}
					(i || (delete s[a].data, d(s[a]))) && (o ? yt.cleanData([t], !0) : gt.deleteExpando || s != s.window ? delete s[a] : s[a] = void 0)
				}
			}
		}

		function m(t, e, i, n) {
			var r, o = 1, s = 20, a = n ? function () {
					return n.cur()
				} : function () {
					return yt.css(t, e, "")
				}, h = a(), l = i && i[3] || (yt.cssNumber[e] ? "" : "px"),
				u = (yt.cssNumber[e] || "px" !== l && +h) && Ht.exec(yt.css(t, e));
			if (u && u[3] !== l) {
				l = l || u[3], i = i || [], u = +h || 1;
				do o = o || ".5", u /= o, yt.style(t, e, u + l); while (o !== (o = a() / h) && 1 !== o && --s)
			}
			return i && (u = +u || +h || 0, r = i[1] ? u + (i[1] + 1) * i[2] : +i[2], n && (n.unit = l, n.start = u, n.end = r)), r
		}

		function y(t) {
			var e = qt.split("|"), i = t.createDocumentFragment();
			if (i.createElement) for (; e.length;) i.createElement(e.pop());
			return i
		}

		function v(t, e) {
			var i, n, r = 0,
				o = "undefined" != typeof t.getElementsByTagName ? t.getElementsByTagName(e || "*") : "undefined" != typeof t.querySelectorAll ? t.querySelectorAll(e || "*") : void 0;
			if (!o) for (o = [], i = t.childNodes || t; null != (n = i[r]); r++) !e || yt.nodeName(n, e) ? o.push(n) : yt.merge(o, v(n, e));
			return void 0 === e || e && yt.nodeName(t, e) ? yt.merge([t], o) : o
		}

		function _(t, e) {
			for (var i, n = 0; null != (i = t[n]); n++) yt._data(i, "globalEval", !e || yt._data(e[n], "globalEval"))
		}

		function x(t) {
			Xt.test(t.type) && (t.defaultChecked = t.checked)
		}

		function b(t, e, i, n, r) {
			for (var o, s, a, h, l, u, c, f = t.length, d = y(e), p = [], g = 0; g < f; g++) if (s = t[g], s || 0 === s) if ("object" === yt.type(s)) yt.merge(p, s.nodeType ? [s] : s); else if (Jt.test(s)) {
				for (h = h || d.appendChild(e.createElement("div")), l = (Wt.exec(s) || ["", ""])[1].toLowerCase(), c = Qt[l] || Qt._default, h.innerHTML = c[1] + yt.htmlPrefilter(s) + c[2], o = c[0]; o--;) h = h.lastChild;
				if (!gt.leadingWhitespace && Yt.test(s) && p.push(e.createTextNode(Yt.exec(s)[0])), !gt.tbody) for (s = "table" !== l || Zt.test(s) ? "<table>" !== c[1] || Zt.test(s) ? 0 : h : h.firstChild, o = s && s.childNodes.length; o--;) yt.nodeName(u = s.childNodes[o], "tbody") && !u.childNodes.length && s.removeChild(u);
				for (yt.merge(p, h.childNodes), h.textContent = ""; h.firstChild;) h.removeChild(h.firstChild);
				h = d.lastChild
			} else p.push(e.createTextNode(s));
			for (h && d.removeChild(h), gt.appendChecked || yt.grep(v(p, "input"), x), g = 0; s = p[g++];) if (n && yt.inArray(s, n) > -1) r && r.push(s); else if (a = yt.contains(s.ownerDocument, s), h = v(d.appendChild(s), "script"), a && _(h), i) for (o = 0; s = h[o++];) Gt.test(s.type || "") && i.push(s);
			return h = null, d
		}

		function w() {
			return !0
		}

		function T() {
			return !1
		}

		function C() {
			try {
				return at.activeElement
			} catch (t) {
			}
		}

		function E(t, e, i, n, r, o) {
			var s, a;
			if ("object" == typeof e) {
				"string" != typeof i && (n = n || i, i = void 0);
				for (a in e) E(t, a, i, n, e[a], o);
				return t
			}
			if (null == n && null == r ? (r = i, n = i = void 0) : null == r && ("string" == typeof i ? (r = n, n = void 0) : (r = n, n = i, i = void 0)), r === !1) r = T; else if (!r) return t;
			return 1 === o && (s = r, r = function (t) {
				return yt().off(t), s.apply(this, arguments)
			}, r.guid = s.guid || (s.guid = yt.guid++)), t.each(function () {
				yt.event.add(this, e, r, n, i)
			})
		}

		function M(t, e) {
			return yt.nodeName(t, "table") && yt.nodeName(11 !== e.nodeType ? e : e.firstChild, "tr") ? t.getElementsByTagName("tbody")[0] || t.appendChild(t.ownerDocument.createElement("tbody")) : t
		}

		function P(t) {
			return t.type = (null !== yt.find.attr(t, "type")) + "/" + t.type, t
		}

		function S(t) {
			var e = he.exec(t.type);
			return e ? t.type = e[1] : t.removeAttribute("type"), t
		}

		function I(t, e) {
			if (1 === e.nodeType && yt.hasData(t)) {
				var i, n, r, o = yt._data(t), s = yt._data(e, o), a = o.events;
				if (a) {
					delete s.handle, s.events = {};
					for (i in a) for (n = 0, r = a[i].length; n < r; n++) yt.event.add(e, i, a[i][n])
				}
				s.data && (s.data = yt.extend({}, s.data))
			}
		}

		function R(t, e) {
			var i, n, r;
			if (1 === e.nodeType) {
				if (i = e.nodeName.toLowerCase(), !gt.noCloneEvent && e[yt.expando]) {
					r = yt._data(e);
					for (n in r.events) yt.removeEvent(e, n, r.handle);
					e.removeAttribute(yt.expando)
				}
				"script" === i && e.text !== t.text ? (P(e).text = t.text, S(e)) : "object" === i ? (e.parentNode && (e.outerHTML = t.outerHTML), gt.html5Clone && t.innerHTML && !yt.trim(e.innerHTML) && (e.innerHTML = t.innerHTML)) : "input" === i && Xt.test(t.type) ? (e.defaultChecked = e.checked = t.checked, e.value !== t.value && (e.value = t.value)) : "option" === i ? e.defaultSelected = e.selected = t.defaultSelected : "input" !== i && "textarea" !== i || (e.defaultValue = t.defaultValue)
			}
		}

		function A(t, e, i, n) {
			e = lt.apply([], e);
			var r, o, s, a, h, l, u = 0, c = t.length, f = c - 1, d = e[0], p = yt.isFunction(d);
			if (p || c > 1 && "string" == typeof d && !gt.checkClone && ae.test(d)) return t.each(function (r) {
				var o = t.eq(r);
				p && (e[0] = d.call(this, r, o.html())), A(o, e, i, n)
			});
			if (c && (l = b(e, t[0].ownerDocument, !1, t, n), r = l.firstChild, 1 === l.childNodes.length && (l = r), r || n)) {
				for (a = yt.map(v(l, "script"), P), s = a.length; u < c; u++) o = l, u !== f && (o = yt.clone(o, !0, !0), s && yt.merge(a, v(o, "script"))), i.call(t[u], o, u);
				if (s) for (h = a[a.length - 1].ownerDocument, yt.map(a, S), u = 0; u < s; u++) o = a[u], Gt.test(o.type || "") && !yt._data(o, "globalEval") && yt.contains(h, o) && (o.src ? yt._evalUrl && yt._evalUrl(o.src) : yt.globalEval((o.text || o.textContent || o.innerHTML || "").replace(le, "")));
				l = r = null
			}
			return t
		}

		function k(t, e, i) {
			for (var n, r = e ? yt.filter(e, t) : t, o = 0; null != (n = r[o]); o++) i || 1 !== n.nodeType || yt.cleanData(v(n)), n.parentNode && (i && yt.contains(n.ownerDocument, n) && _(v(n, "script")), n.parentNode.removeChild(n));
			return t
		}

		function O(t, e) {
			var i = yt(e.createElement(t)).appendTo(e.body), n = yt.css(i[0], "display");
			return i.detach(), n
		}

		function L(t) {
			var e = at, i = de[t];
			return i || (i = O(t, e), "none" !== i && i || (fe = (fe || yt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement), e = (fe[0].contentWindow || fe[0].contentDocument).document, e.write(), e.close(), i = O(t, e), fe.detach()), de[t] = i), i
		}

		function D(t, e) {
			return {
				get: function () {
					return t() ? void delete this.get : (this.get = e).apply(this, arguments)
				}
			}
		}

		function B(t) {
			if (t in Se) return t;
			for (var e = t.charAt(0).toUpperCase() + t.slice(1), i = Pe.length; i--;) if (t = Pe[i] + e, t in Se) return t
		}

		function N(t, e) {
			for (var i, n, r, o = [], s = 0, a = t.length; s < a; s++) n = t[s], n.style && (o[s] = yt._data(n, "olddisplay"), i = n.style.display, e ? (o[s] || "none" !== i || (n.style.display = ""), "" === n.style.display && Ut(n) && (o[s] = yt._data(n, "olddisplay", L(n.nodeName)))) : (r = Ut(n), (i && "none" !== i || !r) && yt._data(n, "olddisplay", r ? i : yt.css(n, "display"))));
			for (s = 0; s < a; s++) n = t[s], n.style && (e && "none" !== n.style.display && "" !== n.style.display || (n.style.display = e ? o[s] || "" : "none"));
			return t
		}

		function F(t, e, i) {
			var n = Ce.exec(e);
			return n ? Math.max(0, n[1] - (i || 0)) + (n[2] || "px") : e
		}

		function z(t, e, i, n, r) {
			for (var o = i === (n ? "border" : "content") ? 4 : "width" === e ? 1 : 0, s = 0; o < 4; o += 2) "margin" === i && (s += yt.css(t, i + jt[o], !0, r)), n ? ("content" === i && (s -= yt.css(t, "padding" + jt[o], !0, r)), "margin" !== i && (s -= yt.css(t, "border" + jt[o] + "Width", !0, r))) : (s += yt.css(t, "padding" + jt[o], !0, r), "padding" !== i && (s += yt.css(t, "border" + jt[o] + "Width", !0, r)));
			return s
		}

		function H(t, e, i) {
			var n = !0, r = "width" === e ? t.offsetWidth : t.offsetHeight, o = ve(t),
				s = gt.boxSizing && "border-box" === yt.css(t, "boxSizing", !1, o);
			if (r <= 0 || null == r) {
				if (r = _e(t, e, o), (r < 0 || null == r) && (r = t.style[e]), ge.test(r)) return r;
				n = s && (gt.boxSizingReliable() || r === t.style[e]), r = parseFloat(r) || 0
			}
			return r + z(t, e, i || (s ? "border" : "content"), n, o) + "px"
		}

		function j(t, e, i, n, r) {
			return new j.prototype.init(t, e, i, n, r)
		}

		function U() {
			return i.setTimeout(function () {
				Ie = void 0
			}), Ie = yt.now()
		}

		function V(t, e) {
			var i, n = {height: t}, r = 0;
			for (e = e ? 1 : 0; r < 4; r += 2 - e) i = jt[r], n["margin" + i] = n["padding" + i] = t;
			return e && (n.opacity = n.width = t), n
		}

		function X(t, e, i) {
			for (var n, r = (Y.tweeners[e] || []).concat(Y.tweeners["*"]), o = 0, s = r.length; o < s; o++) if (n = r[o].call(i, e, t)) return n
		}

		function W(t, e, i) {
			var n, r, o, s, a, h, l, u, c = this, f = {}, d = t.style, p = t.nodeType && Ut(t),
				g = yt._data(t, "fxshow");
			i.queue || (a = yt._queueHooks(t, "fx"), null == a.unqueued && (a.unqueued = 0, h = a.empty.fire, a.empty.fire = function () {
				a.unqueued || h()
			}), a.unqueued++, c.always(function () {
				c.always(function () {
					a.unqueued--, yt.queue(t, "fx").length || a.empty.fire()
				})
			})), 1 === t.nodeType && ("height" in e || "width" in e) && (i.overflow = [d.overflow, d.overflowX, d.overflowY], l = yt.css(t, "display"), u = "none" === l ? yt._data(t, "olddisplay") || L(t.nodeName) : l, "inline" === u && "none" === yt.css(t, "float") && (gt.inlineBlockNeedsLayout && "inline" !== L(t.nodeName) ? d.zoom = 1 : d.display = "inline-block")), i.overflow && (d.overflow = "hidden", gt.shrinkWrapBlocks() || c.always(function () {
				d.overflow = i.overflow[0], d.overflowX = i.overflow[1], d.overflowY = i.overflow[2]
			}));
			for (n in e) if (r = e[n], Ae.exec(r)) {
				if (delete e[n], o = o || "toggle" === r, r === (p ? "hide" : "show")) {
					if ("show" !== r || !g || void 0 === g[n]) continue;
					p = !0
				}
				f[n] = g && g[n] || yt.style(t, n)
			} else l = void 0;
			if (yt.isEmptyObject(f)) "inline" === ("none" === l ? L(t.nodeName) : l) && (d.display = l); else {
				g ? "hidden" in g && (p = g.hidden) : g = yt._data(t, "fxshow", {}), o && (g.hidden = !p), p ? yt(t).show() : c.done(function () {
					yt(t).hide()
				}), c.done(function () {
					var e;
					yt._removeData(t, "fxshow");
					for (e in f) yt.style(t, e, f[e])
				});
				for (n in f) s = X(p ? g[n] : 0, n, c), n in g || (g[n] = s.start, p && (s.end = s.start, s.start = "width" === n || "height" === n ? 1 : 0))
			}
		}

		function G(t, e) {
			var i, n, r, o, s;
			for (i in t) if (n = yt.camelCase(i), r = e[n], o = t[i], yt.isArray(o) && (r = o[1], o = t[i] = o[0]), i !== n && (t[n] = o, delete t[i]), s = yt.cssHooks[n], s && "expand" in s) {
				o = s.expand(o), delete t[n];
				for (i in o) i in t || (t[i] = o[i], e[i] = r)
			} else e[n] = r
		}

		function Y(t, e, i) {
			var n, r, o = 0, s = Y.prefilters.length, a = yt.Deferred().always(function () {
				delete h.elem
			}), h = function () {
				if (r) return !1;
				for (var e = Ie || U(), i = Math.max(0, l.startTime + l.duration - e), n = i / l.duration || 0, o = 1 - n, s = 0, h = l.tweens.length; s < h; s++) l.tweens[s].run(o);
				return a.notifyWith(t, [l, o, i]), o < 1 && h ? i : (a.resolveWith(t, [l]), !1)
			}, l = a.promise({
				elem: t,
				props: yt.extend({}, e),
				opts: yt.extend(!0, {specialEasing: {}, easing: yt.easing._default}, i),
				originalProperties: e,
				originalOptions: i,
				startTime: Ie || U(),
				duration: i.duration,
				tweens: [],
				createTween: function (e, i) {
					var n = yt.Tween(t, l.opts, e, i, l.opts.specialEasing[e] || l.opts.easing);
					return l.tweens.push(n), n
				},
				stop: function (e) {
					var i = 0, n = e ? l.tweens.length : 0;
					if (r) return this;
					for (r = !0; i < n; i++) l.tweens[i].run(1);
					return e ? (a.notifyWith(t, [l, 1, 0]), a.resolveWith(t, [l, e])) : a.rejectWith(t, [l, e]), this
				}
			}), u = l.props;
			for (G(u, l.opts.specialEasing); o < s; o++) if (n = Y.prefilters[o].call(l, t, u, l.opts)) return yt.isFunction(n.stop) && (yt._queueHooks(l.elem, l.opts.queue).stop = yt.proxy(n.stop, n)), n;
			return yt.map(u, X, l), yt.isFunction(l.opts.start) && l.opts.start.call(t, l), yt.fx.timer(yt.extend(h, {
				elem: t,
				anim: l,
				queue: l.opts.queue
			})), l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always)
		}

		function q(t) {
			return yt.attr(t, "class") || ""
		}

		function Q(t) {
			return function (e, i) {
				"string" != typeof e && (i = e, e = "*");
				var n, r = 0, o = e.toLowerCase().match(Ot) || [];
				if (yt.isFunction(i)) for (; n = o[r++];) "+" === n.charAt(0) ? (n = n.slice(1) || "*", (t[n] = t[n] || []).unshift(i)) : (t[n] = t[n] || []).push(i)
			}
		}

		function J(t, e, i, n) {
			function r(a) {
				var h;
				return o[a] = !0, yt.each(t[a] || [], function (t, a) {
					var l = a(e, i, n);
					return "string" != typeof l || s || o[l] ? s ? !(h = l) : void 0 : (e.dataTypes.unshift(l), r(l), !1)
				}), h
			}

			var o = {}, s = t === ii;
			return r(e.dataTypes[0]) || !o["*"] && r("*")
		}

		function Z(t, e) {
			var i, n, r = yt.ajaxSettings.flatOptions || {};
			for (n in e) void 0 !== e[n] && ((r[n] ? t : i || (i = {}))[n] = e[n]);
			return i && yt.extend(!0, t, i), t
		}

		function K(t, e, i) {
			for (var n, r, o, s, a = t.contents, h = t.dataTypes; "*" === h[0];) h.shift(), void 0 === r && (r = t.mimeType || e.getResponseHeader("Content-Type"));
			if (r) for (s in a) if (a[s] && a[s].test(r)) {
				h.unshift(s);
				break
			}
			if (h[0] in i) o = h[0]; else {
				for (s in i) {
					if (!h[0] || t.converters[s + " " + h[0]]) {
						o = s;
						break
					}
					n || (n = s)
				}
				o = o || n
			}
			if (o) return o !== h[0] && h.unshift(o), i[o]
		}

		function $(t, e, i, n) {
			var r, o, s, a, h, l = {}, u = t.dataTypes.slice();
			if (u[1]) for (s in t.converters) l[s.toLowerCase()] = t.converters[s];
			for (o = u.shift(); o;) if (t.responseFields[o] && (i[t.responseFields[o]] = e), !h && n && t.dataFilter && (e = t.dataFilter(e, t.dataType)), h = o, o = u.shift()) if ("*" === o) o = h; else if ("*" !== h && h !== o) {
				if (s = l[h + " " + o] || l["* " + o], !s) for (r in l) if (a = r.split(" "), a[1] === o && (s = l[h + " " + a[0]] || l["* " + a[0]])) {
					s === !0 ? s = l[r] : l[r] !== !0 && (o = a[0], u.unshift(a[1]));
					break
				}
				if (s !== !0) if (s && t["throws"]) e = s(e); else try {
					e = s(e)
				} catch (c) {
					return {state: "parsererror", error: s ? c : "No conversion from " + h + " to " + o}
				}
			}
			return {state: "success", data: e}
		}

		function tt(t) {
			return t.style && t.style.display || yt.css(t, "display")
		}

		function et(t) {
			if (!yt.contains(t.ownerDocument || at, t)) return !0;
			for (; t && 1 === t.nodeType;) {
				if ("none" === tt(t) || "hidden" === t.type) return !0;
				t = t.parentNode
			}
			return !1
		}

		function it(t, e, i, n) {
			var r;
			if (yt.isArray(e)) yt.each(e, function (e, r) {
				i || ai.test(t) ? n(t, r) : it(t + "[" + ("object" == typeof r && null != r ? e : "") + "]", r, i, n)
			}); else if (i || "object" !== yt.type(e)) n(t, e); else for (r in e) it(t + "[" + r + "]", e[r], i, n)
		}

		function nt() {
			try {
				return new i.XMLHttpRequest
			} catch (t) {
			}
		}

		function rt() {
			try {
				return new i.ActiveXObject("Microsoft.XMLHTTP")
			} catch (t) {
			}
		}

		function ot(t) {
			return yt.isWindow(t) ? t : 9 === t.nodeType && (t.defaultView || t.parentWindow)
		}

		var st = [], at = i.document, ht = st.slice, lt = st.concat, ut = st.push, ct = st.indexOf, ft = {},
			dt = ft.toString, pt = ft.hasOwnProperty, gt = {}, mt = "1.12.4", yt = function (t, e) {
				return new yt.fn.init(t, e)
			}, vt = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, _t = /^-ms-/, xt = /-([\da-z])/gi, bt = function (t, e) {
				return e.toUpperCase()
			};
		yt.fn = yt.prototype = {
			jquery: mt, constructor: yt, selector: "", length: 0, toArray: function () {
				return ht.call(this)
			}, get: function (t) {
				return null != t ? t < 0 ? this[t + this.length] : this[t] : ht.call(this)
			}, pushStack: function (t) {
				var e = yt.merge(this.constructor(), t);
				return e.prevObject = this, e.context = this.context, e
			}, each: function (t) {
				return yt.each(this, t)
			}, map: function (t) {
				return this.pushStack(yt.map(this, function (e, i) {
					return t.call(e, i, e)
				}))
			}, slice: function () {
				return this.pushStack(ht.apply(this, arguments))
			}, first: function () {
				return this.eq(0)
			}, last: function () {
				return this.eq(-1)
			}, eq: function (t) {
				var e = this.length, i = +t + (t < 0 ? e : 0);
				return this.pushStack(i >= 0 && i < e ? [this[i]] : [])
			}, end: function () {
				return this.prevObject || this.constructor()
			}, push: ut, sort: st.sort, splice: st.splice
		}, yt.extend = yt.fn.extend = function () {
			var t, e, i, n, r, o, s = arguments[0] || {}, a = 1, h = arguments.length, l = !1;
			for ("boolean" == typeof s && (l = s, s = arguments[a] || {}, a++), "object" == typeof s || yt.isFunction(s) || (s = {}), a === h && (s = this, a--); a < h; a++) if (null != (r = arguments[a])) for (n in r) t = s[n], i = r[n], s !== i && (l && i && (yt.isPlainObject(i) || (e = yt.isArray(i))) ? (e ? (e = !1, o = t && yt.isArray(t) ? t : []) : o = t && yt.isPlainObject(t) ? t : {}, s[n] = yt.extend(l, o, i)) : void 0 !== i && (s[n] = i));
			return s
		}, yt.extend({
			expando: "jQuery" + (mt + Math.random()).replace(/\D/g, ""), isReady: !0, error: function (t) {
				throw new Error(t)
			}, noop: function () {
			}, isFunction: function (t) {
				return "function" === yt.type(t)
			}, isArray: Array.isArray || function (t) {
				return "array" === yt.type(t)
			}, isWindow: function (t) {
				return null != t && t == t.window
			}, isNumeric: function (t) {
				var e = t && t.toString();
				return !yt.isArray(t) && e - parseFloat(e) + 1 >= 0
			}, isEmptyObject: function (t) {
				var e;
				for (e in t) return !1;
				return !0
			}, isPlainObject: function (t) {
				var e;
				if (!t || "object" !== yt.type(t) || t.nodeType || yt.isWindow(t)) return !1;
				try {
					if (t.constructor && !pt.call(t, "constructor") && !pt.call(t.constructor.prototype, "isPrototypeOf")) return !1
				} catch (i) {
					return !1
				}
				if (!gt.ownFirst) for (e in t) return pt.call(t, e);
				for (e in t) ;
				return void 0 === e || pt.call(t, e)
			}, type: function (t) {
				return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? ft[dt.call(t)] || "object" : typeof t
			}, globalEval: function (t) {
				t && yt.trim(t) && (i.execScript || function (t) {
					i.eval.call(i, t)
				})(t)
			}, camelCase: function (t) {
				return t.replace(_t, "ms-").replace(xt, bt)
			}, nodeName: function (t, e) {
				return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase()
			}, each: function (t, e) {
				var i, n = 0;
				if (s(t)) for (i = t.length; n < i && e.call(t[n], n, t[n]) !== !1; n++) ; else for (n in t) if (e.call(t[n], n, t[n]) === !1) break;
				return t
			}, trim: function (t) {
				return null == t ? "" : (t + "").replace(vt, "")
			}, makeArray: function (t, e) {
				var i = e || [];
				return null != t && (s(Object(t)) ? yt.merge(i, "string" == typeof t ? [t] : t) : ut.call(i, t)), i
			}, inArray: function (t, e, i) {
				var n;
				if (e) {
					if (ct) return ct.call(e, t, i);
					for (n = e.length, i = i ? i < 0 ? Math.max(0, n + i) : i : 0; i < n; i++) if (i in e && e[i] === t) return i
				}
				return -1
			}, merge: function (t, e) {
				for (var i = +e.length, n = 0, r = t.length; n < i;) t[r++] = e[n++];
				if (i !== i) for (; void 0 !== e[n];) t[r++] = e[n++];
				return t.length = r, t
			}, grep: function (t, e, i) {
				for (var n, r = [], o = 0, s = t.length, a = !i; o < s; o++) n = !e(t[o], o), n !== a && r.push(t[o]);
				return r
			}, map: function (t, e, i) {
				var n, r, o = 0, a = [];
				if (s(t)) for (n = t.length; o < n; o++) r = e(t[o], o, i), null != r && a.push(r); else for (o in t) r = e(t[o], o, i), null != r && a.push(r);
				return lt.apply([], a)
			}, guid: 1, proxy: function (t, e) {
				var i, n, r;
				if ("string" == typeof e && (r = t[e], e = t, t = r), yt.isFunction(t)) return i = ht.call(arguments, 2), n = function () {
					return t.apply(e || this, i.concat(ht.call(arguments)))
				}, n.guid = t.guid = t.guid || yt.guid++, n
			}, now: function () {
				return +new Date
			}, support: gt
		}), "function" == typeof Symbol && (yt.fn[Symbol.iterator] = st[Symbol.iterator]), yt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (t, e) {
			ft["[object " + e + "]"] = e.toLowerCase()
		});
		var wt = function (t) {
			function e(t, e, i, n) {
				var r, o, s, a, h, l, c, d, p = e && e.ownerDocument, g = e ? e.nodeType : 9;
				if (i = i || [], "string" != typeof t || !t || 1 !== g && 9 !== g && 11 !== g) return i;
				if (!n && ((e ? e.ownerDocument || e : H) !== k && A(e), e = e || k, L)) {
					if (11 !== g && (l = yt.exec(t))) if (r = l[1]) {
						if (9 === g) {
							if (!(s = e.getElementById(r))) return i;
							if (s.id === r) return i.push(s), i
						} else if (p && (s = p.getElementById(r)) && F(e, s) && s.id === r) return i.push(s), i
					} else {
						if (l[2]) return K.apply(i, e.getElementsByTagName(t)), i;
						if ((r = l[3]) && b.getElementsByClassName && e.getElementsByClassName) return K.apply(i, e.getElementsByClassName(r)), i
					}
					if (b.qsa && !W[t + " "] && (!D || !D.test(t))) {
						if (1 !== g) p = e, d = t; else if ("object" !== e.nodeName.toLowerCase()) {
							for ((a = e.getAttribute("id")) ? a = a.replace(_t, "\\$&") : e.setAttribute("id", a = z), c = E(t), o = c.length, h = ft.test(a) ? "#" + a : "[id='" + a + "']"; o--;) c[o] = h + " " + f(c[o]);
							d = c.join(","), p = vt.test(t) && u(e.parentNode) || e
						}
						if (d) try {
							return K.apply(i, p.querySelectorAll(d)), i
						} catch (m) {
						} finally {
							a === z && e.removeAttribute("id")
						}
					}
				}
				return P(t.replace(at, "$1"), e, i, n)
			}

			function i() {
				function t(i, n) {
					return e.push(i + " ") > w.cacheLength && delete t[e.shift()], t[i + " "] = n
				}

				var e = [];
				return t
			}

			function n(t) {
				return t[z] = !0, t
			}

			function r(t) {
				var e = k.createElement("div");
				try {
					return !!t(e)
				} catch (i) {
					return !1
				} finally {
					e.parentNode && e.parentNode.removeChild(e), e = null
				}
			}

			function o(t, e) {
				for (var i = t.split("|"), n = i.length; n--;) w.attrHandle[i[n]] = e
			}

			function s(t, e) {
				var i = e && t,
					n = i && 1 === t.nodeType && 1 === e.nodeType && (~e.sourceIndex || Y) - (~t.sourceIndex || Y);
				if (n) return n;
				if (i) for (; i = i.nextSibling;) if (i === e) return -1;
				return t ? 1 : -1
			}

			function a(t) {
				return function (e) {
					var i = e.nodeName.toLowerCase();
					return "input" === i && e.type === t
				}
			}

			function h(t) {
				return function (e) {
					var i = e.nodeName.toLowerCase();
					return ("input" === i || "button" === i) && e.type === t
				}
			}

			function l(t) {
				return n(function (e) {
					return e = +e, n(function (i, n) {
						for (var r, o = t([], i.length, e), s = o.length; s--;) i[r = o[s]] && (i[r] = !(n[r] = i[r]))
					})
				})
			}

			function u(t) {
				return t && "undefined" != typeof t.getElementsByTagName && t
			}

			function c() {
			}

			function f(t) {
				for (var e = 0, i = t.length, n = ""; e < i; e++) n += t[e].value;
				return n
			}

			function d(t, e, i) {
				var n = e.dir, r = i && "parentNode" === n, o = U++;
				return e.first ? function (e, i, o) {
					for (; e = e[n];) if (1 === e.nodeType || r) return t(e, i, o)
				} : function (e, i, s) {
					var a, h, l, u = [j, o];
					if (s) {
						for (; e = e[n];) if ((1 === e.nodeType || r) && t(e, i, s)) return !0
					} else for (; e = e[n];) if (1 === e.nodeType || r) {
						if (l = e[z] || (e[z] = {}), h = l[e.uniqueID] || (l[e.uniqueID] = {}), (a = h[n]) && a[0] === j && a[1] === o) return u[2] = a[2];
						if (h[n] = u, u[2] = t(e, i, s)) return !0
					}
				}
			}

			function p(t) {
				return t.length > 1 ? function (e, i, n) {
					for (var r = t.length; r--;) if (!t[r](e, i, n)) return !1;
					return !0
				} : t[0]
			}

			function g(t, i, n) {
				for (var r = 0, o = i.length; r < o; r++) e(t, i[r], n);
				return n
			}

			function m(t, e, i, n, r) {
				for (var o, s = [], a = 0, h = t.length, l = null != e; a < h; a++) (o = t[a]) && (i && !i(o, n, r) || (s.push(o), l && e.push(a)));
				return s
			}

			function y(t, e, i, r, o, s) {
				return r && !r[z] && (r = y(r)), o && !o[z] && (o = y(o, s)), n(function (n, s, a, h) {
					var l, u, c, f = [], d = [], p = s.length, y = n || g(e || "*", a.nodeType ? [a] : a, []),
						v = !t || !n && e ? y : m(y, f, t, a, h), _ = i ? o || (n ? t : p || r) ? [] : s : v;
					if (i && i(v, _, a, h), r) for (l = m(_, d), r(l, [], a, h), u = l.length; u--;) (c = l[u]) && (_[d[u]] = !(v[d[u]] = c));
					if (n) {
						if (o || t) {
							if (o) {
								for (l = [], u = _.length; u--;) (c = _[u]) && l.push(v[u] = c);
								o(null, _ = [], l, h)
							}
							for (u = _.length; u--;) (c = _[u]) && (l = o ? tt(n, c) : f[u]) > -1 && (n[l] = !(s[l] = c))
						}
					} else _ = m(_ === s ? _.splice(p, _.length) : _), o ? o(null, s, _, h) : K.apply(s, _)
				})
			}

			function v(t) {
				for (var e, i, n, r = t.length, o = w.relative[t[0].type], s = o || w.relative[" "], a = o ? 1 : 0, h = d(function (t) {
					return t === e
				}, s, !0), l = d(function (t) {
					return tt(e, t) > -1
				}, s, !0), u = [function (t, i, n) {
					var r = !o && (n || i !== S) || ((e = i).nodeType ? h(t, i, n) : l(t, i, n));
					return e = null, r
				}]; a < r; a++) if (i = w.relative[t[a].type]) u = [d(p(u), i)]; else {
					if (i = w.filter[t[a].type].apply(null, t[a].matches), i[z]) {
						for (n = ++a; n < r && !w.relative[t[n].type]; n++) ;
						return y(a > 1 && p(u), a > 1 && f(t.slice(0, a - 1).concat({value: " " === t[a - 2].type ? "*" : ""})).replace(at, "$1"), i, a < n && v(t.slice(a, n)), n < r && v(t = t.slice(n)), n < r && f(t))
					}
					u.push(i)
				}
				return p(u)
			}

			function _(t, i) {
				var r = i.length > 0, o = t.length > 0, s = function (n, s, a, h, l) {
					var u, c, f, d = 0, p = "0", g = n && [], y = [], v = S, _ = n || o && w.find.TAG("*", l),
						x = j += null == v ? 1 : Math.random() || .1, b = _.length;
					for (l && (S = s === k || s || l); p !== b && null != (u = _[p]); p++) {
						if (o && u) {
							for (c = 0, s || u.ownerDocument === k || (A(u), a = !L); f = t[c++];) if (f(u, s || k, a)) {
								h.push(u);
								break
							}
							l && (j = x)
						}
						r && ((u = !f && u) && d--, n && g.push(u))
					}
					if (d += p, r && p !== d) {
						for (c = 0; f = i[c++];) f(g, y, s, a);
						if (n) {
							if (d > 0) for (; p--;) g[p] || y[p] || (y[p] = J.call(h));
							y = m(y)
						}
						K.apply(h, y), l && !n && y.length > 0 && d + i.length > 1 && e.uniqueSort(h)
					}
					return l && (j = x, S = v), g
				};
				return r ? n(s) : s
			}

			var x, b, w, T, C, E, M, P, S, I, R, A, k, O, L, D, B, N, F, z = "sizzle" + 1 * new Date, H = t.document,
				j = 0, U = 0, V = i(), X = i(), W = i(), G = function (t, e) {
					return t === e && (R = !0), 0
				}, Y = 1 << 31, q = {}.hasOwnProperty, Q = [], J = Q.pop, Z = Q.push, K = Q.push, $ = Q.slice,
				tt = function (t, e) {
					for (var i = 0, n = t.length; i < n; i++) if (t[i] === e) return i;
					return -1
				},
				et = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
				it = "[\\x20\\t\\r\\n\\f]", nt = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
				rt = "\\[" + it + "*(" + nt + ")(?:" + it + "*([*^$|!~]?=)" + it + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + nt + "))|)" + it + "*\\]",
				ot = ":(" + nt + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + rt + ")*)|.*)\\)|)",
				st = new RegExp(it + "+", "g"),
				at = new RegExp("^" + it + "+|((?:^|[^\\\\])(?:\\\\.)*)" + it + "+$", "g"),
				ht = new RegExp("^" + it + "*," + it + "*"),
				lt = new RegExp("^" + it + "*([>+~]|" + it + ")" + it + "*"),
				ut = new RegExp("=" + it + "*([^\\]'\"]*?)" + it + "*\\]", "g"), ct = new RegExp(ot),
				ft = new RegExp("^" + nt + "$"), dt = {
					ID: new RegExp("^#(" + nt + ")"),
					CLASS: new RegExp("^\\.(" + nt + ")"),
					TAG: new RegExp("^(" + nt + "|[*])"),
					ATTR: new RegExp("^" + rt),
					PSEUDO: new RegExp("^" + ot),
					CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + it + "*(even|odd|(([+-]|)(\\d*)n|)" + it + "*(?:([+-]|)" + it + "*(\\d+)|))" + it + "*\\)|)", "i"),
					bool: new RegExp("^(?:" + et + ")$", "i"),
					needsContext: new RegExp("^" + it + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + it + "*((?:-\\d)?\\d*)" + it + "*\\)|)(?=[^-]|$)", "i")
				}, pt = /^(?:input|select|textarea|button)$/i, gt = /^h\d$/i, mt = /^[^{]+\{\s*\[native \w/,
				yt = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, vt = /[+~]/, _t = /'|\\/g,
				xt = new RegExp("\\\\([\\da-f]{1,6}" + it + "?|(" + it + ")|.)", "ig"), bt = function (t, e, i) {
					var n = "0x" + e - 65536;
					return n !== n || i ? e : n < 0 ? String.fromCharCode(n + 65536) : String.fromCharCode(n >> 10 | 55296, 1023 & n | 56320)
				}, wt = function () {
					A()
				};
			try {
				K.apply(Q = $.call(H.childNodes), H.childNodes), Q[H.childNodes.length].nodeType
			} catch (Tt) {
				K = {
					apply: Q.length ? function (t, e) {
						Z.apply(t, $.call(e))
					} : function (t, e) {
						for (var i = t.length, n = 0; t[i++] = e[n++];) ;
						t.length = i - 1
					}
				}
			}
			b = e.support = {}, C = e.isXML = function (t) {
				var e = t && (t.ownerDocument || t).documentElement;
				return !!e && "HTML" !== e.nodeName
			}, A = e.setDocument = function (t) {
				var e, i, n = t ? t.ownerDocument || t : H;
				return n !== k && 9 === n.nodeType && n.documentElement ? (k = n, O = k.documentElement, L = !C(k), (i = k.defaultView) && i.top !== i && (i.addEventListener ? i.addEventListener("unload", wt, !1) : i.attachEvent && i.attachEvent("onunload", wt)), b.attributes = r(function (t) {
					return t.className = "i", !t.getAttribute("className")
				}), b.getElementsByTagName = r(function (t) {
					return t.appendChild(k.createComment("")), !t.getElementsByTagName("*").length
				}), b.getElementsByClassName = mt.test(k.getElementsByClassName), b.getById = r(function (t) {
					return O.appendChild(t).id = z, !k.getElementsByName || !k.getElementsByName(z).length
				}), b.getById ? (w.find.ID = function (t, e) {
					if ("undefined" != typeof e.getElementById && L) {
						var i = e.getElementById(t);
						return i ? [i] : []
					}
				}, w.filter.ID = function (t) {
					var e = t.replace(xt, bt);
					return function (t) {
						return t.getAttribute("id") === e
					}
				}) : (delete w.find.ID, w.filter.ID = function (t) {
					var e = t.replace(xt, bt);
					return function (t) {
						var i = "undefined" != typeof t.getAttributeNode && t.getAttributeNode("id");
						return i && i.value === e
					}
				}), w.find.TAG = b.getElementsByTagName ? function (t, e) {
					return "undefined" != typeof e.getElementsByTagName ? e.getElementsByTagName(t) : b.qsa ? e.querySelectorAll(t) : void 0
				} : function (t, e) {
					var i, n = [], r = 0, o = e.getElementsByTagName(t);
					if ("*" === t) {
						for (; i = o[r++];) 1 === i.nodeType && n.push(i);
						return n
					}
					return o
				}, w.find.CLASS = b.getElementsByClassName && function (t, e) {
					if ("undefined" != typeof e.getElementsByClassName && L) return e.getElementsByClassName(t)
				}, B = [], D = [], (b.qsa = mt.test(k.querySelectorAll)) && (r(function (t) {
					O.appendChild(t).innerHTML = "<a id='" + z + "'></a><select id='" + z + "-\r\\' msallowcapture=''><option selected=''></option></select>", t.querySelectorAll("[msallowcapture^='']").length && D.push("[*^$]=" + it + "*(?:''|\"\")"), t.querySelectorAll("[selected]").length || D.push("\\[" + it + "*(?:value|" + et + ")"), t.querySelectorAll("[id~=" + z + "-]").length || D.push("~="), t.querySelectorAll(":checked").length || D.push(":checked"), t.querySelectorAll("a#" + z + "+*").length || D.push(".#.+[+~]")
				}), r(function (t) {
					var e = k.createElement("input");
					e.setAttribute("type", "hidden"), t.appendChild(e).setAttribute("name", "D"), t.querySelectorAll("[name=d]").length && D.push("name" + it + "*[*^$|!~]?="), t.querySelectorAll(":enabled").length || D.push(":enabled", ":disabled"), t.querySelectorAll("*,:x"), D.push(",.*:")
				})), (b.matchesSelector = mt.test(N = O.matches || O.webkitMatchesSelector || O.mozMatchesSelector || O.oMatchesSelector || O.msMatchesSelector)) && r(function (t) {
					b.disconnectedMatch = N.call(t, "div"), N.call(t, "[s!='']:x"), B.push("!=", ot)
				}), D = D.length && new RegExp(D.join("|")), B = B.length && new RegExp(B.join("|")), e = mt.test(O.compareDocumentPosition), F = e || mt.test(O.contains) ? function (t, e) {
					var i = 9 === t.nodeType ? t.documentElement : t, n = e && e.parentNode;
					return t === n || !(!n || 1 !== n.nodeType || !(i.contains ? i.contains(n) : t.compareDocumentPosition && 16 & t.compareDocumentPosition(n)))
				} : function (t, e) {
					if (e) for (; e = e.parentNode;) if (e === t) return !0;
					return !1
				}, G = e ? function (t, e) {
					if (t === e) return R = !0, 0;
					var i = !t.compareDocumentPosition - !e.compareDocumentPosition;
					return i ? i : (i = (t.ownerDocument || t) === (e.ownerDocument || e) ? t.compareDocumentPosition(e) : 1,
						1 & i || !b.sortDetached && e.compareDocumentPosition(t) === i ? t === k || t.ownerDocument === H && F(H, t) ? -1 : e === k || e.ownerDocument === H && F(H, e) ? 1 : I ? tt(I, t) - tt(I, e) : 0 : 4 & i ? -1 : 1)
				} : function (t, e) {
					if (t === e) return R = !0, 0;
					var i, n = 0, r = t.parentNode, o = e.parentNode, a = [t], h = [e];
					if (!r || !o) return t === k ? -1 : e === k ? 1 : r ? -1 : o ? 1 : I ? tt(I, t) - tt(I, e) : 0;
					if (r === o) return s(t, e);
					for (i = t; i = i.parentNode;) a.unshift(i);
					for (i = e; i = i.parentNode;) h.unshift(i);
					for (; a[n] === h[n];) n++;
					return n ? s(a[n], h[n]) : a[n] === H ? -1 : h[n] === H ? 1 : 0
				}, k) : k
			}, e.matches = function (t, i) {
				return e(t, null, null, i)
			}, e.matchesSelector = function (t, i) {
				if ((t.ownerDocument || t) !== k && A(t), i = i.replace(ut, "='$1']"), b.matchesSelector && L && !W[i + " "] && (!B || !B.test(i)) && (!D || !D.test(i))) try {
					var n = N.call(t, i);
					if (n || b.disconnectedMatch || t.document && 11 !== t.document.nodeType) return n
				} catch (r) {
				}
				return e(i, k, null, [t]).length > 0
			}, e.contains = function (t, e) {
				return (t.ownerDocument || t) !== k && A(t), F(t, e)
			}, e.attr = function (t, e) {
				(t.ownerDocument || t) !== k && A(t);
				var i = w.attrHandle[e.toLowerCase()],
					n = i && q.call(w.attrHandle, e.toLowerCase()) ? i(t, e, !L) : void 0;
				return void 0 !== n ? n : b.attributes || !L ? t.getAttribute(e) : (n = t.getAttributeNode(e)) && n.specified ? n.value : null
			}, e.error = function (t) {
				throw new Error("Syntax error, unrecognized expression: " + t)
			}, e.uniqueSort = function (t) {
				var e, i = [], n = 0, r = 0;
				if (R = !b.detectDuplicates, I = !b.sortStable && t.slice(0), t.sort(G), R) {
					for (; e = t[r++];) e === t[r] && (n = i.push(r));
					for (; n--;) t.splice(i[n], 1)
				}
				return I = null, t
			}, T = e.getText = function (t) {
				var e, i = "", n = 0, r = t.nodeType;
				if (r) {
					if (1 === r || 9 === r || 11 === r) {
						if ("string" == typeof t.textContent) return t.textContent;
						for (t = t.firstChild; t; t = t.nextSibling) i += T(t)
					} else if (3 === r || 4 === r) return t.nodeValue
				} else for (; e = t[n++];) i += T(e);
				return i
			}, w = e.selectors = {
				cacheLength: 50,
				createPseudo: n,
				match: dt,
				attrHandle: {},
				find: {},
				relative: {
					">": {dir: "parentNode", first: !0},
					" ": {dir: "parentNode"},
					"+": {dir: "previousSibling", first: !0},
					"~": {dir: "previousSibling"}
				},
				preFilter: {
					ATTR: function (t) {
						return t[1] = t[1].replace(xt, bt), t[3] = (t[3] || t[4] || t[5] || "").replace(xt, bt), "~=" === t[2] && (t[3] = " " + t[3] + " "), t.slice(0, 4)
					}, CHILD: function (t) {
						return t[1] = t[1].toLowerCase(), "nth" === t[1].slice(0, 3) ? (t[3] || e.error(t[0]), t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])), t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && e.error(t[0]), t
					}, PSEUDO: function (t) {
						var e, i = !t[6] && t[2];
						return dt.CHILD.test(t[0]) ? null : (t[3] ? t[2] = t[4] || t[5] || "" : i && ct.test(i) && (e = E(i, !0)) && (e = i.indexOf(")", i.length - e) - i.length) && (t[0] = t[0].slice(0, e), t[2] = i.slice(0, e)), t.slice(0, 3))
					}
				},
				filter: {
					TAG: function (t) {
						var e = t.replace(xt, bt).toLowerCase();
						return "*" === t ? function () {
							return !0
						} : function (t) {
							return t.nodeName && t.nodeName.toLowerCase() === e
						}
					}, CLASS: function (t) {
						var e = V[t + " "];
						return e || (e = new RegExp("(^|" + it + ")" + t + "(" + it + "|$)")) && V(t, function (t) {
							return e.test("string" == typeof t.className && t.className || "undefined" != typeof t.getAttribute && t.getAttribute("class") || "")
						})
					}, ATTR: function (t, i, n) {
						return function (r) {
							var o = e.attr(r, t);
							return null == o ? "!=" === i : !i || (o += "", "=" === i ? o === n : "!=" === i ? o !== n : "^=" === i ? n && 0 === o.indexOf(n) : "*=" === i ? n && o.indexOf(n) > -1 : "$=" === i ? n && o.slice(-n.length) === n : "~=" === i ? (" " + o.replace(st, " ") + " ").indexOf(n) > -1 : "|=" === i && (o === n || o.slice(0, n.length + 1) === n + "-"))
						}
					}, CHILD: function (t, e, i, n, r) {
						var o = "nth" !== t.slice(0, 3), s = "last" !== t.slice(-4), a = "of-type" === e;
						return 1 === n && 0 === r ? function (t) {
							return !!t.parentNode
						} : function (e, i, h) {
							var l, u, c, f, d, p, g = o !== s ? "nextSibling" : "previousSibling", m = e.parentNode,
								y = a && e.nodeName.toLowerCase(), v = !h && !a, _ = !1;
							if (m) {
								if (o) {
									for (; g;) {
										for (f = e; f = f[g];) if (a ? f.nodeName.toLowerCase() === y : 1 === f.nodeType) return !1;
										p = g = "only" === t && !p && "nextSibling"
									}
									return !0
								}
								if (p = [s ? m.firstChild : m.lastChild], s && v) {
									for (f = m, c = f[z] || (f[z] = {}), u = c[f.uniqueID] || (c[f.uniqueID] = {}), l = u[t] || [], d = l[0] === j && l[1], _ = d && l[2], f = d && m.childNodes[d]; f = ++d && f && f[g] || (_ = d = 0) || p.pop();) if (1 === f.nodeType && ++_ && f === e) {
										u[t] = [j, d, _];
										break
									}
								} else if (v && (f = e, c = f[z] || (f[z] = {}), u = c[f.uniqueID] || (c[f.uniqueID] = {}), l = u[t] || [], d = l[0] === j && l[1], _ = d), _ === !1) for (; (f = ++d && f && f[g] || (_ = d = 0) || p.pop()) && ((a ? f.nodeName.toLowerCase() !== y : 1 !== f.nodeType) || !++_ || (v && (c = f[z] || (f[z] = {}), u = c[f.uniqueID] || (c[f.uniqueID] = {}), u[t] = [j, _]), f !== e));) ;
								return _ -= r, _ === n || _ % n === 0 && _ / n >= 0
							}
						}
					}, PSEUDO: function (t, i) {
						var r, o = w.pseudos[t] || w.setFilters[t.toLowerCase()] || e.error("unsupported pseudo: " + t);
						return o[z] ? o(i) : o.length > 1 ? (r = [t, t, "", i], w.setFilters.hasOwnProperty(t.toLowerCase()) ? n(function (t, e) {
							for (var n, r = o(t, i), s = r.length; s--;) n = tt(t, r[s]), t[n] = !(e[n] = r[s])
						}) : function (t) {
							return o(t, 0, r)
						}) : o
					}
				},
				pseudos: {
					not: n(function (t) {
						var e = [], i = [], r = M(t.replace(at, "$1"));
						return r[z] ? n(function (t, e, i, n) {
							for (var o, s = r(t, null, n, []), a = t.length; a--;) (o = s[a]) && (t[a] = !(e[a] = o))
						}) : function (t, n, o) {
							return e[0] = t, r(e, null, o, i), e[0] = null, !i.pop()
						}
					}), has: n(function (t) {
						return function (i) {
							return e(t, i).length > 0
						}
					}), contains: n(function (t) {
						return t = t.replace(xt, bt), function (e) {
							return (e.textContent || e.innerText || T(e)).indexOf(t) > -1
						}
					}), lang: n(function (t) {
						return ft.test(t || "") || e.error("unsupported lang: " + t), t = t.replace(xt, bt).toLowerCase(), function (e) {
							var i;
							do if (i = L ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return i = i.toLowerCase(), i === t || 0 === i.indexOf(t + "-"); while ((e = e.parentNode) && 1 === e.nodeType);
							return !1
						}
					}), target: function (e) {
						var i = t.location && t.location.hash;
						return i && i.slice(1) === e.id
					}, root: function (t) {
						return t === O
					}, focus: function (t) {
						return t === k.activeElement && (!k.hasFocus || k.hasFocus()) && !!(t.type || t.href || ~t.tabIndex)
					}, enabled: function (t) {
						return t.disabled === !1
					}, disabled: function (t) {
						return t.disabled === !0
					}, checked: function (t) {
						var e = t.nodeName.toLowerCase();
						return "input" === e && !!t.checked || "option" === e && !!t.selected
					}, selected: function (t) {
						return t.parentNode && t.parentNode.selectedIndex, t.selected === !0
					}, empty: function (t) {
						for (t = t.firstChild; t; t = t.nextSibling) if (t.nodeType < 6) return !1;
						return !0
					}, parent: function (t) {
						return !w.pseudos.empty(t)
					}, header: function (t) {
						return gt.test(t.nodeName)
					}, input: function (t) {
						return pt.test(t.nodeName)
					}, button: function (t) {
						var e = t.nodeName.toLowerCase();
						return "input" === e && "button" === t.type || "button" === e
					}, text: function (t) {
						var e;
						return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (e = t.getAttribute("type")) || "text" === e.toLowerCase())
					}, first: l(function () {
						return [0]
					}), last: l(function (t, e) {
						return [e - 1]
					}), eq: l(function (t, e, i) {
						return [i < 0 ? i + e : i]
					}), even: l(function (t, e) {
						for (var i = 0; i < e; i += 2) t.push(i);
						return t
					}), odd: l(function (t, e) {
						for (var i = 1; i < e; i += 2) t.push(i);
						return t
					}), lt: l(function (t, e, i) {
						for (var n = i < 0 ? i + e : i; --n >= 0;) t.push(n);
						return t
					}), gt: l(function (t, e, i) {
						for (var n = i < 0 ? i + e : i; ++n < e;) t.push(n);
						return t
					})
				}
			}, w.pseudos.nth = w.pseudos.eq;
			for (x in{radio: !0, checkbox: !0, file: !0, password: !0, image: !0}) w.pseudos[x] = a(x);
			for (x in{submit: !0, reset: !0}) w.pseudos[x] = h(x);
			return c.prototype = w.filters = w.pseudos, w.setFilters = new c, E = e.tokenize = function (t, i) {
				var n, r, o, s, a, h, l, u = X[t + " "];
				if (u) return i ? 0 : u.slice(0);
				for (a = t, h = [], l = w.preFilter; a;) {
					n && !(r = ht.exec(a)) || (r && (a = a.slice(r[0].length) || a), h.push(o = [])), n = !1, (r = lt.exec(a)) && (n = r.shift(), o.push({
						value: n,
						type: r[0].replace(at, " ")
					}), a = a.slice(n.length));
					for (s in w.filter) !(r = dt[s].exec(a)) || l[s] && !(r = l[s](r)) || (n = r.shift(), o.push({
						value: n,
						type: s,
						matches: r
					}), a = a.slice(n.length));
					if (!n) break
				}
				return i ? a.length : a ? e.error(t) : X(t, h).slice(0)
			}, M = e.compile = function (t, e) {
				var i, n = [], r = [], o = W[t + " "];
				if (!o) {
					for (e || (e = E(t)), i = e.length; i--;) o = v(e[i]), o[z] ? n.push(o) : r.push(o);
					o = W(t, _(r, n)), o.selector = t
				}
				return o
			}, P = e.select = function (t, e, i, n) {
				var r, o, s, a, h, l = "function" == typeof t && t, c = !n && E(t = l.selector || t);
				if (i = i || [], 1 === c.length) {
					if (o = c[0] = c[0].slice(0), o.length > 2 && "ID" === (s = o[0]).type && b.getById && 9 === e.nodeType && L && w.relative[o[1].type]) {
						if (e = (w.find.ID(s.matches[0].replace(xt, bt), e) || [])[0], !e) return i;
						l && (e = e.parentNode), t = t.slice(o.shift().value.length)
					}
					for (r = dt.needsContext.test(t) ? 0 : o.length; r-- && (s = o[r], !w.relative[a = s.type]);) if ((h = w.find[a]) && (n = h(s.matches[0].replace(xt, bt), vt.test(o[0].type) && u(e.parentNode) || e))) {
						if (o.splice(r, 1), t = n.length && f(o), !t) return K.apply(i, n), i;
						break
					}
				}
				return (l || M(t, c))(n, e, !L, i, !e || vt.test(t) && u(e.parentNode) || e), i
			}, b.sortStable = z.split("").sort(G).join("") === z, b.detectDuplicates = !!R, A(), b.sortDetached = r(function (t) {
				return 1 & t.compareDocumentPosition(k.createElement("div"))
			}), r(function (t) {
				return t.innerHTML = "<a href='#'></a>", "#" === t.firstChild.getAttribute("href")
			}) || o("type|href|height|width", function (t, e, i) {
				if (!i) return t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2)
			}), b.attributes && r(function (t) {
				return t.innerHTML = "<input/>", t.firstChild.setAttribute("value", ""), "" === t.firstChild.getAttribute("value")
			}) || o("value", function (t, e, i) {
				if (!i && "input" === t.nodeName.toLowerCase()) return t.defaultValue
			}), r(function (t) {
				return null == t.getAttribute("disabled")
			}) || o(et, function (t, e, i) {
				var n;
				if (!i) return t[e] === !0 ? e.toLowerCase() : (n = t.getAttributeNode(e)) && n.specified ? n.value : null
			}), e
		}(i);
		yt.find = wt, yt.expr = wt.selectors, yt.expr[":"] = yt.expr.pseudos, yt.uniqueSort = yt.unique = wt.uniqueSort, yt.text = wt.getText, yt.isXMLDoc = wt.isXML, yt.contains = wt.contains;
		var Tt = function (t, e, i) {
			for (var n = [], r = void 0 !== i; (t = t[e]) && 9 !== t.nodeType;) if (1 === t.nodeType) {
				if (r && yt(t).is(i)) break;
				n.push(t)
			}
			return n
		}, Ct = function (t, e) {
			for (var i = []; t; t = t.nextSibling) 1 === t.nodeType && t !== e && i.push(t);
			return i
		}, Et = yt.expr.match.needsContext, Mt = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/, Pt = /^.[^:#\[\.,]*$/;
		yt.filter = function (t, e, i) {
			var n = e[0];
			return i && (t = ":not(" + t + ")"), 1 === e.length && 1 === n.nodeType ? yt.find.matchesSelector(n, t) ? [n] : [] : yt.find.matches(t, yt.grep(e, function (t) {
				return 1 === t.nodeType
			}))
		}, yt.fn.extend({
			find: function (t) {
				var e, i = [], n = this, r = n.length;
				if ("string" != typeof t) return this.pushStack(yt(t).filter(function () {
					for (e = 0; e < r; e++) if (yt.contains(n[e], this)) return !0
				}));
				for (e = 0; e < r; e++) yt.find(t, n[e], i);
				return i = this.pushStack(r > 1 ? yt.unique(i) : i), i.selector = this.selector ? this.selector + " " + t : t, i
			}, filter: function (t) {
				return this.pushStack(a(this, t || [], !1))
			}, not: function (t) {
				return this.pushStack(a(this, t || [], !0))
			}, is: function (t) {
				return !!a(this, "string" == typeof t && Et.test(t) ? yt(t) : t || [], !1).length
			}
		});
		var St, It = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, Rt = yt.fn.init = function (t, e, i) {
			var n, r;
			if (!t) return this;
			if (i = i || St, "string" == typeof t) {
				if (n = "<" === t.charAt(0) && ">" === t.charAt(t.length - 1) && t.length >= 3 ? [null, t, null] : It.exec(t), !n || !n[1] && e) return !e || e.jquery ? (e || i).find(t) : this.constructor(e).find(t);
				if (n[1]) {
					if (e = e instanceof yt ? e[0] : e, yt.merge(this, yt.parseHTML(n[1], e && e.nodeType ? e.ownerDocument || e : at, !0)), Mt.test(n[1]) && yt.isPlainObject(e)) for (n in e) yt.isFunction(this[n]) ? this[n](e[n]) : this.attr(n, e[n]);
					return this
				}
				if (r = at.getElementById(n[2]), r && r.parentNode) {
					if (r.id !== n[2]) return St.find(t);
					this.length = 1, this[0] = r
				}
				return this.context = at, this.selector = t, this
			}
			return t.nodeType ? (this.context = this[0] = t, this.length = 1, this) : yt.isFunction(t) ? "undefined" != typeof i.ready ? i.ready(t) : t(yt) : (void 0 !== t.selector && (this.selector = t.selector, this.context = t.context), yt.makeArray(t, this))
		};
		Rt.prototype = yt.fn, St = yt(at);
		var At = /^(?:parents|prev(?:Until|All))/, kt = {children: !0, contents: !0, next: !0, prev: !0};
		yt.fn.extend({
			has: function (t) {
				var e, i = yt(t, this), n = i.length;
				return this.filter(function () {
					for (e = 0; e < n; e++) if (yt.contains(this, i[e])) return !0
				})
			}, closest: function (t, e) {
				for (var i, n = 0, r = this.length, o = [], s = Et.test(t) || "string" != typeof t ? yt(t, e || this.context) : 0; n < r; n++) for (i = this[n]; i && i !== e; i = i.parentNode) if (i.nodeType < 11 && (s ? s.index(i) > -1 : 1 === i.nodeType && yt.find.matchesSelector(i, t))) {
					o.push(i);
					break
				}
				return this.pushStack(o.length > 1 ? yt.uniqueSort(o) : o)
			}, index: function (t) {
				return t ? "string" == typeof t ? yt.inArray(this[0], yt(t)) : yt.inArray(t.jquery ? t[0] : t, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
			}, add: function (t, e) {
				return this.pushStack(yt.uniqueSort(yt.merge(this.get(), yt(t, e))))
			}, addBack: function (t) {
				return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
			}
		}), yt.each({
			parent: function (t) {
				var e = t.parentNode;
				return e && 11 !== e.nodeType ? e : null
			}, parents: function (t) {
				return Tt(t, "parentNode")
			}, parentsUntil: function (t, e, i) {
				return Tt(t, "parentNode", i)
			}, next: function (t) {
				return h(t, "nextSibling")
			}, prev: function (t) {
				return h(t, "previousSibling")
			}, nextAll: function (t) {
				return Tt(t, "nextSibling")
			}, prevAll: function (t) {
				return Tt(t, "previousSibling")
			}, nextUntil: function (t, e, i) {
				return Tt(t, "nextSibling", i)
			}, prevUntil: function (t, e, i) {
				return Tt(t, "previousSibling", i)
			}, siblings: function (t) {
				return Ct((t.parentNode || {}).firstChild, t)
			}, children: function (t) {
				return Ct(t.firstChild)
			}, contents: function (t) {
				return yt.nodeName(t, "iframe") ? t.contentDocument || t.contentWindow.document : yt.merge([], t.childNodes)
			}
		}, function (t, e) {
			yt.fn[t] = function (i, n) {
				var r = yt.map(this, e, i);
				return "Until" !== t.slice(-5) && (n = i), n && "string" == typeof n && (r = yt.filter(n, r)), this.length > 1 && (kt[t] || (r = yt.uniqueSort(r)), At.test(t) && (r = r.reverse())), this.pushStack(r)
			}
		});
		var Ot = /\S+/g;
		yt.Callbacks = function (t) {
			t = "string" == typeof t ? l(t) : yt.extend({}, t);
			var e, i, n, r, o = [], s = [], a = -1, h = function () {
				for (r = t.once, n = e = !0; s.length; a = -1) for (i = s.shift(); ++a < o.length;) o[a].apply(i[0], i[1]) === !1 && t.stopOnFalse && (a = o.length, i = !1);
				t.memory || (i = !1), e = !1, r && (o = i ? [] : "")
			}, u = {
				add: function () {
					return o && (i && !e && (a = o.length - 1, s.push(i)), function n(e) {
						yt.each(e, function (e, i) {
							yt.isFunction(i) ? t.unique && u.has(i) || o.push(i) : i && i.length && "string" !== yt.type(i) && n(i)
						})
					}(arguments), i && !e && h()), this
				}, remove: function () {
					return yt.each(arguments, function (t, e) {
						for (var i; (i = yt.inArray(e, o, i)) > -1;) o.splice(i, 1), i <= a && a--
					}), this
				}, has: function (t) {
					return t ? yt.inArray(t, o) > -1 : o.length > 0
				}, empty: function () {
					return o && (o = []), this
				}, disable: function () {
					return r = s = [], o = i = "", this
				}, disabled: function () {
					return !o
				}, lock: function () {
					return r = !0, i || u.disable(), this
				}, locked: function () {
					return !!r
				}, fireWith: function (t, i) {
					return r || (i = i || [], i = [t, i.slice ? i.slice() : i], s.push(i), e || h()), this
				}, fire: function () {
					return u.fireWith(this, arguments), this
				}, fired: function () {
					return !!n
				}
			};
			return u
		}, yt.extend({
			Deferred: function (t) {
				var e = [["resolve", "done", yt.Callbacks("once memory"), "resolved"], ["reject", "fail", yt.Callbacks("once memory"), "rejected"], ["notify", "progress", yt.Callbacks("memory")]],
					i = "pending", n = {
						state: function () {
							return i
						}, always: function () {
							return r.done(arguments).fail(arguments), this
						}, then: function () {
							var t = arguments;
							return yt.Deferred(function (i) {
								yt.each(e, function (e, o) {
									var s = yt.isFunction(t[e]) && t[e];
									r[o[1]](function () {
										var t = s && s.apply(this, arguments);
										t && yt.isFunction(t.promise) ? t.promise().progress(i.notify).done(i.resolve).fail(i.reject) : i[o[0] + "With"](this === n ? i.promise() : this, s ? [t] : arguments)
									})
								}), t = null
							}).promise()
						}, promise: function (t) {
							return null != t ? yt.extend(t, n) : n
						}
					}, r = {};
				return n.pipe = n.then, yt.each(e, function (t, o) {
					var s = o[2], a = o[3];
					n[o[1]] = s.add, a && s.add(function () {
						i = a
					}, e[1 ^ t][2].disable, e[2][2].lock), r[o[0]] = function () {
						return r[o[0] + "With"](this === r ? n : this, arguments), this
					}, r[o[0] + "With"] = s.fireWith
				}), n.promise(r), t && t.call(r, r), r
			}, when: function (t) {
				var e, i, n, r = 0, o = ht.call(arguments), s = o.length,
					a = 1 !== s || t && yt.isFunction(t.promise) ? s : 0, h = 1 === a ? t : yt.Deferred(),
					l = function (t, i, n) {
						return function (r) {
							i[t] = this, n[t] = arguments.length > 1 ? ht.call(arguments) : r, n === e ? h.notifyWith(i, n) : --a || h.resolveWith(i, n)
						}
					};
				if (s > 1) for (e = new Array(s), i = new Array(s), n = new Array(s); r < s; r++) o[r] && yt.isFunction(o[r].promise) ? o[r].promise().progress(l(r, i, e)).done(l(r, n, o)).fail(h.reject) : --a;
				return a || h.resolveWith(n, o), h.promise()
			}
		});
		var Lt;
		yt.fn.ready = function (t) {
			return yt.ready.promise().done(t), this
		}, yt.extend({
			isReady: !1, readyWait: 1, holdReady: function (t) {
				t ? yt.readyWait++ : yt.ready(!0)
			}, ready: function (t) {
				(t === !0 ? --yt.readyWait : yt.isReady) || (yt.isReady = !0, t !== !0 && --yt.readyWait > 0 || (Lt.resolveWith(at, [yt]), yt.fn.triggerHandler && (yt(at).triggerHandler("ready"), yt(at).off("ready"))))
			}
		}), yt.ready.promise = function (t) {
			if (!Lt) if (Lt = yt.Deferred(), "complete" === at.readyState || "loading" !== at.readyState && !at.documentElement.doScroll) i.setTimeout(yt.ready); else if (at.addEventListener) at.addEventListener("DOMContentLoaded", c), i.addEventListener("load", c); else {
				at.attachEvent("onreadystatechange", c), i.attachEvent("onload", c);
				var e = !1;
				try {
					e = null == i.frameElement && at.documentElement
				} catch (n) {
				}
				e && e.doScroll && !function r() {
					if (!yt.isReady) {
						try {
							e.doScroll("left")
						} catch (t) {
							return i.setTimeout(r, 50)
						}
						u(), yt.ready()
					}
				}()
			}
			return Lt.promise(t)
		}, yt.ready.promise();
		var Dt;
		for (Dt in yt(gt)) break;
		gt.ownFirst = "0" === Dt, gt.inlineBlockNeedsLayout = !1, yt(function () {
			var t, e, i, n;
			i = at.getElementsByTagName("body")[0], i && i.style && (e = at.createElement("div"), n = at.createElement("div"), n.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", i.appendChild(n).appendChild(e), "undefined" != typeof e.style.zoom && (e.style.cssText = "display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1", gt.inlineBlockNeedsLayout = t = 3 === e.offsetWidth, t && (i.style.zoom = 1)), i.removeChild(n))
		}), function () {
			var t = at.createElement("div");
			gt.deleteExpando = !0;
			try {
				delete t.test
			} catch (e) {
				gt.deleteExpando = !1
			}
			t = null
		}();
		var Bt = function (t) {
			var e = yt.noData[(t.nodeName + " ").toLowerCase()], i = +t.nodeType || 1;
			return (1 === i || 9 === i) && (!e || e !== !0 && t.getAttribute("classid") === e)
		}, Nt = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, Ft = /([A-Z])/g;
		yt.extend({
			cache: {},
			noData: {"applet ": !0, "embed ": !0, "object ": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},
			hasData: function (t) {
				return t = t.nodeType ? yt.cache[t[yt.expando]] : t[yt.expando], !!t && !d(t)
			},
			data: function (t, e, i) {
				return p(t, e, i)
			},
			removeData: function (t, e) {
				return g(t, e)
			},
			_data: function (t, e, i) {
				return p(t, e, i, !0)
			},
			_removeData: function (t, e) {
				return g(t, e, !0)
			}
		}), yt.fn.extend({
			data: function (t, e) {
				var i, n, r, o = this[0], s = o && o.attributes;
				if (void 0 === t) {
					if (this.length && (r = yt.data(o), 1 === o.nodeType && !yt._data(o, "parsedAttrs"))) {
						for (i = s.length; i--;) s[i] && (n = s[i].name, 0 === n.indexOf("data-") && (n = yt.camelCase(n.slice(5)), f(o, n, r[n])));
						yt._data(o, "parsedAttrs", !0)
					}
					return r
				}
				return "object" == typeof t ? this.each(function () {
					yt.data(this, t)
				}) : arguments.length > 1 ? this.each(function () {
					yt.data(this, t, e)
				}) : o ? f(o, t, yt.data(o, t)) : void 0
			}, removeData: function (t) {
				return this.each(function () {
					yt.removeData(this, t)
				})
			}
		}), yt.extend({
			queue: function (t, e, i) {
				var n;
				if (t) return e = (e || "fx") + "queue", n = yt._data(t, e), i && (!n || yt.isArray(i) ? n = yt._data(t, e, yt.makeArray(i)) : n.push(i)), n || []
			}, dequeue: function (t, e) {
				e = e || "fx";
				var i = yt.queue(t, e), n = i.length, r = i.shift(), o = yt._queueHooks(t, e), s = function () {
					yt.dequeue(t, e)
				};
				"inprogress" === r && (r = i.shift(), n--), r && ("fx" === e && i.unshift("inprogress"), delete o.stop, r.call(t, s, o)), !n && o && o.empty.fire()
			}, _queueHooks: function (t, e) {
				var i = e + "queueHooks";
				return yt._data(t, i) || yt._data(t, i, {
					empty: yt.Callbacks("once memory").add(function () {
						yt._removeData(t, e + "queue"), yt._removeData(t, i)
					})
				})
			}
		}), yt.fn.extend({
			queue: function (t, e) {
				var i = 2;
				return "string" != typeof t && (e = t, t = "fx", i--), arguments.length < i ? yt.queue(this[0], t) : void 0 === e ? this : this.each(function () {
					var i = yt.queue(this, t, e);
					yt._queueHooks(this, t), "fx" === t && "inprogress" !== i[0] && yt.dequeue(this, t)
				})
			}, dequeue: function (t) {
				return this.each(function () {
					yt.dequeue(this, t)
				})
			}, clearQueue: function (t) {
				return this.queue(t || "fx", [])
			}, promise: function (t, e) {
				var i, n = 1, r = yt.Deferred(), o = this, s = this.length, a = function () {
					--n || r.resolveWith(o, [o])
				};
				for ("string" != typeof t && (e = t, t = void 0), t = t || "fx"; s--;) i = yt._data(o[s], t + "queueHooks"), i && i.empty && (n++, i.empty.add(a));
				return a(), r.promise(e)
			}
		}), function () {
			var t;
			gt.shrinkWrapBlocks = function () {
				if (null != t) return t;
				t = !1;
				var e, i, n;
				return i = at.getElementsByTagName("body")[0], i && i.style ? (e = at.createElement("div"), n = at.createElement("div"), n.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", i.appendChild(n).appendChild(e), "undefined" != typeof e.style.zoom && (e.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1", e.appendChild(at.createElement("div")).style.width = "5px", t = 3 !== e.offsetWidth), i.removeChild(n), t) : void 0
			}
		}();
		var zt = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
			Ht = new RegExp("^(?:([+-])=|)(" + zt + ")([a-z%]*)$", "i"), jt = ["Top", "Right", "Bottom", "Left"],
			Ut = function (t, e) {
				return t = e || t, "none" === yt.css(t, "display") || !yt.contains(t.ownerDocument, t)
			}, Vt = function (t, e, i, n, r, o, s) {
				var a = 0, h = t.length, l = null == i;
				if ("object" === yt.type(i)) {
					r = !0;
					for (a in i) Vt(t, e, a, i[a], !0, o, s)
				} else if (void 0 !== n && (r = !0, yt.isFunction(n) || (s = !0), l && (s ? (e.call(t, n), e = null) : (l = e, e = function (t, e, i) {
						return l.call(yt(t), i)
					})), e)) for (; a < h; a++) e(t[a], i, s ? n : n.call(t[a], a, e(t[a], i)));
				return r ? t : l ? e.call(t) : h ? e(t[0], i) : o
			}, Xt = /^(?:checkbox|radio)$/i, Wt = /<([\w:-]+)/, Gt = /^$|\/(?:java|ecma)script/i, Yt = /^\s+/,
			qt = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";
		!function () {
			var t = at.createElement("div"), e = at.createDocumentFragment(), i = at.createElement("input");
			t.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", gt.leadingWhitespace = 3 === t.firstChild.nodeType, gt.tbody = !t.getElementsByTagName("tbody").length, gt.htmlSerialize = !!t.getElementsByTagName("link").length, gt.html5Clone = "<:nav></:nav>" !== at.createElement("nav").cloneNode(!0).outerHTML, i.type = "checkbox", i.checked = !0, e.appendChild(i), gt.appendChecked = i.checked, t.innerHTML = "<textarea>x</textarea>", gt.noCloneChecked = !!t.cloneNode(!0).lastChild.defaultValue, e.appendChild(t), i = at.createElement("input"), i.setAttribute("type", "radio"), i.setAttribute("checked", "checked"), i.setAttribute("name", "t"), t.appendChild(i), gt.checkClone = t.cloneNode(!0).cloneNode(!0).lastChild.checked, gt.noCloneEvent = !!t.addEventListener, t[yt.expando] = 1, gt.attributes = !t.getAttribute(yt.expando)
		}();
		var Qt = {
			option: [1, "<select multiple='multiple'>", "</select>"],
			legend: [1, "<fieldset>", "</fieldset>"],
			area: [1, "<map>", "</map>"],
			param: [1, "<object>", "</object>"],
			thead: [1, "<table>", "</table>"],
			tr: [2, "<table><tbody>", "</tbody></table>"],
			col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
			td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
			_default: gt.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"]
		};
		Qt.optgroup = Qt.option, Qt.tbody = Qt.tfoot = Qt.colgroup = Qt.caption = Qt.thead, Qt.th = Qt.td;
		var Jt = /<|&#?\w+;/, Zt = /<tbody/i;
		!function () {
			var t, e, n = at.createElement("div");
			for (t in{
				submit: !0,
				change: !0,
				focusin: !0
			}) e = "on" + t, (gt[t] = e in i) || (n.setAttribute(e, "t"), gt[t] = n.attributes[e].expando === !1);
			n = null
		}();
		var Kt = /^(?:input|select|textarea)$/i, $t = /^key/, te = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
			ee = /^(?:focusinfocus|focusoutblur)$/, ie = /^([^.]*)(?:\.(.+)|)/;
		yt.event = {
			global: {},
			add: function (t, e, i, n, r) {
				var o, s, a, h, l, u, c, f, d, p, g, m = yt._data(t);
				if (m) {
					for (i.handler && (h = i, i = h.handler, r = h.selector), i.guid || (i.guid = yt.guid++), (s = m.events) || (s = m.events = {}), (u = m.handle) || (u = m.handle = function (t) {
						return "undefined" == typeof yt || t && yt.event.triggered === t.type ? void 0 : yt.event.dispatch.apply(u.elem, arguments)
					}, u.elem = t), e = (e || "").match(Ot) || [""], a = e.length; a--;) o = ie.exec(e[a]) || [], d = g = o[1], p = (o[2] || "").split(".").sort(), d && (l = yt.event.special[d] || {}, d = (r ? l.delegateType : l.bindType) || d, l = yt.event.special[d] || {}, c = yt.extend({
						type: d,
						origType: g,
						data: n,
						handler: i,
						guid: i.guid,
						selector: r,
						needsContext: r && yt.expr.match.needsContext.test(r),
						namespace: p.join(".")
					}, h), (f = s[d]) || (f = s[d] = [], f.delegateCount = 0, l.setup && l.setup.call(t, n, p, u) !== !1 || (t.addEventListener ? t.addEventListener(d, u, !1) : t.attachEvent && t.attachEvent("on" + d, u))), l.add && (l.add.call(t, c), c.handler.guid || (c.handler.guid = i.guid)), r ? f.splice(f.delegateCount++, 0, c) : f.push(c), yt.event.global[d] = !0);
					t = null
				}
			},
			remove: function (t, e, i, n, r) {
				var o, s, a, h, l, u, c, f, d, p, g, m = yt.hasData(t) && yt._data(t);
				if (m && (u = m.events)) {
					for (e = (e || "").match(Ot) || [""], l = e.length; l--;) if (a = ie.exec(e[l]) || [], d = g = a[1], p = (a[2] || "").split(".").sort(), d) {
						for (c = yt.event.special[d] || {}, d = (n ? c.delegateType : c.bindType) || d, f = u[d] || [], a = a[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"), h = o = f.length; o--;) s = f[o], !r && g !== s.origType || i && i.guid !== s.guid || a && !a.test(s.namespace) || n && n !== s.selector && ("**" !== n || !s.selector) || (f.splice(o, 1), s.selector && f.delegateCount--, c.remove && c.remove.call(t, s));
						h && !f.length && (c.teardown && c.teardown.call(t, p, m.handle) !== !1 || yt.removeEvent(t, d, m.handle), delete u[d])
					} else for (d in u) yt.event.remove(t, d + e[l], i, n, !0);
					yt.isEmptyObject(u) && (delete m.handle, yt._removeData(t, "events"))
				}
			},
			trigger: function (t, e, n, r) {
				var o, s, a, h, l, u, c, f = [n || at], d = pt.call(t, "type") ? t.type : t,
					p = pt.call(t, "namespace") ? t.namespace.split(".") : [];
				if (a = u = n = n || at, 3 !== n.nodeType && 8 !== n.nodeType && !ee.test(d + yt.event.triggered) && (d.indexOf(".") > -1 && (p = d.split("."), d = p.shift(), p.sort()), s = d.indexOf(":") < 0 && "on" + d, t = t[yt.expando] ? t : new yt.Event(d, "object" == typeof t && t), t.isTrigger = r ? 2 : 3, t.namespace = p.join("."), t.rnamespace = t.namespace ? new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, t.result = void 0, t.target || (t.target = n), e = null == e ? [t] : yt.makeArray(e, [t]), l = yt.event.special[d] || {}, r || !l.trigger || l.trigger.apply(n, e) !== !1)) {
					if (!r && !l.noBubble && !yt.isWindow(n)) {
						for (h = l.delegateType || d, ee.test(h + d) || (a = a.parentNode); a; a = a.parentNode) f.push(a), u = a;
						u === (n.ownerDocument || at) && f.push(u.defaultView || u.parentWindow || i)
					}
					for (c = 0; (a = f[c++]) && !t.isPropagationStopped();) t.type = c > 1 ? h : l.bindType || d, o = (yt._data(a, "events") || {})[t.type] && yt._data(a, "handle"), o && o.apply(a, e), o = s && a[s], o && o.apply && Bt(a) && (t.result = o.apply(a, e), t.result === !1 && t.preventDefault());
					if (t.type = d, !r && !t.isDefaultPrevented() && (!l._default || l._default.apply(f.pop(), e) === !1) && Bt(n) && s && n[d] && !yt.isWindow(n)) {
						u = n[s], u && (n[s] = null), yt.event.triggered = d;
						try {
							n[d]()
						} catch (g) {
						}
						yt.event.triggered = void 0, u && (n[s] = u)
					}
					return t.result
				}
			},
			dispatch: function (t) {
				t = yt.event.fix(t);
				var e, i, n, r, o, s = [], a = ht.call(arguments), h = (yt._data(this, "events") || {})[t.type] || [],
					l = yt.event.special[t.type] || {};
				if (a[0] = t, t.delegateTarget = this, !l.preDispatch || l.preDispatch.call(this, t) !== !1) {
					for (s = yt.event.handlers.call(this, t, h), e = 0; (r = s[e++]) && !t.isPropagationStopped();) for (t.currentTarget = r.elem, i = 0; (o = r.handlers[i++]) && !t.isImmediatePropagationStopped();) t.rnamespace && !t.rnamespace.test(o.namespace) || (t.handleObj = o, t.data = o.data, n = ((yt.event.special[o.origType] || {}).handle || o.handler).apply(r.elem, a), void 0 !== n && (t.result = n) === !1 && (t.preventDefault(), t.stopPropagation()));
					return l.postDispatch && l.postDispatch.call(this, t), t.result
				}
			},
			handlers: function (t, e) {
				var i, n, r, o, s = [], a = e.delegateCount, h = t.target;
				if (a && h.nodeType && ("click" !== t.type || isNaN(t.button) || t.button < 1)) for (; h != this; h = h.parentNode || this) if (1 === h.nodeType && (h.disabled !== !0 || "click" !== t.type)) {
					for (n = [], i = 0; i < a; i++) o = e[i], r = o.selector + " ", void 0 === n[r] && (n[r] = o.needsContext ? yt(r, this).index(h) > -1 : yt.find(r, this, null, [h]).length), n[r] && n.push(o);
					n.length && s.push({elem: h, handlers: n})
				}
				return a < e.length && s.push({elem: this, handlers: e.slice(a)}), s
			},
			fix: function (t) {
				if (t[yt.expando]) return t;
				var e, i, n, r = t.type, o = t, s = this.fixHooks[r];
				for (s || (this.fixHooks[r] = s = te.test(r) ? this.mouseHooks : $t.test(r) ? this.keyHooks : {}), n = s.props ? this.props.concat(s.props) : this.props, t = new yt.Event(o), e = n.length; e--;) i = n[e], t[i] = o[i];
				return t.target || (t.target = o.srcElement || at), 3 === t.target.nodeType && (t.target = t.target.parentNode), t.metaKey = !!t.metaKey, s.filter ? s.filter(t, o) : t
			},
			props: "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
			fixHooks: {},
			keyHooks: {
				props: "char charCode key keyCode".split(" "), filter: function (t, e) {
					return null == t.which && (t.which = null != e.charCode ? e.charCode : e.keyCode), t
				}
			},
			mouseHooks: {
				props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
				filter: function (t, e) {
					var i, n, r, o = e.button, s = e.fromElement;
					return null == t.pageX && null != e.clientX && (n = t.target.ownerDocument || at, r = n.documentElement, i = n.body, t.pageX = e.clientX + (r && r.scrollLeft || i && i.scrollLeft || 0) - (r && r.clientLeft || i && i.clientLeft || 0), t.pageY = e.clientY + (r && r.scrollTop || i && i.scrollTop || 0) - (r && r.clientTop || i && i.clientTop || 0)), !t.relatedTarget && s && (t.relatedTarget = s === t.target ? e.toElement : s), t.which || void 0 === o || (t.which = 1 & o ? 1 : 2 & o ? 3 : 4 & o ? 2 : 0), t
				}
			},
			special: {
				load: {noBubble: !0}, focus: {
					trigger: function () {
						if (this !== C() && this.focus) try {
							return this.focus(), !1
						} catch (t) {
						}
					}, delegateType: "focusin"
				}, blur: {
					trigger: function () {
						if (this === C() && this.blur) return this.blur(), !1
					}, delegateType: "focusout"
				}, click: {
					trigger: function () {
						if (yt.nodeName(this, "input") && "checkbox" === this.type && this.click) return this.click(), !1
					}, _default: function (t) {
						return yt.nodeName(t.target, "a")
					}
				}, beforeunload: {
					postDispatch: function (t) {
						void 0 !== t.result && t.originalEvent && (t.originalEvent.returnValue = t.result)
					}
				}
			},
			simulate: function (t, e, i) {
				var n = yt.extend(new yt.Event, i, {type: t, isSimulated: !0});
				yt.event.trigger(n, null, e), n.isDefaultPrevented() && i.preventDefault()
			}
		}, yt.removeEvent = at.removeEventListener ? function (t, e, i) {
			t.removeEventListener && t.removeEventListener(e, i)
		} : function (t, e, i) {
			var n = "on" + e;
			t.detachEvent && ("undefined" == typeof t[n] && (t[n] = null), t.detachEvent(n, i))
		}, yt.Event = function (t, e) {
			return this instanceof yt.Event ? (t && t.type ? (this.originalEvent = t, this.type = t.type, this.isDefaultPrevented = t.defaultPrevented || void 0 === t.defaultPrevented && t.returnValue === !1 ? w : T) : this.type = t, e && yt.extend(this, e), this.timeStamp = t && t.timeStamp || yt.now(), void(this[yt.expando] = !0)) : new yt.Event(t, e)
		}, yt.Event.prototype = {
			constructor: yt.Event,
			isDefaultPrevented: T,
			isPropagationStopped: T,
			isImmediatePropagationStopped: T,
			preventDefault: function () {
				var t = this.originalEvent;
				this.isDefaultPrevented = w, t && (t.preventDefault ? t.preventDefault() : t.returnValue = !1)
			},
			stopPropagation: function () {
				var t = this.originalEvent;
				this.isPropagationStopped = w, t && !this.isSimulated && (t.stopPropagation && t.stopPropagation(), t.cancelBubble = !0)
			},
			stopImmediatePropagation: function () {
				var t = this.originalEvent;
				this.isImmediatePropagationStopped = w, t && t.stopImmediatePropagation && t.stopImmediatePropagation(), this.stopPropagation()
			}
		}, yt.each({
			mouseenter: "mouseover",
			mouseleave: "mouseout",
			pointerenter: "pointerover",
			pointerleave: "pointerout"
		}, function (t, e) {
			yt.event.special[t] = {
				delegateType: e, bindType: e, handle: function (t) {
					var i, n = this, r = t.relatedTarget, o = t.handleObj;
					return r && (r === n || yt.contains(n, r)) || (t.type = o.origType, i = o.handler.apply(this, arguments), t.type = e), i
				}
			}
		}), gt.submit || (yt.event.special.submit = {
			setup: function () {
				return !yt.nodeName(this, "form") && void yt.event.add(this, "click._submit keypress._submit", function (t) {
					var e = t.target,
						i = yt.nodeName(e, "input") || yt.nodeName(e, "button") ? yt.prop(e, "form") : void 0;
					i && !yt._data(i, "submit") && (yt.event.add(i, "submit._submit", function (t) {
						t._submitBubble = !0
					}), yt._data(i, "submit", !0))
				})
			}, postDispatch: function (t) {
				t._submitBubble && (delete t._submitBubble, this.parentNode && !t.isTrigger && yt.event.simulate("submit", this.parentNode, t))
			}, teardown: function () {
				return !yt.nodeName(this, "form") && void yt.event.remove(this, "._submit")
			}
		}), gt.change || (yt.event.special.change = {
			setup: function () {
				return Kt.test(this.nodeName) ? ("checkbox" !== this.type && "radio" !== this.type || (yt.event.add(this, "propertychange._change", function (t) {
					"checked" === t.originalEvent.propertyName && (this._justChanged = !0)
				}), yt.event.add(this, "click._change", function (t) {
					this._justChanged && !t.isTrigger && (this._justChanged = !1), yt.event.simulate("change", this, t)
				})), !1) : void yt.event.add(this, "beforeactivate._change", function (t) {
					var e = t.target;
					Kt.test(e.nodeName) && !yt._data(e, "change") && (yt.event.add(e, "change._change", function (t) {
						!this.parentNode || t.isSimulated || t.isTrigger || yt.event.simulate("change", this.parentNode, t)
					}), yt._data(e, "change", !0))
				})
			}, handle: function (t) {
				var e = t.target;
				if (this !== e || t.isSimulated || t.isTrigger || "radio" !== e.type && "checkbox" !== e.type) return t.handleObj.handler.apply(this, arguments)
			}, teardown: function () {
				return yt.event.remove(this, "._change"), !Kt.test(this.nodeName)
			}
		}), gt.focusin || yt.each({focus: "focusin", blur: "focusout"}, function (t, e) {
			var i = function (t) {
				yt.event.simulate(e, t.target, yt.event.fix(t))
			};
			yt.event.special[e] = {
				setup: function () {
					var n = this.ownerDocument || this, r = yt._data(n, e);
					r || n.addEventListener(t, i, !0), yt._data(n, e, (r || 0) + 1)
				}, teardown: function () {
					var n = this.ownerDocument || this, r = yt._data(n, e) - 1;
					r ? yt._data(n, e, r) : (n.removeEventListener(t, i, !0),
						yt._removeData(n, e))
				}
			}
		}), yt.fn.extend({
			on: function (t, e, i, n) {
				return E(this, t, e, i, n)
			}, one: function (t, e, i, n) {
				return E(this, t, e, i, n, 1)
			}, off: function (t, e, i) {
				var n, r;
				if (t && t.preventDefault && t.handleObj) return n = t.handleObj, yt(t.delegateTarget).off(n.namespace ? n.origType + "." + n.namespace : n.origType, n.selector, n.handler), this;
				if ("object" == typeof t) {
					for (r in t) this.off(r, e, t[r]);
					return this
				}
				return e !== !1 && "function" != typeof e || (i = e, e = void 0), i === !1 && (i = T), this.each(function () {
					yt.event.remove(this, t, i, e)
				})
			}, trigger: function (t, e) {
				return this.each(function () {
					yt.event.trigger(t, e, this)
				})
			}, triggerHandler: function (t, e) {
				var i = this[0];
				if (i) return yt.event.trigger(t, e, i, !0)
			}
		});
		var ne = / jQuery\d+="(?:null|\d+)"/g, re = new RegExp("<(?:" + qt + ")[\\s/>]", "i"),
			oe = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,
			se = /<script|<style|<link/i, ae = /checked\s*(?:[^=]|=\s*.checked.)/i, he = /^true\/(.*)/,
			le = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g, ue = y(at), ce = ue.appendChild(at.createElement("div"));
		yt.extend({
			htmlPrefilter: function (t) {
				return t.replace(oe, "<$1></$2>")
			}, clone: function (t, e, i) {
				var n, r, o, s, a, h = yt.contains(t.ownerDocument, t);
				if (gt.html5Clone || yt.isXMLDoc(t) || !re.test("<" + t.nodeName + ">") ? o = t.cloneNode(!0) : (ce.innerHTML = t.outerHTML, ce.removeChild(o = ce.firstChild)), !(gt.noCloneEvent && gt.noCloneChecked || 1 !== t.nodeType && 11 !== t.nodeType || yt.isXMLDoc(t))) for (n = v(o), a = v(t), s = 0; null != (r = a[s]); ++s) n[s] && R(r, n[s]);
				if (e) if (i) for (a = a || v(t), n = n || v(o), s = 0; null != (r = a[s]); s++) I(r, n[s]); else I(t, o);
				return n = v(o, "script"), n.length > 0 && _(n, !h && v(t, "script")), n = a = r = null, o
			}, cleanData: function (t, e) {
				for (var i, n, r, o, s = 0, a = yt.expando, h = yt.cache, l = gt.attributes, u = yt.event.special; null != (i = t[s]); s++) if ((e || Bt(i)) && (r = i[a], o = r && h[r])) {
					if (o.events) for (n in o.events) u[n] ? yt.event.remove(i, n) : yt.removeEvent(i, n, o.handle);
					h[r] && (delete h[r], l || "undefined" == typeof i.removeAttribute ? i[a] = void 0 : i.removeAttribute(a), st.push(r))
				}
			}
		}), yt.fn.extend({
			domManip: A, detach: function (t) {
				return k(this, t, !0)
			}, remove: function (t) {
				return k(this, t)
			}, text: function (t) {
				return Vt(this, function (t) {
					return void 0 === t ? yt.text(this) : this.empty().append((this[0] && this[0].ownerDocument || at).createTextNode(t))
				}, null, t, arguments.length)
			}, append: function () {
				return A(this, arguments, function (t) {
					if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
						var e = M(this, t);
						e.appendChild(t)
					}
				})
			}, prepend: function () {
				return A(this, arguments, function (t) {
					if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
						var e = M(this, t);
						e.insertBefore(t, e.firstChild)
					}
				})
			}, before: function () {
				return A(this, arguments, function (t) {
					this.parentNode && this.parentNode.insertBefore(t, this)
				})
			}, after: function () {
				return A(this, arguments, function (t) {
					this.parentNode && this.parentNode.insertBefore(t, this.nextSibling)
				})
			}, empty: function () {
				for (var t, e = 0; null != (t = this[e]); e++) {
					for (1 === t.nodeType && yt.cleanData(v(t, !1)); t.firstChild;) t.removeChild(t.firstChild);
					t.options && yt.nodeName(t, "select") && (t.options.length = 0)
				}
				return this
			}, clone: function (t, e) {
				return t = null != t && t, e = null == e ? t : e, this.map(function () {
					return yt.clone(this, t, e)
				})
			}, html: function (t) {
				return Vt(this, function (t) {
					var e = this[0] || {}, i = 0, n = this.length;
					if (void 0 === t) return 1 === e.nodeType ? e.innerHTML.replace(ne, "") : void 0;
					if ("string" == typeof t && !se.test(t) && (gt.htmlSerialize || !re.test(t)) && (gt.leadingWhitespace || !Yt.test(t)) && !Qt[(Wt.exec(t) || ["", ""])[1].toLowerCase()]) {
						t = yt.htmlPrefilter(t);
						try {
							for (; i < n; i++) e = this[i] || {}, 1 === e.nodeType && (yt.cleanData(v(e, !1)), e.innerHTML = t);
							e = 0
						} catch (r) {
						}
					}
					e && this.empty().append(t)
				}, null, t, arguments.length)
			}, replaceWith: function () {
				var t = [];
				return A(this, arguments, function (e) {
					var i = this.parentNode;
					yt.inArray(this, t) < 0 && (yt.cleanData(v(this)), i && i.replaceChild(e, this))
				}, t)
			}
		}), yt.each({
			appendTo: "append",
			prependTo: "prepend",
			insertBefore: "before",
			insertAfter: "after",
			replaceAll: "replaceWith"
		}, function (t, e) {
			yt.fn[t] = function (t) {
				for (var i, n = 0, r = [], o = yt(t), s = o.length - 1; n <= s; n++) i = n === s ? this : this.clone(!0), yt(o[n])[e](i), ut.apply(r, i.get());
				return this.pushStack(r)
			}
		});
		var fe, de = {HTML: "block", BODY: "block"}, pe = /^margin/,
			ge = new RegExp("^(" + zt + ")(?!px)[a-z%]+$", "i"), me = function (t, e, i, n) {
				var r, o, s = {};
				for (o in e) s[o] = t.style[o], t.style[o] = e[o];
				r = i.apply(t, n || []);
				for (o in e) t.style[o] = s[o];
				return r
			}, ye = at.documentElement;
		!function () {
			function t() {
				var t, u, c = at.documentElement;
				c.appendChild(h), l.style.cssText = "-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%", e = r = a = !1, n = s = !0, i.getComputedStyle && (u = i.getComputedStyle(l), e = "1%" !== (u || {}).top, a = "2px" === (u || {}).marginLeft, r = "4px" === (u || {width: "4px"}).width, l.style.marginRight = "50%", n = "4px" === (u || {marginRight: "4px"}).marginRight, t = l.appendChild(at.createElement("div")), t.style.cssText = l.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", t.style.marginRight = t.style.width = "0", l.style.width = "1px", s = !parseFloat((i.getComputedStyle(t) || {}).marginRight), l.removeChild(t)), l.style.display = "none", o = 0 === l.getClientRects().length, o && (l.style.display = "", l.innerHTML = "<table><tr><td></td><td>t</td></tr></table>", l.childNodes[0].style.borderCollapse = "separate", t = l.getElementsByTagName("td"), t[0].style.cssText = "margin:0;border:0;padding:0;display:none", o = 0 === t[0].offsetHeight, o && (t[0].style.display = "", t[1].style.display = "none", o = 0 === t[0].offsetHeight)), c.removeChild(h)
			}

			var e, n, r, o, s, a, h = at.createElement("div"), l = at.createElement("div");
			l.style && (l.style.cssText = "float:left;opacity:.5", gt.opacity = "0.5" === l.style.opacity, gt.cssFloat = !!l.style.cssFloat, l.style.backgroundClip = "content-box", l.cloneNode(!0).style.backgroundClip = "", gt.clearCloneStyle = "content-box" === l.style.backgroundClip, h = at.createElement("div"), h.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute", l.innerHTML = "", h.appendChild(l), gt.boxSizing = "" === l.style.boxSizing || "" === l.style.MozBoxSizing || "" === l.style.WebkitBoxSizing, yt.extend(gt, {
				reliableHiddenOffsets: function () {
					return null == e && t(), o
				}, boxSizingReliable: function () {
					return null == e && t(), r
				}, pixelMarginRight: function () {
					return null == e && t(), n
				}, pixelPosition: function () {
					return null == e && t(), e
				}, reliableMarginRight: function () {
					return null == e && t(), s
				}, reliableMarginLeft: function () {
					return null == e && t(), a
				}
			}))
		}();
		var ve, _e, xe = /^(top|right|bottom|left)$/;
		i.getComputedStyle ? (ve = function (t) {
			var e = t.ownerDocument.defaultView;
			return e && e.opener || (e = i), e.getComputedStyle(t)
		}, _e = function (t, e, i) {
			var n, r, o, s, a = t.style;
			return i = i || ve(t), s = i ? i.getPropertyValue(e) || i[e] : void 0, "" !== s && void 0 !== s || yt.contains(t.ownerDocument, t) || (s = yt.style(t, e)), i && !gt.pixelMarginRight() && ge.test(s) && pe.test(e) && (n = a.width, r = a.minWidth, o = a.maxWidth, a.minWidth = a.maxWidth = a.width = s, s = i.width, a.width = n, a.minWidth = r, a.maxWidth = o), void 0 === s ? s : s + ""
		}) : ye.currentStyle && (ve = function (t) {
			return t.currentStyle
		}, _e = function (t, e, i) {
			var n, r, o, s, a = t.style;
			return i = i || ve(t), s = i ? i[e] : void 0, null == s && a && a[e] && (s = a[e]), ge.test(s) && !xe.test(e) && (n = a.left, r = t.runtimeStyle, o = r && r.left, o && (r.left = t.currentStyle.left), a.left = "fontSize" === e ? "1em" : s, s = a.pixelLeft + "px", a.left = n, o && (r.left = o)), void 0 === s ? s : s + "" || "auto"
		});
		var be = /alpha\([^)]*\)/i, we = /opacity\s*=\s*([^)]*)/i, Te = /^(none|table(?!-c[ea]).+)/,
			Ce = new RegExp("^(" + zt + ")(.*)$", "i"),
			Ee = {position: "absolute", visibility: "hidden", display: "block"},
			Me = {letterSpacing: "0", fontWeight: "400"}, Pe = ["Webkit", "O", "Moz", "ms"],
			Se = at.createElement("div").style;
		yt.extend({
			cssHooks: {
				opacity: {
					get: function (t, e) {
						if (e) {
							var i = _e(t, "opacity");
							return "" === i ? "1" : i
						}
					}
				}
			},
			cssNumber: {
				animationIterationCount: !0,
				columnCount: !0,
				fillOpacity: !0,
				flexGrow: !0,
				flexShrink: !0,
				fontWeight: !0,
				lineHeight: !0,
				opacity: !0,
				order: !0,
				orphans: !0,
				widows: !0,
				zIndex: !0,
				zoom: !0
			},
			cssProps: {"float": gt.cssFloat ? "cssFloat" : "styleFloat"},
			style: function (t, e, i, n) {
				if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) {
					var r, o, s, a = yt.camelCase(e), h = t.style;
					if (e = yt.cssProps[a] || (yt.cssProps[a] = B(a) || a), s = yt.cssHooks[e] || yt.cssHooks[a], void 0 === i) return s && "get" in s && void 0 !== (r = s.get(t, !1, n)) ? r : h[e];
					if (o = typeof i, "string" === o && (r = Ht.exec(i)) && r[1] && (i = m(t, e, r), o = "number"), null != i && i === i && ("number" === o && (i += r && r[3] || (yt.cssNumber[a] ? "" : "px")), gt.clearCloneStyle || "" !== i || 0 !== e.indexOf("background") || (h[e] = "inherit"), !(s && "set" in s && void 0 === (i = s.set(t, i, n))))) try {
						h[e] = i
					} catch (l) {
					}
				}
			},
			css: function (t, e, i, n) {
				var r, o, s, a = yt.camelCase(e);
				return e = yt.cssProps[a] || (yt.cssProps[a] = B(a) || a), s = yt.cssHooks[e] || yt.cssHooks[a], s && "get" in s && (o = s.get(t, !0, i)), void 0 === o && (o = _e(t, e, n)), "normal" === o && e in Me && (o = Me[e]), "" === i || i ? (r = parseFloat(o), i === !0 || isFinite(r) ? r || 0 : o) : o
			}
		}), yt.each(["height", "width"], function (t, e) {
			yt.cssHooks[e] = {
				get: function (t, i, n) {
					if (i) return Te.test(yt.css(t, "display")) && 0 === t.offsetWidth ? me(t, Ee, function () {
						return H(t, e, n)
					}) : H(t, e, n)
				}, set: function (t, i, n) {
					var r = n && ve(t);
					return F(t, i, n ? z(t, e, n, gt.boxSizing && "border-box" === yt.css(t, "boxSizing", !1, r), r) : 0)
				}
			}
		}), gt.opacity || (yt.cssHooks.opacity = {
			get: function (t, e) {
				return we.test((e && t.currentStyle ? t.currentStyle.filter : t.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : e ? "1" : ""
			}, set: function (t, e) {
				var i = t.style, n = t.currentStyle, r = yt.isNumeric(e) ? "alpha(opacity=" + 100 * e + ")" : "",
					o = n && n.filter || i.filter || "";
				i.zoom = 1, (e >= 1 || "" === e) && "" === yt.trim(o.replace(be, "")) && i.removeAttribute && (i.removeAttribute("filter"), "" === e || n && !n.filter) || (i.filter = be.test(o) ? o.replace(be, r) : o + " " + r)
			}
		}), yt.cssHooks.marginRight = D(gt.reliableMarginRight, function (t, e) {
			if (e) return me(t, {display: "inline-block"}, _e, [t, "marginRight"])
		}), yt.cssHooks.marginLeft = D(gt.reliableMarginLeft, function (t, e) {
			if (e) return (parseFloat(_e(t, "marginLeft")) || (yt.contains(t.ownerDocument, t) ? t.getBoundingClientRect().left - me(t, {marginLeft: 0}, function () {
				return t.getBoundingClientRect().left
			}) : 0)) + "px"
		}), yt.each({margin: "", padding: "", border: "Width"}, function (t, e) {
			yt.cssHooks[t + e] = {
				expand: function (i) {
					for (var n = 0, r = {}, o = "string" == typeof i ? i.split(" ") : [i]; n < 4; n++) r[t + jt[n] + e] = o[n] || o[n - 2] || o[0];
					return r
				}
			}, pe.test(t) || (yt.cssHooks[t + e].set = F)
		}), yt.fn.extend({
			css: function (t, e) {
				return Vt(this, function (t, e, i) {
					var n, r, o = {}, s = 0;
					if (yt.isArray(e)) {
						for (n = ve(t), r = e.length; s < r; s++) o[e[s]] = yt.css(t, e[s], !1, n);
						return o
					}
					return void 0 !== i ? yt.style(t, e, i) : yt.css(t, e)
				}, t, e, arguments.length > 1)
			}, show: function () {
				return N(this, !0)
			}, hide: function () {
				return N(this)
			}, toggle: function (t) {
				return "boolean" == typeof t ? t ? this.show() : this.hide() : this.each(function () {
					Ut(this) ? yt(this).show() : yt(this).hide()
				})
			}
		}), yt.Tween = j, j.prototype = {
			constructor: j, init: function (t, e, i, n, r, o) {
				this.elem = t, this.prop = i, this.easing = r || yt.easing._default, this.options = e, this.start = this.now = this.cur(), this.end = n, this.unit = o || (yt.cssNumber[i] ? "" : "px")
			}, cur: function () {
				var t = j.propHooks[this.prop];
				return t && t.get ? t.get(this) : j.propHooks._default.get(this)
			}, run: function (t) {
				var e, i = j.propHooks[this.prop];
				return this.options.duration ? this.pos = e = yt.easing[this.easing](t, this.options.duration * t, 0, 1, this.options.duration) : this.pos = e = t, this.now = (this.end - this.start) * e + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), i && i.set ? i.set(this) : j.propHooks._default.set(this), this
			}
		}, j.prototype.init.prototype = j.prototype, j.propHooks = {
			_default: {
				get: function (t) {
					var e;
					return 1 !== t.elem.nodeType || null != t.elem[t.prop] && null == t.elem.style[t.prop] ? t.elem[t.prop] : (e = yt.css(t.elem, t.prop, ""), e && "auto" !== e ? e : 0)
				}, set: function (t) {
					yt.fx.step[t.prop] ? yt.fx.step[t.prop](t) : 1 !== t.elem.nodeType || null == t.elem.style[yt.cssProps[t.prop]] && !yt.cssHooks[t.prop] ? t.elem[t.prop] = t.now : yt.style(t.elem, t.prop, t.now + t.unit)
				}
			}
		}, j.propHooks.scrollTop = j.propHooks.scrollLeft = {
			set: function (t) {
				t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now)
			}
		}, yt.easing = {
			linear: function (t) {
				return t
			}, swing: function (t) {
				return .5 - Math.cos(t * Math.PI) / 2
			}, _default: "swing"
		}, yt.fx = j.prototype.init, yt.fx.step = {};
		var Ie, Re, Ae = /^(?:toggle|show|hide)$/, ke = /queueHooks$/;
		yt.Animation = yt.extend(Y, {
			tweeners: {
				"*": [function (t, e) {
					var i = this.createTween(t, e);
					return m(i.elem, t, Ht.exec(e), i), i
				}]
			}, tweener: function (t, e) {
				yt.isFunction(t) ? (e = t, t = ["*"]) : t = t.match(Ot);
				for (var i, n = 0, r = t.length; n < r; n++) i = t[n], Y.tweeners[i] = Y.tweeners[i] || [], Y.tweeners[i].unshift(e)
			}, prefilters: [W], prefilter: function (t, e) {
				e ? Y.prefilters.unshift(t) : Y.prefilters.push(t)
			}
		}), yt.speed = function (t, e, i) {
			var n = t && "object" == typeof t ? yt.extend({}, t) : {
				complete: i || !i && e || yt.isFunction(t) && t,
				duration: t,
				easing: i && e || e && !yt.isFunction(e) && e
			};
			return n.duration = yt.fx.off ? 0 : "number" == typeof n.duration ? n.duration : n.duration in yt.fx.speeds ? yt.fx.speeds[n.duration] : yt.fx.speeds._default, null != n.queue && n.queue !== !0 || (n.queue = "fx"), n.old = n.complete, n.complete = function () {
				yt.isFunction(n.old) && n.old.call(this), n.queue && yt.dequeue(this, n.queue)
			}, n
		}, yt.fn.extend({
			fadeTo: function (t, e, i, n) {
				return this.filter(Ut).css("opacity", 0).show().end().animate({opacity: e}, t, i, n)
			}, animate: function (t, e, i, n) {
				var r = yt.isEmptyObject(t), o = yt.speed(e, i, n), s = function () {
					var e = Y(this, yt.extend({}, t), o);
					(r || yt._data(this, "finish")) && e.stop(!0)
				};
				return s.finish = s, r || o.queue === !1 ? this.each(s) : this.queue(o.queue, s)
			}, stop: function (t, e, i) {
				var n = function (t) {
					var e = t.stop;
					delete t.stop, e(i)
				};
				return "string" != typeof t && (i = e, e = t, t = void 0), e && t !== !1 && this.queue(t || "fx", []), this.each(function () {
					var e = !0, r = null != t && t + "queueHooks", o = yt.timers, s = yt._data(this);
					if (r) s[r] && s[r].stop && n(s[r]); else for (r in s) s[r] && s[r].stop && ke.test(r) && n(s[r]);
					for (r = o.length; r--;) o[r].elem !== this || null != t && o[r].queue !== t || (o[r].anim.stop(i), e = !1, o.splice(r, 1));
					!e && i || yt.dequeue(this, t)
				})
			}, finish: function (t) {
				return t !== !1 && (t = t || "fx"), this.each(function () {
					var e, i = yt._data(this), n = i[t + "queue"], r = i[t + "queueHooks"], o = yt.timers,
						s = n ? n.length : 0;
					for (i.finish = !0, yt.queue(this, t, []), r && r.stop && r.stop.call(this, !0), e = o.length; e--;) o[e].elem === this && o[e].queue === t && (o[e].anim.stop(!0), o.splice(e, 1));
					for (e = 0; e < s; e++) n[e] && n[e].finish && n[e].finish.call(this);
					delete i.finish
				})
			}
		}), yt.each(["toggle", "show", "hide"], function (t, e) {
			var i = yt.fn[e];
			yt.fn[e] = function (t, n, r) {
				return null == t || "boolean" == typeof t ? i.apply(this, arguments) : this.animate(V(e, !0), t, n, r)
			}
		}), yt.each({
			slideDown: V("show"),
			slideUp: V("hide"),
			slideToggle: V("toggle"),
			fadeIn: {opacity: "show"},
			fadeOut: {opacity: "hide"},
			fadeToggle: {opacity: "toggle"}
		}, function (t, e) {
			yt.fn[t] = function (t, i, n) {
				return this.animate(e, t, i, n)
			}
		}), yt.timers = [], yt.fx.tick = function () {
			var t, e = yt.timers, i = 0;
			for (Ie = yt.now(); i < e.length; i++) t = e[i], t() || e[i] !== t || e.splice(i--, 1);
			e.length || yt.fx.stop(), Ie = void 0
		}, yt.fx.timer = function (t) {
			yt.timers.push(t), t() ? yt.fx.start() : yt.timers.pop()
		}, yt.fx.interval = 13, yt.fx.start = function () {
			Re || (Re = i.setInterval(yt.fx.tick, yt.fx.interval))
		}, yt.fx.stop = function () {
			i.clearInterval(Re), Re = null
		}, yt.fx.speeds = {slow: 600, fast: 200, _default: 400}, yt.fn.delay = function (t, e) {
			return t = yt.fx ? yt.fx.speeds[t] || t : t, e = e || "fx", this.queue(e, function (e, n) {
				var r = i.setTimeout(e, t);
				n.stop = function () {
					i.clearTimeout(r)
				}
			})
		}, function () {
			var t, e = at.createElement("input"), i = at.createElement("div"), n = at.createElement("select"),
				r = n.appendChild(at.createElement("option"));
			i = at.createElement("div"), i.setAttribute("className", "t"), i.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", t = i.getElementsByTagName("a")[0], e.setAttribute("type", "checkbox"), i.appendChild(e), t = i.getElementsByTagName("a")[0], t.style.cssText = "top:1px", gt.getSetAttribute = "t" !== i.className, gt.style = /top/.test(t.getAttribute("style")), gt.hrefNormalized = "/a" === t.getAttribute("href"), gt.checkOn = !!e.value, gt.optSelected = r.selected, gt.enctype = !!at.createElement("form").enctype, n.disabled = !0, gt.optDisabled = !r.disabled, e = at.createElement("input"), e.setAttribute("value", ""), gt.input = "" === e.getAttribute("value"), e.value = "t", e.setAttribute("type", "radio"), gt.radioValue = "t" === e.value
		}();
		var Oe = /\r/g, Le = /[\x20\t\r\n\f]+/g;
		yt.fn.extend({
			val: function (t) {
				var e, i, n, r = this[0];
				{
					if (arguments.length) return n = yt.isFunction(t), this.each(function (i) {
						var r;
						1 === this.nodeType && (r = n ? t.call(this, i, yt(this).val()) : t, null == r ? r = "" : "number" == typeof r ? r += "" : yt.isArray(r) && (r = yt.map(r, function (t) {
							return null == t ? "" : t + ""
						})), e = yt.valHooks[this.type] || yt.valHooks[this.nodeName.toLowerCase()], e && "set" in e && void 0 !== e.set(this, r, "value") || (this.value = r))
					});
					if (r) return e = yt.valHooks[r.type] || yt.valHooks[r.nodeName.toLowerCase()], e && "get" in e && void 0 !== (i = e.get(r, "value")) ? i : (i = r.value, "string" == typeof i ? i.replace(Oe, "") : null == i ? "" : i)
				}
			}
		}), yt.extend({
			valHooks: {
				option: {
					get: function (t) {
						var e = yt.find.attr(t, "value");
						return null != e ? e : yt.trim(yt.text(t)).replace(Le, " ")
					}
				}, select: {
					get: function (t) {
						for (var e, i, n = t.options, r = t.selectedIndex, o = "select-one" === t.type || r < 0, s = o ? null : [], a = o ? r + 1 : n.length, h = r < 0 ? a : o ? r : 0; h < a; h++) if (i = n[h], (i.selected || h === r) && (gt.optDisabled ? !i.disabled : null === i.getAttribute("disabled")) && (!i.parentNode.disabled || !yt.nodeName(i.parentNode, "optgroup"))) {
							if (e = yt(i).val(), o) return e;
							s.push(e)
						}
						return s
					}, set: function (t, e) {
						for (var i, n, r = t.options, o = yt.makeArray(e), s = r.length; s--;) if (n = r[s], yt.inArray(yt.valHooks.option.get(n), o) > -1) try {
							n.selected = i = !0
						} catch (a) {
							n.scrollHeight
						} else n.selected = !1;
						return i || (t.selectedIndex = -1), r
					}
				}
			}
		}), yt.each(["radio", "checkbox"], function () {
			yt.valHooks[this] = {
				set: function (t, e) {
					if (yt.isArray(e)) return t.checked = yt.inArray(yt(t).val(), e) > -1
				}
			}, gt.checkOn || (yt.valHooks[this].get = function (t) {
				return null === t.getAttribute("value") ? "on" : t.value
			})
		});
		var De, Be, Ne = yt.expr.attrHandle, Fe = /^(?:checked|selected)$/i, ze = gt.getSetAttribute, He = gt.input;
		yt.fn.extend({
			attr: function (t, e) {
				return Vt(this, yt.attr, t, e, arguments.length > 1)
			}, removeAttr: function (t) {
				return this.each(function () {
					yt.removeAttr(this, t)
				})
			}
		}), yt.extend({
			attr: function (t, e, i) {
				var n, r, o = t.nodeType;
				if (3 !== o && 8 !== o && 2 !== o) return "undefined" == typeof t.getAttribute ? yt.prop(t, e, i) : (1 === o && yt.isXMLDoc(t) || (e = e.toLowerCase(), r = yt.attrHooks[e] || (yt.expr.match.bool.test(e) ? Be : De)), void 0 !== i ? null === i ? void yt.removeAttr(t, e) : r && "set" in r && void 0 !== (n = r.set(t, i, e)) ? n : (t.setAttribute(e, i + ""), i) : r && "get" in r && null !== (n = r.get(t, e)) ? n : (n = yt.find.attr(t, e), null == n ? void 0 : n))
			}, attrHooks: {
				type: {
					set: function (t, e) {
						if (!gt.radioValue && "radio" === e && yt.nodeName(t, "input")) {
							var i = t.value;
							return t.setAttribute("type", e), i && (t.value = i), e
						}
					}
				}
			}, removeAttr: function (t, e) {
				var i, n, r = 0, o = e && e.match(Ot);
				if (o && 1 === t.nodeType) for (; i = o[r++];) n = yt.propFix[i] || i, yt.expr.match.bool.test(i) ? He && ze || !Fe.test(i) ? t[n] = !1 : t[yt.camelCase("default-" + i)] = t[n] = !1 : yt.attr(t, i, ""), t.removeAttribute(ze ? i : n)
			}
		}), Be = {
			set: function (t, e, i) {
				return e === !1 ? yt.removeAttr(t, i) : He && ze || !Fe.test(i) ? t.setAttribute(!ze && yt.propFix[i] || i, i) : t[yt.camelCase("default-" + i)] = t[i] = !0, i
			}
		}, yt.each(yt.expr.match.bool.source.match(/\w+/g), function (t, e) {
			var i = Ne[e] || yt.find.attr;
			He && ze || !Fe.test(e) ? Ne[e] = function (t, e, n) {
				var r, o;
				return n || (o = Ne[e], Ne[e] = r, r = null != i(t, e, n) ? e.toLowerCase() : null, Ne[e] = o), r
			} : Ne[e] = function (t, e, i) {
				if (!i) return t[yt.camelCase("default-" + e)] ? e.toLowerCase() : null
			}
		}), He && ze || (yt.attrHooks.value = {
			set: function (t, e, i) {
				return yt.nodeName(t, "input") ? void(t.defaultValue = e) : De && De.set(t, e, i)
			}
		}), ze || (De = {
			set: function (t, e, i) {
				var n = t.getAttributeNode(i);
				if (n || t.setAttributeNode(n = t.ownerDocument.createAttribute(i)), n.value = e += "", "value" === i || e === t.getAttribute(i)) return e
			}
		}, Ne.id = Ne.name = Ne.coords = function (t, e, i) {
			var n;
			if (!i) return (n = t.getAttributeNode(e)) && "" !== n.value ? n.value : null
		}, yt.valHooks.button = {
			get: function (t, e) {
				var i = t.getAttributeNode(e);
				if (i && i.specified) return i.value
			}, set: De.set
		}, yt.attrHooks.contenteditable = {
			set: function (t, e, i) {
				De.set(t, "" !== e && e, i)
			}
		}, yt.each(["width", "height"], function (t, e) {
			yt.attrHooks[e] = {
				set: function (t, i) {
					if ("" === i) return t.setAttribute(e, "auto"), i
				}
			}
		})), gt.style || (yt.attrHooks.style = {
			get: function (t) {
				return t.style.cssText || void 0
			}, set: function (t, e) {
				return t.style.cssText = e + ""
			}
		});
		var je = /^(?:input|select|textarea|button|object)$/i, Ue = /^(?:a|area)$/i;
		yt.fn.extend({
			prop: function (t, e) {
				return Vt(this, yt.prop, t, e, arguments.length > 1)
			}, removeProp: function (t) {
				return t = yt.propFix[t] || t, this.each(function () {
					try {
						this[t] = void 0, delete this[t]
					} catch (e) {
					}
				})
			}
		}), yt.extend({
			prop: function (t, e, i) {
				var n, r, o = t.nodeType;
				if (3 !== o && 8 !== o && 2 !== o) return 1 === o && yt.isXMLDoc(t) || (e = yt.propFix[e] || e, r = yt.propHooks[e]), void 0 !== i ? r && "set" in r && void 0 !== (n = r.set(t, i, e)) ? n : t[e] = i : r && "get" in r && null !== (n = r.get(t, e)) ? n : t[e]
			}, propHooks: {
				tabIndex: {
					get: function (t) {
						var e = yt.find.attr(t, "tabindex");
						return e ? parseInt(e, 10) : je.test(t.nodeName) || Ue.test(t.nodeName) && t.href ? 0 : -1
					}
				}
			}, propFix: {"for": "htmlFor", "class": "className"}
		}), gt.hrefNormalized || yt.each(["href", "src"], function (t, e) {
			yt.propHooks[e] = {
				get: function (t) {
					return t.getAttribute(e, 4)
				}
			}
		}), gt.optSelected || (yt.propHooks.selected = {
			get: function (t) {
				var e = t.parentNode;
				return e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex), null
			}, set: function (t) {
				var e = t.parentNode;
				e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex)
			}
		}), yt.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () {
			yt.propFix[this.toLowerCase()] = this
		}), gt.enctype || (yt.propFix.enctype = "encoding");
		var Ve = /[\t\r\n\f]/g;
		yt.fn.extend({
			addClass: function (t) {
				var e, i, n, r, o, s, a, h = 0;
				if (yt.isFunction(t)) return this.each(function (e) {
					yt(this).addClass(t.call(this, e, q(this)))
				});
				if ("string" == typeof t && t) for (e = t.match(Ot) || []; i = this[h++];) if (r = q(i), n = 1 === i.nodeType && (" " + r + " ").replace(Ve, " ")) {
					for (s = 0; o = e[s++];) n.indexOf(" " + o + " ") < 0 && (n += o + " ");
					a = yt.trim(n), r !== a && yt.attr(i, "class", a)
				}
				return this
			}, removeClass: function (t) {
				var e, i, n, r, o, s, a, h = 0;
				if (yt.isFunction(t)) return this.each(function (e) {
					yt(this).removeClass(t.call(this, e, q(this)))
				});
				if (!arguments.length) return this.attr("class", "");
				if ("string" == typeof t && t) for (e = t.match(Ot) || []; i = this[h++];) if (r = q(i), n = 1 === i.nodeType && (" " + r + " ").replace(Ve, " ")) {
					for (s = 0; o = e[s++];) for (; n.indexOf(" " + o + " ") > -1;) n = n.replace(" " + o + " ", " ");
					a = yt.trim(n), r !== a && yt.attr(i, "class", a)
				}
				return this
			}, toggleClass: function (t, e) {
				var i = typeof t;
				return "boolean" == typeof e && "string" === i ? e ? this.addClass(t) : this.removeClass(t) : yt.isFunction(t) ? this.each(function (i) {
					yt(this).toggleClass(t.call(this, i, q(this), e), e)
				}) : this.each(function () {
					var e, n, r, o;
					if ("string" === i) for (n = 0, r = yt(this), o = t.match(Ot) || []; e = o[n++];) r.hasClass(e) ? r.removeClass(e) : r.addClass(e); else void 0 !== t && "boolean" !== i || (e = q(this), e && yt._data(this, "__className__", e), yt.attr(this, "class", e || t === !1 ? "" : yt._data(this, "__className__") || ""))
				})
			}, hasClass: function (t) {
				var e, i, n = 0;
				for (e = " " + t + " "; i = this[n++];) if (1 === i.nodeType && (" " + q(i) + " ").replace(Ve, " ").indexOf(e) > -1) return !0;
				return !1
			}
		}), yt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (t, e) {
			yt.fn[e] = function (t, i) {
				return arguments.length > 0 ? this.on(e, null, t, i) : this.trigger(e)
			}
		}), yt.fn.extend({
			hover: function (t, e) {
				return this.mouseenter(t).mouseleave(e || t)
			}
		});
		var Xe = i.location, We = yt.now(), Ge = /\?/,
			Ye = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
		yt.parseJSON = function (t) {
			if (i.JSON && i.JSON.parse) return i.JSON.parse(t + "");
			var e, n = null, r = yt.trim(t + "");
			return r && !yt.trim(r.replace(Ye, function (t, i, r, o) {
				return e && i && (n = 0), 0 === n ? t : (e = r || i, n += !o - !r, "")
			})) ? Function("return " + r)() : yt.error("Invalid JSON: " + t)
		}, yt.parseXML = function (t) {
			var e, n;
			if (!t || "string" != typeof t) return null;
			try {
				i.DOMParser ? (n = new i.DOMParser, e = n.parseFromString(t, "text/xml")) : (e = new i.ActiveXObject("Microsoft.XMLDOM"), e.async = "false", e.loadXML(t))
			} catch (r) {
				e = void 0
			}
			return e && e.documentElement && !e.getElementsByTagName("parsererror").length || yt.error("Invalid XML: " + t), e
		};
		var qe = /#.*$/, Qe = /([?&])_=[^&]*/, Je = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm,
			Ze = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, Ke = /^(?:GET|HEAD)$/, $e = /^\/\//,
			ti = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/, ei = {}, ii = {}, ni = "*/".concat("*"),
			ri = Xe.href, oi = ti.exec(ri.toLowerCase()) || [];
		yt.extend({
			active: 0,
			lastModified: {},
			etag: {},
			ajaxSettings: {
				url: ri,
				type: "GET",
				isLocal: Ze.test(oi[1]),
				global: !0,
				processData: !0,
				async: !0,
				contentType: "application/x-www-form-urlencoded; charset=UTF-8",
				accepts: {
					"*": ni,
					text: "text/plain",
					html: "text/html",
					xml: "application/xml, text/xml",
					json: "application/json, text/javascript"
				},
				contents: {xml: /\bxml\b/, html: /\bhtml/, json: /\bjson\b/},
				responseFields: {xml: "responseXML", text: "responseText", json: "responseJSON"},
				converters: {"* text": String, "text html": !0, "text json": yt.parseJSON, "text xml": yt.parseXML},
				flatOptions: {url: !0, context: !0}
			},
			ajaxSetup: function (t, e) {
				return e ? Z(Z(t, yt.ajaxSettings), e) : Z(yt.ajaxSettings, t)
			},
			ajaxPrefilter: Q(ei),
			ajaxTransport: Q(ii),
			ajax: function (t, e) {
				function n(t, e, n, r) {
					var o, c, v, _, b, T = e;
					2 !== x && (x = 2, h && i.clearTimeout(h), u = void 0, a = r || "", w.readyState = t > 0 ? 4 : 0, o = t >= 200 && t < 300 || 304 === t, n && (_ = K(f, w, n)), _ = $(f, _, w, o), o ? (f.ifModified && (b = w.getResponseHeader("Last-Modified"), b && (yt.lastModified[s] = b), b = w.getResponseHeader("etag"), b && (yt.etag[s] = b)), 204 === t || "HEAD" === f.type ? T = "nocontent" : 304 === t ? T = "notmodified" : (T = _.state, c = _.data, v = _.error, o = !v)) : (v = T, !t && T || (T = "error", t < 0 && (t = 0))), w.status = t, w.statusText = (e || T) + "", o ? g.resolveWith(d, [c, T, w]) : g.rejectWith(d, [w, T, v]), w.statusCode(y), y = void 0, l && p.trigger(o ? "ajaxSuccess" : "ajaxError", [w, f, o ? c : v]), m.fireWith(d, [w, T]), l && (p.trigger("ajaxComplete", [w, f]), --yt.active || yt.event.trigger("ajaxStop")))
				}

				"object" == typeof t && (e = t, t = void 0), e = e || {};
				var r, o, s, a, h, l, u, c, f = yt.ajaxSetup({}, e), d = f.context || f,
					p = f.context && (d.nodeType || d.jquery) ? yt(d) : yt.event, g = yt.Deferred(),
					m = yt.Callbacks("once memory"), y = f.statusCode || {}, v = {}, _ = {}, x = 0, b = "canceled",
					w = {
						readyState: 0, getResponseHeader: function (t) {
							var e;
							if (2 === x) {
								if (!c) for (c = {}; e = Je.exec(a);) c[e[1].toLowerCase()] = e[2];
								e = c[t.toLowerCase()]
							}
							return null == e ? null : e
						}, getAllResponseHeaders: function () {
							return 2 === x ? a : null
						}, setRequestHeader: function (t, e) {
							var i = t.toLowerCase();
							return x || (t = _[i] = _[i] || t, v[t] = e), this
						}, overrideMimeType: function (t) {
							return x || (f.mimeType = t), this
						}, statusCode: function (t) {
							var e;
							if (t) if (x < 2) for (e in t) y[e] = [y[e], t[e]]; else w.always(t[w.status]);
							return this
						}, abort: function (t) {
							var e = t || b;
							return u && u.abort(e), n(0, e), this
						}
					};
				if (g.promise(w).complete = m.add, w.success = w.done, w.error = w.fail, f.url = ((t || f.url || ri) + "").replace(qe, "").replace($e, oi[1] + "//"), f.type = e.method || e.type || f.method || f.type, f.dataTypes = yt.trim(f.dataType || "*").toLowerCase().match(Ot) || [""], null == f.crossDomain && (r = ti.exec(f.url.toLowerCase()), f.crossDomain = !(!r || r[1] === oi[1] && r[2] === oi[2] && (r[3] || ("http:" === r[1] ? "80" : "443")) === (oi[3] || ("http:" === oi[1] ? "80" : "443")))), f.data && f.processData && "string" != typeof f.data && (f.data = yt.param(f.data, f.traditional)), J(ei, f, e, w), 2 === x) return w;
				l = yt.event && f.global, l && 0 === yt.active++ && yt.event.trigger("ajaxStart"), f.type = f.type.toUpperCase(), f.hasContent = !Ke.test(f.type), s = f.url, f.hasContent || (f.data && (s = f.url += (Ge.test(s) ? "&" : "?") + f.data, delete f.data), f.cache === !1 && (f.url = Qe.test(s) ? s.replace(Qe, "$1_=" + We++) : s + (Ge.test(s) ? "&" : "?") + "_=" + We++)), f.ifModified && (yt.lastModified[s] && w.setRequestHeader("If-Modified-Since", yt.lastModified[s]), yt.etag[s] && w.setRequestHeader("If-None-Match", yt.etag[s])), (f.data && f.hasContent && f.contentType !== !1 || e.contentType) && w.setRequestHeader("Content-Type", f.contentType), w.setRequestHeader("Accept", f.dataTypes[0] && f.accepts[f.dataTypes[0]] ? f.accepts[f.dataTypes[0]] + ("*" !== f.dataTypes[0] ? ", " + ni + "; q=0.01" : "") : f.accepts["*"]);
				for (o in f.headers) w.setRequestHeader(o, f.headers[o]);
				if (f.beforeSend && (f.beforeSend.call(d, w, f) === !1 || 2 === x)) return w.abort();
				b = "abort";
				for (o in{success: 1, error: 1, complete: 1}) w[o](f[o]);
				if (u = J(ii, f, e, w)) {
					if (w.readyState = 1, l && p.trigger("ajaxSend", [w, f]), 2 === x) return w;
					f.async && f.timeout > 0 && (h = i.setTimeout(function () {
						w.abort("timeout")
					}, f.timeout));
					try {
						x = 1, u.send(v, n)
					} catch (T) {
						if (!(x < 2)) throw T;
						n(-1, T)
					}
				} else n(-1, "No Transport");
				return w
			},
			getJSON: function (t, e, i) {
				return yt.get(t, e, i, "json")
			},
			getScript: function (t, e) {
				return yt.get(t, void 0, e, "script")
			}
		}), yt.each(["get", "post"], function (t, e) {
			yt[e] = function (t, i, n, r) {
				return yt.isFunction(i) && (r = r || n, n = i, i = void 0), yt.ajax(yt.extend({
					url: t,
					type: e,
					dataType: r,
					data: i,
					success: n
				}, yt.isPlainObject(t) && t))
			}
		}), yt._evalUrl = function (t) {
			return yt.ajax({url: t, type: "GET", dataType: "script", cache: !0, async: !1, global: !1, "throws": !0})
		}, yt.fn.extend({
			wrapAll: function (t) {
				if (yt.isFunction(t)) return this.each(function (e) {
					yt(this).wrapAll(t.call(this, e))
				});
				if (this[0]) {
					var e = yt(t, this[0].ownerDocument).eq(0).clone(!0);
					this[0].parentNode && e.insertBefore(this[0]), e.map(function () {
						for (var t = this; t.firstChild && 1 === t.firstChild.nodeType;) t = t.firstChild;
						return t
					}).append(this)
				}
				return this
			}, wrapInner: function (t) {
				return yt.isFunction(t) ? this.each(function (e) {
					yt(this).wrapInner(t.call(this, e))
				}) : this.each(function () {
					var e = yt(this), i = e.contents();
					i.length ? i.wrapAll(t) : e.append(t)
				})
			}, wrap: function (t) {
				var e = yt.isFunction(t);
				return this.each(function (i) {
					yt(this).wrapAll(e ? t.call(this, i) : t)
				})
			}, unwrap: function () {
				return this.parent().each(function () {
					yt.nodeName(this, "body") || yt(this).replaceWith(this.childNodes)
				}).end()
			}
		}), yt.expr.filters.hidden = function (t) {
			return gt.reliableHiddenOffsets() ? t.offsetWidth <= 0 && t.offsetHeight <= 0 && !t.getClientRects().length : et(t)
		}, yt.expr.filters.visible = function (t) {
			return !yt.expr.filters.hidden(t)
		};
		var si = /%20/g, ai = /\[\]$/, hi = /\r?\n/g, li = /^(?:submit|button|image|reset|file)$/i,
			ui = /^(?:input|select|textarea|keygen)/i;
		yt.param = function (t, e) {
			var i, n = [], r = function (t, e) {
				e = yt.isFunction(e) ? e() : null == e ? "" : e, n[n.length] = encodeURIComponent(t) + "=" + encodeURIComponent(e)
			};
			if (void 0 === e && (e = yt.ajaxSettings && yt.ajaxSettings.traditional), yt.isArray(t) || t.jquery && !yt.isPlainObject(t)) yt.each(t, function () {
				r(this.name, this.value)
			}); else for (i in t) it(i, t[i], e, r);
			return n.join("&").replace(si, "+")
		}, yt.fn.extend({
			serialize: function () {
				return yt.param(this.serializeArray())
			}, serializeArray: function () {
				return this.map(function () {
					var t = yt.prop(this, "elements");
					return t ? yt.makeArray(t) : this
				}).filter(function () {
					var t = this.type;
					return this.name && !yt(this).is(":disabled") && ui.test(this.nodeName) && !li.test(t) && (this.checked || !Xt.test(t))
				}).map(function (t, e) {
					var i = yt(this).val();
					return null == i ? null : yt.isArray(i) ? yt.map(i, function (t) {
						return {name: e.name, value: t.replace(hi, "\r\n")}
					}) : {name: e.name, value: i.replace(hi, "\r\n")}
				}).get()
			}
		}), yt.ajaxSettings.xhr = void 0 !== i.ActiveXObject ? function () {
			return this.isLocal ? rt() : at.documentMode > 8 ? nt() : /^(get|post|head|put|delete|options)$/i.test(this.type) && nt() || rt()
		} : nt;
		var ci = 0, fi = {}, di = yt.ajaxSettings.xhr();
		i.attachEvent && i.attachEvent("onunload", function () {
			for (var t in fi) fi[t](void 0, !0)
		}), gt.cors = !!di && "withCredentials" in di, di = gt.ajax = !!di, di && yt.ajaxTransport(function (t) {
			if (!t.crossDomain || gt.cors) {
				var e;
				return {
					send: function (n, r) {
						var o, s = t.xhr(), a = ++ci;
						if (s.open(t.type, t.url, t.async, t.username, t.password), t.xhrFields) for (o in t.xhrFields) s[o] = t.xhrFields[o];
						t.mimeType && s.overrideMimeType && s.overrideMimeType(t.mimeType), t.crossDomain || n["X-Requested-With"] || (n["X-Requested-With"] = "XMLHttpRequest");
						for (o in n) void 0 !== n[o] && s.setRequestHeader(o, n[o] + "");
						s.send(t.hasContent && t.data || null), e = function (i, n) {
							var o, h, l;
							if (e && (n || 4 === s.readyState)) if (delete fi[a], e = void 0, s.onreadystatechange = yt.noop, n) 4 !== s.readyState && s.abort(); else {
								l = {}, o = s.status, "string" == typeof s.responseText && (l.text = s.responseText);
								try {
									h = s.statusText
								} catch (u) {
									h = ""
								}
								o || !t.isLocal || t.crossDomain ? 1223 === o && (o = 204) : o = l.text ? 200 : 404
							}
							l && r(o, h, l, s.getAllResponseHeaders())
						}, t.async ? 4 === s.readyState ? i.setTimeout(e) : s.onreadystatechange = fi[a] = e : e()
					}, abort: function () {
						e && e(void 0, !0)
					}
				}
			}
		}), yt.ajaxSetup({
			accepts: {script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
			contents: {script: /\b(?:java|ecma)script\b/},
			converters: {
				"text script": function (t) {
					return yt.globalEval(t), t
				}
			}
		}), yt.ajaxPrefilter("script", function (t) {
			void 0 === t.cache && (t.cache = !1), t.crossDomain && (t.type = "GET", t.global = !1)
		}), yt.ajaxTransport("script", function (t) {
			if (t.crossDomain) {
				var e, i = at.head || yt("head")[0] || at.documentElement;
				return {
					send: function (n, r) {
						e = at.createElement("script"), e.async = !0, t.scriptCharset && (e.charset = t.scriptCharset), e.src = t.url, e.onload = e.onreadystatechange = function (t, i) {
							(i || !e.readyState || /loaded|complete/.test(e.readyState)) && (e.onload = e.onreadystatechange = null, e.parentNode && e.parentNode.removeChild(e), e = null, i || r(200, "success"))
						}, i.insertBefore(e, i.firstChild)
					}, abort: function () {
						e && e.onload(void 0, !0)
					}
				}
			}
		});
		var pi = [], gi = /(=)\?(?=&|$)|\?\?/;
		yt.ajaxSetup({
			jsonp: "callback", jsonpCallback: function () {
				var t = pi.pop() || yt.expando + "_" + We++;
				return this[t] = !0, t
			}
		}), yt.ajaxPrefilter("json jsonp", function (t, e, n) {
			var r, o, s,
				a = t.jsonp !== !1 && (gi.test(t.url) ? "url" : "string" == typeof t.data && 0 === (t.contentType || "").indexOf("application/x-www-form-urlencoded") && gi.test(t.data) && "data");
			if (a || "jsonp" === t.dataTypes[0]) return r = t.jsonpCallback = yt.isFunction(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, a ? t[a] = t[a].replace(gi, "$1" + r) : t.jsonp !== !1 && (t.url += (Ge.test(t.url) ? "&" : "?") + t.jsonp + "=" + r), t.converters["script json"] = function () {
				return s || yt.error(r + " was not called"), s[0]
			}, t.dataTypes[0] = "json", o = i[r], i[r] = function () {
				s = arguments
			}, n.always(function () {
				void 0 === o ? yt(i).removeProp(r) : i[r] = o, t[r] && (t.jsonpCallback = e.jsonpCallback, pi.push(r)), s && yt.isFunction(o) && o(s[0]), s = o = void 0
			}), "script"
		}), yt.parseHTML = function (t, e, i) {
			if (!t || "string" != typeof t) return null;
			"boolean" == typeof e && (i = e, e = !1), e = e || at;
			var n = Mt.exec(t), r = !i && [];
			return n ? [e.createElement(n[1])] : (n = b([t], e, r), r && r.length && yt(r).remove(), yt.merge([], n.childNodes))
		};
		var mi = yt.fn.load;
		yt.fn.load = function (t, e, i) {
			if ("string" != typeof t && mi) return mi.apply(this, arguments);
			var n, r, o, s = this, a = t.indexOf(" ");
			return a > -1 && (n = yt.trim(t.slice(a, t.length)), t = t.slice(0, a)), yt.isFunction(e) ? (i = e, e = void 0) : e && "object" == typeof e && (r = "POST"), s.length > 0 && yt.ajax({
				url: t,
				type: r || "GET",
				dataType: "html",
				data: e
			}).done(function (t) {
				o = arguments, s.html(n ? yt("<div>").append(yt.parseHTML(t)).find(n) : t)
			}).always(i && function (t, e) {
				s.each(function () {
					i.apply(this, o || [t.responseText, e, t])
				})
			}), this
		}, yt.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (t, e) {
			yt.fn[e] = function (t) {
				return this.on(e, t)
			}
		}), yt.expr.filters.animated = function (t) {
			return yt.grep(yt.timers, function (e) {
				return t === e.elem
			}).length
		}, yt.offset = {
			setOffset: function (t, e, i) {
				var n, r, o, s, a, h, l, u = yt.css(t, "position"), c = yt(t), f = {};
				"static" === u && (t.style.position = "relative"), a = c.offset(), o = yt.css(t, "top"), h = yt.css(t, "left"), l = ("absolute" === u || "fixed" === u) && yt.inArray("auto", [o, h]) > -1, l ? (n = c.position(), s = n.top, r = n.left) : (s = parseFloat(o) || 0, r = parseFloat(h) || 0), yt.isFunction(e) && (e = e.call(t, i, yt.extend({}, a))), null != e.top && (f.top = e.top - a.top + s), null != e.left && (f.left = e.left - a.left + r), "using" in e ? e.using.call(t, f) : c.css(f)
			}
		}, yt.fn.extend({
			offset: function (t) {
				if (arguments.length) return void 0 === t ? this : this.each(function (e) {
					yt.offset.setOffset(this, t, e)
				});
				var e, i, n = {top: 0, left: 0}, r = this[0], o = r && r.ownerDocument;
				if (o) return e = o.documentElement, yt.contains(e, r) ? ("undefined" != typeof r.getBoundingClientRect && (n = r.getBoundingClientRect()), i = ot(o), {
					top: n.top + (i.pageYOffset || e.scrollTop) - (e.clientTop || 0),
					left: n.left + (i.pageXOffset || e.scrollLeft) - (e.clientLeft || 0)
				}) : n
			}, position: function () {
				if (this[0]) {
					var t, e, i = {top: 0, left: 0}, n = this[0];
					return "fixed" === yt.css(n, "position") ? e = n.getBoundingClientRect() : (t = this.offsetParent(), e = this.offset(), yt.nodeName(t[0], "html") || (i = t.offset()), i.top += yt.css(t[0], "borderTopWidth", !0), i.left += yt.css(t[0], "borderLeftWidth", !0)), {
						top: e.top - i.top - yt.css(n, "marginTop", !0),
						left: e.left - i.left - yt.css(n, "marginLeft", !0)
					}
				}
			}, offsetParent: function () {
				return this.map(function () {
					for (var t = this.offsetParent; t && !yt.nodeName(t, "html") && "static" === yt.css(t, "position");) t = t.offsetParent;
					return t || ye
				})
			}
		}), yt.each({scrollLeft: "pageXOffset", scrollTop: "pageYOffset"}, function (t, e) {
			var i = /Y/.test(e);
			yt.fn[t] = function (n) {
				return Vt(this, function (t, n, r) {
					var o = ot(t);
					return void 0 === r ? o ? e in o ? o[e] : o.document.documentElement[n] : t[n] : void(o ? o.scrollTo(i ? yt(o).scrollLeft() : r, i ? r : yt(o).scrollTop()) : t[n] = r)
				}, t, n, arguments.length, null)
			}
		}), yt.each(["top", "left"], function (t, e) {
			yt.cssHooks[e] = D(gt.pixelPosition, function (t, i) {
				if (i) return i = _e(t, e), ge.test(i) ? yt(t).position()[e] + "px" : i
			})
		}), yt.each({Height: "height", Width: "width"}, function (t, e) {
			yt.each({padding: "inner" + t, content: e, "": "outer" + t}, function (i, n) {
				yt.fn[n] = function (n, r) {
					var o = arguments.length && (i || "boolean" != typeof n),
						s = i || (n === !0 || r === !0 ? "margin" : "border");
					return Vt(this, function (e, i, n) {
						var r;
						return yt.isWindow(e) ? e.document.documentElement["client" + t] : 9 === e.nodeType ? (r = e.documentElement, Math.max(e.body["scroll" + t], r["scroll" + t], e.body["offset" + t], r["offset" + t], r["client" + t])) : void 0 === n ? yt.css(e, i, s) : yt.style(e, i, n, s)
					}, e, o ? n : void 0, o, null)
				}
			})
		}), yt.fn.extend({
			bind: function (t, e, i) {
				return this.on(t, null, e, i)
			}, unbind: function (t, e) {
				return this.off(t, null, e)
			}, delegate: function (t, e, i, n) {
				return this.on(e, t, i, n)
			}, undelegate: function (t, e, i) {
				return 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", i)
			}
		}), yt.fn.size = function () {
			return this.length
		}, yt.fn.andSelf = yt.fn.addBack, n = [], r = function () {
			return yt
		}.apply(e, n), !(void 0 !== r && (t.exports = r));
		var yi = i.jQuery, vi = i.$;
		return yt.noConflict = function (t) {
			return i.$ === yt && (i.$ = vi), t && i.jQuery === yt && (i.jQuery = yi), yt
		}, o || (i.jQuery = i.$ = yt), yt
	})
}, , , function (t, e, i) {
	t.exports = {"default": i(117), __esModule: !0}
}, function (t, e, i) {
	i(118), t.exports = i(13).Object.assign
}, function (t, e, i) {
	var n = i(11);
	n(n.S + n.F, "Object", {assign: i(119)})
}, function (t, e, i) {
	"use strict";
	var n = i(32), r = i(61), o = i(62), s = i(48), a = i(35), h = Object.assign;
	t.exports = !h || i(22)(function () {
		var t = {}, e = {}, i = Symbol(), n = "abcdefghijklmnopqrst";
		return t[i] = 7, n.split("").forEach(function (t) {
			e[t] = t
		}), 7 != h({}, t)[i] || Object.keys(h({}, e)).join("") != n
	}) ? function (t, e) {
		for (var i = s(t), h = arguments.length, l = 1, u = r.f, c = o.f; h > l;) for (var f, d = a(arguments[l++]), p = u ? n(d).concat(u(d)) : n(d), g = p.length, m = 0; g > m;) c.call(d, f = p[m++]) && (i[f] = d[f]);
		return i
	} : h
}, , , , , , , , , function (t, e, i) {
	var n = i(129), r = i(131), o = [i(138)];
	t.exports = n.createStore(r, o)
}, function (t, e, i) {
	function n() {
		var t = "undefined" == typeof console ? null : console;
		if (t) {
			var e = t.warn ? t.warn : t.log;
			e.apply(t, arguments)
		}
	}

	function r(t, e, i) {
		i || (i = ""), t && !c(t) && (t = [t]), e && !c(e) && (e = [e]);
		var r = i ? "__storejs_" + i + "_" : "", o = i ? new RegExp("^" + r) : null, g = /^[a-zA-Z0-9_\-]*$/;
		if (!g.test(i)) throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");
		var m = {
			_namespacePrefix: r, _namespaceRegexp: o, _testStorage: function (t) {
				try {
					var e = "__storejs__test__";
					t.write(e, e);
					var i = t.read(e) === e;
					return t.remove(e), i
				} catch (n) {
					return !1
				}
			}, _assignPluginFnProp: function (t, e) {
				var i = this[e];
				this[e] = function () {
					function e() {
						if (i) return h(arguments, function (t, e) {
							n[e] = t
						}), i.apply(r, n)
					}

					var n = s(arguments, 0), r = this, o = [e].concat(n);
					return t.apply(r, o)
				}
			}, _serialize: function (t) {
				return JSON.stringify(t)
			}, _deserialize: function (t, e) {
				if (!t) return e;
				var i = "";
				try {
					i = JSON.parse(t)
				} catch (n) {
					i = t
				}
				return void 0 !== i ? i : e
			}, _addStorage: function (t) {
				this.enabled || this._testStorage(t) && (this.storage = t, this.enabled = !0)
			}, _addPlugin: function (t) {
				var e = this;
				if (c(t)) return void h(t, function (t) {
					e._addPlugin(t)
				});
				var i = a(this.plugins, function (e) {
					return t === e
				});
				if (!i) {
					if (this.plugins.push(t), !f(t)) throw new Error("Plugins must be function values that return objects");
					var n = t.call(this);
					if (!d(n)) throw new Error("Plugins must return an object of function properties");
					h(n, function (i, n) {
						if (!f(i)) throw new Error("Bad plugin property: " + n + " from plugin " + t.name + ". Plugins should only return functions.");
						e._assignPluginFnProp(i, n)
					})
				}
			}, addStorage: function (t) {
				n("store.addStorage(storage) is deprecated. Use createStore([storages])"), this._addStorage(t)
			}
		}, y = u(m, p, {plugins: []});
		return y.raw = {}, h(y, function (t, e) {
			f(t) && (y.raw[e] = l(y, t))
		}), h(t, function (t) {
			y._addStorage(t)
		}), h(e, function (t) {
			y._addPlugin(t)
		}), y
	}

	var o = i(130), s = o.slice, a = o.pluck, h = o.each, l = o.bind, u = o.create, c = o.isList, f = o.isFunction,
		d = o.isObject;
	t.exports = {createStore: r};
	var p = {
		version: "2.0.12", enabled: !1, get: function (t, e) {
			var i = this.storage.read(this._namespacePrefix + t);
			return this._deserialize(i, e)
		}, set: function (t, e) {
			return void 0 === e ? this.remove(t) : (this.storage.write(this._namespacePrefix + t, this._serialize(e)), e)
		}, remove: function (t) {
			this.storage.remove(this._namespacePrefix + t)
		}, each: function (t) {
			var e = this;
			this.storage.each(function (i, n) {
				t.call(e, e._deserialize(i), (n || "").replace(e._namespaceRegexp, ""))
			})
		}, clearAll: function () {
			this.storage.clearAll()
		}, hasNamespace: function (t) {
			return this._namespacePrefix == "__storejs_" + t + "_"
		}, createStore: function () {
			return r.apply(this, arguments)
		}, addPlugin: function (t) {
			this._addPlugin(t)
		}, namespace: function (t) {
			return r(this.storage, this.plugins, t)
		}
	}
}, function (t, e) {
	(function (e) {
		function i() {
			return Object.assign ? Object.assign : function (t, e, i, n) {
				for (var r = 1; r < arguments.length; r++) a(Object(arguments[r]), function (e, i) {
					t[i] = e
				});
				return t
			}
		}

		function n() {
			function t() {
			}

			return Object.create ? function (t, e, i, n) {
				var r = s(arguments, 1);
				return d.apply(this, [Object.create(t)].concat(r))
			} : function (e, i, n, r) {
				var o = s(arguments, 1);
				return t.prototype = e, d.apply(this, [new t].concat(o))
			}
		}

		function r() {
			return String.prototype.trim ? function (t) {
				return String.prototype.trim.call(t)
			} : function (t) {
				return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
			}
		}

		function o(t, e) {
			return function () {
				return e.apply(t, Array.prototype.slice.call(arguments, 0))
			}
		}

		function s(t, e) {
			return Array.prototype.slice.call(t, e || 0)
		}

		function a(t, e) {
			l(t, function (t, i) {
				return e(t, i), !1
			})
		}

		function h(t, e) {
			var i = u(t) ? [] : {};
			return l(t, function (t, n) {
				return i[n] = e(t, n), !1
			}), i
		}

		function l(t, e) {
			if (u(t)) {
				for (var i = 0; i < t.length; i++) if (e(t[i], i)) return t[i]
			} else for (var n in t) if (t.hasOwnProperty(n) && e(t[n], n)) return t[n]
		}

		function u(t) {
			return null != t && "function" != typeof t && "number" == typeof t.length
		}

		function c(t) {
			return t && "[object Function]" === {}.toString.call(t)
		}

		function f(t) {
			return t && "[object Object]" === {}.toString.call(t)
		}

		var d = i(), p = n(), g = r(), m = "undefined" != typeof window ? window : e;
		t.exports = {
			assign: d,
			create: p,
			trim: g,
			bind: o,
			slice: s,
			each: a,
			map: h,
			pluck: l,
			isList: u,
			isFunction: c,
			isObject: f,
			Global: m
		}
	}).call(e, function () {
		return this
	}())
}, function (t, e, i) {
	t.exports = [i(132), i(133), i(134), i(135), i(136), i(137)]
}, function (t, e, i) {
	function n() {
		return u.localStorage
	}

	function r(t) {
		return n().getItem(t)
	}

	function o(t, e) {
		return n().setItem(t, e)
	}

	function s(t) {
		for (var e = n().length - 1; e >= 0; e--) {
			var i = n().key(e);
			t(r(i), i)
		}
	}

	function a(t) {
		return n().removeItem(t)
	}

	function h() {
		return n().clear()
	}

	var l = i(130), u = l.Global;
	t.exports = {name: "localStorage", read: r, write: o, each: s, remove: a, clearAll: h}
}, function (t, e, i) {
	function n(t) {
		return u[t]
	}

	function r(t, e) {
		u[t] = e
	}

	function o(t) {
		for (var e = u.length - 1; e >= 0; e--) {
			var i = u.key(e);
			t(u[i], i)
		}
	}

	function s(t) {
		return u.removeItem(t)
	}

	function a() {
		o(function (t, e) {
			delete u[t]
		})
	}

	var h = i(130), l = h.Global;
	t.exports = {name: "oldFF-globalStorage", read: n, write: r, each: o, remove: s, clearAll: a};
	var u = l.globalStorage
}, function (t, e, i) {
	function n(t, e) {
		if (!g) {
			var i = h(t);
			p(function (t) {
				t.setAttribute(i, e), t.save(f)
			})
		}
	}

	function r(t) {
		if (!g) {
			var e = h(t), i = null;
			return p(function (t) {
				i = t.getAttribute(e)
			}), i
		}
	}

	function o(t) {
		p(function (e) {
			for (var i = e.XMLDocument.documentElement.attributes, n = i.length - 1; n >= 0; n--) {
				var r = i[n];
				t(e.getAttribute(r.name), r.name)
			}
		})
	}

	function s(t) {
		var e = h(t);
		p(function (t) {
			t.removeAttribute(e), t.save(f)
		})
	}

	function a() {
		p(function (t) {
			var e = t.XMLDocument.documentElement.attributes;
			t.load(f);
			for (var i = e.length - 1; i >= 0; i--) t.removeAttribute(e[i].name);
			t.save(f)
		})
	}

	function h(t) {
		return t.replace(/^\d/, "___$&").replace(m, "___")
	}

	function l() {
		if (!d || !d.documentElement || !d.documentElement.addBehavior) return null;
		var t, e, i, n = "script";
		try {
			e = new ActiveXObject("htmlfile"), e.open(), e.write("<" + n + ">document.w=window</" + n + '><iframe src="/favicon.ico"></iframe>'), e.close(), t = e.w.frames[0].document, i = t.createElement("div")
		} catch (r) {
			i = d.createElement("div"), t = d.body
		}
		return function (e) {
			var n = [].slice.call(arguments, 0);
			n.unshift(i), t.appendChild(i), i.addBehavior("#default#userData"), i.load(f), e.apply(this, n), t.removeChild(i)
		}
	}

	var u = i(130), c = u.Global;
	t.exports = {name: "oldIE-userDataStorage", write: n, read: r, each: o, remove: s, clearAll: a};
	var f = "storejs", d = c.document, p = l(),
		g = (c.navigator ? c.navigator.userAgent : "").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),
		m = new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]", "g")
}, function (t, e, i) {
	function n(t) {
		if (!t || !h(t)) return null;
		var e = "(?:^|.*;\\s*)" + escape(t).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";
		return unescape(f.cookie.replace(new RegExp(e), "$1"))
	}

	function r(t) {
		for (var e = f.cookie.split(/; ?/g), i = e.length - 1; i >= 0; i--) if (c(e[i])) {
			var n = e[i].split("="), r = unescape(n[0]), o = unescape(n[1]);
			t(o, r)
		}
	}

	function o(t, e) {
		t && (f.cookie = escape(t) + "=" + escape(e) + "; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")
	}

	function s(t) {
		t && h(t) && (f.cookie = escape(t) + "=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")
	}

	function a() {
		r(function (t, e) {
			s(e)
		})
	}

	function h(t) {
		return new RegExp("(?:^|;\\s*)" + escape(t).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=").test(f.cookie)
	}

	var l = i(130), u = l.Global, c = l.trim;
	t.exports = {name: "cookieStorage", read: n, write: o, each: r, remove: s, clearAll: a};
	var f = u.document
}, function (t, e, i) {
	function n() {
		return u.sessionStorage
	}

	function r(t) {
		return n().getItem(t)
	}

	function o(t, e) {
		return n().setItem(t, e)
	}

	function s(t) {
		for (var e = n().length - 1; e >= 0; e--) {
			var i = n().key(e);
			t(r(i), i)
		}
	}

	function a(t) {
		return n().removeItem(t)
	}

	function h() {
		return n().clear()
	}

	var l = i(130), u = l.Global;
	t.exports = {name: "sessionStorage", read: r, write: o, each: s, remove: a, clearAll: h}
}, function (t, e) {
	function i(t) {
		return a[t]
	}

	function n(t, e) {
		a[t] = e
	}

	function r(t) {
		for (var e in a) a.hasOwnProperty(e) && t(a[e], e)
	}

	function o(t) {
		delete a[t]
	}

	function s(t) {
		a = {}
	}

	t.exports = {name: "memoryStorage", read: i, write: n, each: r, remove: o, clearAll: s};
	var a = {}
}, function (t, e, i) {
	function n() {
		return i(139), {}
	}

	t.exports = n
}, function (module, exports) {
	"object" != typeof JSON && (JSON = {}), function () {
		"use strict";

		function f(t) {
			return t < 10 ? "0" + t : t
		}

		function this_value() {
			return this.valueOf()
		}

		function quote(t) {
			return rx_escapable.lastIndex = 0, rx_escapable.test(t) ? '"' + t.replace(rx_escapable, function (t) {
				var e = meta[t];
				return "string" == typeof e ? e : "\\u" + ("0000" + t.charCodeAt(0).toString(16)).slice(-4)
			}) + '"' : '"' + t + '"'
		}

		function str(t, e) {
			var i, n, r, o, s, a = gap, h = e[t];
			switch (h && "object" == typeof h && "function" == typeof h.toJSON && (h = h.toJSON(t)), "function" == typeof rep && (h = rep.call(e, t, h)), typeof h) {
				case"string":
					return quote(h);
				case"number":
					return isFinite(h) ? String(h) : "null";
				case"boolean":
				case"null":
					return String(h);
				case"object":
					if (!h) return "null";
					if (gap += indent, s = [], "[object Array]" === Object.prototype.toString.apply(h)) {
						for (o = h.length, i = 0; i < o; i += 1) s[i] = str(i, h) || "null";
						return r = 0 === s.length ? "[]" : gap ? "[\n" + gap + s.join(",\n" + gap) + "\n" + a + "]" : "[" + s.join(",") + "]", gap = a, r
					}
					if (rep && "object" == typeof rep) for (o = rep.length, i = 0; i < o; i += 1) "string" == typeof rep[i] && (n = rep[i], r = str(n, h), r && s.push(quote(n) + (gap ? ": " : ":") + r)); else for (n in h) Object.prototype.hasOwnProperty.call(h, n) && (r = str(n, h), r && s.push(quote(n) + (gap ? ": " : ":") + r));
					return r = 0 === s.length ? "{}" : gap ? "{\n" + gap + s.join(",\n" + gap) + "\n" + a + "}" : "{" + s.join(",") + "}", gap = a, r
			}
		}

		var rx_one = /^[\],:{}\s]*$/, rx_two = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
			rx_three = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
			rx_four = /(?:^|:|,)(?:\s*\[)+/g,
			rx_escapable = /[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
			rx_dangerous = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
		"function" != typeof Date.prototype.toJSON && (Date.prototype.toJSON = function () {
			return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + f(this.getUTCMonth() + 1) + "-" + f(this.getUTCDate()) + "T" + f(this.getUTCHours()) + ":" + f(this.getUTCMinutes()) + ":" + f(this.getUTCSeconds()) + "Z" : null
		}, Boolean.prototype.toJSON = this_value, Number.prototype.toJSON = this_value, String.prototype.toJSON = this_value);
		var gap, indent, meta, rep;
		"function" != typeof JSON.stringify && (meta = {
			"\b": "\\b",
			"\t": "\\t",
			"\n": "\\n",
			"\f": "\\f",
			"\r": "\\r",
			'"': '\\"',
			"\\": "\\\\"
		}, JSON.stringify = function (t, e, i) {
			var n;
			if (gap = "", indent = "", "number" == typeof i) for (n = 0; n < i; n += 1) indent += " "; else "string" == typeof i && (indent = i);
			if (rep = e, e && "function" != typeof e && ("object" != typeof e || "number" != typeof e.length)) throw new Error("JSON.stringify");
			return str("", {"": t})
		}), "function" != typeof JSON.parse && (JSON.parse = function (text, reviver) {
			function walk(t, e) {
				var i, n, r = t[e];
				if (r && "object" == typeof r) for (i in r) Object.prototype.hasOwnProperty.call(r, i) && (n = walk(r, i), void 0 !== n ? r[i] = n : delete r[i]);
				return reviver.call(t, e, r)
			}

			var j;
			if (text = String(text), rx_dangerous.lastIndex = 0, rx_dangerous.test(text) && (text = text.replace(rx_dangerous, function (t) {
					return "\\u" + ("0000" + t.charCodeAt(0).toString(16)).slice(-4)
				})), rx_one.test(text.replace(rx_two, "@").replace(rx_three, "]").replace(rx_four, ""))) return j = eval("(" + text + ")"), "function" == typeof reviver ? walk({"": j}, "") : j;
			throw new SyntaxError("JSON.parse")
		})
	}()
}, , , function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(102), o = n(r), s = i(70), a = n(s), h = i(96), l = n(h), u = i(71), c = n(u), f = i(97), d = n(f),
		p = i(143), g = n(p), m = i(148), y = n(m), v = i(249), _ = n(v), x = i(250), b = n(x), w = i(210),
		T = (n(w), i(253)), C = n(T), E = i(170), M = i(154), P = i(222), S = i(149), I = function (t) {
			function e(i, n) {
				var r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
					o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 2631720;
				(0, a["default"])(this, e);
				var s = (0, l["default"])(this, t.call(this, (0, M.pull)(i || e.defaultOptions, e.defaultOptions), n, r, o));
				return s._initPUEditor(), s
			}

			return (0, d["default"])(e, t), (0, c["default"])(e, null, [{
				key: "SHOW_ORIGINAL", get: function () {
					return "showOriginal"
				}
			}, {
				key: "PUSH_HISTORY", get: function () {
					return "pushHistory"
				}
			}, {
				key: "HISTORY_CHANGED", get: function () {
					return "historyChanged"
				}
			}, {
				key: "BORDER_CHANGED", get: function () {
					return "borderChanged"
				}
			}, {
				key: "PHOTOFRAME_DISABLE", get: function () {
					return "photoFrameDisable"
				}
			}, {
				key: "defaultOptions", get: function () {
					var t = (0, o["default"])(g["default"].defaultOptions);
					return t.photoFrame = {
						imgPath: "img/frame.png",
						crossOrigin: "anonymous"
					}, t.mosaic = t.mosaic || {
						modes: [{name: "square1", size: 10, color: 16777215, alpha: 1}, {
							name: "square2",
							size: 15,
							color: 16777215,
							alpha: 1
						}, {name: "square3", size: 20, color: 16777215, alpha: 1}, {
							name: "square4",
							size: 30,
							color: 16777215,
							alpha: 1
						}, {name: "square5", size: 40, color: 16777215, alpha: 1}, {
							name: "circle1",
							size: 10,
							color: 16777215,
							alpha: 1
						}, {name: "circle2", size: 15, color: 16777215, alpha: 1}, {
							name: "circle3",
							size: 20,
							color: 16777215,
							alpha: 1
						}, {name: "circle4", size: 30, color: 16777215, alpha: 1}, {
							name: "circle5",
							size: 40,
							color: 16777215,
							alpha: 1
						}]
					}, t.useControls = ["filter", "crop", "resize", "adjust", "mosaic", "signature", "sticker", "text", "photoFrame"], t.fitToScreenDisableMenus = ["crop"], t.controlsMap.photoFrame = b["default"], t.mosaic.keyCode = 16, t.signature.renderOnClient = !1, t
				}
			}]), e.prototype._initPUEditor = function () {
				this._screenFitEnable = !0, this._history = new _["default"], this._thumbEditor = new C["default"](this.options), this.on(e.PUSH_HISTORY, this.onPushHistory, this), this.on(e.BORDER_CHANGED, this.onBorderChanged, this)
			}, e.prototype._getMenuname = function (t) {
				switch (t) {
					case"MosaicFilter":
						return "mosaic";
					case"FoodieFilter":
						return "filter";
					case"ColorTransformFilter":
					case"SharpenAdjustment":
					case"AutoAdjustment":
						return "adjust"
				}
				return null
			}, e.prototype._historyRestore = function (t) {
				t && (this.debug && void 0, "main" == t.menu ? this._restoreFromHistory(t) : this[t.menu].reset(t.snapshot, !0))
			}, e.prototype._restoreFromHistory = function (t) {
				var e = this, i = t.snapshot || {};
				this.options.useControls.forEach(function (t) {
					e[t].reset(i[t])
				}), this._alignStickersDepth(), this.updateBitmapData(), this._emitHistoryChange()
			}, e.prototype._emitHistoryChange = function () {
				this.emit(e.HISTORY_CHANGED, {
					type: e.HISTORY_CHANGED,
					target: this,
					redoable: this._history.redoable,
					undoable: this._history.undoable
				})
			}, e.prototype.onPushHistory = function (t) {
				this.pushHistory(t.history)
			}, e.prototype.onBorderChanged = function (t) {
				this.screenFitEnable ? this.magnify.fitToScreen(!0) : this.magnify.scale = this.magnify.scale
			}, e.prototype.onProcessComplete = function (t) {
				var e = this._encode || "image/jpeg", i = this._encodeOption || .92,
					n = {type: g["default"].PROCESS_COMPLETE, target: this, context: t, dataURL: ""};
				this.drawRenderableObjects(t, this.options.signature.renderOnClient), t = this.drawPhotoFrameObject(t), n.context = t;
				try {
					n.dataURL = t.canvas.toDataURL(e, i)
				} catch (r) {
					this.outofmemory()
				}
				return this._encode = null, this._encodeOption = null, this._sizeLimitTransform.onConcat = (0, E.onMaximumSize)(this.options.editingTransform.maxSize), this.emit(g["default"].PROCESS_COMPLETE, n), n
			}, e.prototype.onFilterReady = function () {
				t.prototype.onFilterReady.call(this), this.filter && this.filter.complete && this._thumbEditor.initWithColorTable(this.filter.colorTables)
			}, e.prototype.setFilterColorTables = function (e) {
				var i = this;
				return t.prototype.setFilterColorTables.call(this, e).then(function () {
					return i._thumbEditor.initWithColorTable(i.filter.colorTables)
				})
			}, e.prototype.reset = function () {
				var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
					i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
				t.prototype.reset.call(this, e, i), this._history.clear(), this.pushHistory()
			}, e.prototype.restore = function (t) {
				var e = this;
				t = t || {}, this.options.useControls.forEach(function (i) {
					e[i].reset(t[i])
				}), this._alignStickersDepth()
			}, e.prototype.pushHistory = function () {
				var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, void 0), e = void 0;
				t = this.snapshot(), e = "main", this._history.push({menu: e, snapshot: t}), this._emitHistoryChange()
			}, e.prototype.undo = function () {
				this._historyRestore(this._history.undo())
			}, e.prototype.redo = function () {
				this._historyRestore(this._history.redo())
			}, e.prototype.viewportTo = function () {
				var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1,
					e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1,
					i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : -1, n = this,
					r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : -1,
					o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : "easeOut";
				this._targetvp = this._targetvp || {};
				var s = {}, a = {x: t, y: e, width: i, height: r};
				if ((0, S.each)(a, function (t, e) {
						t != -1 && (s[e] = t), n._targetvp[e] = t == -1 ? n.viewport[e] : t
					}), this._viewportMotion.play(this.viewport, s, this.options.viewportDuration, y["default"][o]), this.screenFitEnable) {
					var h = !!this._current && this._current.enlargable;
					this.magnify.viewportTo(s, h)
				} else "crop" == this.phase ? this.magnify.viewportTo(s, this._current.enlargable) : "main" == this.phase && this.magnify.scaleTo(1);
				this.emit(g["default"].TARGET_VIEWPORT_CHANGE)
			}, e.prototype.updateSignContainer = function () {
				var t = this, e = this.resizedWidth, i = this.resizedHeight, n = this.options.originalMaxSize,
					r = Math.max(e, i), o = Math.min(e, i), s = Math.max(n / r, 1 / o);
				s < 1 && (e = e * s | 0, i = i * s | 0), [this.signatureContainer, this.photoFrameContainer].forEach(function (n) {
					n.updateSize(e, i), n.width = t._editingCanvas.width, n.height = t._editingCanvas.height
				})
			}, e.prototype.toDataURL = function (t, e) {
				var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "image/jpeg",
					n = this._editingBmpd.canvas, r = M.__context.canvas, o = t / n.width;
				r.width = t, r.height = e, (0, P.resizeImage)(n, M.__context), this.drawRenderableObjects(M.__context, !0);
				var s = this.drawPhotoFrameObject(M.__context, o);
				return s.canvas.toDataURL(i)
			}, e.prototype.signToDataURL = function () {
				return this.signature ? this.signature.displayObject && this.signature.displayObject.toDataURL ? this.signature.displayObject.toDataURL() : null : (void 0, null)
			}, e.prototype.getCroppedDataURL = function (t, e) {
				var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "image/jpeg",
					n = this.bitmapdata.transformedImageData, r = M.__photoFrameContext.canvas;
				r.width = n.width, r.height = n.height, M.__photoFrameContext.putImageData(n, 0, 0);
				var o = M.__context.canvas;
				t / r.width;
				return o.width = t, o.height = e, (0, P.resizeImage)(r, M.__context), o.toDataURL(i)
			}, e.prototype.drawPhotoFrameObject = function (t) {
				var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
				if (!this.photoFrame || !this.photoFrame.modified) return t;
				var i = (0, S.map)(this.magnify.border, function (t) {
					return t * e
				}), n = M.__photoFrameContext.canvas, r = this.photoFrame.source;
				return n.width = t.canvas.width + (i.left + i.right), n.height = t.canvas.height + (i.top + i.bottom), M.__photoFrameContext.drawImage(t.canvas, i.left, i.top), M.__photoFrameContext.drawImage(r, 0, 0, r.width, r.height, 0, 0, n.width, n.height), M.__photoFrameContext
			}, e.prototype.applySnapshotTo = function (t, e, i, n) {
				var r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : "image/jpeg",
					o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : .92, s = this._thumbEditor,
					a = this.options.originalMaxSize,
					h = Math.min(1, Math.max(Math.min(a / i.width, a / i.height), Math.max(1 / i.width, 1 / i.height)));
				return i.width = i.width * h | 0, i.height = i.height * h | 0, s.setImageByDataURL(t).then(function () {
					return s.updateOriginalSize(i.width, i.height), s.restore(e)
				}).then(function () {
					return s.toDataURL(r, o)
				})
			}, (0, c["default"])(e, [{
				key: "viewport", get: function () {
					return this.magnify.boundary
				}, set: function (t) {
					this.magnify.boundary = t, this.crop && (this.crop.viewport = t), this.viewportMotion.running || (this._current ? this._current.fitToScreen() : this.screenFitEnable && this.magnify.fitToScreen()), this._align(), this.emit(g["default"].VIEWPORT_MOTION_UPDATE)
				}
			}, {
				key: "screenFitEnable", get: function () {
					return this._screenFitEnable
				}, set: function (t) {
					this._screenFitEnable = t, this._current && (this._current.screenFitEnable = t), "main" == this.phase && this.magnify.autoScale(t)
				}
			}, {
				key: "showOriginal", get: function () {
					return this.bitmapdata.showOriginal
				}, set: function (t) {
					this.bitmapdata.showOriginal = t, this.emit(e.SHOW_ORIGINAL, {
						type: e.SHOW_ORIGINAL,
						target: this,
						visible: t
					})
				}
			}, {
				key: "history", get: function () {
					return this._history
				}
			}, {
				key: "photoFrameContainer", get: function () {
					return this._frameLayer
				}
			}, {
				key: "fitToScreenAvailable", get: function () {
					if (this._current) {
						this._current._menu;
						if (this.options.fitToScreenDisableMenus.indexOf(this._current._menu) != -1) return !1
					}
					return this.magnify.fitToScreenAvailable
				}
			}, {
				key: "entrySize", get: function () {
					return this.resize ? this.resize.entrySize : 0
				}
			}]), e
		}(g["default"]);
	e["default"] = I
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(80), o = n(r), s = i(70), a = n(s), h = i(96), l = n(h), u = i(71), c = n(u), f = i(97), d = n(f),
		p = i(144), g = n(p), m = i(146), y = n(m), v = i(148), _ = n(v), x = i(156), b = n(x), w = i(170), T = n(w),
		C = i(199), E = n(C), M = i(207), P = n(M), S = i(171), I = n(S), R = i(209), A = n(R), k = i(226), O = n(k),
		L = i(230), D = n(L), B = i(238), N = n(B), F = i(239), z = n(F), H = i(145), j = n(H), U = i(248), V = n(U),
		X = i(210), W = n(X), G = i(172), Y = n(G), q = (i(214), i(205)), Q = n(q), J = i(149), Z = i(181),
		K = (i(155), i(200)), $ = i(222), tt = i(154), et = i(162), it = i(206), nt = void 0, rt = function (t) {
			function e(i, n) {
				var r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
					o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 2631720;
				(0, a["default"])(this, e);
				var s = (0, l["default"])(this, t.call(this, n, r, o));
				return s._options = (0, tt.pull)(i || e.defaultOptions, e.defaultOptions), s._ready = !1, nt = (0, K.makeLoadImage)(s.options.crossOrigin), et.MAXIMUM_PROCESS = s.options.maximumProcess, et.CONVOLUTION_DELAY = s.options.convolutionDelay, s.ver = e.VERSION, j["default"].shared || j["default"].initialize(new g["default"](s._options.crossOrigin)), s._initmain(), s.renderer.roundPixels = !0, s
			}

			return (0, d["default"])(e, t), (0, c["default"])(e, null, [{
				key: "VERSION", get: function () {
					return "ver.2.0.0.16"
				}
			}, {
				key: "READY", get: function () {
					return "ready"
				}
			}, {
				key: "FILTER_READY", get: function () {
					return "filterReady"
				}
			}, {
				key: "IMAGE_READY", get: function () {
					return "imageReady"
				}
			}, {
				key: "IMAGE_LOAD_FAIL", get: function () {
					return "imageLoadFail"
				}
			}, {
				key: "BITMAPDATA_UPDATE", get: function () {
					return "bitmapDataUpdate"
				}
			}, {
				key: "PROCESSING", get: function () {
					return "imageProcessing"
				}
			}, {
				key: "PROCESS_COMPLETE", get: function () {
					return "imageProcessingComplete"
				}
			}, {
				key: "EDIT_COMPLETE", get: function () {
					return "editImageComplete"
				}
			}, {
				key: "MOUSE_CHILDREN_CHANGE", get: function () {
					return "mouseChildrenChange"
				}
			}, {
				key: "PHASE_CHANGE", get: function () {
					return "phaseChange"
				}
			}, {
				key: "VIEWPORT_MOTION_UPDATE", get: function () {
					return "viewportChanged"
				}
			}, {
				key: "VIEWPORT_MOTION_COMPLETE", get: function () {
					return "viewportMotionComplete"
				}
			}, {
				key: "TARGET_VIEWPORT_CHANGE", get: function () {
					return "targetViewportChange"
				}
			}, {
				key: "UPDATE_SHARPEN_FACTOR", get: function () {
					return "updateSharpenFactor"
				}
			}, {
				key: "CLEAR_ALL", get: function () {
					return "clearAll"
				}
			}, {
				key: "INVALID_IMAGE_SRC", get: function () {
					return "invalidImageSrc"
				}
			}, {
				key: "OUT_OF_MEMORY", get: function () {
					return "OUT_OF_MEMORY"
				}
			}, {
				key: "defaultOptions", get: function () {
					return {
						magnify: {
							fitToScreen: !0,
							minZoom: 1,
							maxZoom: 5,
							scaleMotion: "easeOut",
							zoomMotion: "easeOut",
							scaleDuration: 300,
							zoomDuration: 500,
							zoomButtonDt: .1,
							minimumLimit: .1,
							maximumLimit: 10,
							compareEnableBoundary: 10,
							showOriginalDelay: 400
						},
						resize: {},
						adjust: {},
						filter: {
							crossOrigin: "anonymous",
							interpolate: !1,
							defaultValue: .5,
							colorTableURLs: ["./img/foodie/f_BQ_01.png", "./img/foodie/f_BQ_02.png", "./img/foodie/f_BQ_03.png", "./img/foodie/f_CH_01.png", "./img/foodie/f_CH_02.png", "./img/foodie/f_CH_03.png", "./img/foodie/f_CH_04.png", "./img/foodie/f_CR_01.png", "./img/foodie/f_CR_02.png", "./img/foodie/f_FR_01.png", "./img/foodie/f_FR_02.png", "./img/foodie/f_FR_03.png", "./img/foodie/f_RO_01.png", "./img/foodie/f_RO_02.png", "./img/foodie/f_RO_03.png", "./img/foodie/f_RO_04.png", "./img/foodie/f_RO_05.png", "./img/foodie/f_SW_01.png", "./img/foodie/f_SW_02.png", "./img/foodie/f_SW_03.png", "./img/foodie/f_YU_01.png", "./img/foodie/f_YU_04.png"]
						},
						crop: {offsetX: 0, offsetY: 0, viewport: this.viewport},
						signature: {
							renderOnClient: !0,
							snapRangeRatio: 20,
							lineWidth: 1,
							lineColor: 65357,
							lineAlpha: 1,
							positionType: "rb",
							w: 10,
							h: 10,
							exitBtnImageURL: "img/sign_close.png",
							exitBtnMouseoverImageURL: "img/sign_close_hover.png"
						},
						sticker: {
							horizontalGap: 10,
							verticalGap: 5,
							useSnap: !0,
							snapAngle: 5,
							deleteButtonOffsetY: 0,
							crossOrigin: "anonymous"
						},
						text: {horizontalGap: 10, verticalGap: 5, useSnap: !0, snapAngle: 5, deleteButtonOffsetY: 0},
						mosaic: {
							modes: [{name: "square1", size: 10, color: 16777215, alpha: 1}, {
								name: "square2",
								size: 15,
								color: 16777215,
								alpha: 1
							}, {name: "square3", size: 20, color: 16777215, alpha: 1}, {
								name: "square4",
								size: 30,
								color: 16777215,
								alpha: 1
							}, {name: "square5", size: 40, color: 16777215, alpha: 1}, {
								name: "circle1",
								size: 10,
								color: 16777215,
								alpha: 1
							}, {name: "circle2", size: 15, color: 16777215, alpha: 1}, {
								name: "circle3",
								size: 20,
								color: 16777215,
								alpha: 1
							}, {name: "circle4", size: 30, color: 16777215, alpha: 1}, {
								name: "circle5",
								size: 40,
								color: 16777215,
								alpha: 1
							}]
						},
						originalMaxSize: 3e3,
						editingFilterAsyncMode: !1,
						previewSharpenFactor: 1.5,
						maximumProcess: 1e5,
						convolutionDelay: 30,
						viewportDuration: 300,
						autoRotateSize: 1600,
						editingResizeRatio: .5,
						previewingResizeRatio: 0,
						canvasLimitSize: 8e3,
						crossOrigin: null,
						useControls: ["filter", "crop", "resize", "adjust", "mosaic", "signature", "sticker", "text"],
						controlsMap: {
							filter: E["default"],
							crop: I["default"],
							resize: T["default"],
							adjust: b["default"],
							mosaic: P["default"],
							signature: O["default"],
							sticker: A["default"],
							text: D["default"]
						},
						filterOrder: ["AutoAdjustment", "FoodieFilter", "SharpenAdjustment", "MosaicFilter", "ColorTransformFilter"],
						editingTransform: {
							transforms: ["crop"],
							resizeTransforms: ["resize"],
							maxSize: 1600,
							addTo: "resizeTransforms"
						},
						previewingTransform: {
							transforms: ["crop", "resize"],
							resizeTransforms: [],
							maxSize: 600,
							addTo: "transforms"
						}
					}
				}
			}]), e.prototype.reset = function () {
				var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
					e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
				this._editingBmpd.clear(), this._previewingBmpd.clear(), this.restore(t), e && this.updateBitmapData()
			}, e.prototype.clear = function () {
				var t = this.bitmapdata.canvas, i = t.getContext("2d");
				i.setTransform(1, 0, 0, 1, 0, 0), i.clearRect(0, 0, t.width, t.height), this.emit(e.CLEAR_ALL), this.clearBitmapDatas()
			}, e.prototype.clearBitmapDatas = function () {
				this._editingBmpd.clear(), this._previewingBmpd.clear()
			}, e.prototype.dispose = function () {
				var e = this;
				t.prototype.dispose.call(this), this._options.useControls.forEach(function (t) {
					e[t].dispose()
				}), this.magnify.dispose(), this.motion.dispose(), this.canvas.width = this.canvas.width, this._editingCanvas.texture.destroy(), this._renderer.destroy(),
				this._viewportMotion && (this._viewportMotion.stop(), this._viewportMotion.off("update", this.onViewportUpdate, this))
			}, e.prototype.setImageByURL = function (t) {
				var e = this, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
					n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
				return this._ready = !1, this._img = document.createElement("img"), nt(t, this._img).then(function (t) {
					return e.setImageByElement(t, i, n)
				})["catch"](this.onImageLoadFail)
			}, e.prototype.unload = function () {
				this._ready || this._img && (this._img.src = "#")
			}, e.prototype.setImageByElement = function (t) {
				var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
					i = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
				return this.clearBitmapDatas(), this._setEditingImage(t), this._setPreviewingImage(t), this.reset(e), this.updateBitmapData(), this._container.scale.x = this._container.scale.y = 1, this.magnify.updateTargetTexture(this._editingCanvas.texture.frame, (0, w.getEditingScale)(this.bitmapdata.canvas.width, this.resizedWidth, this.resizedHeight, this._options.originalMaxSize)), this.magnify.boundary = this.magnify.boundary, this._align(), this._ready = !0, this.onAllMenuReady(i).then(this.readyToEdit)
			}, e.prototype.setFilterColorTables = function (t) {
				var i = this, n = t.map(function (t) {
					return nt(t)
				});
				return o["default"].all(n).then(function (t) {
					return i.filter.onColorTableLoadComplete(t)
				}).then(function () {
					return i.emit(e.FILTER_READY, {target: i, type: e.FILTER_READY})
				})
			}, e.prototype.readyToEdit = function () {
				var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
				return this.screenFitEnable ? this.magnify.fitToScreen() : this.magnify.alignToCenter(), t ? (this.emit(e.IMAGE_READY, {
					type: e.IMAGE_READY,
					target: this
				}), this) : this
			}, e.prototype.onAllMenuReady = function () {
				var t = this, e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0],
					i = this._options.useControls.map(function (e) {
						return t.onSingleMenuReady(t[e])
					});
				return o["default"].all(i).then(function () {
					return o["default"].resolve(e)
				})
			}, e.prototype.onSingleMenuReady = function (t) {
				return new o["default"](function (i, n) {
					t.ready ? i(t) : t.once(e.READY, function () {
						return i(t)
					})
				})
			}, e.prototype.snapshot = function () {
				var t = this, e = {};
				return this.options.useControls.forEach(function (i) {
					var n = t[i].snapshot();
					n && (n.modified = t[i].modified), e[i] = n
				}), this.signature && (e.screenFitEnable = this.screenFitEnable), e
			}, e.prototype.restore = function (t) {
				var e = this;
				t = t || {}, this.options.useControls.forEach(function (i) {
					e[i].reset(t[i])
				}), "undefined" != typeof t.screenFitEnable && (this.screenFitEnable = t.screenFitEnable), this._alignStickersDepth()
			}, e.prototype.save = function () {
				var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
					e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
					i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, n = this,
					r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "image/jpeg",
					o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1;
				return null == t ? this.saveASync(i, r, o) : this.setImageByURL(t, e, !1).then(function () {
					return n.saveASync(i, r, o)
				})
			}, e.prototype.saveSync = function () {
				var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, e = this._editingBmpd,
					i = e.filters;
				this._sizeLimitTransform.onConcat = (0, w.onMaximumSize)(this.options.originalMaxSize), this.onProcessComplete(e.imageProcess(e.transforms, e.resizeTransforms, i, t))
			}, e.prototype.saveASync = function () {
				var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, e = this,
					i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "image/jpeg",
					n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : .92, r = this._editingBmpd;
				return this._encode = i, this._encodeOption = n, this._sizeLimitTransform.onConcat = (0, w.onMaximumSize)(this.options.originalMaxSize), new o["default"](function (i, n) {
					r.imageProcessASync(r.transforms, r.resizeTransforms, r.filters, e.onProcessing, function (t) {
						return i(e.onProcessComplete(t))
					}, t)
				})
			}, e.prototype.updateBitmapData = function () {
				this._editingBmpd.update(this.async, this.onProcessing, this.onEditingProcessComplete), this.updateSignContainer(), this.updateStickerContainer(), this._previewEnabled = Math.max(this.bitmapdata.transformedWidth, this.bitmapdata.transformedHeight) > this._options.previewingTransform.maxSize, this._previewingBmpd.updateTransform();
				var t = this._previewingBmpd.transformedWidth / this._editingBmpd.transformedWidth;
				this.emit(e.UPDATE_SHARPEN_FACTOR, Math.min(1, t * this.options.previewSharpenFactor), t), this.showPreview && this._previewingBmpd.updateFilters(null), this._previewingBmpd.updateCanvas(), this.async || this.emitBitmapDataUpdate()
			}, e.prototype.updateSpecificFilter = function (t) {
				this._editingBmpd.updateFilters(t), this._editingBmpd.updateCanvas()
			}, e.prototype.updateSignContainer = function () {
				var t = this.resizedWidth, e = this.resizedHeight, i = this.options.originalMaxSize, n = Math.max(t, e),
					r = Math.min(t, e), o = Math.max(i / n, 1 / r);
				o < 1 && (t = t * o | 0, e = e * o | 0), this.signatureContainer.updateSize(t, e), this.signatureContainer.width = this._editingCanvas.width, this.signatureContainer.height = this._editingCanvas.height
			}, e.prototype.updateStickerContainer = function () {
				var t = this.crop.transform, e = this.stickerContainer, i = this.bitmapdata.width / this.croppedWidth,
					n = this.bitmapdata.height / this.croppedHeight;
				e.scale.x = t.scaleX * i, e.scale.y = t.scaleY * n, e.x = t.x, e.y = t.y, e.rotation = t.radian, e.pivot.x = t.offsetX, e.pivot.y = t.offsetY
			}, e.prototype.emitBitmapDataUpdate = function () {
				this._bitmapDataUpdateEvent.cropWidth = this.croppedWidth, this._bitmapDataUpdateEvent.cropHeight = this.croppedHeight, this.emit(this._bitmapDataUpdateEvent.type, this._bitmapDataUpdateEvent)
			}, e.prototype.viewportTo = function () {
				var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1,
					i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1,
					n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : -1, r = this,
					o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : -1,
					s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : "easeOut";
				this._targetvp = this._targetvp || {};
				var a = {}, h = {x: t, y: i, width: n, height: o};
				(0, J.each)(h, function (t, e) {
					t != -1 && (a[e] = t), r._targetvp[e] = t == -1 ? r.viewport[e] : t
				}), this._viewportMotion.play(this.viewport, a, this.options.viewportDuration, _["default"][s]), "main" == this.phase ? this.magnify.viewportTo(a, !1) : this._current.screenFitEnable && this.magnify.viewportTo(a, this._current.enlargable), this.emit(e.TARGET_VIEWPORT_CHANGE)
			}, e.prototype.toDataURL = function (t, e) {
				var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "image/jpeg",
					n = this._editingBmpd.canvas, r = tt.__context.canvas;
				return r.width = t, r.height = e, (0, $.resizeImage)(n, tt.__context), this.drawRenderableObjects(tt.__context, !0), r.toDataURL(i)
			}, e.prototype.toImageElement = function (t, e) {
				var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, n = this._editingBmpd.canvas,
					r = tt.__context.canvas;
				return i = i || document.createElement("img"), r.width = t, r.height = e, (0, $.resizeImage)(n, tt.__context), i.src = r.toDataURL("image/jpeg", .92), i
			}, e.prototype.drawRenderableObjects = function (t) {
				var e = this, i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
				t.save(), t.setTransform(1, 0, 0, 1, 0, 0);
				var n = [this.croppedWidth, this.croppedHeight, this.signatureContainer.actualWidth, this.signatureContainer.actualHeight],
					r = i ? [this.stickerContainer, this.signatureContainer] : [this.stickerContainer];
				r.forEach(function (i, r) {
					if (0 != i.children.length) {
						var o = tt.__renderableContext.canvas;
						o.width = n[2 * r], o.height = n[2 * r + 1], tt.__renderableContext.setTransform(1, 0, 0, 1, 0, 0), tt.__renderableContext.clearRect(0, 0, o.width, o.height), (0, tt.makeDrawCallbackInClosure)(tt.__renderableContext, null).call(e, i), (0, $.resizeImage)(o, t)
					}
				}), t.restore()
			}, e.prototype.drawFilterThumbnails = function (t) {
				if (!this.filter.complete) throw new Error("FoodieFilter ColorTable  .");
				if (0 == t.length) throw new Error("  canvas element .");
				var e = 0, i = t.length, n = void 0, r = new it, o = t[0].width, s = t[0].height;
				tt.__context.canvas.width = o, tt.__context.canvas.height = s, (0, $.resizeImage)(this.bitmapdata.source, tt.__context);
				for (var a = tt.__context.getImageData(0, 0, o, s), h = tt.__context.getImageData(0, 0, o, s); e < i; e++) n = t[e].getContext("2d"), r.colorTable = this.filter.colorTables[e], r.applyFilter(a, h), n.putImageData(h, 0, 0)
			}, e.prototype.viewportToLocal = function (t) {
				var e = this.rectToLocal(this.viewport, t), i = {
					origin: e.tl,
					width: (0, Z.getDistance)(e.tl.x, e.tl.y, e.tr.x, e.tr.y),
					height: (0, Z.getDistance)(e.tl.x, e.tl.y, e.bl.x, e.bl.y),
					radian: (0, Z.getRadian)(e.tl.x, e.tl.y, e.tr.x, e.tr.y)
				};
				return t.scale.x < 0 ? i = t.scale.y < 0 ? {
					origin: e.br,
					width: (0, Z.getDistance)(e.br.x, e.br.y, e.bl.x, e.bl.y),
					height: (0, Z.getDistance)(e.br.x, e.br.y, e.tr.x, e.tr.y),
					radian: (0, Z.getRadian)(e.br.x, e.br.y, e.bl.x, e.bl.y)
				} : {
					origin: e.tr,
					width: (0, Z.getDistance)(e.tr.x, e.tr.y, e.tl.x, e.tl.y),
					height: (0, Z.getDistance)(e.tr.x, e.tr.y, e.br.x, e.br.y),
					radian: (0, Z.getRadian)(e.tr.x, e.tr.y, e.tl.x, e.tl.y)
				} : t.scale.y < 0 && (i = {
					origin: e.bl,
					width: (0, Z.getDistance)(e.bl.x, e.bl.y, e.br.x, e.br.y),
					height: (0, Z.getDistance)(e.bl.x, e.bl.y, e.tl.x, e.tl.y),
					radian: (0, Z.getRadian)(e.bl.x, e.bl.y, e.br.x, e.br.y)
				}), i
			}, e.prototype.imageToLocal = function (t) {
				this.updateTransform();
				var e = this.editingSprite,
					i = [{x: 0, y: 0}, {x: this.bitmapdata.width, y: this.bitmapdata.height}].map(function (t) {
						return e.toGlobal(t)
					}), n = i[0].x, r = i[0].y, o = i[1].x, s = i[1].y;
				return this.rectToLocal({
					x: Math.min(n, o),
					y: Math.min(r, s),
					width: Math.abs(n - o),
					height: Math.abs(r - s)
				}, t)
			}, e.prototype.rectToLocal = function (t, e) {
				var i = t.x + t.width, n = t.y + t.height, r = (0, J.map)({
					tl: {x: t.x, y: t.y},
					tr: {x: i, y: t.y},
					bl: {x: t.x, y: n},
					br: {x: i, y: n}
				}, function (t) {
					return e.toLocal(t, null, t)
				});
				return r
			}, e.prototype.getModifiedStateAt = function (t) {
				return !!this[t] && this[t].modified
			}, e.prototype.getUsingMenu = function (t) {
				return null != this[t]
			}, e.prototype.getImageBounds = function () {
				var t = this;
				if (this.editingSprite.texture.noFrame) return null;
				var e = this.editingSprite.texture.width, i = this.editingSprite.texture.height,
					n = {lt: {x: 0, y: 0}, rt: {x: e, y: 0}, lb: {x: 0, y: i}, rb: {x: e, y: i}},
					r = (0, J.map)(n, function (e) {
						return t.editingSprite.toGlobal(e)
					});
				return {x: r.lt.x, y: r.lt.y, width: r.rt.x - r.lt.x, height: r.lb.y - r.lt.y}
			}, e.prototype._initmain = function () {
				this._phase = "main", this._current = null, this._filters = null, this._screenFitEnable = !1, this._initEvents(), this._makeBitmaps(), this._initMotions(), this._initControls()
			}, e.prototype._initEvents = function () {
				this._processingEvent = {
					type: e.PROCESSING,
					target: this,
					processed: 0,
					total: 0,
					filter: ""
				}, this._editingCompleteEvent = {
					type: e.EDIT_COMPLETE,
					target: this
				}, this._bitmapDataUpdateEvent = {
					type: e.BITMAPDATA_UPDATE,
					target: this,
					cropWidth: 0,
					cropHeight: 0
				}, this._viewportMotionCompleteEvent = {
					type: e.VIEWPORT_MOTION_COMPLETE,
					target: this,
					phase: "main"
				}, this.setImageByElement = this.setImageByElement.bind(this), this.onImageLoadFail = this.onImageLoadFail.bind(this), this.onUpdateBitmapDataBinding = this.onUpdateBitmapData.bind(this), this.onProcessing = this.onProcessing.bind(this), this.onProcessComplete = this.onProcessComplete.bind(this), this.onEditingProcessComplete = this.onEditingProcessComplete.bind(this), this.readyToEdit = this.readyToEdit.bind(this)
			}, e.prototype._makeBitmaps = function () {
				this._editingBmpd = new z["default"], this._previewingBmpd = new z["default"], this._editingBmpd.oomCallback = this._previewingBmpd.oomCallback = this.outofmemory, this._editingBmpd.resizeRatio = this.options.editingResizeRatio, this._previewingBmpd.resizeRatio = this.options.previewingResizeRatio, this._editingBmpd._bitmapType = "Editing BitmapData", this._previewingBmpd._bitmapType = "Previewing BitmapData", this.onEditingCanvasChanged = this.onEditingCanvasChanged.bind(this), this._editingBmpd.canvas.addEventListener("change", this.onEditingCanvasChanged), this.onPreviewingCanvasChanged = this.onPreviewingCanvasChanged.bind(this), this._previewingBmpd.canvas.addEventListener("change", this.onPreviewingCanvasChanged), this._editingCanvas = new PIXI.Sprite, this._previewingCanvas = new PIXI.Sprite, this._previewingCanvas.visible = !1, this._container = new PIXI.Container, this._container.interactive = !0, this._stickerLayer = new W["default"], this._stickerLayer.interactive = !0, this._signLayer = new W["default"], this._signLayer.interactive = !1, this._frameLayer = new W["default"], this._frameLayer.interactive = !1;
				var t = this.root;
				t.addChild(this._editingCanvas), t.addChild(this._previewingCanvas), t.addChild(this._stickerLayer), t.addChild(this._signLayer), t.addChild(this._frameLayer), this.addChild(t)
			}, e.prototype._initMotions = function () {
				this._motion = new _["default"], this._motion.name = "stageMotion", this._viewportMotion = new _["default"], this._viewportMotion.on("update", this.onViewportUpdate, this), this._viewportMotion.on("complete", this.onViewportComplete, this), this._viewportMotion.name = "viewportMotion"
			}, e.prototype._initControls = function () {
				if (this._magnify = new y["default"](this._options.magnify, this, this.canvas), this._magnify.initWithTarget(this.root), this._options.useControls.forEach(this._makeControls, this), this._sizeLimitTransform = this._retrieveTransforms(this._editingBmpd, this.options.editingTransform), this._retrieveTransforms(this._previewingBmpd, this.options.previewingTransform), this._filters = this._retrieveFilter(this.options.filterOrder), this._editingBmpd.filters = this._filters.slice(), this._previewingBmpd.filters = this._filters.slice(), this.mosaic && (this._previewingBmpd.filters[this.options.filterOrder.indexOf("MosaicFilter")] = this.mosaic.previewingFilter), this.adjust && (this._previewingBmpd.filters[this.options.filterOrder.indexOf("SharpenAdjustment")] = this.adjust._sharpenPreview), this.viewport = new PIXI.Rectangle(0, 0, this.canvas.width, this.canvas.height), !this.filter) return void this.onFilterReady();
				var t = this.filter.complete || null == this.options.filter.colorTableURLs || 0 == this.options.filter.colorTableURLs.length;
				t ? this.onFilterReady() : this.filter.on("ready", this.onFilterReady, this)
			}, e.prototype._makeControls = function (t) {
				var e = "_" + t, i = this._options.controlsMap[t], n = this._options[t];
				switch (t) {
					case"adjust":
					case"filter":
					case"resize":
					case"crop":
						this[e] = new i(n, this);
						break;
					case"mosaic":
						this[e] = new i(n, this, this._previewingBmpd), this.mosaic.initWithTarget(this.root);
						break;
					case"signature":
						this[e] = new i(n, this, this.signatureContainer);
						break;
					case"photoFrame":
						this[e] = new i(n, this, this.photoFrameContainer);
						break;
					case"sticker":
					case"text":
						this[e] = new i(n, this, this.stickerContainer);
						break;
					default:
						void 0
				}
				this[e] && (this[e]._update = this.onUpdateBitmapDataBinding, this[e]._menu = t)
			}, e.prototype._retrieveTransforms = function (t, e) {
				var i = this;
				(0, J.each)(e, function (e, n, r) {
					t[n] && i._appendTransformsTo(t[n], e)
				});
				var n = new Y["default"];
				return n.onConcat = (0, w.onMaximumSize)(e.maxSize), t[e.addTo].push(n), n
			}, e.prototype._appendTransformsTo = function (t, e) {
				var i = this, n = [];
				e.forEach(function (t) {
					var e = i[t];
					e && n.push.apply(n, e.transforms)
				}), t.push.apply(t, n)
			}, e.prototype._retrieveFilter = function (t) {
				var e, i, n = this, r = [];
				return this.options.useControls.forEach(function (o) {
					e = n[o].filters;
					for (var s = 0; s < e.length; s++) i = t.indexOf(e[s].name), (0, Q["default"])(i != -1, e[s].name + "     ."), r[i] = e[s]
				}), (0, tt.removeNullPointer)(r), r
			}, e.prototype._setEditingImage = function (t) {
				var e = this, i = t.width || t.naturalWidth, n = t.height || t.naturalHeight;
				this._options.useControls.forEach(function (t) {
					e[t] && e[t].identity(i, n)
				}), this.signatureContainer.updateSize(i, n), this.stickerContainer.updateSize(i, n), this._setTextureAt(t, this._editingBmpd, this._editingCanvas)
			}, e.prototype._setPreviewingImage = function (t) {
				this._setTextureAt(t, this._previewingBmpd, this._previewingCanvas)
			}, e.prototype._setTextureAt = function (t, e, i) {
				e.initWithSource(t), i.texture && i.texture.destroy(), i.texture = new PIXI.Texture(new PIXI.BaseTexture(e.canvas))
			}, e.prototype._textureUVUpdate = function (t, e, i) {
				if (t.baseTexture && t.baseTexture.source) {
					t.baseTexture.update();
					var n = t.frame;
					n.width = e, n.height = i, t.frame = n
				}
			}, e.prototype._align = function () {
				this._container.x = this.viewport.x + this.viewport.width / 2, this._container.y = this.viewport.y + this.viewport.height / 2
			}, e.prototype._alignStickersDepth = function () {
				this.stickerContainer && this.stickerContainer.children.sort(function (t, e) {
					return t.childIndex < e.childIndex ? -1 : t.childIndex > e.childIndex ? 1 : 0
				})
			}, e.prototype.onUpdateBitmapData = function (t) {
				this._changedFilter = t, this.renderer.listeners("prerender").indexOf(this.onInvalidate) == -1 && this.renderer.on("prerender", this.onInvalidate, this)
			}, e.prototype.onFilterReady = function () {
				var t = this;
				this.filter && this.filter.off("ready", this.onFilterReady, this), setTimeout(function () {
					t.emit(e.READY, {type: e.READY, target: t})
				}, 10)
			}, e.prototype.onInvalidate = function (t) {
				return this.renderer.off("prerender", this.onInvalidate, this), this._changedFilter ? void(this.showPreview ? (this._previewingBmpd.updateFilters(this._getPreviewFilter(this._changedFilter)), this._previewingBmpd.updateCanvas()) : this.async ? this._editingBmpd.updateFiltersAsync(this._changedFilter, this.onProcessing, this.onEditingProcessComplete) : this.updateSpecificFilter(this._changedFilter)) : void this.updateBitmapData()
			}, e.prototype._getPreviewFilter = function (t) {
				if (!t) return t;
				var e = this.adjust ? this.adjust._sharpen : null, i = this.mosaic ? this.mosaic._mosaic : null;
				switch (t) {
					case e:
						return this._adjust._sharpenPreview;
					case i:
						return this._mosaic._mosaic
				}
				return t
			}, e.prototype.onEditingCanvasChanged = function (t) {
				this._textureUVUpdate(this._editingCanvas.texture, t.target.width, t.target.height), this.magnify.updateTargetTexture(this._editingCanvas.texture.frame, (0, w.getEditingScale)(this.bitmapdata.canvas.width, this.resizedWidth, this.resizedHeight, this._options.originalMaxSize)), this._previewingCanvas.width = this._editingCanvas.width, this._previewingCanvas.height = this._editingCanvas.height, this._signLayer.width = this._editingCanvas.width, this._signLayer.height = this._editingCanvas.height, "resize" == this.phase ? (this._align(), this.magnify._checkBoundary(), this.magnify.alignToCenter()) : this.screenFitEnable && this.magnify.fitToScreen()
			}, e.prototype.onPreviewingCanvasChanged = function (t) {
				this._textureUVUpdate(this._previewingCanvas.texture, t.target.width, t.target.height), this._previewingCanvas.width = this._editingCanvas.width, this._previewingCanvas.height = this._editingCanvas.height
			}, e.prototype.onViewportUpdate = function () {
				this.viewport = this.viewport
			}, e.prototype.onViewportComplete = function () {
				this._viewportMotionCompleteEvent.phase = this.phase, this.emit(e.VIEWPORT_MOTION_COMPLETE, this._viewportMotionCompleteEvent)
			}, e.prototype.onEditingProcessComplete = function () {
				this._editingBmpd.updateCanvas(), this._previewingCanvas.visible = !1, this.emitBitmapDataUpdate(), this.emit(this._editingCompleteEvent.type, this._editingCompleteEvent)
			}, e.prototype.onProcessing = function (t, i, n) {
				this._processingEvent.processed = t, this._processingEvent.total = i, this._processingEvent.filter = n, this.emit(e.PROCESSING, this._processingEvent)
			}, e.prototype.onProcessComplete = function (t) {
				var i = this._encode || "image/jpeg", n = this._encodeOption || .92,
					r = {type: e.PROCESS_COMPLETE, target: this, context: t, dataURL: ""};
				this.drawRenderableObjects(t, this._options.signature.renderOnClient);
				try {
					r.dataURL = t.canvas.toDataURL(i, n)
				} catch (o) {
					this.outofmemory()
				}
				return this._encode = null, this._encodeOption = null, this._sizeLimitTransform.onConcat = (0, w.onMaximumSize)(this.options.editingTransform.maxSize), this.emit(e.PROCESS_COMPLETE, r), r
			}, e.prototype.onImageLoadFail = function (t) {
				return this.emit(e.IMAGE_LOAD_FAIL, t), o["default"].reject(t)
			}, e.prototype.outofmemory = function () {
				this.emit(e.OUT_OF_MEMORY)
			}, (0, c["default"])(e, [{
				key: "viewport", get: function () {
					return this.magnify.boundary
				}, set: function (t) {
					this.magnify.boundary = t, this.crop && (this.crop.viewport = t), this.viewportMotion.running || (this._current ? this._current.fitToScreen() : this.magnify.fitToScreen()), this._align(), this.emit(e.VIEWPORT_MOTION_UPDATE)
				}
			}, {
				key: "showPreview", get: function () {
					return this._previewEnabled && this._previewingCanvas.visible
				}, set: function (t) {
					if (t != this.showPreview) {
						var e = this._previewEnabled && t;
						e ? (this._previewingBmpd.updateFilters(null), this._previewingBmpd.updateCanvas(), this._previewingCanvas.visible = !0) : e || (this.async ? this._editingBmpd.updateFiltersAsync(this._changedFilter, this.onProcessing, this.onEditingProcessComplete) : (this.updateSpecificFilter(this._changedFilter), this._previewingCanvas.visible = !1))
					}
				}
			}, {
				key: "phase", get: function () {
					return this._phase
				}, set: function (t) {
					switch (this._phase != t && this._current && this._current.suspend(), t) {
						case"main":
							this._current = null, this.magnify.target.visible = !0, this.magnify.autoScale(!0);
							break;
						default:
							if (!this[t]) return void void 0;
							this._current = this[t], this._current.start()
					}
					this._phase = t
				}
			}, {
				key: "showOriginal", get: function () {
					return this._editingBmpd.showOriginal
				}, set: function (t) {
					this._editingBmpd.showOriginal = t
				}
			}, {
				key: "croppedWidth", get: function () {
					return this.crop ? this.crop.transform.canvasWidth : this.bitmapdata.sourceWidth
				}
			}, {
				key: "croppedHeight", get: function () {
					return this.crop ? this.crop.transform.canvasHeight : this.bitmapdata.sourceHeight
				}
			}, {
				key: "croppedScaleX", get: function () {
					return this.crop ? this.crop.transform.scaleX : 1
				}
			}, {
				key: "croppedScaleY", get: function () {
					return this.crop ? this.crop.transform.scaleY : 1
				}
			}, {
				key: "resizedWidth", get: function () {
					return this.resize ? this.resize.transform.cacheWidth : this.croppedWidth
				}
			}, {
				key: "resizedHeight", get: function () {
					return this.resize ? this.resize.transform.cacheHeight : this.croppedHeight
				}
			}, {
				key: "screenFitEnable", get: function () {
					return this._screenFitEnable
				}, set: function (t) {
					this._screenFitEnable = t, this._current && (this._current.screenFitEnable = t)
				}
			}, {
				key: "debug", get: function () {
					return this._magnify.frameVisible
				}, set: function (t) {
					this._magnify.frameVisible = t, this._editingBmpd._debug = t, this._stickerLayer.debug = t, t && (this._test = new N["default"]({}, this.bitmapdata), this._test._stage = this, this._test._update = this.onUpdateBitmapDataBinding, this.test = this._test)
				}
			}, {
				key: "showAlert", get: function () {
					return this._showAlert || !1
				}, set: function (t) {
					this._showAlert = t && this._editingBmpd._debug, this._editingBmpd.msie = t
				}
			}, {
				key: "editingSprite", get: function () {
					return this._editingCanvas
				}
			}, {
				key: "previewingSprite", get: function () {
					return this._previewingCanvas
				}
			}, {
				key: "bitmapdata", get: function () {
					return this._editingBmpd
				}
			}, {
				key: "ready", get: function () {
					return this._ready
				}
			}, {
				key: "magnify", get: function () {
					return this._magnify
				}
			}, {
				key: "motion", get: function () {
					return this._motion
				}
			}, {
				key: "viewportMotion", get: function () {
					return this._viewportMotion
				}
			}, {
				key: "signatureContainer", get: function () {
					return this._signLayer
				}
			}, {
				key: "stickerContainer", get: function () {
					return this._stickerLayer
				}
			}, {
				key: "options", get: function () {
					return this._options
				}
			}, {
				key: "root", get: function () {
					return this._container
				}
			}, {
				key: "modified", get: function () {
					var t = this;
					return this._options.useControls.reduce(function (e, i) {
						return e || t[i].modified
					}, !1)
				}
			}, {
				key: "targetViewport", get: function () {
					return this._targetvp || this.viewport
				}
			}, {
				key: "async", get: function () {
					return this.options.editingFilterAsyncMode && this._previewEnabled
				}
			}, {
				key: "adjust", get: function () {
					return this._adjust
				}
			}, {
				key: "resize", get: function () {
					return this._resize
				}
			}, {
				key: "filter", get: function () {
					return this._filter
				}
			}, {
				key: "crop", get: function () {
					return this._crop
				}
			}, {
				key: "mosaic", get: function () {
					return this._mosaic
				}
			}, {
				key: "photoFrame", get: function () {
					return this._photoFrame
				}
			}, {
				key: "signature", get: function () {
					return this._signature
				}
			}, {
				key: "sticker", get: function () {
					return this._sticker
				}
			}, {
				key: "text", get: function () {
					return this._text
				}
			}]), e
		}(V["default"]);
	e["default"] = rt
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(96), a = n(s), h = i(97), l = n(h), u = i(113), c = n(u), f = i(145), d = n(f),
		p = function (t) {
			function e() {
				var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "Anonymous";
				(0, o["default"])(this, e);
				var n = (0, a["default"])(this, t.call(this));
				return n.crossOrigin = i, n
			}

			return (0, l["default"])(e, t), e.prototype.loadImage = function (t, e, i, n) {
				function r(e) {
					l.off("load"), l.off("error"), i.apply(null, [t].concat(a))
				}

				function o(t) {
					l.off("load"), l.off("error"), n && n(t)
				}

				for (var s = arguments.length, a = Array(s > 4 ? s - 4 : 0), h = 4; h < s; h++) a[h - 4] = arguments[h];
				t = t || document.createElement("img"), this.crossOrigin && (t.crossOrigin = this.crossOrigin);
				var l = (0, c["default"])(t);
				return l.one("load", r).one("error", o), t.src = e, t
			}, e.prototype.loadColorTables = function (t, e, i) {
				function n(i) {
					return i && o.push(i), s >= t.length ? void e(o) : void a.loadImage(null, t[s++], n, r)
				}

				function r(t) {
					i(t), n()
				}

				var o = [], s = 0, a = this;
				n()
			}, e
		}(d["default"]);
	e["default"] = p
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = function () {
		function t() {
			(0, o["default"])(this, t)
		}

		return t.initialize = function (e) {
			t.shared = e
		}, t
	}();
	e["default"] = s
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(96), a = n(s), h = i(71), l = n(h), u = i(97), c = n(u), f = i(147), d = n(f),
		p = i(148), g = n(p), m = i(153), y = n(m), v = i(154), _ = function (t) {
			function e(i, n, r) {
				var s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "move";
				(0, o["default"])(this, e);
				var h = (0, a["default"])(this, t.call(this, i, n));
				return h.stage.motion.on("update", h.onMotionUpdate, h), h.cursorStyleTarget = r, h.draggableStyle = s, h._init(), h._bindEventListeners(), h.dragEnable = !0, h._pivotMin = {
					x: 0,
					y: 0
				}, h._pivotMax = {x: 0, y: 0}, h._boundaryChanged = !1, h._border = {
					top: 0,
					left: 0,
					right: 0,
					bottom: 0
				}, h._editingScale = 1, h
			}

			return (0, c["default"])(e, t), (0, l["default"])(e, null, [{
				key: "CHANGE", get: function () {
					return "zoomChange"
				}
			}, {
				key: "VIEWPORT_CHANGE", get: function () {
					return "viewportChange"
				}
			}, {
				key: "DRAG", get: function () {
					return "drag"
				}
			}]), e.prototype.initWithTarget = function (t, e) {
				return this._target && this._disposeTarget(), e && (this._boundary = e), this._target = t, this._boundaryChanged = !0, this
			}, e.prototype.dispose = function () {
				this._disposeTarget(), document.removeEventListener("keyup", this._onKeyUp), this.stage.motion.off("complete", this.onMotionComplete, this)
			}, e.prototype.fitToScreen = function () {
				if (!this.stage.motion.running) {
					var t = Math.min(this.boundary.width / this.textureWidth, this.boundary.height / this.textureHeight);
					this.scale = Math.min(1, t)
				}
			}, e.prototype.alignToCenter = function () {
				this.target.pivot.x = this._textureFrame.width >> 1, this.target.pivot.y = this._textureFrame.height >> 1
			}, e.prototype.updateTargetTexture = function (t) {
				var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
				this._textureFrame.width = t.width, this._textureFrame.height = t.height, this._editingScale = e, this._checkDraggable()
			}, e.prototype.getFitScale = function (t) {
				return Math.min(t.width / this.textureWidth, t.height / this.textureHeight)
			}, e.prototype.autoScale = function () {
				var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
					e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1 / 0,
					i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1 / 0,
					n = this.getFitScale(this.boundary);
				if (e != 1 / 0 && i != 1 / 0) {
					var r = v.TEMP_POINT_A, o = v.TEMP_POINT_B;
					r.x = e, r.y = i, this.target.toLocal(r, null, o), e = o.x, i = o.y
				}
				t ? this.scaleTo(Math.min(1, n), e, i) : this.scaleTo(1, e, i)
			}, e.prototype.viewportTo = function (t) {
				var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], i = this.getFitScale(t);
				e ? this.scaleTo(i) : this.scaleTo(Math.min(1, i))
			}, e.prototype.moveTo = function (t, e) {
				var i = v.TEMP_POINT_A, n = v.TEMP_POINT_B,
					r = g["default"][this.options.scaleMotion] || g["default"].linear;
				i.x = t, i.y = e, this.target.toLocal(i, null, n), this._checkBoundary(n), this.stage.motion.play(this, {
					pivotX: n.x,
					pivotY: n.y
				}, this.options.scaleDuration, r)
			}, e.prototype.scaleTo = function (t) {
				var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1 / 0,
					i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1 / 0,
					n = g["default"][this.options.scaleMotion] || g["default"].linear, r = this._textureFrame;
				e == 1 / 0 && (e = (r.width + this.border.right - this.border.left) / 2), i == 1 / 0 && (i = (r.height + this.border.bottom - this.border.top) / 2), this.stage.motion.play(this, {
					scale: t,
					pivotX: e,
					pivotY: i
				}, this.options.scaleDuration, n)
			}, e.prototype._init = function () {
				this._tempMat = new PIXI.Matrix, this._tempPoint = {x: 0, y: 0}, this.point = {
					x: 0,
					y: 0
				}, this.inversePoint = {
					x: 0,
					y: 0
				}, this.zoomEnable = !0, this._frame = new d["default"](3, 100), this._frame.centerGridVisible = !0, this._textureFrame = {
					x: 0,
					y: 0,
					width: 1,
					height: 1
				}
			}, e.prototype._bindEventListeners = function () {
				this._onMouseUp = this.onMouseUp.bind(this), this._onMouseLeave = this.onMouseLeave.bind(this), this._onKeyUp = this.onKeyUp.bind(this), this._onTimeout = this.onTimeout.bind(this), this.stage.motion.on("update", this.onMotionUpdate, this), this.stage.motion.on("complete", this.onMotionComplete, this)
			}, e.prototype._disposeTarget = function () {
				this.enable = !1
			}, e.prototype._addMouseEvents = function (t) {
				for (var e = 0; e < t.length; e += 2) this.target.on(t[e], t[e + 1], this)
			}, e.prototype._removeMouseEvents = function (t) {
				for (var e = 0; e < t.length; e += 2) this.target.off(t[e], t[e + 1], this)
			}, e.prototype._checkDraggable = function () {
				var t = this.target, e = t.width, i = t.height, n = this.boundary.width, r = this.boundary.height;
				this.enable = (0 | e) > n || (0 | i) > r, this.enable ? this._checkBoundary() : (t.pivot.x = this.centerX, t.pivot.y = this.centerY), this._boundaryChanged = !0
			}, e.prototype._checkBoundary = function () {
				var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
				null == t && (t = this.target.pivot), this._updatePivotBoundary();
				var e = this.target, i = this.boundary, n = this._textureFrame.width, r = this._textureFrame.height,
					o = void 0, s = void 0, a = void 0, h = void 0;
				e.width > i.width ? (o = this._pivotMin.x, s = n - this._pivotMax.x, t.x = Math.max(o, Math.min(t.x, s))) : e.width <= i.width && (t.x = this.centerX), e.height > i.height ? (a = this._pivotMin.y, h = r - this._pivotMax.y, t.y = Math.max(a, Math.min(t.y, h))) : e.height <= i.height && (t.y = this.centerY)
			}, e.prototype._updatePivotBoundary = function () {
				if (this._boundaryChanged) {
					var t = {x: 0, y: 0}, e = this.target.scale.x * this._editingScale;
					t.x = this.boundary.width / 2 - this.border.left * e, t.y = this.boundary.height / 2 - this.border.top * e, this._getTransform(this.target).applyInverse(t, this._pivotMin), t.x = this.boundary.width / 2 - this.border.right * e, t.y = this.boundary.height / 2 - this.border.bottom * e, this._getTransform(this.target).applyInverse(t, this._pivotMax), this._boundaryChanged = !1
				}
			}, e.prototype._getTransform = function (t) {
				var e, i, n, r, o = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
				if (0 != t.rotation) {
					var s = o ? -1 : 1, a = Math.cos(s * t.rotation), h = Math.sin(s * t.rotation), l = t.scale;
					e = a * l.x, i = h * l.x, n = -h * l.y, r = a * l.y
				} else e = t.scale.x, i = 0, n = 0, r = t.scale.y;
				return this._tempMat.set(e, i, n, r, 0, 0), this._tempMat
			}, e.prototype.onMouseOver = function (t) {
				!this.dragEnable
			}, e.prototype.onMouseOut = function (t) {
				!this.dragEnable
			}, e.prototype.onMouseDown = function (t) {
				this.dragEnable && (this._px = t.data.global.x, this._py = t.data.global.y, this.target.on("mousemove", this.onMouseMove, this), document.body.addEventListener("mouseup", this._onMouseUp), document.addEventListener("mouseout", this._onMouseLeave))
			}, e.prototype.onMouseMove = function (t) {
				var i = t.data.global.x, n = t.data.global.y, r = i - this._px, o = n - this._py, s = this.target,
					a = this.target.worldTransform;
				this._tempMat.set(a.a, a.b, a.c, a.d, 0, 0), this._tempPoint.x = r, this._tempPoint.y = o, this._tempMat.applyInverse(this._tempPoint, this._tempPoint), s.pivot.x -= this._tempPoint.x, s.pivot.y -= this._tempPoint.y, this._checkBoundary(), this._px = i, this._py = n, this.emit(e.DRAG), this.compareOriginalEnable && (Math.abs(i - this._cx) < this.options.compareEnableBoundary && Math.abs(n - this._cy) < this.options.compareEnableBoundary || (this.stage.showOriginal = !1, clearTimeout(this._timeoutID)))
			}, e.prototype.onMouseUp = function (t) {
				this.target.off("mousemove", this.onMouseMove, this), document.body.removeEventListener("mouseup", this._onMouseUp), document.removeEventListener("mouseout", this._onMouseUp), this.compareOriginalEnable && (this.stage.showOriginal = !1, clearTimeout(this._timeoutID))
			}, e.prototype.onMouseLeave = function (t) {
				var e = t.relatedTarget || t.toElement;
				e && "HTML" != e.nodeName || this.onMouseUp(null)
			}, e.prototype.onKeyUp = function (t) {
				if (this.zoomEnable) switch (t.keyCode) {
					case 32:
						this.autoScale();
						break;
					case 109:
					case 189:
						break;
					case 107:
					case 187:
				}
			}, e.prototype.onMotionUpdate = function (t) {
				this._checkDraggable(), this.emit(e.CHANGE, {type: e.CHANGE, target: this})
			}, e.prototype.onMotionComplete = function (t) {
				this._checkDraggable()
			}, e.prototype.onTimeout = function (t) {
				this.stage.showOriginal = !0
			}, e.prototype.onCompareDown = function (t) {
				return document.body.addEventListener("mouseup", this._onMouseUp), document.addEventListener("mouseout", this._onMouseLeave), this.enable ? (this._timeoutID = setTimeout(this._onTimeout, this.options.showOriginalDelay),
					this._cx = t.data.global.x, void(this._cy = t.data.global.y)) : void(this.stage.showOriginal = !0)
			}, (0, l["default"])(e, [{
				key: "target", get: function () {
					return this._target
				}
			}, {
				key: "textureFrame", get: function () {
					return this._textureFrame
				}
			}, {
				key: "enable", get: function () {
					return this._enable || !1
				}, set: function (t) {
					this._enable = t, this.target && (t ? (this.target.interactive = !0, this._addMouseEvents(["mousedown", this.onMouseDown])) : this._removeMouseEvents(["mouseover", this.onMouseOver, "mouseout", this.onMouseOut, "mousedown", this.onMouseDown, "mousemove", this.onMouseMove, "mouseup", this.onMouseUp]))
				}
			}, {
				key: "compareOriginalEnable", get: function () {
					return this._compareOriginalEnable || !1
				}, set: function (t) {
					this._compareOriginalEnable = t, this.target && (t ? this._addMouseEvents(["mousedown", this.onCompareDown]) : this._removeMouseEvents(["mousedown", this.onCompareDown]))
				}
			}, {
				key: "boundary", get: function () {
					return this._boundary
				}, set: function (t) {
					this._boundary = t, this._frame.x = t.x, this._frame.y = t.y, this._frame.setSize(t.width, t.height), this._checkDraggable()
				}
			}, {
				key: "fitToScreenAvailable", get: function () {
					var t = 1 > Math.min(this.boundary.width / this._textureFrame.width, this.boundary.height / this._textureFrame.height);
					return t
				}
			}, {
				key: "frameVisible", get: function () {
					return null != this._frame.parent
				}, set: function (t) {
					var e = this.frameVisible;
					t != e && (t ? this.stage.addChild(this._frame) : this._frame.parent && this._frame.parent.removeChild(this._frame))
				}
			}, {
				key: "scale", get: function () {
					return this.target.scale.x
				}, set: function (t) {
					this.target.scale.x = this.target.scale.y = t, this._checkDraggable()
				}
			}, {
				key: "pivotX", get: function () {
					return this.target.pivot.x
				}, set: function (t) {
					this.target.pivot.x = t
				}
			}, {
				key: "pivotY", get: function () {
					return this.target.pivot.y
				}, set: function (t) {
					this.target.pivot.y = t
				}
			}, {
				key: "border", get: function () {
					return this._border
				}, set: function (t) {
					this._border = t, this._checkDraggable()
				}
			}, {
				key: "textureWidth", get: function () {
					return this._textureFrame.width + (this._border.left + this._border.right)
				}
			}, {
				key: "textureHeight", get: function () {
					return this._textureFrame.height + (this._border.top + this._border.bottom)
				}
			}, {
				key: "centerX", get: function () {
					return (this._textureFrame.width + this._border.right - this.border.left) / 2
				}
			}, {
				key: "centerY", get: function () {
					return (this._textureFrame.height + this._border.bottom - this.border.top) / 2
				}
			}]), e
		}(y["default"]);
	e["default"] = _
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(71), a = n(s), h = i(96), l = n(h), u = i(97), c = n(u), f = function (t) {
		function e() {
			var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 3,
				n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100,
				r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 550,
				s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 400,
				a = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 16763904;
			(0, o["default"])(this, e);
			var h = (0, l["default"])(this, t.call(this));
			return h.color = a, h._init(i, n), h.setSize(r, s), h
		}

		return (0, c["default"])(e, t), e.prototype.setSize = function (t, e) {
			this._graphics[1].x = this._graphics[2].x = t, this._graphics[2].y = this._graphics[3].y = e, this._g.x = t / 2, this._g.y = e / 2
		}, e.prototype._init = function (t, e) {
			this._graphics = [];
			for (var i = [1, 1, -1, 1, -1, -1, 1, -1], n = void 0, r = 0; r < i.length; r += 2) n = new PIXI.Graphics, n.beginFill(this.color, 1), n.drawRect(0, 0, e, t), n.drawRect(0, 0, t, e), n.endFill(), n.scale.x = i[r], n.scale.y = i[r + 1], this.addChild(n), this._graphics.push(n);
			this._g = new PIXI.Graphics, this._g.beginFill(this.color, 1), this._g.drawRect(-1, -e / 2, 2, e), this._g.drawRect(-e / 2, -1, e, 2), this._g.endFill(), this.addChild(this._g)
		}, (0, a["default"])(e, [{
			key: "centerGridVisible", get: function () {
				return null != this._g.parent
			}, set: function (t) {
				t ? this.addChild(this._g) : this._g.parent && this._g.parent.removeChild(this._g)
			}
		}]), e
	}(PIXI.Container);
	e["default"] = f
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(96), a = n(s), h = i(71), l = n(h), u = i(97), c = n(u), f = i(149),
		d = function (t) {
			function e() {
				(0, o["default"])(this, e);
				var i = (0, a["default"])(this, t.call(this));
				return i.ticker = PIXI.ticker.shared, i._a = {}, i._running = !1, i
			}

			return (0, c["default"])(e, t), e.linear = function (t) {
				return t
			}, e.easeOut = function (t) {
				return 1 - Math.pow(t - 1, 4)
			}, e.easeIn = function (t) {
				return Math.pow(t, 4)
			}, e.easeInOut = function (t) {
				return t <= .5 ? 8 * Math.pow(t, 4) : 1 - 8 * Math.pow(t - 1, 4)
			}, e.to = function (t, i, n, r) {
				var o = new e;
				return o.play(t, i, n, r), o
			}, (0, l["default"])(e, null, [{
				key: "UPDATE", get: function () {
					return "update"
				}
			}, {
				key: "COMPLETE", get: function () {
					return "complete"
				}
			}]), e.prototype.play = function (t, e, i, n) {
				var r = this;
				this.stop(), this.target = t || this.bitmap, this.startTime = this.ticker.lastTime, this.ticker.add(this.onRender, this), this.duration = i, this.ease = n, this._a = (0, f.map)(e, function (t, e) {
					return r.target[e]
				}), this._b = e, this._running = !0
			}, e.prototype.stop = function () {
				this.ticker.remove(this.onRender, this), this._running = !1
			}, e.prototype.dispose = function () {
				this.stop()
			}, e.prototype.onComplete = function () {
				var t = this;
				(0, f.each)(this._b, function (e, i) {
					return t.target[i] = e
				}), this.emit(e.COMPLETE, e.COMPLETE), this.stop()
			}, e.prototype.onRender = function (t) {
				var e = this.ticker.lastTime - this.startTime,
					i = this.ease(Math.max(0, Math.min(1, e / this.duration)));
				i > 1 && (i = 1);
				for (var n in this._b) this.target[n] = this._a[n] + i * (this._b[n] - this._a[n]);
				this.emit("update", "update"), e >= this.duration && this.onComplete()
			}, (0, l["default"])(e, [{
				key: "running", get: function () {
					return this._running
				}
			}]), e
		}(PIXI.utils.EventEmitter);
	e["default"] = d
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	function r(t, e) {
		if (t instanceof Array) t.forEach(e); else if ("number" == typeof t) for (var i = 0; i < t; i++) e(i); else for (var n in t) if (e(t[n], n, t)) break
	}

	function s(t, e) {
		if (t instanceof Array) return t.every(e);
		if ("number" == typeof t) {
			for (var i = 0; i < t; i++) if (!e(i)) return !1;
			return !0
		}
		for (var n in t) if (!e(t[n], n, t)) return !1;
		return !0
	}

	function a(t, e) {
		var i = void 0;
		return t instanceof Array ? t.map(e) : ("number" == typeof t ? (i = [], r(t, function (t) {
			i.push(e(t))
		})) : (i = {}, r(t, function (t, n, r) {
			i[n] = e(t, n, r)
		})), i)
	}

	function h(t, e) {
		if (t instanceof Array) return t.filter(e);
		var i = {};
		return r(t, function (t, n, r) {
			e(t, n, collection0) && (i[n] = t)
		}), o
	}

	function l(t, e) {
		var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
		if (t instanceof Array) return t.reduce(e, i);
		var n = i;
		return r(t, function (t, i) {
			n = e(t, n, i)
		}), n
	}

	function u(t, e) {
		if (t instanceof Array) return t.indexOf(e);
		var i = null;
		return r(t, function (t, n) {
			if (t == e) return i = n, !0
		}), i
	}

	e.__esModule = !0, e.range = void 0;
	var c = i(76), f = n(c), d = i(150), p = n(d);
	e.each = r, e.every = s, e.map = a, e.filter = h, e.reduce = l, e.indexOf = u;
	e.range = f["default"].mark(function g() {
		var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
			e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : p["default"],
			i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
		return f["default"].wrap(function (n) {
			for (; ;) switch (n.prev = n.next) {
				case 0:
					if (!(t < e)) {
						n.next = 6;
						break
					}
					return n.next = 3, t;
				case 3:
					t += i, n.next = 0;
					break;
				case 6:
				case"end":
					return n.stop()
			}
		}, g, this)
	})
}, function (t, e, i) {
	t.exports = {"default": i(151), __esModule: !0}
}, function (t, e, i) {
	i(152), t.exports = 9007199254740991
}, function (t, e, i) {
	var n = i(11);
	n(n.S, "Number", {MAX_SAFE_INTEGER: 9007199254740991})
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(71), a = n(s), h = i(96), l = n(h), u = i(97), c = n(u), f = function (t) {
		function e(i, n) {
			(0, o["default"])(this, e);
			var r = (0, l["default"])(this, t.call(this));
			return r._stage = n, r._bitmapdata = r.stage.bitmapdata, r._options = i, r._update = null, r._ticker = PIXI.ticker.shared, r._filters = [], r._transforms = [], r._enlargable = !1, r._menu = "controls", r
		}

		return (0, c["default"])(e, t), e.prototype.start = function () {
			this.stage.magnify.compareOriginalEnable = this.comparable
		}, e.prototype.suspend = function () {
			return this.stage.magnify.compareOriginalEnable = !1, !0
		}, e.prototype.reset = function () {
			var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
			t && this.invalidate()
		}, e.prototype.dispose = function () {
		}, e.prototype.snapshot = function () {
			return {}
		}, e.prototype.fitToScreen = function () {
			this.stage.screenFitEnable && this.stage.magnify.fitToScreen()
		}, e.prototype.identity = function () {
		}, e.prototype.invalidate = function (t) {
			this._update(t)
		}, e.prototype.pushHistory = function (t) {
			this.stage.emit("pushHistory", {type: "pushHistory", target: this.stage, history: null})
		}, (0, a["default"])(e, [{
			key: "bitmapdata", get: function () {
				return this._bitmapdata
			}
		}, {
			key: "options", get: function () {
				return this._options
			}
		}, {
			key: "stage", get: function () {
				return this._stage
			}
		}, {
			key: "filters", get: function () {
				return this._filters
			}
		}, {
			key: "transforms", get: function () {
				return this._transforms
			}
		}, {
			key: "modified", get: function () {
				return this._modified
			}
		}, {
			key: "screenFitEnable", get: function () {
				return this.stage.screenFitEnable
			}, set: function (t) {
				this.stage.magnify.autoScale(t)
			}
		}, {
			key: "enlargable", get: function () {
				return this._enlargable
			}
		}, {
			key: "comparable", get: function () {
				return this._options.comparable
			}
		}, {
			key: "running", get: function () {
				return !!this.stage._current && this.stage._current._menu == this._menu
			}
		}, {
			key: "ready", get: function () {
				return !0
			}
		}]), e
	}(PIXI.utils.EventEmitter);
	e["default"] = f
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	function r(t) {
		var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
		return (0, T.each)(t, function (t, i) {
			e[i] = t
		}), e
	}

	function o(t, e) {
		var i;
		for (var n in e) i = (0, w["default"])(t[n]), "undefined" !== i ? "object" === i && (null === t[n] ? t[n] = e[n] : "undefined" == typeof e[n].length && o(t[n], e[n])) : t[n] = e[n];
		return t
	}

	function s(t) {
		return nts && nts.$proxyDisabled ? t : /^[.\/\\]/.test(t) ? t : "http://10.113.216.159:10080/?sURL=" + t
	}

	function a(t) {
		for (var e = 0, i = t.length, n = 0; e < i; e++) t[e] && (e != n && (t[n] = t[e]), ++n);
		return t.length = n, t
	}

	function h(t, e, i, n, r) {
		e = e || 0, i = i || 0, n = n || t.width || t.naturalWidth, r = r || t.height || t.naturalHeight;
		var o = E.canvas;
		return o.width = n, o.height = r, E.drawImage(t, e, i, n, r), E.getImageData(0, 0, n, r)
	}

	function l(t) {
		return t.reduce(function (t, e) {
			return "string" == typeof t ? t + ", " + e.name : t.name + ", " + e.name
		})
	}

	function u(t, e, i, n, r, o, s) {
		function a() {
			n[0] = h, h = i.apply(r, n), o(h, e), h < e ? setTimeout(a, 10) : s(h, e)
		}

		var h = t, n = [h, e].concat(n);
		a()
	}

	function c(t, e) {
		for (var i = 0, n = e.length; i < n; i += 3) t.on(e[i], e[i + 1], e[i + 2])
	}

	function f(t, e) {
		for (var i = 0, n = e.length; i < n; i += 3) t.off(e[i], e[i + 1], e[i + 2])
	}

	function d(t) {
		var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
			i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
			n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1;
		e = e || [];
		var r, o, s, a, h, l;
		return r = t.scale.x, o = t.scale.y, h = -t.pivot.x, l = -t.pivot.y, t.anchor && (t.anchor.x || t.anchor.y) && (h = -t.anchor.x * t.texture.frame.width, l = -t.anchor.y * t.texture.frame.height), 0 == t.rotation ? (e[0] = r * i, e[1] = 0, e[2] = 0, e[3] = o * n, e[4] = (r * h + t.x) * i, e[5] = (o * l + t.y) * n) : (s = Math.cos(t.rotation), a = Math.sin(t.rotation), e[0] = r * s, e[1] = r * a, e[2] = o * -a, e[3] = o * s, e[4] = e[0] * h + e[2] * l + t.x, e[5] = e[1] * h + e[3] * l + t.y), e
	}

	function p(t, e) {
		void 0
	}

	function g(t) {
		var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
		e = e || new PIXI.Matrix;
		var i = t.texture && t.texture.baseTexture ? t.texture.baseTexture.source : null, n = -t.pivot.x,
			r = -t.pivot.y;
		return i && (n = n || -(i.width || i.naturalWidth) * t.anchor.x, r = r || -(i.height || i.naturalHeight) * t.anchor.y), e.setTransform(t.position.x, t.position.y, n, r, (0, C.sign)(t.scale.x), (0, C.sign)(t.scale.y), t.rotation, 0, 0), e
	}

	function m(t) {
		var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
		return function (i) {
			var n = g(i);
			if (e && n.prepend(e), i.renderableObject && i.texture && i.texture.baseTexture) {
				var r = Math.abs(i.scale.x), o = Math.abs(i.scale.y), s = r * n.a, a = o * n.c, h = 0 | n.tx,
					l = r * n.b, u = o * n.d, c = 0 | n.ty;
				t.setTransform(s, l, a, u, h, c), t.drawImage(i.texture.baseTexture.source, 0, 0)
			} else i instanceof PIXI.Container && i.children.forEach(m(t, n), this)
		}
	}

	function y(t, e, i, n) {
		var r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : .5, o = e.canvas.width,
			s = e.canvas.height;
		if (i <= o && n <= s) return e;
		var a = Math.max(o, r * i | 0), h = Math.max(s, r * n | 0), l = void 0;
		return (a > o || h > s) && (.6 * a * (1 - r) > a - o && (a = o), .6 * h * (1 - r) > h - s && (h = s)), l = a == o && h == s ? e : t, l.drawImage(t.canvas, 0, 0, i, n, 0, 0, a, h), y(t, e, a, h, r)
	}

	function v(t, e, i, n) {
		var r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : .5,
			o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : null, s = e.canvas.width,
			a = e.canvas.height, h = Math.max(s, i), l = Math.max(a, n), u = h == s && l == a ? e : E;
		return u.canvas.width = h, u.canvas.height = l, u.save(), null != o ? u.setTransform(o[0], o[1], o[2], o[3], o[4], o[5]) : u.setTransform(1, 0, 0, 1, 0, 0), u.drawImage(t, 0, 0), u.restore(), u == e ? u : y(u, e, h, l, r)
	}

	function _(t, e, i, n, r) {
		var o = void 0;
		try {
			o = t.getImageData(e, i, n, r)
		} catch (s) {
			void 0
		}
		return o
	}

	function x(t, e, i) {
		var n = void 0;
		try {
			n = t.createImageData(e, i)
		} catch (r) {
			void 0
		}
		return n
	}

	e.__esModule = !0, e.TEMP_POINT_C = e.TEMP_POINT_B = e.TEMP_POINT_A = e.__photoFrameContext = e.__renderableContext = e.__context = void 0;
	var b = i(2), w = n(b);
	e.clone = r, e.pull = o, e.proxy = s, e.removeNullPointer = a, e.toImageData = h, e.enumerateFilterNames = l, e.loop = u, e.addEvents = c, e.removeEvents = f, e.toMatrix = d, e.printMat = p, e.getMatrixFrom = g, e.makeDrawCallbackInClosure = m, e.imageResize = v, e.getImageData = _, e.createImageData = x;
	var T = i(149), C = i(155), E = e.__context = document.createElement("canvas").getContext("2d");
	e.__renderableContext = document.createElement("canvas").getContext("2d"), e.__photoFrameContext = document.createElement("canvas").getContext("2d"), e.TEMP_POINT_A = {
		x: 0,
		y: 0
	}, e.TEMP_POINT_B = {x: 0, y: 0}, e.TEMP_POINT_C = {x: 0, y: 0}
}, function (t, e) {
	"use strict";

	function i(t) {
		return t < 0 ? -1 : t ? 1 : 0
	}

	function n(t, e) {
		var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : .5, n = Math.pow(10, e);
		return (t * n + i | 0) / n
	}

	e.__esModule = !0, e.sign = i, e.roundoffNth = n
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(71), a = n(s), h = i(96), l = n(h), u = i(97), c = n(u), f = i(153), d = n(f),
		p = i(143), g = n(p), m = i(157), y = i(165), v = i(169).AutoAdjustment, _ = function (t) {
			function e(i, n) {
				(0, o["default"])(this, e);
				var r = (0, l["default"])(this, t.call(this, i, n));
				return r._init(), r
			}

			return (0, c["default"])(e, t), e.prototype.start = function () {
				t.prototype.start.call(this)
			}, e.prototype.suspend = function () {
				return t.prototype.suspend.call(this)
			}, e.prototype.snapshot = function () {
				var t = this._adjust;
				return {
					brightness: t.brightness,
					contrast: t.contrast,
					saturation: t.saturation,
					hue: t.hue,
					kelvin: t.kelvin,
					sharpen: this._sharpen.sharpen,
					autolevel: this._autolevel.enabled
				}
			}, e.prototype.reset = function (e) {
				var i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
				e = e || {};
				var n = this._adjust;
				n.brightness = e.brightness || 0, n.contrast = e.contrast || 1, n.saturation = "undefined" == typeof e.saturation ? 1 : e.saturation, n.hue = e.hue || 0, n.kelvin = e.kelvin || 0, this._sharpen.sharpen = this._sharpenPreview.sharpen = e.sharpen || 0, this._autolevel.enabled = e.autolevel || !1, t.prototype.reset.call(this, i)
			}, e.prototype._init = function () {
				this._blurRadiusFactor = 1, this._sharpenRadiusFactor = 1, this._blurType = "", this._adjust = new m, this._sharpen = new y, this._sharpenPreview = new y, this._autolevel = new v, this._filters = [this._adjust, this._sharpen, this._autolevel], this.stage.on(g["default"].UPDATE_SHARPEN_FACTOR, this.onUpdateSharpenFactor, this)
			}, e.prototype.onUpdateSharpenFactor = function (t, e) {
				this._sharpenRadiusFactor = t, this._blurRadiusFactor = e
			}, (0, a["default"])(e, [{
				key: "modified", get: function () {
					if (!this.stage.ready) return !1;
					var t = this._adjust;
					return 0 != t.brightness || 1 != t.contrast || 1 != t.saturation || 0 != t.hue || 0 != t.kelvin || 0 != this._sharpen.sharpen || this._autolevel.enabled
				}
			}, {
				key: "brightness", get: function () {
					return this._adjust.brightness
				}, set: function (t) {
					this.brightness != t && (this._adjust.brightness = t, this.invalidate(this._adjust))
				}
			}, {
				key: "contrast", get: function () {
					return this._adjust.contrast
				}, set: function (t) {
					this.contrast != t && (this._adjust.contrast = t, this.invalidate(this._adjust))
				}
			}, {
				key: "saturation", get: function () {
					return this._adjust.saturation
				}, set: function (t) {
					this.saturation != t && (this._adjust.saturation = t, this.invalidate(this._adjust))
				}
			}, {
				key: "hue", get: function () {
					return this._adjust.hue
				}, set: function (t) {
					this.hue != t && (this._adjust.hue = t, this.invalidate(this._adjust))
				}
			}, {
				key: "sharpen", get: function () {
					return this._sharpen.sharpen
				}, set: function (t) {
					this.sharpen != t && (this._sharpen.sharpen = t, t < 0 ? this._sharpenPreview.sharpen = t * this._blurRadiusFactor : this._sharpenPreview.sharpen = t * this._sharpenRadiusFactor, this.invalidate(this._sharpen))
				}
			}, {
				key: "kelvin", get: function () {
					return this._adjust.kelvin
				}, set: function (t) {
					this.kelvin != t && (this._adjust.kelvin = t, this.invalidate(this._adjust))
				}
			}, {
				key: "blurType", get: function () {
					return this._blurType
				}, set: function (t) {
					this._blurType != t && (this._blurType = t, this._sharpen.setBlurType(t), this._sharpenPreview.setBlurType(t))
				}
			}, {
				key: "autolevel", get: function () {
					return this._autolevel.enabled
				}, set: function (t) {
					this.autolevel != t && (this._autolevel.enabled = t, this.invalidate(this._autolevel), this.pushHistory())
				}
			}, {
				key: "blurScale", get: function () {
					return this._sharpen.blurFilter.scale
				}, set: function (t) {
					this._sharpen.blurFilter.scale = t, this._sharpenPreview.blurFilter.scale = t
				}
			}]), e
		}(d["default"]);
	e["default"] = _
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(159), s = e(o);
		!function () {
			function e() {
				o.call(this), this._brightness = 0, this._contrast = 1, this._saturation = 1, this._hue = 0, this._kelvin = 0, this._needToUpdate = !0, this.rotateMat = new a
			}

			var n = i(162), o = i(163), a = i(164), h = .2125, l = .7154, u = .0721, c = new a, f = new a, d = new a,
				p = f;
			if (p.setTo(1.5, 0, 0, 0, 0, 1.5, 0, 0, 0, 0, .5, 0), p = d, p.setTo(.5, 0, 0, 0, 0, .5, 0, 0, 0, 0, 2, 0), n.extend(o, e), (0, s["default"])(e.prototype, {
					colorMatrix: {
						get: function () {
							if (this._needToUpdate) {
								var t = this._contrast, e = .5 * (1 - t), i = t * this._brightness + e,
									n = this._saturation, r = (1 - n) * h, o = (1 - n) * l, s = (1 - n) * u,
									a = i * (r + o + s + n);
								if (this._colorMatrix.setTo(t * (r + n), t * o, t * s, a, t * r, t * (o + n), t * s, a, t * r, t * o, t * (s + n), a), 0 != this._hue) {
									var e = this._hue * Math.PI / 180, p = Math.cos(e), g = Math.sin(e), m = c;
									m.m11 = .213 + .787 * p + g * -.213, m.m12 = .715 + p * -.715 + g * -.715, m.m13 = .072 + p * -.072 + .928 * g, m.m14 = 0, m.m21 = .213 + p * -.213 + .143 * g, m.m22 = .715 + .285 * p + .14 * g, m.m23 = .072 + p * -.072 + g * -.283, m.m24 = 0, m.m31 = .213 + p * -.213 + g * -.787, m.m32 = .715 + p * -.715 + .715 * g, m.m33 = .072 + .928 * p + .072 * g, m.m34 = 0, this._colorMatrix.append(m)
								}
								0 != this._kelvin && (c.identity(), this._kelvin < 0 ? c.interpolate(f, Math.abs(this._kelvin)) : c.interpolate(d, this._kelvin), this._colorMatrix.append(c))
							}
							return this._needToUpdate = !1, this._colorMatrix
						}
					}, brightness: {
						get: function () {
							return this._brightness
						}, set: function (t) {
							this._brightness != t && (this._brightness = t, this._needToUpdate = !0)
						}
					}, contrast: {
						get: function () {
							return this._contrast
						}, set: function (t) {
							this._contrast != t && (this._contrast = t, this._needToUpdate = !0)
						}
					}, saturation: {
						get: function () {
							return this._saturation
						}, set: function (t) {
							this._saturation != t && (this._saturation = t, this._needToUpdate = !0)
						}
					}, hue: {
						get: function () {
							return this._hue
						}, set: function (t) {
							this._hue != t && (this._hue = t, this._needToUpdate = !0)
						}
					}, kelvin: {
						get: function () {
							return this._kelvin
						}, set: function (t) {
							this._kelvin != t && (this._kelvin = t, this._needToUpdate = !0)
						}
					}, name: {
						get: function () {
							return "ColorTransformFilter"
						}
					}
				}), void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports)) t.exports = e; else {
				var g = usenamespace("editor.filter");
				g.ColorTransformFilter = e
			}
		}()
	}).call(e, i(158)(t))
}, function (t, e) {
	t.exports = function (t) {
		return t.webpackPolyfill || (t.deprecate = function () {
		}, t.paths = [], t.children = [], t.webpackPolyfill = 1), t
	}
}, function (t, e, i) {
	t.exports = {"default": i(160), __esModule: !0}
}, function (t, e, i) {
	i(161);
	var n = i(13).Object;
	t.exports = function (t, e) {
		return n.defineProperties(t, e)
	}
}, function (t, e, i) {
	var n = i(11);
	n(n.S + n.F * !i(21), "Object", {defineProperties: i(31)})
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(116), r = e(n), o = i(2), s = e(o), a = i(102), h = e(a);
		!function (e) {
			function i(t, e) {
				if (e.length <= 0) return t;
				var n = e.shift();
				return "undefined" == typeof t[n] && (t[n] = {}), i(t[n], e)
			}

			function n(t, e) {
				return e.prototype = (0, h["default"])(t.prototype), e.prototype.constructor = e, e.prototype
			}

			function o(t, e, i, n, r, o, s) {
				function a() {
					n[0] = h, h = i.apply(r, n), o(h, e), h < e ? setTimeout(a, 10) : setTimeout(s, 10, h, e)
				}

				var h = t, n = [h, e].concat(n);
				a()
			}

			e.usenamespace && (e.__bak_usenamespace_ = e.usenamespace), e.usenamespace = function (t) {
				return e.nts = e.nts || {}, i(e.nts, t.split("."))
			}, void 0 !== (0, s["default"])(t) && void 0 !== (0, s["default"])(t.exports) ? (t.exports.loop = o, t.exports.MAXIMUM_PROCESS = 1e5, t.exports.CONVOLUTION_DELAY = 20, t.exports.extend = n) : (usenamespace("common").extend = n, usenamespace("editor.util").loop = o, usenamespace("editor.filter").MAXIMUM_PROCESS = 1e5, usenamespace("editor.filter").CONVOLUTION_DELAY = 20), "function" != typeof r["default"] && (Object.assign = function (t) {
				if (null == t) throw new TypeError("Cannot convert undefined or null to object");
				t = Object(t);
				for (var e = 1; e < arguments.length; e++) {
					var i = arguments[e];
					if (null != i) for (var n in i) Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n])
				}
				return t
			}), function () {
				var t = Array.prototype.slice;
				try {
					t.call(document.documentElement)
				} catch (e) {
					Array.prototype.slice = function (e, i) {
						if (i = "undefined" != typeof i ? i : this.length, "[object Array]" === Object.prototype.toString.call(this)) return t.call(this, e, i);
						var n, r, o = [], s = this.length, a = e || 0;
						a = a >= 0 ? a : Math.max(0, s + a);
						var h = "number" == typeof i ? Math.min(i, s) : s;
						if (i < 0 && (h = s + i), r = h - a, r > 0) if (o = new Array(r), this.charAt) for (n = 0; n < r; n++) o[n] = this.charAt(a + n); else for (n = 0; n < r; n++) o[n] = this[a + n];
						return o
					}
				}
			}(), window.CanvasPixelArray && (CanvasPixelArray.prototype.set = function (t, e) {
				var i = e || 0, n = t.length;
				if (i + n > this.length) throw new Error("RangeError: Source is too large");
				for (var r = 0; i < n; i++) this[i] = t[r++]
			}, CanvasPixelArray.prototype.subarray = function (t, e) {
				for (var i = e - t, n = new Uint8Array(i), r = 0, o = t; o < e; o++) n[r++] = this[o];
				return n
			})
		}(window)
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(159), s = e(o);
		!function () {
			function e(t) {
				this._colorMatrix = t || new o
			}

			var n = i(162).loop, o = i(164);
			if (e.prototype = {
					constructor: e, applyFilter: function (t, e, i, n, r, o) {
						if (!this.colorMatrix.dirty) return !1;
						i = i || 0, n = n || 0, r = r || t.width, o = o || t.height;
						for (var s, a, h, l = 0 | Math.max(0, Math.min(t.width, i + r)), u = 0 | Math.max(0, Math.min(t.height, n + o)), c = this.colorMatrix.raw, f = c[0], d = c[3], p = c[6], g = c[9], m = c[1], y = c[4], v = c[7], _ = c[10], x = c[2], b = c[5], w = c[8], T = c[11], C = t.data, E = e.data, M = t.width, P = 0, S = 0, I = 0 | i; I < u; I++) {
							P = 4 * I * M | 0;
							for (var R = n; R < l; R++) S = P + 4 * R | 0, s = C[S] / 255, a = C[S + 1] / 255, h = C[S + 2] / 255, E[S] = 255 * (s * f + a * d + h * p + g), E[S + 1] = 255 * (s * m + a * y + h * v + _), E[S + 2] = 255 * (s * x + a * b + h * w + T), E[S + 3] = C[S + 3]
						}
						return !0
					}, applyFilterAsync: function (t, e, i, r, o, s, a, h) {
						if (!this.colorMatrix.dirty) return !1;
						i = i || 0, r = r || 0, o = o || t.width, s = s || t.height;
						var l = 0 | Math.max(0, Math.min(t.width, i + o)),
							u = 0 | Math.max(0, Math.min(t.height, r + s)), c = this.colorMatrix.raw, f = c[0],
							d = c[3], p = c[6], g = c[9], m = c[1], y = c[4], v = c[7], _ = c[10], x = c[2], b = c[5],
							w = c[8], T = c[11], C = t.data, E = e.data, M = t.width;
						return n(i, u, this.onFilterLoop, [C, E, M, l, f, d, p, g, m, y, v, _, x, b, w, T, c, r], this, a, h), !0
					}, onFilterLoop: function (t, e, i, n, r, o, s, a, h, l, u, c, f, d, p, g, m, y, v, _) {
						var x, b, w, T, C, E = i, M = n, P = t + 1e3;
						for (P > e && (P = e); t < P; t++) {
							x = 4 * t * r | 0;
							for (var S = _; S < o; S++) b = x + 4 * S | 0, w = E[b] / 255, T = E[b + 1] / 255, C = E[b + 2] / 255, M[b] = 255 * (w * s + T * a + C * h + l), M[b + 1] = 255 * (w * u + T * c + C * f + d), M[b + 2] = 255 * (w * p + T * g + C * m + y), M[b + 3] = E[b + 3]
						}
						return t
					}
				}, (0, s["default"])(e.prototype, {
					colorMatrix: {
						get: function () {
							return this._colorMatrix
						}
					}, name: {
						get: function () {
							return "ColorMatrixFilter"
						}
					}, changed: {
						get: function () {
							return this.colorMatrix.dirty
						}
					}
				}), void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports)) t.exports = e; else {
				var a = usenamespace("editor.filter");
				a.ColorMatrixFilter = e
			}
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(159), s = e(o);
		!function () {
			function e(t, e, i, n, r, o, s, a, h, l, u, c) {
				this._raw = new Float32Array(12), this.setTo(t || 1, e || 0, i || 0, n || 0, r || 0, o || 1, s || 0, a || 0, h || 0, l || 0, u || 1, c || 0)
			}

			if (e.prototype = {
					constructor: e, setTo: function (t, e, i, n, r, o, s, a, h, l, u, c) {
						var f = this._raw;
						return f[0] = t, f[3] = e, f[6] = i, f[9] = n, f[1] = r, f[4] = o, f[7] = s, f[10] = a, f[2] = h, f[5] = l, f[8] = u, f[11] = c, this
					}, identity: function () {
						var t = this._raw;
						return t[0] = 1, t[3] = 0, t[6] = 0, t[9] = 0, t[1] = 0, t[4] = 1, t[7] = 0, t[10] = 0, t[2] = 0, t[5] = 0, t[8] = 1, t[11] = 0, this
					}, interpolate: function (t, e) {
						var i = this._raw, n = t._raw;
						i[0] = i[0] + e * (n[0] - i[0]), i[1] = i[1] + e * (n[1] - i[1]), i[2] = i[2] + e * (n[2] - i[2]), i[3] = i[3] + e * (n[3] - i[3]), i[4] = i[4] + e * (n[4] - i[4]), i[5] = i[5] + e * (n[5] - i[5]), i[6] = i[6] + e * (n[6] - i[6]), i[7] = i[7] + e * (n[7] - i[7]), i[8] = i[8] + e * (n[8] - i[8]), i[9] = i[9] + e * (n[9] - i[9]), i[10] = i[10] + e * (n[10] - i[10]), i[11] = i[11] + e * (n[11] - i[11])
					}, rotateRed: function (t) {
						var e = this._raw, i = Math.cos(t), n = Math.sin(t);
						e[0] = 0, e[3] = 0, e[6] = 0, e[9] = 0, e[1] = 0, e[4] = i, e[7] = -n, e[10] = 0, e[2] = 0, e[5] = n, e[8] = i, e[11] = 0
					}, rotateGreen: function (t) {
						var e = this._raw, i = Math.cos(t), n = Math.sin(t);
						e[0] = i, e[3] = 0, e[6] = -n, e[9] = 0, e[1] = 0, e[4] = 0, e[7] = 0, e[10] = 0, e[2] = n, e[5] = 0, e[8] = i, e[11] = 0
					}, rotateBlue: function (t) {
						var e = this._raw, i = Math.cos(t), n = Math.sin(t);
						e[0] = i, e[3] = -n, e[6] = 0, e[9] = 0, e[1] = n, e[4] = i, e[7] = 0, e[10] = 0, e[2] = 0, e[5] = 0, e[8] = 1, e[11] = 0
					}, transformColor: function (t, e, i, n) {
						e = e || 0, n = n || 0, i = i || new Uint8ClampedArray(3);
						var r = t[e] / 255, o = t[e + 1] / 255, s = t[e + 2] / 255, a = this._raw;
						return i[n] = 255 * (r * a[0] + o * a[3] + s * a[6] + a[9]), i[n + 1] = 255 * (r * a[1] + o * a[4] + s * a[7] + a[10]), i[n + 2] = 255 * (r * a[2] + o * a[5] + s * a[8] + a[11]), this
					}, prepend: function (t) {
						var e = t._raw, i = this._raw, n = e[0], r = e[3], o = e[6], s = e[9], a = e[1], h = e[4],
							l = e[7], u = e[10], c = e[2], f = e[5], d = e[8], p = e[11], g = i[0], m = i[3], y = i[6],
							v = i[9], _ = i[1], x = i[4], b = i[7], w = i[10], T = i[2], C = i[5], E = i[8], M = i[11];
						return i[0] = n * g + r * _ + o * T, i[3] = n * m + r * x + o * C, i[6] = n * y + r * b + o * E, i[9] = n * v + r * w + o * M + s, i[1] = a * g + h * _ + l * T, i[4] = a * m + h * x + l * C, i[7] = a * y + h * b + l * E, i[10] = a * v + h * w + l * M + u, i[2] = c * g + f * _ + d * T, i[5] = c * m + f * x + d * C, i[8] = c * y + f * b + d * E, i[11] = c * v + f * w + d * M + p, this
					}, append: function (t) {
						var e = t._raw, i = this._raw, n = i[0], r = i[3], o = i[6], s = i[9], a = i[1], h = i[4],
							l = i[7], u = i[10], c = i[2], f = i[5], d = i[8], p = i[11], g = e[0], m = e[3], y = e[6],
							v = e[9], _ = e[1], x = e[4], b = e[7], w = e[10], T = e[2], C = e[5], E = e[8], M = e[11];
						return i[0] = n * g + r * _ + o * T, i[3] = n * m + r * x + o * C, i[6] = n * y + r * b + o * E, i[9] = n * v + r * w + o * M + s, i[1] = a * g + h * _ + l * T, i[4] = a * m + h * x + l * C, i[7] = a * y + h * b + l * E, i[10] = a * v + h * w + l * M + u, i[2] = c * g + f * _ + d * T, i[5] = c * m + f * x + d * C, i[8] = c * y + f * b + d * E, i[11] = c * v + f * w + d * M + p, this
					}, clone: function () {
						var t = this._raw;
						return new e(t[0], t[3], t[6], t[9], t[1], t[4], t[7], t[10], t[2], t[5], t[8], t[11])
					}, toString: function () {
						for (var t = "", e = 0; e < 3; e++) t += this._raw[e] + "\t" + this._raw[e + 3] + "\t" + this._raw[e + 6] + "\t" + this._raw[e + 9] + "\n";
						return t
					}
				}, (0, s["default"])(e.prototype, {
					raw: {
						get: function () {
							return this._raw
						}
					}, dirty: {
						get: function () {
							var t = this._raw;
							return 1 != t[0] || 0 != t[3] || 0 != t[6] || 0 != t[9] || 0 != t[1] || 1 != t[4] || 0 != t[7] || 0 != t[10] || 0 != t[2] || 0 != t[5] || 1 != t[8] || 0 != t[11]
						}
					}, m11: {
						get: function () {
							return this._raw[0]
						}, set: function (t) {
							this._raw[0] = t
						}
					}, m12: {
						get: function () {
							return this._raw[3]
						}, set: function (t) {
							this._raw[3] = t
						}
					}, m13: {
						get: function () {
							return this._raw[6]
						}, set: function (t) {
							this._raw[6] = t
						}
					}, m14: {
						get: function () {
							return this._raw[9]
						}, set: function (t) {
							this._raw[9] = t
						}
					}, m21: {
						get: function () {
							return this._raw[1]
						}, set: function (t) {
							this._raw[1] = t
						}
					}, m22: {
						get: function () {
							return this._raw[4]
						}, set: function (t) {
							this._raw[4] = t
						}
					}, m23: {
						get: function () {
							return this._raw[7]
						}, set: function (t) {
							this._raw[7] = t
						}
					}, m24: {
						get: function () {
							return this._raw[10]
						}, set: function (t) {
							this._raw[10] = t
						}
					}, m31: {
						get: function () {
							return this._raw[2]
						}, set: function (t) {
							this._raw[2] = t
						}
					}, m32: {
						get: function () {
							return this._raw[5]
						}, set: function (t) {
							this._raw[5] = t
						}
					}, m33: {
						get: function () {
							return this._raw[8]
						}, set: function (t) {
							this._raw[8] = t
						}
					}, m34: {
						get: function () {
							return this._raw[11]
						}, set: function (t) {
							this._raw[11] = t
						}
					}
				}), void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports)) t.exports = e; else {
				var i = usenamespace("editor.filter");
				i.ColorMatrix = e
			}
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(159), s = e(o);
		!function () {
			function e() {
				arguments.length > 0 && void 0, this.sharpen = 0, this._blurFilter = new n
			}

			var n = i(166), o = i(167), a = i(168);
			if (Object.defineProperty(e, "BLUR_TYPE_STACK", {
					get: function () {
						return void 0, "stack"
					}
				}), Object.defineProperty(e, "BLUR_TYPE_GAUSSIAN", {
					get: function () {
						return void 0, "gaussian"
					}
				}), e.prototype = {
					constructor: e, setBlurType: function (t) {
						switch (void 0, t) {
							case e.BLUR_TYPE_STACK:
								this._blurFilter = new n, this._blurRadiusFactory = function (t) {
									return 50 * Math.abs(t) << 0
								};
								break;
							case e.BLUR_TYPE_GAUSSIAN:
								this._blurFilter = new o, this._blurRadiusFactory = function (t) {
									return Math.abs(20 * t)
								};
								break;
							default:
								void 0, this.setBlurType(e.BLUR_TYPE_STACK)
						}
					}, applyFilter: function (t, e, i, n, r, o) {
						return this._callFilterFunc(t, e, i, n, r, o, null, null, !1)
					}, applyFilterAsync: function (t, e, i, n, r, o, s, a) {
						return this._callFilterFunc(t, e, i, n, r, o, s, a, !0)
					}, _callFilterFunc: function (t, e, i, n, r, o, s, a, h) {
						return 0 != this.sharpen && (this.sharpen < 0 ? this._applyBlurFilter(t, e, i, n, r, o, s, a, h) : this._applyConvolutionFilter(t, e, i, n, r, o, s, a, h), !0)
					}, _applyBlurFilter: function (t, e, i, n, r, o, s, a, h) {
						this._blurFilter.radius = 50 * Math.abs(this.sharpen) << 0, h ? this._blurFilter.applyFilterAsync(t, e, i, n, r, o, s, a) : this._blurFilter.applyFilter(t, e, i, n, r, o)
					}, _applyConvolutionFilter: function (t, e, i, n, r, o, s, h, l) {
						this._convulutionFilter = this._convulutionFilter || new a, this._convulutionFilter.setFactor(this.sharpen), l ? this._convulutionFilter.applyFilterAsync(t, e, i, n, r, o, s, h) : this._convulutionFilter.applyFilter(t, e, i, n, r, o)
					}
				}, (0, s["default"])(e.prototype, {
					name: {
						get: function () {
							return "SharpenAdjustment"
						}
					}, changed: {
						get: function () {
							return 0 != this.sharpen
						}
					}, blurFilter: {
						get: function () {
							return this._blurFilter
						}
					}
				}), void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports)) t.exports = e; else {
				var h = usenamespace("editor.filter");
				h.SharpenAdjustment = e
			}
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(159), s = e(o);
		!function () {
			function e() {
				this._radius = 1, this._scale = 1
			}

			function n(t, e, i) {
				var n = t.width, r = t.height, o = document.createElement("canvas"), s = o.getContext("2d");
				o.width = n, o.height = r, s.putImageData(t, 0, 0);
				var a = document.createElement("canvas"), h = a.getContext("2d");
				return a.width = e, a.height = i, h.drawImage(o, 0, 0, n, r, 0, 0, e, i), h.getImageData(0, 0, e, i)
			}

			function o(t, e) {
				e.data.set(t.data)
			}

			function a(t, e, i, n, r, o, s, a) {
				function h(e, i, a) {
					for (var l, c, f, p, y, _, I, A, k, O, L, D, B, N, F, z, H = t.data, j = 1e3 / m, U = S / t.width << 0, V = 0, X = new Date, W = 0; e < r; e++, W++, V++) {
						if (V == U) {
							if (j < new Date - X) return R += W, s(R), void setTimeout(function () {
								h(e, i, a)
							}, u.CONVOLUTION_DELAY);
							V = 0
						}
						for (O = L = D = I = A = k = 0, p = x * (B = H[i]), y = x * (N = H[i + 1]), _ = x * (F = H[i + 2]), I += b * B, A += b * N, k += b * F, T = w, c = 0; c < x; c++) T.r = B, T.g = N, T.b = F, T = T.next;
						for (c = 1; c < x; c++) f = i + ((v < c ? v : c) << 2), I += (T.r = B = H[f]) * (z = x - c), A += (T.g = N = H[f + 1]) * z, k += (T.b = F = H[f + 2]) * z, O += B, L += N, D += F, T = T.next;
						for (C = w, E = g, l = 0; l < n; l++) H[i] = I * M >> P, H[i + 1] = A * M >> P, H[i + 2] = k * M >> P, I -= p, A -= y, k -= _, p -= C.r, y -= C.g, _ -= C.b, f = a + ((f = l + o + 1) < v ? f : v) << 2, O += C.r = H[f], L += C.g = H[f + 1], D += C.b = H[f + 2], I += O, A += L, k += D, C = C.next, p += B = E.r, y += N = E.g, _ += F = E.b, O -= B, L -= N, D -= F, E = E.next, i += 4;
						a += n
					}
					s(R += W), setTimeout(function () {
						d(0)
					}, u.CONVOLUTION_DELAY)
				}

				function d(e) {
					for (var i, a, h, l, c, f, y, v, S, A, k, O, L, D, B, N, F, z, H = t.data, j = 1e3 / m, U = I / t.height << 0, V = 0, X = new Date, W = 0; e < n; e++, W++, V++) {
						if (V == U) {
							if (j < new Date - X) return R += W, s(R), void setTimeout(function () {
								d(e)
							}, u.CONVOLUTION_DELAY);
							V = 0
						}
						for (L = D = O = A = k = S = 0, l = e << 2, f = x * (B = H[l]), y = x * (N = H[l + 1]), v = x * (F = H[l + 2]), S += b * B, A += b * N, k += b * F, T = w, i = 0; i < x; i++) T.r = B, T.g = N, T.b = F, T = T.next;
						for (c = n, i = 1; i <= o; i++) l = c + e << 2, S += (T.r = B = H[l]) * (z = x - i), A += (T.g = N = H[l + 1]) * z, k += (T.b = F = H[l + 2]) * z, O += B, L += N, D += F, T = T.next, i < _ && (c += n);
						for (l = e, C = w, E = g, h = 0; h < r; h++) a = l << 2, H[a] = S * M >> P, H[a + 1] = A * M >> P, H[a + 2] = k * M >> P, S -= f, A -= y, k -= v, f -= C.r, y -= C.g, v -= C.b, a = e + ((a = h + x) < _ ? a : _) * n << 2, S += O += C.r = H[a], A += L += C.g = H[a + 1], k += D += C.b = H[a + 2], C = C.next, f += B = E.r, y += N = E.g, v += F = E.b, O -= B, L -= N, D -= F, E = E.next, l += n
					}
					s(R + W), p()
				}

				function p() {
					var t;
					for (T = w; ;) {
						if (t = T.next, !t) break;
						T.next = null, T = t;
					}
					a ? a() : null
				}

				if (!(isNaN(o) || o < 1)) {
					o = o || 0;
					var g, m = 6e7 / u.MAXIMUM_PROCESS, y = o + o + 1, v = n - 1, _ = r - 1, x = o + 1,
						b = x * (x + 1) / 2, w = new l, T = w;
					!function () {
						for (var t = 1; t < y; t++) T = T.next = new l, t == x && (g = T)
					}(), T.next = w;
					var C = null, E = null, M = c[o], P = f[o], S = 13e4, I = 1e5, R = 0;
					h(0, 0, 0)
				}
			}

			function h(t, e, i, n, r, o) {
				if (!(isNaN(o) || o < 1)) {
					o |= 0;
					var s, a, h, u, d, p, g, m, y, v, _, x, b, w, T, C, E, M, P, S, I = t.data, R = o + o + 1,
						A = n - 1, k = r - 1, O = o + 1, L = O * (O + 1) / 2, D = new l, B = D;
					for (h = 1; h < R; h++) if (B = B.next = new l, h == O) var N = B;
					B.next = D;
					var F = null, z = null;
					g = p = 0;
					var H = c[o], j = f[o];
					for (a = 0; a < r; a++) {
						for (w = T = C = m = y = v = 0, _ = O * (E = I[p]), x = O * (M = I[p + 1]), b = O * (P = I[p + 2]), m += L * E, y += L * M, v += L * P, B = D, h = 0; h < O; h++) B.r = E, B.g = M, B.b = P, B = B.next;
						for (h = 1; h < O; h++) u = p + ((A < h ? A : h) << 2), m += (B.r = E = I[u]) * (S = O - h), y += (B.g = M = I[u + 1]) * S, v += (B.b = P = I[u + 2]) * S, w += E, T += M, C += P, B = B.next;
						for (F = D, z = N, s = 0; s < n; s++) I[p] = m * H >> j, I[p + 1] = y * H >> j, I[p + 2] = v * H >> j, m -= _, y -= x, v -= b, _ -= F.r, x -= F.g, b -= F.b, u = g + ((u = s + o + 1) < A ? u : A) << 2, w += F.r = I[u], T += F.g = I[u + 1], C += F.b = I[u + 2], m += w, y += T, v += C, F = F.next, _ += E = z.r, x += M = z.g, b += P = z.b, w -= E, T -= M, C -= P, z = z.next, p += 4;
						g += n
					}
					for (s = 0; s < n; s++) {
						for (T = C = w = y = v = m = 0, p = s << 2, _ = O * (E = I[p]), x = O * (M = I[p + 1]), b = O * (P = I[p + 2]), m += L * E, y += L * M, v += L * P, B = D, h = 0; h < O; h++) B.r = E, B.g = M, B.b = P, B = B.next;
						for (d = n, h = 1; h <= o; h++) p = d + s << 2, m += (B.r = E = I[p]) * (S = O - h), y += (B.g = M = I[p + 1]) * S, v += (B.b = P = I[p + 2]) * S, w += E, T += M, C += P, B = B.next, h < k && (d += n);
						for (p = s, F = D, z = N, a = 0; a < r; a++) u = p << 2, I[u] = m * H >> j, I[u + 1] = y * H >> j, I[u + 2] = v * H >> j, m -= _, y -= x, v -= b, _ -= F.r, x -= F.g, b -= F.b, u = s + ((u = a + O) < k ? u : k) * n << 2, m += w += F.r = I[u], y += T += F.g = I[u + 1], v += C += F.b = I[u + 2], F = F.next, _ += E = z.r, x += M = z.g, b += P = z.b, w -= E, T -= M, C -= P, z = z.next, p += n
					}
					var U;
					for (B = D; ;) {
						if (U = B.next, !U) break;
						B.next = null, B = U
					}
				}
			}

			function l() {
				this.r = 0, this.g = 0, this.b = 0, this.a = 0, this.next = null
			}

			var u = i(162);
			e.prototype = {
				constructor: e, applyFilterAsync: function (t, e, i, r, s, h, l, u) {
					function c(t) {
						l(t, f)
					}

					var f, d = this._getScaledRadius();
					if (1 != this.scale) {
						var p, g = function () {
							p = n(p, t.width, t.height), setTimeout(function () {
								o(p, e), c(f), u()
							}, 1)
						}, m = Math.ceil(t.width * this.scale), y = Math.ceil(t.height * this.scale);
						f = m + y + 1, setTimeout(function () {
							c(0), p = n(t, m, y), a(p, 0, 0, p.width, p.height, d, c, g)
						}, 1)
					} else {
						var v = function () {
							c(f), setTimeout(u, 1)
						};
						f = t.width + t.height + 1, setTimeout(function () {
							c(0), t != e && o(t, e), setTimeout(function () {
								a(e, 0, 0, e.width, e.height, d, c, v)
							}, 1)
						}, 1)
					}
				}, applyFilter: function (t, e, i, r, s, a) {
					var l = this._getScaledRadius(), u = h;
					if (1 != this.scale) {
						var c = Math.ceil(t.width * this.scale), f = Math.ceil(t.height * this.scale), d = n(t, c, f);
						u(d, 0, 0, d.width, d.height, l), d = n(d, t.width, t.height), o(d, e)
					} else t != e && o(t, e), u(e, 0, 0, e.width, e.height, l)
				}, _getScaledRadius: function () {
					return this.radius * this.scale << 0
				}
			}, (0, s["default"])(e.prototype, {
				radius: {
					get: function () {
						return this._radius
					}, set: function (t) {
						this._radius = parseInt(t), this._radius < 1 && (this._radius = 1)
					}
				}, scale: {
					get: function () {
						return this._scale
					}, set: function (t) {
						this._scale = parseFloat(t), this._scale = Math.max(.1, this._scale), this._scale = Math.min(1, this._scale)
					}
				}
			});
			var c = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259],
				f = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];
			if (void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports)) t.exports = e; else {
				var d = usenamespace("editor.filter");
				d.StackBlur = e
			}
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n);
		!function () {
			function e(t) {
				this.radius = t || 10
			}

			if (e.prototype = {
					constructor: e, applyFilter: function (t, e, i, n, r, o) {
						function s(t) {
							t = null;
							var e;
							return e = t ? t.subarray(0, t.length) : new Uint8Array(u)
						}

						for (var a = e.data, h = t.data, l = h.length, u = l / 4, c = s(), f = s(), d = s(), p = s(), g = 0, m = 0; m < l;) c[g] = h[m++], f[g] = h[m++], d[g] = h[m++], p[g] = h[m++], g++;
						var y = s(c), v = s(f), _ = s(d), x = s(p), b = t.width, w = t.height,
							T = this._boxesForGauss(this.radius, 3);
						this._exp_gaussBlur_4(c, y, T, b, w, this.radius), this._exp_gaussBlur_4(f, v, T, b, w, this.radius), this._exp_gaussBlur_4(d, _, T, b, w, this.radius), this._exp_gaussBlur_4(p, x, T, b, w, this.radius);
						var C;
						for (l = c.length, m = 0; m < l; m++) C = 4 * m << 0, a[C] = y[m], a[C + 1] = v[m], a[C + 2] = _[m], a[C + 3] = x[m]
					}, _exp_gaussBlur_4: function (t, e, i, n, r, o) {
						this._exp_boxBlur_4(t, e, n, r, (i[0] - 1) / 2), this._exp_boxBlur_4(e, t, n, r, (i[1] - 1) / 2), this._exp_boxBlur_4(t, e, n, r, (i[2] - 1) / 2)
					}, _exp_boxBlur_4: function (t, e, i, n, r) {
						for (var o = t.length, s = 0; s < o; s++) e[s] = t[s];
						this._exp_boxBlurH_4(e, t, i, n, r), this._exp_boxBlurT_4(t, e, i, n, r)
					}, _exp_boxBlurH_4: function (t, e, i, n, r) {
						for (var o, s, a, h, l, u, c, f = 1 / (r + r + 1), d = 0; d < n; d++) {
							for (s = d * i << 0, a = s << 0, h = s + r << 0, l = t[s], u = t[s + i - 1], c = (r + 1) * l, o = 0; o < r; o++) c += t[s + o];
							for (o = 0; o <= r; o++) c += t[h++] - l, e[s++] = c * f + .5 << 0;
							for (o = r + 1; o < i - r; o++) c += t[h++] - t[a++], e[s++] = c * f + .5 << 0;
							for (o = i - r; o < i; o++) c += u - t[a++], e[s++] = c * f + .5 << 0
						}
					}, _exp_boxBlurT_4: function (t, e, i, n, r) {
						for (var o, s, a, h, l, u, c, f = 1 / (r + r + 1), d = 0; d < i; d++) {
							for (s = d << 0, a = s << 0, h = s + r * i << 0, l = t[s], u = t[s + i * (n - 1)], c = (r + 1) * l, o = 0; o < r; o++) c += t[s + o * i];
							for (o = 0; o <= r; o++) c += t[h] - l, e[s] = c * f + .5 << 0, h += i << 0, s += i << 0;
							for (o = r + 1; o < n - r; o++) c += t[h] - t[a], e[s] = c * f + .5 << 0, a += i << 0, h += i << 0, s += i << 0;
							for (o = n - r; o < n; o++) c += u - t[a], e[s] = c * f + .5 << 0, a += i << 0, s += i << 0
						}
					}, _boxesForGauss: function (t, e) {
						var i = Math.sqrt(12 * t * t / e + 1), n = Math.floor(i);
						n % 2 == 0 && n--;
						for (var r = n + 2, o = (12 * t * t - e * n * n - 4 * e * n - 3 * e) / (-4 * n - 4), s = Math.round(o), a = [], h = 0; h < e; h++) a.push(h < s ? n : r);
						return a
					}
				}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports)) t.exports = e; else {
				var i = usenamespace("editor.filter");
				i.GaussBlurFilter = e
			}
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n);
		!function () {
			function e() {
				this._matrix = [0, 0, 0, 0, 1, 0, 0, 0, 0]
			}

			var n = i(162);
			if (e.prototype = {
					constructor: e, setFactor: function (t) {
						var e = Math.round(255 * t), i = (e + 10) / 10, n = -(i - 1) / 8;
						return this._matrix = [n, n, n, n, i, n, n, n, n], this
					}, applyFilter: function (t, e, i, n, r, o) {
						var s = this._applyNotCalcAlpha;
						s.apply(this, arguments)
					}, applyFilterAsync: function (t, e, i, r, o, s, a, h) {
						function l() {
							for (var i, r, o = 1e3 / b, s = 3e5, h = 0, c = g, f = m, p = d, w = t.data, T = e.data, C = 0, E = 0, M = 0, P = 0, S = new Date; f < c; f += 4, P++, h++) {
								if (s == h) {
									if (new Date - S > o) return y += 4 * P, a(y, v), m = f, void setTimeout(l, n.CONVOLUTION_DELAY);
									h = 0
								}
								C = E = M = 0, r = f - p << 0, i = r - 4 << 0, C += w[i] * _, E += w[i + 1] * _, M += w[i + 2] * _, C += w[r] * _, E += w[r + 1] * _, M += w[r + 2] * _, i = r + 4 << 0, C += w[i] * _, E += w[i + 1] * _, M += w[i + 2] * _, i = f - 4 << 0, C += w[i] * _, E += w[i + 1] * _, M += w[i + 2] * _, C += w[f] * x, E += w[f + 1] * x, M += w[f + 2] * x, i = f + 4 << 0, C += w[i] * _, E += w[i + 1] * _, M += w[i + 2] * _, r = f + p << 0, i = r - 4 << 0, C += w[i] * _, E += w[i + 1] * _, M += w[i + 2] * _, C += w[r] * _, E += w[r + 1] * _, M += w[r + 2] * _, i = r + 4 << 0, C += w[i] * _, E += w[i + 1] * _, M += w[i + 2] * _, T[f] = C, T[f + 1] = E, T[f + 2] = M, T[f + 3] = w[f + 3]
							}
							u()
						}

						function u() {
							var i = t.data, n = d, r = e.data;
							r.set(i.subarray(0, n), 0), r.set(i.subarray(p - n, p), p - n);
							var o, s, l = t.height - 1, u = n - 4;
							for (o = 1; o < l; o++) s = o * n, r[s] = i[s], r[s + 1] = i[s + 1], r[s + 2] = i[s + 2], s += u, r[s] = i[s], r[s + 1] = i[s + 1], r[s + 2] = i[s + 2];
							a(v, v), h()
						}

						var c = this._matrix, f = Math.round(Math.sqrt(c.length));
						if (Math.pow(f, 2) != c.length) throw new Error(" matrix    .");
						var d = 4 * t.width, p = t.data.length, g = p - d - 4, m = d + 4 << 0, y = 0, v = g + 1,
							_ = c[0], x = c[4], b = 6e7 / n.MAXIMUM_PROCESS;
						a(0, v), l()
					}, _applyNotCalcAlpha: function (t, e) {
						var i = this._matrix, n = Math.round(Math.sqrt(i.length));
						if (Math.pow(n, 2) != i.length) throw new Error(" matrix    .");
						for (var r, o, s = t.data, a = t.width, h = e.data, l = 0, u = 0, c = 0, f = i[0], d = i[4], p = s.length, g = 4 * a, m = p - g - 4, y = g + 4 << 0; y < m; y += 4) l = u = c = 0, o = y - g << 0, r = o - 4 << 0, l += s[r] * f, u += s[r + 1] * f, c += s[r + 2] * f, l += s[o] * f, u += s[o + 1] * f, c += s[o + 2] * f, r = o + 4 << 0, l += s[r] * f, u += s[r + 1] * f, c += s[r + 2] * f, r = y - 4 << 0, l += s[r] * f, u += s[r + 1] * f, c += s[r + 2] * f, l += s[y] * d, u += s[y + 1] * d, c += s[y + 2] * d, r = y + 4 << 0, l += s[r] * f, u += s[r + 1] * f, c += s[r + 2] * f, o = y + g << 0, r = o - 4 << 0, l += s[r] * f, u += s[r + 1] * f, c += s[r + 2] * f, l += s[o] * f, u += s[o + 1] * f, c += s[o + 2] * f, r = o + 4 << 0, l += s[r] * f, u += s[r + 1] * f, c += s[r + 2] * f, h[y] = l, h[y + 1] = u, h[y + 2] = c, h[y + 3] = s[y + 3];
						h.set(s.subarray(0, g), 0), h.set(s.subarray(p - g, p), p - g);
						var v, _, x = t.height - 1, b = g - 4;
						for (v = 1; v < x; v++) _ = v * g, h[_] = s[_], h[_ + 1] = s[_ + 1], h[_ + 2] = s[_ + 2], _ += b, h[_] = s[_], h[_ + 1] = s[_ + 1], h[_ + 2] = s[_ + 2]
					}, _applyOrg: function (t, e) {
						var i = this._matrix, n = Math.round(Math.sqrt(i.length));
						if (Math.pow(n, 2) != i.length) throw new Error(" matrix    .");
						var r, o, s, a, h, l, u, c, f, d, p, g = Math.floor(n / 2), m = t.data, y = t.width,
							v = t.height, _ = y - 1, x = v - 1, b = e.data, w = 0, T = 0, C = 0, E = 0, M = y * v,
							P = 0, S = 0;
						r = S - g;
						for (var I = 0; I < M; I++) {
							for (f = 4 * (S * y + P), w = 0, T = 0, C = 0, E = 0, o = P - g, a = 0; a < n; a++) for (h = r + a, h < 0 ? h = 0 : h > x && (h = x), d = h * y, p = a * n, s = 0; s < n; s++) l = o + s, l < 0 ? l = 0 : l > _ && (l = _), u = 4 * (d + l), c = i[p + s], w += m[u] * c, T += m[u + 1] * c, C += m[u + 2] * c, E += m[u + 3] * c;
							b[f] = w, b[f + 1] = T, b[f + 2] = C, b[f + 3] = E, P == y && (P = 0, S++, r = S - g), P++
						}
					}
				}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports)) t.exports = e; else {
				var o = usenamespace("editor.filter");
				o.SharpenConvolutionFilter = e
			}
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(159), s = e(o);
		!function () {
			function e() {
				this._enabled = !1
			}

			function n(t, e, i, n, r, o, s, a, h, l, u, c, f, d, p, g, m, y, v, _) {
				this.rgbLeft = t || 0, this.rgbCenter = e || 1, this.rgbRight = i || 255, this.rLeft = n || 0, this.rCenter = r || 1, this.rRight = o || 255, this.gLeft = s || 0, this.gCenter = a || 1, this.gRight = h || 255, this.bLeft = l || 0, this.bCenter = u || 1, this.bRight = c || 255, this.rgbMax = f || 255, this.rMax = p || 255, this.gMax = m || 255, this.bMax = v || 255, this.rgbMin = d || 0, this.rMin = g || 0, this.gMin = y || 0, this.bMin = _ || 0
			}

			function o() {
			}

			function a() {
				this.mean = 0, this.stdDev = 0, this.median = 0, this.counts = null, this.graphHeights = null, this.total = 0
			}

			var h = i(162), l = h.loop;
			if (e.prototype = {
					constructor: e, applyFilter: function (t, e, i, r, s, a) {
						if (!this._enabled) return !1;
						var h = new o;
						h.setSource(t);
						var l = this._getLeftRight(h.red.counts, h.red.total),
							u = this._getLeftRight(h.green.counts, h.green.total),
							c = this._getLeftRight(h.blue.counts, h.blue.total), f = new n;
						f.rLeft = l[0], f.rRight = l[1], f.gLeft = u[0], f.gRight = u[1], f.bLeft = c[0], f.bRight = c[1];
						for (var d, p, g, m = f.getTransArrays(), y = e.data, v = t.data, _ = v.length, x = 0; x < _; x += 4) d = v[x], p = v[x + 1], g = v[x + 2], y[x] = m[0][d], y[x + 1] = m[1][p], y[x + 2] = m[2][g], y[x + 3] = v[x + 3];
						return !0
					}, applyFilterAsync: function (t, e, i, r, s, a, h, u) {
						if (!this._enabled) return !1;
						var c = new o;
						c.setSource(t);
						var f = this._getLeftRight(c.red.counts, c.red.total),
							d = this._getLeftRight(c.green.counts, c.green.total),
							p = this._getLeftRight(c.blue.counts, c.blue.total), g = new n;
						g.rLeft = f[0], g.rRight = f[1], g.gLeft = d[0], g.gRight = d[1], g.bLeft = p[0], g.bRight = p[1];
						var m = g.getTransArrays(), y = e.data, v = t.data, _ = v.length;
						return l(0, _, this.onFilterLoop, [m, y, v], this, h, u), !0
					}, onFilterLoop: function (t, e, i, n, r) {
						var o, s, a, l = i, u = n, c = r, f = t + 4 * h.MAXIMUM_PROCESS;
						for (f > e && (f = e); t < f; t += 4) o = c[t], s = c[t + 1], a = c[t + 2], u[t] = l[0][o], u[t + 1] = l[1][s], u[t + 2] = l[2][a], u[t + 3] = c[t + 3];
						return t
					}, _logValue: function (t) {
						return t = 1 - t, t <= .001 && (t = .001), t >= .99 && (t = .99), Math.log(t) / Math.log(.5)
					}, _getLeftRight: function (t, e) {
						for (var i = 0, n = 0, r = 0; r < t.length && (n += t[r], !(n / e > .002)); r++) i = r;
						var o = 255;
						for (n = 0, r = t.length - 1; r >= 0 && (n += t[r], !(n / e > .002)); r--) o = r;
						return [i, o]
					}
				}, (0, s["default"])(e.prototype, {
					enabled: {
						get: function () {
							return this._enabled
						}, set: function (t) {
							this._enabled = Boolean(t)
						}
					}, name: {
						get: function () {
							return "AutoAdjustment"
						}
					}, changed: {
						get: function () {
							return this._enabled
						}
					}
				}), n.prototype = {
					constructor: n, equals: function (t) {
						return t.rgbLeft == this.rgbLeft && t.rgbCenter == this.rgbCenter && t.rgbRight == this.rgbRight && t.rLeft == this.rLeft && t.rCenter == this.rCenter && t.rRight == this.rRight && t.gLeft == this.gLeft && t.gCenter == this.gCenter && t.gRight == this.gRight && t.bLeft == this.bLeft && t.bCenter == this.bCenter && t.bRight == this.bRight && t.rgbMax == this.rgbMax && t.rMax == this.rMax && t.gMax == this.gMax && t.bMax == this.bMax && t.rgbMin == this.rgbMin && t.rMin == this.rMin && t.gMin == this.gMin && t.bMin == this.bMin
					}, getTransArrays: function () {
						for (var t, e, i, n = new Array(256), r = new Array(256), o = new Array(256), s = this.rgbRight - this.rgbLeft, a = this.rRight - this.rLeft, h = this.gRight - this.gLeft, l = this.bRight - this.bLeft, u = 1 / this.rgbCenter, c = 1 / this.rCenter, f = 1 / this.gCenter, d = 1 / this.bCenter, p = this.rgbMax, g = this.rMax, m = this.gMax, y = this.bMax, v = this.rgbMin, _ = this.rMin, x = this.gMin, b = this.bMin, w = 0; w < 256; w++) t = w, e = w, i = w, t = t <= this.rLeft ? _ : t >= this.rRight ? g : _ + Math.round(Math.pow((t - this.rLeft) / a, c) * (g - _)), e = e <= this.gLeft ? x : e >= this.gRight ? m : x + Math.round(Math.pow((e - this.gLeft) / h, f) * (m - x)), i = i <= this.bLeft ? b : i >= this.bRight ? y : b + Math.round(Math.pow((i - this.bLeft) / l, d) * (y - b)), t = t < this.rgbLeft ? v : t > this.rgbRight ? p : v + Math.round(Math.pow((t - this.rgbLeft) / s, u) * (p - v)), e = e < this.rgbLeft ? v : e > this.rgbRight ? p : v + Math.round(Math.pow((e - this.rgbLeft) / s, u) * (p - v)), i = i < this.rgbLeft ? v : i > this.rgbRight ? p : v + Math.round(Math.pow((i - this.rgbLeft) / s, u) * (p - v)), n[w] = t, r[w] = e, o[w] = i;
						return [n, r, o]
					}
				}, o.prototype = {
					constructor: o, setSource: function (t) {
						this.source = t;
						var e = Math.ceil(this.source.width * this.source.height / 1e5);
						this.generate(e)
					}, generate: function (t) {
						if (this.source) {
							this.pixels = this.source.width * this.source.height;
							var e, i = this.source.data, n = [], r = [], o = [], s = [], a = [];
							for (e = 0; e < 256; e++) n[e] = 0, r[e] = 0, o[e] = 0, s[e] = 0, a[e] = 0;
							for (e = 0; e < this.pixels / t; e++) {
								var h = i[4 * e * t], l = i[4 * e * t + 1], u = i[4 * e * t + 2],
									c = Math.round(.299 * h + .587 * l + .114 * u);
								r[h]++, o[l]++, s[u]++, n[h]++, n[l]++, n[u]++, a[c]++
							}
							this.rgb = this.setChannelInfo(n), this.red = this.setChannelInfo(r), this.green = this.setChannelInfo(o), this.blue = this.setChannelInfo(s), this.luminosity = this.setChannelInfo(a)
						}
					}, setChannelInfo: function (t) {
						var e = new a;
						e.counts = t.slice();
						var i, n = 0, r = 0, o = Math.ceil(this.pixels / 2);
						for (i = 0; i < 256; i++) n += i * t[i], r += t[i], r < o && (e.median = i + 1);
						e.mean = n / this.pixels;
						var s = 0;
						for (i = 0; i < 256; i++) s += t[i] * ((i - e.mean) * (i - e.mean));
						e.stdDev = Math.sqrt(s / this.pixels);
						var h, l = 0, u = 0, c = 0;
						for (i = 0; i < 256; i++) c += t[i], t[i] > 0 && u++, t[i] > l && (l = t[i]);
						for (h = r / u, l = Math.min(4 * h, l), e.graphHeights = [], i = 0; i < 256; i++) {
							var f = Math.round(t[i] / l * 100);
							f > 100 && (f = 100), t[i] > 0 && f < 1 && (f = 1), e.graphHeights[i] = f
						}
						return e.total = c, e
					}
				}, a.prototype = {constructor: a}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports)) t.exports.AutoAdjustment = e, t.exports.LevelInfo = n, t.exports.Histogram = o, t.exports.ChannelInfo = a; else {
				var u = usenamespace("editor.filter");
				u.AutoAdjustment = e, u.LevelInfo = n, u.Histogram = o, u.ChannelInfo = a
			}
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	function r(t) {
		return function (e, i) {
			var n = Math.max(e.w, e.h), r = Math.min(e.w, e.h), o = Math.max(t / n, 1 / r);
			o > 1 ? i.identity() : (e.w = e.w * o | 0, e.h = e.h * o | 0, i.scaleX = i.scaleY = o)
		}
	}

	function o(t, e, i, n) {
		var r = Math.max(e, i), o = Math.min(e, i);
		if (r > n) {
			var s = Math.min(1, Math.max(n / r, 1 / o));
			e *= s, i *= s
		}
		return Math.min(1, t / e)
	}

	e.__esModule = !0;
	var s = i(70), a = n(s), h = i(71), l = n(h), u = i(96), c = n(u), f = i(97), d = n(f);
	e.onMaximumSize = r, e.getEditingScale = o;
	var p = i(153), g = n(p), m = i(171), y = n(m), v = i(172), _ = n(v), x = i(143), b = n(x), w = function (t) {
		function e(i, n) {
			(0, a["default"])(this, e);
			var r = (0, c["default"])(this, t.call(this, i, n));
			return r._init(), r
		}

		return (0, d["default"])(e, t), e.prototype._init = function () {
			this.entrySize = 0, this._transforms.push(new _["default"]), this._backup = 0, this._targetWidth = 0, this._sizeChanged = !1, this.stage.on(y["default"].RESIZE_SAVE, this.onResizeSave, this), this.stage.on(y["default"].RESIZE_RESTORE, this.onResizeRestore, this)
		}, e.prototype.start = function () {
			t.prototype.start.call(this), this.screenFitEnable = this.screenFitEnable, this._disable = this._sizeChanged = !1, this.stage.emit("photoFrameDisable", {
				type: "photoFrameDisable",
				visible: !0
			}), this.stage.motion.on("complete", this.onMotionComplete, this), this.stage.on(b["default"].BITMAPDATA_UPDATE, this.onBitmapDataUpdate, this)
		}, e.prototype.suspend = function () {
			return this.stage.motion.off("complete", this.onMotionComplete, this), this.stage.off(b["default"].BITMAPDATA_UPDATE, this.onBitmapDataUpdate, this), this.stage.magnify.autoScale(this.screenFitEnable), t.prototype.suspend.call(this)
		}, e.prototype.snapshot = function () {
			return {
				width: this._targetWidth,
				resizedWidth: this.stage.resizedWidth,
				resizedHeight: this.stage.resizedHeight
			}
		}, e.prototype.reset = function (e) {
			var i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
			e = e || {}, this._targetWidth = e.width || this.entrySize || 0, this._targetWidth <= 0 ? (this.transform.identity(), this.transform.onConcat && delete this.transform.onConcat, this.transform.canvasWidth = this.transform.canvasHeight = -1) : this.transform.onConcat = this.onConcat(this._targetWidth), t.prototype.reset.call(this, i)
		}, e.prototype.save = function () {
			this._targetWidth <= 0 || (this._backup = this._targetWidth, this.transform.identity(), this.transform.onConcat && delete this.transform.onConcat, this.transform.canvasWidth = this.transform.canvasHeight = -1)
		}, e.prototype.restore = function () {
			this._backup <= 0 || (this.transform.onConcat = this.onConcat(this._backup), this._backup = 0)
		}, e.prototype.scaleTo = function (t) {
			if (!this._disable) {
				this._disable = !0;
				var e = this.stage.magnify.border.left + this.stage.magnify.border.right;
				if (this._targetWidth = t - e, this._targetWidth == this.stage.resizedWidth) return void(this._disable = !1);
				this.stage.emit("photoFrameDisable", {
					type: "photoFrameDisable",
					visible: !1
				}), t <= 0 && (t = this.stage.croppedWidth);
				var i = t / this.stage.bitmapdata.width;
				this.stage.magnify.scaleTo(i), this._sizeChanged = !0
			}
		}, e.prototype._calcAutoScale = function () {
			var t = this.stage.bitmapdata, e = this.stage.targetViewport,
				i = Math.min(e.width / t.width, e.height / t.height),
				n = Math.min(1, this.stage.options.editingTransform.maxSize / Math.max(this.stage.croppedWidth, this.stage.croppedHeight)),
				r = this.stage.croppedWidth * n, o = this.stage.croppedHeight * n,
				s = Math.min(r / t.width, o / t.height);
			return Math.min(i, s)
		}, e.prototype.onConcat = function (t) {
			return function (e, i) {
				var n = Math.max(t / e.w, 1 / e.h);
				return n >= 1 ? void i.identity() : (e.w = e.w * n | 0, e.h = e.h * n | 0, void(i.scaleX = i.scaleY = n))
			}
		}, e.prototype.onMotionComplete = function (t) {
			if (void 0, !this._sizeChanged) return void this.stage.emit("photoFrameDisable", {
				type: "photoFrameDisable",
				visible: !0
			});
			this.transform.onConcat && delete this.transform.onConcat, this._targetWidth <= 0 ? (this.transform.canvasWidth = this.transform.canvasHeight = -1, this.transform.identity()) : this.transform.onConcat = this.onConcat(this._targetWidth), this.invalidate(), this._disable = !1, this._sizeChanged = !1;
			var e = this.stage.root,
				i = Math.max(e.width, e.height) > Math.min(this.stage.viewport.width, this.stage.viewport.height);
			i && (this.stage.screenFitEnable = !1), this.pushHistory()
		}, e.prototype.onBitmapDataUpdate = function (t) {
			var e, i = this._targetWidth;
			i <= 0 && (i = this.stage.croppedWidth), e = i / this.stage._editingCanvas.width, this.stage.magnify.scale = e, this.stage.magnify.pivotX = this.stage.editingSprite.width >> 1, this.stage.magnify.pivotY = this.stage.editingSprite.height >> 1, this.stage.emit("photoFrameDisable", {
				type: "photoFrameDisable",
				visible: !0
			})
		}, e.prototype.onReset = function (t) {
			this.stage.once(b["default"].BITMAPDATA_UPDATE, this.onResetComplete, this), this.reset(this._backupSnapshot, !0)
		}, e.prototype.onResetComplete = function (t) {
			this.stage.magnify.fitToScreen()
		}, e.prototype.onResizeSave = function () {
			this.save()
		}, e.prototype.onResizeRestore = function () {
			this.restore()
		}, (0, l["default"])(e, [{
			key: "transform", get: function () {
				return this._transforms[0]
			}
		}, {
			key: "modified", get: function () {
				return !!this.stage.ready && (this.entrySize > 0 ? this._targetWidth != this.entrySize : this.transform.modified || this._targetWidth > 0)
			}
		}, {
			key: "screenFitEnable", get: function () {
				return this.stage.screenFitEnable
			}, set: function (t) {
				if (t) this.stage.magnify.autoScale(t); else {
					var e = this._targetWidth <= 0 ? this.stage.croppedWidth : this._targetWidth,
						i = e / this.stage.bitmapdata.width;
					this.stage.magnify.scaleTo(i)
				}
			}
		}]), e
	}(g["default"]);
	e["default"] = w
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(96), a = n(s), h = i(71), l = n(h), u = i(97), c = n(u), f = i(153), d = n(f),
		p = i(172), g = n(p), m = i(177), y = (n(m), i(154), i(149)), v = i(143), _ = n(v), x = i(182), b = {};
	b.Cropper = i(184);
	var w = {};
	w.Func = i(187), w.Calc = i(188), w.Painter = i(191), w.Mouse = i(193);
	var T = {};
	T.KeyCode = i(198), T.HitSide = i(189);
	var C = Math.PI / 180, E = function (t) {
		function e(i, n) {
			(0, o["default"])(this, e);
			var r = (0, a["default"])(this, t.call(this, i, n));
			return r._init(n), r
		}

		return (0, c["default"])(e, t), (0, l["default"])(e, null, [{
			key: "CROP_START", get: function () {
				return "cropStart"
			}
		}, {
			key: "CROP_END", get: function () {
				return "cropEnd"
			}
		}, {
			key: "BOUNDARY_CHANGE", get: function () {
				return "boundaryChange"
			}
		}, {
			key: "RESIZE_SAVE", get: function () {
				return "resize_save"
			}
		}, {
			key: "RESIZE_RESTORE", get: function () {
				return "resize_restore"
			}
		}, {
			key: "CROP_COMPLETE", get: function () {
				return "cropComplete"
			}
		}]), e.prototype._init = function (t) {
			this._transforms.push(new g["default"]), w.Mouse.renderer = t.renderer, this.cropVO = null, this.isStart = !1, this.pe = t, this._delayStartId = 0, this._nextStepCheckId = 0, this._autoRotateAngle = 0, this._externalRotateAngle = 0, this.canvas = t.canvas, this.cropper = new b.Cropper(this.canvas, this._options), this.cropper.on(b.Cropper.MOVE_START, this.onMoveStart.bind(this)), this.cropper.on(b.Cropper.MOVE, this.onMove.bind(this)), this.cropper.on(b.Cropper.MOVE_END, this.onMoveEnd.bind(this)), this.cropper.on(b.Cropper.ROTATE_START, this.onRotateStart.bind(this)), this.cropper.on(b.Cropper.ROTATE, this.onRotate.bind(this)), this.cropper.on(b.Cropper.ROTATE_END, this.onRotateEnd.bind(this)), this.cropper.on(b.Cropper.UI_CHANGE, this.onUIChange.bind(this)), this.cropper.on(b.Cropper.UI_MOVE_START, this.onUIMoveStart.bind(this)), this.cropper.on(b.Cropper.UI_MOVE, this.onUIMove.bind(this)), this.cropper.on(b.Cropper.UI_MOVE_END, this.onUIMoveEnd.bind(this)), this.cropper.on(b.Cropper.CHANGE_CURSOR, this.onChangeCursor.bind(this)), this.cropper.on(b.Cropper.CHANGE_ASPECT_RATIO, this.onChangeAspectRatio.bind(this)), this.cropper.on(b.Cropper.ASPECT_RATIO_MOTION_START, this.onAspectRatioMotionStart.bind(this)), this.cropper.on(b.Cropper.RESET, this.onReset.bind(this)), this.cropper.on(b.Cropper.RESET_COMPLETE, this.onReset.bind(this)), this.cropper.visible = !1, this.pe.addChild(this.cropper), this._boundaryChangeEvent = {
				type: e.BOUNDARY_CHANGE,
				points: null
			}, this._enlargable = !0
		}, e.prototype._checkReadyToNextStep = function (t) {
			var e = this;
			this._nextStepCallback = t.bind(this), this._loopCount = 0, this._lastLoop = new Date, clearInterval(this._nextStepCheckId), this._nextStepCheckId = setInterval(function () {
				e._fpsCheck()
			}, 10)
		}, e.prototype._fpsCheck = function () {
			this._thisLoop = new Date;
			var t = 1e3 / (this._thisLoop - this._lastLoop);
			(t >= 60 || 30 === this._loopCount) && this._nextStepCallback(), this._lastLoop = this._thisLoop, this._loopCount = this._loopCount + 1
		}, e.prototype._noticeStart = function () {
			var t = this;
			clearInterval(this._nextStepCheckId), this._delayStartId = setTimeout(function () {
				t.emit(e.CROP_START)
			}, 20)
		}, e.prototype._noticeEnd = function () {
			var t = this;
			clearInterval(this._nextStepCheckId), this.hide();
			var i = this.pe.viewport, n = this.pe.bitmapdata;
			Math.min(i.width / n.width, i.height / n.height);
			this.emitBoundaryChange(null), this._delayStartId = setTimeout(function () {
				t.screenFitEnable || (t.screenFitEnable = !1), t.emit(e.CROP_END)
			}, 20)
		}, e.prototype.identity = function (t, e) {
			this.cropVO = null, this._autoRotateAngle = Number.MAX_VALUE, this.transform.identity(), this.transform.canvasWidth = t, this.transform.canvasHeight = e
		}, e.prototype.snapshot = function () {
			var t = {};
			return this.running ? t.cropVO = this.cropper.getCropVO() : t.cropVO = this.cropVO, this.isStart && this._saved ? t.transform = (0, y.map)(this._saved, function (t) {
				return t
			}) : t.transform = this.transform.save(), t
		}, e.prototype.reset = function (e) {
			var i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
			if (e) {
				this.cropVO = e.cropVO || null, this.transform.restore(e.transform);
				var n = (360 + (e.externalRotation || 0) % 360) % 360,
					r = this.transform.canvasWidth == -1 ? this.bitmapdata.sourceWidth : this.transform.canvasWidth,
					o = this.transform.canvasHeight == -1 ? this.bitmapdata.sourceHeight : this.transform.canvasHeight;
				n % 360 && this.transform.rotate(n * C, r, o, (n / 90 | 0) % 2), this.setCropVOExternalAngle(), e.externalRotation = 0, this.running && this.cropper.restore(this.cropVO)
			} else this.running && this.cropper.reset(), this.cropVO = null, this._saved = null, this.transform.identity(), this.transform.canvasWidth = this.bitmapdata.sourceWidth, this.transform.canvasHeight = this.bitmapdata.sourceHeight;
			t.prototype.reset.call(this, i)
		}, e.prototype.setCropVOExternalAngle = function () {
			var t = this.cropVO ? this.cropVO.imageRestoreVO.rotation : 0, e = this.transform.radian;
			this._externalRotateAngle = 180 * (e - t) / Math.PI
		}, e.prototype.start = function () {
			t.prototype.start.call(this), this._cropped = !1, this.stage.emit("photoFrameDisable", {
				type: "photoFrameDisable",
				visible: !1
			}), this.stage.emit("historyChanged", {
				type: "historyChanged",
				target: this,
				redoable: !1,
				undoable: !1
			}), this.stage.emit(e.RESIZE_SAVE), this.pe.on("bitmapDataUpdate", this.onInvalidate, this), this.pe.motion.on("complete", this.onMotionComplete, this), this.stage.emit(_["default"].MOUSE_CHILDREN_CHANGE, {
				type: _["default"].MOUSE_CHILDREN_CHANGE,
				interactive: !1
			})
		}, e.prototype.suspend = function () {
			return this.stage.emit(_["default"].MOUSE_CHILDREN_CHANGE, {
				type: _["default"].MOUSE_CHILDREN_CHANGE,
				interactive: !0
			}), this.isStart = !1, this._externalRotateAngle = 0, clearTimeout(this._delayStartId), clearInterval(this._nextStepCheckId), this.pe.off("bitmapDataUpdate", this.onInvalidate, this), this.pe.motion.off("complete", this.onMotionComplete, this), this.cropper.suspend(), this._saved && this.transform.restore(this._saved), this._cropped ? (this.pe.once("bitmapDataUpdate", this.onSuspendUpdateBitmapData, this), this.pe.updateBitmapData(), !0) : (this.stage.emit(e.RESIZE_RESTORE), this.pe.once("bitmapDataUpdate", this.onSuspendUpdateBitmapData, this), this.pe.updateBitmapData(), t.prototype.suspend.call(this))
		}, e.prototype.crop = function () {
			this.stage.emit(e.RESIZE_RESTORE);
			var t = this.cropper.cropByMatrix(this.bitmapdata), i = this.stage.history.getPrevHistory(), n = !1;
			if (i) {
				var r = i.snapshot.crop.transform;
				n = !(0, y.every)(t, function (t, e) {
					return r[e] == t
				})
			}
			this.cropVO = this.cropper.getCropVO(), n && (this.transform.setTo(t), this._saved = null, this.pushHistory()), this._cropped = !0
		}, e.prototype.rotate = function () {
			var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
			this.cropper.rotate(t)
		}, e.prototype.autoRotate = function i() {
			if (this._autoRotateAngle == Number.MAX_VALUE) {
				var t = this.bitmapdata.transformedImageData, i = new x;
				this._autoRotateAngle = i.process(t, 30)
			}
			return !(Math.abs(this._autoRotateAngle) < Math.PI / 180) && (this.cropper.autoRotate(this._autoRotateAngle), !0)
		}, e.prototype.changeAspectRatio = function (t, e) {
			this.cropper.changeAspectRatio(t, e)
		}, e.prototype.emitBoundaryChange = function () {
			var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
			this._boundaryChangeEvent.points = t, this.stage.emit(this._boundaryChangeEvent.type, this._boundaryChangeEvent)
		}, e.prototype.flipX = function () {
			this.cropper.flipX(), this.emitBoundaryChange(this.cropper.ui.points)
		}, e.prototype.flipY = function () {
			this.cropper.flipY(), this.emitBoundaryChange(this.cropper.ui.points)
		}, e.prototype.show = function () {
			this.cropper.visible = !0, this.pe._container.visible = !1
		}, e.prototype.hide = function () {
			this.cropper.visible = !1, this.pe._container.visible = !0
		}, e.prototype.onSuspendUpdateBitmapData = function (t) {
			this.hide(), this._checkReadyToNextStep(this._noticeEnd), this.stage.root.addChild(this.stage.stickerContainer), this.stage.root.addChild(this.stage.signatureContainer), this.emitBoundaryChange(null), this.stage.emit("photoFrameDisable", {
				type: "photoFrameDisable",
				visible: !0
			}), this.stage.emit(e.CROP_COMPLETE), this.stage._emitHistoryChange()
		}, e.prototype.onMotionComplete = function (t) {
			return this.pe.motion.off("complete", this.onMotionComplete, this), this.modified || this.stage.getModifiedStateAt("resize") || this.stage.entrySize > 0 ? (this._saved = this.transform.save(this._saved), this.transform.canvasWidth = this.bitmapdata.sourceWidth, this.transform.canvasHeight = this.bitmapdata.sourceHeight, this.transform.identity(), void this.invalidate()) : (this._saved = null, void this.onInvalidate())
		}, e.prototype.onInvalidate = function () {
			this.isStart = !0, this.pe.off("bitmapDataUpdate", this.onInvalidate, this), this.stage.removeChild(this.stage.signatureContainer), this._checkReadyToNextStep(this._noticeStart), this.cropper.start(this.canvas, this.bitmapdata, this.cropVO, this._externalRotateAngle), this.cropVO = this.cropper.getCropVO(), this.cropper.addContainer(this.stage.stickerContainer), this.cropper.addContainer(this.stage.signatureContainer), this.show(), this.cropper.updateTransform(), this.emitBoundaryChange(this.cropper.ui.points)
		}, e.prototype.onUIChange = function (t) {
			this.emitBoundaryChange(this.cropper.ui.points), this.emit(b.Cropper.UI_CHANGE, t)
		}, e.prototype.onMoveStart = function (t) {
			this.emitBoundaryChange(this.cropper.ui.points), this.emit(b.Cropper.MOVE_START, t)
		}, e.prototype.onMove = function (t) {
			this.emitBoundaryChange(this.cropper.ui.points), this.emit(b.Cropper.MOVE, t)
		}, e.prototype.onMoveEnd = function (t) {
			this.emitBoundaryChange(this.cropper.ui.points), this.emit(b.Cropper.MOVE_END, t)
		}, e.prototype.onUIMoveStart = function (t) {
			this.emitBoundaryChange(this.cropper.ui.points), this.emit(b.Cropper.UI_MOVE_START, t)
		}, e.prototype.onUIMove = function (t) {
			this.emitBoundaryChange(this.cropper.ui.points), this.emit(b.Cropper.UI_MOVE, t)
		}, e.prototype.onUIMoveEnd = function (t) {
			this.emitBoundaryChange(this.cropper.ui.points), this.emit(b.Cropper.UI_MOVE_END, t)
		}, e.prototype.onRotateStart = function (t) {
			this.emitBoundaryChange(this.cropper.ui.points), this.emit(b.Cropper.ROTATE_START, t)
		}, e.prototype.onRotate = function (t) {
			this.emitBoundaryChange(this.cropper.ui.points), this.emit(b.Cropper.ROTATE, t)
		}, e.prototype.onRotateEnd = function (t) {
			this.emitBoundaryChange(this.cropper.ui.points), this.emit(b.Cropper.ROTATE_END, t)
		}, e.prototype.onChangeCursor = function (t) {
			this.emit(b.Cropper.CHANGE_CURSOR, t)
		}, e.prototype.onChangeAspectRatio = function (t) {
			this.emitBoundaryChange(this.cropper.ui.points), this.emit(b.Cropper.CHANGE_ASPECT_RATIO, t)
		}, e.prototype.onAspectRatioMotionStart = function (t) {
			this.emit(b.Cropper.ASPECT_RATIO_MOTION_START, t)
		}, e.prototype.onReset = function (t) {
			this.stage.emit(e.CROP_COMPLETE)
		}, (0, l["default"])(e, [{
			key: "transform", get: function () {
				return this._transforms[0]
			}
		}, {
			key: "modified", get: function () {
				return !!this.stage.ready && (this.transform.modified || this.transform.canvasWidth != this.bitmapdata.sourceWidth || this.transform.canvasHeight != this.bitmapdata.sourceHeight)
			}
		}, {
			key: "viewport", get: function () {
				return this.cropper.viewport
			}, set: function (t) {
				this.cropper.viewport = t, this.isStart && this.cropper.resize()
			}
		}, {
			key: "isPossibleAutoRotate", get: function () {
				if (this._autoRotateAngle === -1) {
					var t = this.bitmapdata.transformedImageData, e = new x;
					this._autoRotateAngle = e.process(t, 30)
				}
				return this._autoRotateAngle !== -1 && Math.abs(this._autoRotateAngle) >= w.Calc.RADIAN_1
			}
		}, {
			key: "rotation", get: function () {
				return this.isStart ? w.Calc.toDegrees(this.cropper.uiRotation) : 0
			}
		}, {
			key: "isChanged", get: function () {
				return this.cropper.isChanged
			}
		}, {
			key: "isNewChanged", get: function () {
				return this.cropper.isNewChanged
			}
		}, {
			key: "isMinimum", get: function () {
				return this.cropper.isMinimum
			}
		}, {
			key: "isEditable", get: function () {
				return this.cropper.isEditable
			}
		}, {
			key: "uiSize", get: function () {
				return this.cropper.getUISize(this.cropVO);
			}
		}, {
			key: "isHorizontalImage", get: function () {
				return this.cropper.isHorizontal
			}
		}, {
			key: "offsetX", set: function (t) {
				this.cropper.offsetX = t
			}, get: function () {
				return this.cropper.offsetX
			}
		}, {
			key: "offsetY", set: function (t) {
				this.cropper.offsetY = t
			}, get: function () {
				return this.cropper.offsetY
			}
		}, {
			key: "isHorizontal", get: function () {
				return w.Calc.toRoundDegreesByRadians(this.cropper.stageRotation) % 180 === 0
			}
		}, {
			key: "isImageRotated", get: function () {
				return w.Calc.toRoundDegreesByRadians(this.cropper.snapImageRotation) % 90 != 0
			}
		}]), e
	}(d["default"]);
	e["default"] = E
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(173), o = n(r), s = i(70), a = n(s), h = i(71), l = n(h), u = i(177), c = n(u), f = i(149), d = i(181),
		p = ["x", "y", "scaleX", "scaleY", "offsetX", "offsetY", "radian", "canvasWidth", "canvasHeight"],
		g = function () {
			function t() {
				(0, a["default"])(this, t), this._matrix = new c["default"], this.onConcat = null, this._canvasWidth = this._canvasHeight = -1, this.cacheWith = 0, this.cacheHeight = 0, this.identity()
			}

			return t.prototype.setTo = function (t) {
				return t = t || {}, this.offsetX = t.offsetX || 0, this.offsetY = t.offsetY || 0, this.scaleX = t.scaleX || 1, this.scaleY = t.scaleY || 1, this.radian = t.radian || 0, this.canvasWidth = t.canvasWidth || -1, this.canvasHeight = t.canvasHeight || -1, this
			}, t.prototype.equal = function (t) {
				var e = this;
				return (0, f.every)(t, function (t, i) {
					return e[i] == t
				})
			}, t.prototype.evaluateMatrix = function () {
				if (0 == this._radian) this._matrix.setTo(this._scaleX, 0, 0, this._scaleY, this._x - this._scaleX * this._offsetX, this._y - this._scaleY * this._offsetY); else {
					var t = this._radian, e = Math.cos(t), i = Math.sin(t), n = this._scaleX * e, r = this._scaleX * i,
						o = this._scaleY * -i, s = this._scaleY * e,
						a = this._x - n * this._offsetX - o * this._offsetY,
						h = this._y - r * this._offsetX - s * this._offsetY;
					this._matrix.setTo(n, o, r, s, a, h)
				}
				this._changed = !1
			}, t.prototype.identity = function () {
				this._offsetX = this._offsetY = 0, this._x = this._y = 0, this._scaleX = this._scaleY = 1, this._radian = 0, this._changed = !0, this._matrix.identity()
			}, t.prototype.rotate = function (t, e, i, n) {
				var r = (0, o["default"])(this.scaleX) * (0, o["default"])(this.scaleY),
					s = this.matrix.applyInverse(e / 2, i / 2),
					a = new (Function.prototype.bind.apply(c["default"], [null].concat(d.calcPivotRotateMatrix.apply(void 0, [r * t].concat(s))))),
					h = a.apply(this.offsetX, this.offsetY);
				if (n) {
					var l = [i, e];
					e = l[0], i = l[1];
					var u = this.matrix.applyInverse(e / 2, i / 2), f = u.map(function (t, e) {
						return t - s[e]
					});
					f = d.rotatei.apply(void 0, f.concat([r * t])), h = h.map(function (t, e) {
						return t + f[e]
					})
				}
				this.offsetX = h[0], this.offsetY = h[1], this.canvasWidth = e, this.canvasHeight = i, this.radian = (this.radian + t) % (2 * Math.PI)
			}, t.prototype.save = function () {
				var t = this, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
				return e = e || {}, p.forEach(function (i) {
					return e[i] = t[i]
				}), e
			}, t.prototype.restore = function (t) {
				this.setTo(t || {})
			}, t.prototype.clone = function () {
				var t = {
					x: this.x,
					y: this.y,
					rotation: this.rotation,
					offsetX: this.offsetX,
					offsetY: this.offsetY,
					scaleX: this.scaleX,
					scaleY: this.scaleY,
					limitSize: this.limitSize,
					resize: this.resize,
					canvasWidth: this.canvasWidth,
					canvasHeight: this.canvasHeight,
					radian: this.radian,
					matrix: this.matrix.clone()
				};
				return t
			}, t.prototype.toString = function () {
				var e = "[Transform] offset(%s,%s), position(%s,%s), scale(%s,%s), size(%s,%s), radian(%s,%s)",
					i = [this._offsetX, this._offsetY, this._x, this._y, this._scaleX, this._scaleY, this._canvasWidth, this._canvasHeight, this._radian, this._radian * t.ANG];
				return e.replace(/%s+/g, function () {
					return i.shift()
				})
			}, (0, l["default"])(t, [{
				key: "modified", get: function () {
					return this.matrix.dirty || 0 != this.offsetX || 0 != this.offsetY || 0 != this.x || 0 != this.y || 1 != this.scaleX || 1 != this.scaleY || 0 != this.radian
				}
			}, {
				key: "matrix", get: function () {
					return this._changed && this.evaluateMatrix(), this._matrix
				}
			}, {
				key: "imatrix", get: function () {
					return this.matrix && this.evaluateIMatrix(), this._imatrix
				}
			}, {
				key: "limitSize", get: function () {
					return this._limitSize
				}, set: function (t) {
					this._limitSize != t && (this._limitSize = t, this._changed = !0)
				}
			}, {
				key: "resize", get: function () {
					return this._resize
				}, set: function (t) {
					this._resize != t && (this._resize = t, this._changed = !0)
				}
			}, {
				key: "canvasWidth", get: function () {
					return this._canvasWidth
				}, set: function (t) {
					this._canvasWidth != t && (this._canvasWidth = 0 | t)
				}
			}, {
				key: "canvasHeight", get: function () {
					return this._canvasHeight
				}, set: function (t) {
					this._canvasHeight != t && (this._canvasHeight = 0 | t)
				}
			}, {
				key: "offsetX", get: function () {
					return this._offsetX
				}, set: function (t) {
					this._offsetX != t && (this._offsetX = t, this._changed = !0)
				}
			}, {
				key: "offsetY", get: function () {
					return this._offsetY
				}, set: function (t) {
					this._offsetY != t && (this._offsetY = t, this._changed = !0)
				}
			}, {
				key: "x", get: function () {
					return this._x
				}, set: function (t) {
					this._x != t && (this._x = t, this._changed = !0)
				}
			}, {
				key: "y", get: function () {
					return this._y
				}, set: function (t) {
					this._y != t && (this._y = t, this._changed = !0)
				}
			}, {
				key: "scaleX", get: function () {
					return this._scaleX
				}, set: function (t) {
					this._scaleX != t && (this._scaleX = t, this._changed = !0)
				}
			}, {
				key: "scaleY", get: function () {
					return this._scaleY
				}, set: function (t) {
					this._scaleY != t && (this._scaleY = t, this._changed = !0)
				}
			}, {
				key: "radian", get: function () {
					return this._radian
				}, set: function (t) {
					this._radian != t && (this._radian = t, this._changed = !0)
				}
			}, {
				key: "rotation", get: function () {
					return this._radian * t.ANG
				}, set: function (e) {
					this.radian = e * t.RAD
				}
			}, {
				key: "changed", get: function () {
					return this._changed
				}
			}]), t
		}();
	e["default"] = g, g.ANG = 180 / Math.PI, g.RAD = Math.PI / 180, g.TEMP = new g
}, function (t, e, i) {
	t.exports = {"default": i(174), __esModule: !0}
}, function (t, e, i) {
	i(175), t.exports = i(13).Math.sign
}, function (t, e, i) {
	var n = i(11);
	n(n.S, "Math", {sign: i(176)})
}, function (t, e) {
	t.exports = Math.sign || function (t) {
		return 0 == (t = +t) || t != t ? t : t < 0 ? -1 : 1
	}
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(76), o = n(r), s = i(178), a = n(s), h = i(3), l = n(h), u = i(70), c = n(u), f = i(71), d = n(f),
		p = ["m11", "m12", "m21", "m22", "tx", "ty"], g = function () {
			function t() {
				var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
					i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
					n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
					r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1,
					o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
					s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0;
				(0, c["default"])(this, t), this._raw = new Float32Array(6), this.setTo(e, i, n, r, o, s)
			}

			return (0, d["default"])(t, null, [{
				key: "TEMP", get: function () {
					return m
				}
			}]), t.prototype[l["default"]] = function () {
				return (0, a["default"])(this._raw)
			}, t.prototype.entries = o["default"].mark(function e() {
				var t, i, n, r, s;
				return o["default"].wrap(function (e) {
					for (; ;) switch (e.prev = e.next) {
						case 0:
							t = p, i = Array.isArray(t), n = 0, t = i ? t : (0, a["default"])(t);
						case 1:
							if (!i) {
								e.next = 7;
								break
							}
							if (!(n >= t.length)) {
								e.next = 4;
								break
							}
							return e.abrupt("break", 16);
						case 4:
							r = t[n++], e.next = 11;
							break;
						case 7:
							if (n = t.next(), !n.done) {
								e.next = 10;
								break
							}
							return e.abrupt("break", 16);
						case 10:
							r = n.value;
						case 11:
							return s = r, e.next = 14, [s, this[s]];
						case 14:
							e.next = 1;
							break;
						case 16:
						case"end":
							return e.stop()
					}
				}, e, this)
			}), t.prototype.values = function () {
				return (0, a["default"])(this)
			}, t.prototype.keys = function () {
				return (0, a["default"])(p)
			}, t.prototype.setTo = function (t, e, i, n, r, o) {
				var s = this._raw;
				return s[0] = t, s[2] = e, s[4] = r, s[1] = i, s[3] = n, s[5] = o, this
			}, t.prototype.setBy = function (t) {
				var e = this._raw;
				return e[0] = t.m11, e[2] = t.m12, e[4] = t.tx, e[1] = t.m21, e[3] = t.m22, e[5] = t.ty, this
			}, t.prototype.identity = function () {
				var t = this._raw;
				return t[0] = 1, t[2] = 0, t[4] = 0, t[1] = 0, t[3] = 1, t[5] = 0, this
			}, t.prototype.apply = function (t, e) {
				return [this.m11 * t + this.m12 * e + this.tx, this.m21 * t + this.m22 * e + this.ty]
			}, t.prototype.applyInverse = function (t, e) {
				var i = this.m11, n = this.m21, r = this.m12, o = this.m22, s = this.tx, a = this.ty, h = i * o - n * r;
				if (0 == h) return [t, e];
				var l = 1 / h;
				return [l * o * t - l * r * e + l * (r * a - o * s), l * i * e - l * n * t + l * (n * s - i * a)]
			}, t.prototype.inverse = function (t) {
				t = t || this;
				var e = this, i = e.m11, n = e.m12, r = e.tx, o = e.m21, s = e.m22, a = e.ty, h = i * s - n * o;
				return 0 != h ? (i = e.m22 / h, n = -e.m12 / h, o = -e.m21 / h, s = e.m11 / h, r = (e.m12 * e.ty - e.tx * e.m22) / h, a = -(e.m11 * e.ty - e.tx * e.m21) / h, t.setTo(i, n, o, s, r, a)) : t.identity(), t
			}, t.prototype.preppend = function (t) {
				var e = t.raw, i = this._raw, n = this._raw, r = e[0], o = e[2], s = e[4], a = e[1], h = e[3], l = e[5],
					u = i[0], c = i[2], f = i[4], d = i[1], p = i[3], g = i[5];
				n[0] = r * u + o * d, n[2] = r * c + o * p, n[4] = r * f + o * g + s, n[1] = a * u + h * d, n[3] = a * c + h * p, n[5] = a * f + h * g + l
			}, t.prototype.append = function (t) {
				var e = this._raw, i = t.raw, n = this._raw, r = e[0], o = e[2], s = e[4], a = e[1], h = e[3], l = e[5],
					u = i[0], c = i[2], f = i[4], d = i[1], p = i[3], g = i[5];
				n[0] = r * u + o * d, n[2] = r * c + o * p, n[4] = r * f + o * g + s, n[1] = a * u + h * d, n[3] = a * c + h * p, n[5] = a * f + h * g + l
			}, t.prototype.clone = function () {
				return new t(this.m11, this.m12, this.m21, this.m22, this.tx, this.ty)
			}, t.prototype.toString = function () {
				for (var t = "", e = this._raw, i = 0; i < 2; i++) t += e[i] + "\t" + e[i + 2] + "\t" + e[i + 4] + "\n";
				return t
			}, (0, d["default"])(t, [{
				key: "dirty", get: function () {
					var t = this._raw;
					return 1 != t[0] || 0 != t[2] || 0 != t[4] || 0 != t[1] || 1 != t[3] || 0 != t[5]
				}
			}, {
				key: "m11", get: function () {
					return this._raw[0]
				}, set: function (t) {
					this._raw[0] = t
				}
			}, {
				key: "m12", get: function () {
					return this._raw[2]
				}, set: function (t) {
					this._raw[2] = t
				}
			}, {
				key: "m21", get: function () {
					return this._raw[1]
				}, set: function (t) {
					this._raw[1] = t
				}
			}, {
				key: "m22", get: function () {
					return this._raw[3]
				}, set: function (t) {
					this._raw[3] = t
				}
			}, {
				key: "tx", get: function () {
					return this._raw[4]
				}, set: function (t) {
					this._raw[4] = t
				}
			}, {
				key: "ty", get: function () {
					return this._raw[5]
				}, set: function (t) {
					this._raw[5] = t
				}
			}, {
				key: "raw", get: function () {
					return this._raw
				}
			}]), t
		}();
	e["default"] = g;
	var m = new g
}, function (t, e, i) {
	t.exports = {"default": i(179), __esModule: !0}
}, function (t, e, i) {
	i(49), i(5), t.exports = i(180)
}, function (t, e, i) {
	var n = i(18), r = i(88);
	t.exports = i(13).getIterator = function (t) {
		var e = r(t);
		if ("function" != typeof e) throw TypeError(t + " is not iterable!");
		return n(e.call(t))
	}
}, function (t, e) {
	"use strict";

	function i(t, e, i, n) {
		var r = i - t, o = n - e;
		return Math.sqrt(r * r + o * o)
	}

	function n(t, e, i, n) {
		var r = i - t, o = n - e;
		return Math.atan2(o, r)
	}

	function r(t, e, i) {
		var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null;
		if (n = n || {x: 0, y: 0}, 0 == i) return n.x = t, n.y = e, n;
		var r = Math.cos(i), o = Math.sin(i);
		return n.x = t * r - e * o, n.y = t * o + e * r, n
	}

	function o(t, e, i) {
		if (i % (2 * Math.PI) == 0) return [t, e];
		var n = Math.cos(i), r = Math.sin(i), o = t, s = e;
		return t = n * o - r * s, e = r * o + n * s, [t, e]
	}

	function s(t, e, i) {
		var n = void 0, r = void 0;
		t % (2 * Math.PI) == 0 ? n = r = 0 : (n = Math.cos(t), r = Math.sin(t));
		var o = n, s = r, a = -r, h = n, l = -o * e - s * i + e, u = -a * e - h * i + i;
		return [o, s, a, h, l, u]
	}

	function a(t, e, i) {
		var n = i.origin.x, r = i.origin.y, o = void 0, s = void 0;
		if (0 == i.radian) o = t - n, s = e - r; else {
			var a = Math.cos(i.radian), h = Math.sin(i.radian);
			o = a * t + h * e - a * n - h * r, s = -h * t + a * e + h * n - a * r
		}
		return !(o < 0 || o > i.width || s < 0 || s > i.height)
	}

	e.__esModule = !0, e.getDistance = i, e.getRadian = n, e.rotate = r, e.rotatei = o, e.calcPivotRotateMatrix = s, e.hitTestWithBoundary = a
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n);
		!function () {
			function e() {
			}

			function n(t, e) {
				var i, n, r, u = 100;
				return i = s(l.jsfeat, t), a(l.jsfeat, i), n = h(i, 1, Math.PI / 180, u), r = o(n, e)
			}

			function o(t, e) {
				for (var i, n = 0, r = t.length, o = 180 / Math.PI, s = 90 / o, a = 0, h = Math.abs(e / o), l = 0; l < r; l += 1) i = t[l][1], i -= s, i < h && i > -h && (a += i, n++);
				var u = a / n * -1;
				return u || 0
			}

			function s(t, e) {
				var i = e.width, n = e.height, r = new t.matrix_t(i, n, t.U8_t | t.C1_t);
				return t.imgproc.grayscale(e.data, i, n, r), r
			}

			function a(t, e) {
				var i = 2, n = 40, r = 100, o = 0 | i, s = o + 1 << 1;
				t.imgproc.gaussian_blur(e, e, s, 0), t.imgproc.canny(e, e, 0 | n, 0 | r)
			}

			function h(t, e, i, n) {
				for (var r = t.data, o = t.cols, s = t.rows, a = o, h = 0, l = Math.PI, u = Math.round((l - h) / i), c = Math.round((2 * (o + s) + 1) / e), f = 1 / e, d = new Int32Array((u + 2) * (c + 2)), p = new Float32Array(u), g = new Float32Array(u), m = 0, y = h; m < u; m++) p[m] = Math.sin(y) * f, g[m] = Math.cos(y) * f, y += i;
				var v, _, x;
				for (_ = 0; _ < s; _++) for (x = 0; x < o; x++) if (0 != r[_ * a + x]) for (m = 0; m < u; m++) v = x * g[m] + _ * p[m], v = v < 0 ? v - .5 << 0 : v + .5 << 0, v += (c - 1) / 2, d[(m + 1) * (c + 2) + v + 1] += 1;
				var b, w = [];
				for (v = 0; v < c; v++) for (m = 0; m < u; m++) b = (m + 1) * (c + 2) + v + 1, d[b] > n && d[b] > d[b - 1] && d[b] >= d[b + 1] && d[b] > d[b - c - 2] && d[b] >= d[b + c + 2] && w.push(b);
				w.sort(function (t, e) {
					return d[t] > d[e] || d[t] == d[e] && t < e
				});
				var T, C, E, M = Math.min(u * c, w.length), P = 1 / (c + 2), S = [];
				for (_ = 0; _ < M; _++) T = w[_], m = Math.floor(T * P) - 1, v = T - (m + 1) * (c + 2) - 1, C = (v - .5 * (c - 1)) * e, E = m * i, S.push([C, E]);
				return S
			}

			var l = (i(164), i(183));
			e.prototype = {
				constructor: e,
				process: n
			}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports) ? t.exports = e : usenamespace("editor.filter").AutoRotate = e
		}()
	}).call(e, i(158)(t))
}, function (t, e) {
	"use strict";
	!function () {
		var e = {};
		e.jsfeat = e.jsfeat || {REVISION: "ALPHA"}, function (t) {
			var e = t, i = 1.192092896e-7, n = 1e-37, r = 256, o = 512, s = 1024, a = 2048, h = 4096, l = 1, u = 2,
				c = 3, f = 4, d = new Int32Array([-1, 1, 4, -1, 4, -1, -1, -1, 8, -1, -1, -1, -1, -1, -1, -1, 8]),
				p = function () {
					return function (t) {
						return 65280 & t
					}
				}(), g = function () {
					return function (t) {
						return 255 & t
					}
				}(), m = function () {
					return function (t) {
						return d[(65280 & t) >> 8]
					}
				}(), y = 0, v = 1, _ = 2, x = 3, b = 1, w = 1, T = 2, C = function () {
					function t(t, e) {
						this.size = (t + 7 | 0) & -8, "undefined" == typeof e ? this.buffer = new ArrayBuffer(this.size) : (this.buffer = e, this.size = e.length), this.u8 = new Uint8Array(this.buffer), this.i32 = new Int32Array(this.buffer), this.f32 = new Float32Array(this.buffer), this.f64 = new Float64Array(this.buffer)
					}

					return t
				}(), E = function () {
					function t(t, e, i, n) {
						this.type = 0 | p(i), this.channel = 0 | g(i), this.cols = 0 | t, this.rows = 0 | e, "undefined" == typeof n ? this.allocate() : (this.buffer = n, this.data = this.type & r ? this.buffer.u8 : this.type & o ? this.buffer.i32 : this.type & s ? this.buffer.f32 : this.buffer.f64)
					}

					return t.prototype.allocate = function () {
						delete this.data, delete this.buffer, this.buffer = new C(this.cols * m(this.type) * this.channel * this.rows), this.data = this.type & r ? this.buffer.u8 : this.type & o ? this.buffer.i32 : this.type & s ? this.buffer.f32 : this.buffer.f64
					}, t.prototype.resize = function (t, e, i) {
						"undefined" == typeof i && (i = this.channel);
						var n = t * m(this.type) * i * e;
						n > this.buffer.size ? (this.cols = t, this.rows = e, this.channel = i, this.allocate()) : (this.cols = t, this.rows = e, this.channel = i)
					}, t
				}(), M = function () {
					function t(t) {
						this.levels = 0 | t, this.data = new Array(t), this.pyrdown = e.imgproc.pyrdown
					}

					return t.prototype.allocate = function (t, e, i) {
						for (var n = this.levels; --n >= 0;) this.data[n] = new E(t >> n, e >> n, i)
					}, t.prototype.build = function (t, e) {
						"undefined" == typeof e && (e = !0);
						var i = 2, n = t, r = this.data[0];
						if (!e) for (var o = t.cols * t.rows; --o >= 0;) r.data[o] = t.data[o];
						for (r = this.data[1], this.pyrdown(n, r); i < this.levels; ++i) n = r, r = this.data[i], this.pyrdown(n, r)
					}, t
				}(), P = function () {
					function t(t, e, i, n, r) {
						"undefined" == typeof t && (t = 0), "undefined" == typeof e && (e = 0), "undefined" == typeof i && (i = 0), "undefined" == typeof n && (n = 0), "undefined" == typeof r && (r = -1), this.x = t, this.y = e, this.level = n, this.angle = r
					}

					return t
				}();
			t.U8_t = r, t.S32_t = o, t.F32_t = s, t.S64_t = a, t.F64_t = h, t.C1_t = l, t.C2_t = u, t.C3_t = c, t.C4_t = f, t.U8C1_t = r | l, t.U8C3_t = r | c, t.U8C4_t = r | f, t.F32C1_t = s | l, t.F32C2_t = s | u, t.S32C1_t = o | l, t.S32C2_t = o | u, t.EPSILON = i, t.FLT_MIN = n, t.COLOR_RGBA2GRAY = y, t.COLOR_RGB2GRAY = v, t.COLOR_BGRA2GRAY = _, t.COLOR_BGR2GRAY = x, t.BOX_BLUR_NOSCALE = b, t.SVD_U_T = w, t.SVD_V_T = T, t.get_data_type = p, t.get_channel = g, t.get_data_type_size = m, t.data_t = C, t.matrix_t = E, t.pyramid_t = M, t.keypoint_t = P
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t, i, n = function () {
					function t(t) {
						this.next = null, this.data = new e.data_t(t), this.size = this.data.size, this.buffer = this.data.buffer, this.u8 = this.data.u8, this.i32 = this.data.i32, this.f32 = this.data.f32, this.f64 = this.data.f64
					}

					return t.prototype.resize = function (t) {
						delete this.data, this.data = new e.data_t(t), this.size = this.data.size, this.buffer = this.data.buffer, this.u8 = this.data.u8, this.i32 = this.data.i32, this.f32 = this.data.f32, this.f64 = this.data.f64
					}, t
				}(), r = 0;
				return {
					allocate: function (e, o) {
						t = i = new n(o);
						for (var s = 0; s < e; ++s) {
							var a = new n(o);
							i = i.next = a, r++
						}
					}, get_buffer: function (e) {
						var i = t;
						return t = t.next, r--, e > i.size && i.resize(e), i
					}, put_buffer: function (t) {
						i = i.next = t, r++
					}
				}
			}();
			t.cache = i, i.allocate(30, 2560)
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				return {
					get_gaussian_kernel: function (t, i, n, r) {
						var o = 0, s = 0, a = 0, h = 0, l = 0, u = 0, c = e.cache.get_buffer(t << 2), f = c.f32;
						if (1 == (1 & t) && t <= 7 && i <= 0) switch (t >> 1) {
							case 0:
								f[0] = 1, u = 1;
								break;
							case 1:
								f[0] = .25, f[1] = .5, f[2] = .25, u = 1;
								break;
							case 2:
								f[0] = .0625, f[1] = .25, f[2] = .375, f[3] = .25, f[4] = .0625, u = 1;
								break;
							case 3:
								f[0] = .03125, f[1] = .109375, f[2] = .21875, f[3] = .28125, f[4] = .21875, f[5] = .109375, f[6] = .03125, u = 1
						} else for (h = i > 0 ? i : .3 * (.5 * (t - 1) - 1) + .8, l = -.5 / (h * h); o < t; ++o) s = o - .5 * (t - 1), a = Math.exp(l * s * s), f[o] = a, u += a;
						if (r & e.U8_t) for (u = 256 / u, o = 0; o < t; ++o) n[o] = f[o] * u + .5 | 0; else for (u = 1 / u, o = 0; o < t; ++o) n[o] = f[o] * u;
						e.cache.put_buffer(c)
					}
				}
			}();
			t.math = i
		}(e.jsfeat), function (t) {
			var e = function () {
				return {
					identity: function (t, e) {
						"undefined" == typeof e && (e = 1);
						for (var i = t.data, n = t.rows, r = t.cols, o = r + 1 | 0, s = n * r, a = s; --s >= 0;) i[s] = 0;
						for (s = a, a = 0; a < s;) i[a] = e, a += o
					}, transpose: function (t, e) {
						for (var i = 0, n = 0, r = e.rows, o = e.cols, s = 0, a = 0, h = 0, l = e.data, u = t.data; i < r; a += 1, s += o, i++) for (h = a, n = 0; n < o; h += r, n++) u[h] = l[s + n]
					}, multiply: function (t, e, i) {
						for (var n = 0, r = 0, o = 0, s = 0, a = 0, h = 0, l = 0, u = 0, c = e.cols, f = e.rows, d = i.cols, p = e.data, g = i.data, m = t.data, y = 0; n < f; s += c, n++) for (l = 0, r = 0; r < d; u++, l++, r++) {
							for (h = l, a = s, y = 0, o = 0; o < c; a++, h += d, o++) y += p[a] * g[h];
							m[u] = y
						}
					}, multiply_AtB: function (t, e, i) {
						for (var n = 0, r = 0, o = 0, s = 0, a = 0, h = 0, l = 0, u = 0, c = e.cols, f = e.rows, d = i.cols, p = e.data, g = i.data, m = t.data, y = 0; n < c; s++, n++) for (l = 0, r = 0; r < d; u++, l++, r++) {
							for (h = l, a = s, y = 0, o = 0; o < f; a += c, h += d, o++) y += p[a] * g[h];
							m[u] = y
						}
					}, multiply_AtA: function (t, e) {
						for (var i = 0, n = 0, r = 0, o = 0, s = 0, a = 0, h = 0, l = 0, u = 0, c = e.cols, f = e.rows, d = e.data, p = t.data, g = 0; i < c; h += c, i++) for (o = i, u = h + i, l = u, n = i; n < c; l++, u += c, n++) {
							for (s = o, a = n, g = 0, r = 0; r < f; s += c, a += c, r++) g += d[s] * d[a];
							p[l] = g, p[u] = g
						}
					}, invert_3x3: function (t, e) {
						var i = t.data, n = e.data, r = i[4], o = i[8], s = i[5], a = i[7], h = i[0], l = h * r,
							u = h * s, c = i[3], f = i[1], d = c * f, p = i[2], g = c * p, m = i[6], y = m * f,
							v = m * p, _ = 1 / (l * o - u * a - d * o + g * a + y * s - v * r);
						n[0] = (r * o - s * a) * _, n[1] = -(f * o - p * a) * _, n[2] = -(-f * s + p * r) * _, n[3] = -(c * o - s * m) * _, n[4] = (h * o - v) * _, n[5] = -(u - g) * _, n[6] = -(-c * a + r * m) * _, n[7] = -(h * a - y) * _, n[8] = (l - d) * _
					}, multiply_3x3: function (t, e, i) {
						var n = t.data, r = e.data, o = i.data, s = r[0], a = r[1], h = r[2], l = r[3], u = r[4],
							c = r[5], f = r[6], d = r[7], p = r[8], g = o[0], m = o[1], y = o[2], v = o[3], _ = o[4],
							x = o[5], b = o[6], w = o[7], T = o[8];
						n[0] = s * g + a * v + h * b, n[1] = s * m + a * _ + h * w, n[2] = s * y + a * x + h * T, n[3] = l * g + u * v + c * b, n[4] = l * m + u * _ + c * w, n[5] = l * y + u * x + c * T, n[6] = f * g + d * v + p * b, n[7] = f * m + d * _ + p * w, n[8] = f * y + d * x + p * T
					}
				}
			}();
			t.matmath = e
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t = function (t, e, i, n) {
					n = t[e], t[e] = t[i], t[i] = n
				};
				return {
					lu_solve: function (i, n) {
						var r, o, s, a, h = 0, l = 0, u = 0, c = 1, f = i.cols, d = i.data, p = n.data;
						for (h = 0; h < f; h++) {
							for (u = h, l = h + 1; l < f; l++) Math.abs(d[l * f + h]) > Math.abs(d[u * f + h]) && (u = l);
							if (Math.abs(d[u * f + h]) < e.EPSILON) return 0;
							if (u != h) {
								for (l = h; l < f; l++) t(d, h * f + l, u * f + l, r);
								t(p, h, u, r), c = -c
							}
							for (s = -1 / d[h * f + h], l = h + 1; l < f; l++) {
								for (o = d[l * f + h] * s, u = h + 1; u < f; u++) d[l * f + u] += o * d[h * f + u];
								p[l] += o * p[h]
							}
							d[h * f + h] = -s
						}
						for (h = f - 1; h >= 0; h--) {
							for (a = p[h], u = h + 1; u < f; u++) a -= d[h * f + u] * p[u];
							p[h] = a * d[h * f + h]
						}
						return 1
					}
				}
			}();
			t.linalg = i
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t = function (t) {
						return t * t
					}, i = function (t, e, i, n, r) {
						for (var o = 0, s = 0, a = 0, h = 0, l = 0, u = 0, c = 0, f = 0, d = 0, p = 0, g = 0; o < r; ++o) s += t[o].x, a += t[o].y, u += e[o].x, c += e[o].y;
						for (s /= r, a /= r, u /= r, c /= r, o = 0; o < r; ++o) p = t[o].x - s, g = t[o].y - a, h += Math.sqrt(p * p + g * g), p = e[o].x - u, g = e[o].y - c, f += Math.sqrt(p * p + g * g);
						h /= r, f /= r, l = Math.SQRT2 / h, d = Math.SQRT2 / f, i[0] = i[4] = l, i[2] = -s * l, i[5] = -a * l, i[1] = i[3] = i[6] = i[7] = 0, i[8] = 1, n[0] = n[4] = d, n[2] = -u * d, n[5] = -c * d, n[1] = n[3] = n[6] = n[7] = 0, n[8] = 1
					}, n = new e.matrix_t(3, 3, e.F32_t | e.C1_t), r = new e.matrix_t(3, 3, e.F32_t | e.C1_t),
					o = new e.matrix_t(6, 6, e.F32_t | e.C1_t), s = new e.matrix_t(6, 1, e.F32_t | e.C1_t),
					a = function () {
						function a() {
						}

						return a.prototype.run = function (t, a, h, l) {
							var u, c, f = 0, d = 0, p = h.type | e.C1_t, g = h.data, m = n.data, y = r.data, v = 0,
								_ = 0;
							i(t, a, m, y, l);
							for (var x = e.cache.get_buffer(2 * l * 6 << 3), b = e.cache.get_buffer(2 * l << 3), w = new e.matrix_t(6, 2 * l, p, x.data), T = new e.matrix_t(1, 2 * l, p, b.data), C = w.data, E = T.data; f < l; ++f) u = t[f], c = a[f], v = m[0] * u.x + m[1] * u.y + m[2], _ = m[3] * u.x + m[4] * u.y + m[5], d = 2 * f * 6, C[d] = v, C[d + 1] = _, C[d + 2] = 1, C[d + 3] = 0, C[d + 4] = 0, C[d + 5] = 0, d += 6, C[d] = 0, C[d + 1] = 0, C[d + 2] = 0, C[d + 3] = v, C[d + 4] = _, C[d + 5] = 1, E[f << 1] = y[0] * c.x + y[1] * c.y + y[2], E[(f << 1) + 1] = y[3] * c.x + y[4] * c.y + y[5];
							return e.matmath.multiply_AtA(o, w), e.matmath.multiply_AtB(s, w, T), e.linalg.lu_solve(o, s), g[0] = s.data[0], g[1] = s.data[1], g[2] = s.data[2], g[3] = s.data[3], g[4] = s.data[4], g[5] = s.data[5], g[6] = 0, g[7] = 0, g[8] = 1, e.matmath.invert_3x3(r, r), e.matmath.multiply_3x3(h, r, h), e.matmath.multiply_3x3(h, h, n), e.cache.put_buffer(x), e.cache.put_buffer(b), 1
						}, a.prototype.error = function (e, i, n, r, o) {
							for (var s, a, h = 0, l = n.data; h < o; ++h) s = e[h], a = i[h], r[h] = t(a.x - l[0] * s.x - l[1] * s.y - l[2]) + t(a.y - l[3] * s.x - l[4] * s.y - l[5])
						}, a
					}();
				return {affine2d: a}
			}(), n = function () {
				function t(t, e, i, n) {
					"undefined" == typeof t && (t = 0), this.size = t
				}

				return t
			}();
			t.ransac_params_t = n, t.motion_model = i
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t = function (t, e, i, n, r, o, s, a) {
					for (var h = 0, l = 0, u = 0, c = 0, f = 0, d = 0, p = 0, g = 0, m = 0, y = o[0], v = 0, _ = n << 1, x = 3 * n, b = n << 2; h < r; ++h) {
						for (d = e[c], l = 0; l < a; ++l) t[l] = d;
						for (l = 0; l <= n - 2; l += 2) t[l + a] = e[c + l], t[l + a + 1] = e[c + l + 1];
						for (; l < n; ++l) t[l + a] = e[c + l];
						for (d = e[c + n - 1], l = n; l < a + n; ++l) t[l + a] = d;
						for (l = 0; l <= n - 4; l += 4) {
							for (d = t[l] * y, p = t[l + 1] * y, g = t[l + 2] * y, m = t[l + 3] * y, u = 1; u < s; ++u) v = o[u], d += t[u + l] * v, p += t[u + l + 1] * v, g += t[u + l + 2] * v, m += t[u + l + 3] * v;
							i[f + l] = Math.min(d >> 8, 255), i[f + l + 1] = Math.min(p >> 8, 255), i[f + l + 2] = Math.min(g >> 8, 255), i[f + l + 3] = Math.min(m >> 8, 255)
						}
						for (; l < n; ++l) {
							for (d = t[l] * y, u = 1; u < s; ++u) d += t[u + l] * o[u];
							i[f + l] = Math.min(d >> 8, 255)
						}
						c += n, f += n
					}
					for (h = 0; h < n; ++h) {
						for (d = i[h], l = 0; l < a; ++l) t[l] = d;
						for (u = h, l = 0; l <= r - 2; l += 2, u += _) t[l + a] = i[u], t[l + a + 1] = i[u + n];
						for (; l < r; ++l, u += n) t[l + a] = i[u];
						for (d = i[(r - 1) * n + h], l = r; l < a + r; ++l) t[l + a] = d;
						for (f = h, l = 0; l <= r - 4; l += 4, f += b) {
							for (d = t[l] * y, p = t[l + 1] * y, g = t[l + 2] * y, m = t[l + 3] * y, u = 1; u < s; ++u) v = o[u], d += t[u + l] * v, p += t[u + l + 1] * v, g += t[u + l + 2] * v, m += t[u + l + 3] * v;
							i[f] = Math.min(d >> 8, 255), i[f + n] = Math.min(p >> 8, 255), i[f + _] = Math.min(g >> 8, 255), i[f + x] = Math.min(m >> 8, 255)
						}
						for (; l < r; ++l, f += n) {
							for (d = t[l] * y, u = 1; u < s; ++u) d += t[u + l] * o[u];
							i[f] = Math.min(d >> 8, 255)
						}
					}
				}, i = function (t, e, i, n, r, o, s, a) {
					for (var h = 0, l = 0, u = 0, c = 0, f = 0, d = 0, p = 0, g = 0, m = 0, y = o[0], v = 0, _ = n << 1, x = 3 * n, b = n << 2; h < r; ++h) {
						for (d = e[c], l = 0; l < a; ++l) t[l] = d;
						for (l = 0; l <= n - 2; l += 2) t[l + a] = e[c + l], t[l + a + 1] = e[c + l + 1];
						for (; l < n; ++l) t[l + a] = e[c + l];
						for (d = e[c + n - 1], l = n; l < a + n; ++l) t[l + a] = d;
						for (l = 0; l <= n - 4; l += 4) {
							for (d = t[l] * y, p = t[l + 1] * y, g = t[l + 2] * y, m = t[l + 3] * y, u = 1; u < s; ++u) v = o[u], d += t[u + l] * v, p += t[u + l + 1] * v, g += t[u + l + 2] * v, m += t[u + l + 3] * v;
							i[f + l] = d, i[f + l + 1] = p, i[f + l + 2] = g, i[f + l + 3] = m
						}
						for (; l < n; ++l) {
							for (d = t[l] * y, u = 1; u < s; ++u) d += t[u + l] * o[u];
							i[f + l] = d
						}
						c += n, f += n
					}
					for (h = 0; h < n; ++h) {
						for (d = i[h], l = 0; l < a; ++l) t[l] = d;
						for (u = h, l = 0; l <= r - 2; l += 2, u += _) t[l + a] = i[u], t[l + a + 1] = i[u + n];
						for (; l < r; ++l, u += n) t[l + a] = i[u];
						for (d = i[(r - 1) * n + h], l = r; l < a + r; ++l) t[l + a] = d;
						for (f = h, l = 0; l <= r - 4; l += 4, f += b) {
							for (d = t[l] * y, p = t[l + 1] * y, g = t[l + 2] * y, m = t[l + 3] * y, u = 1; u < s; ++u) v = o[u], d += t[u + l] * v, p += t[u + l + 1] * v, g += t[u + l + 2] * v, m += t[u + l + 3] * v;
							i[f] = d, i[f + n] = p, i[f + _] = g, i[f + x] = m
						}
						for (; l < r; ++l, f += n) {
							for (d = t[l] * y, u = 1; u < s; ++u) d += t[u + l] * o[u];
							i[f] = d
						}
					}
				};
				return {
					grayscale: function (t, i, n, r, o) {
						"undefined" == typeof o && (o = e.COLOR_RGBA2GRAY);
						var s = 0, a = 0, h = 0, l = 0, u = 0, c = 0, f = 4899, d = 9617, p = 1868, g = 4;
						o != e.COLOR_BGRA2GRAY && o != e.COLOR_BGR2GRAY || (f = 1868, p = 4899), o != e.COLOR_RGB2GRAY && o != e.COLOR_BGR2GRAY || (g = 3);
						var m = g << 1, y = 3 * g | 0;
						r.resize(i, n, 1);
						var v = r.data;
						for (a = 0; a < n; ++a, l += i, h += i * g) {
							for (s = 0, u = h, c = l; s <= i - 4; s += 4, u += g << 2, c += 4) v[c] = t[u] * f + t[u + 1] * d + t[u + 2] * p + 8192 >> 14, v[c + 1] = t[u + g] * f + t[u + g + 1] * d + t[u + g + 2] * p + 8192 >> 14, v[c + 2] = t[u + m] * f + t[u + m + 1] * d + t[u + m + 2] * p + 8192 >> 14, v[c + 3] = t[u + y] * f + t[u + y + 1] * d + t[u + y + 2] * p + 8192 >> 14;
							for (; s < i; ++s, ++c, u += g) v[c] = t[u] * f + t[u + 1] * d + t[u + 2] * p + 8192 >> 14
						}
					}, gaussian_blur: function (n, r, o, s) {
						"undefined" == typeof s && (s = 0), "undefined" == typeof o && (o = 0), o = 0 == o ? 2 * Math.max(1, 4 * s + 1 - 1e-8) + 1 | 0 : o;
						var a = o >> 1, h = n.cols, l = n.rows, u = n.type, c = u & e.U8_t;
						r.resize(h, l, n.channel);
						var f, d, p = n.data, g = r.data, m = o + Math.max(l, h) | 0, y = e.cache.get_buffer(m << 2),
							v = e.cache.get_buffer(o << 2);
						c ? (f = y.i32, d = v.i32) : u & e.S32_t ? (f = y.i32, d = v.f32) : (f = y.f32, d = v.f32), e.math.get_gaussian_kernel(o, s, d, u), c ? t(f, p, g, h, l, d, o, a) : i(f, p, g, h, l, d, o, a), e.cache.put_buffer(y), e.cache.put_buffer(v)
					}, pyrdown: function (t, e, i, n) {
						"undefined" == typeof i && (i = 0), "undefined" == typeof n && (n = 0);
						var r = t.cols, o = t.rows, s = r >> 1, a = o >> 1, h = s - (i << 1), l = a - (n << 1), u = 0,
							c = 0, f = i + n * r, d = 0, p = 0, g = 0;
						e.resize(s, a, t.channel);
						var m = t.data, y = e.data;
						for (c = 0; c < l; ++c) {
							for (d = f, g = p, u = 0; u <= h - 2; u += 2, g += 2, d += 4) y[g] = m[d] + m[d + 1] + m[d + r] + m[d + r + 1] + 2 >> 2, y[g + 1] = m[d + 2] + m[d + 3] + m[d + r + 2] + m[d + r + 3] + 2 >> 2;
							for (; u < h; ++u, ++g, d += 2) y[g] = m[d] + m[d + 1] + m[d + r] + m[d + r + 1] + 2 >> 2;
							f += r << 1, p += s
						}
					}, scharr_derivatives: function (t, i) {
						var n, r, o, s, a, h, l, u, c = t.cols, f = t.rows, d = c << 1, p = 0, g = 0, m = 0, y = 0,
							v = 0, _ = 0, x = 0;
						i.resize(c, f, 2);
						var b = t.data, w = i.data, T = e.cache.get_buffer(c + 2 << 2),
							C = e.cache.get_buffer(c + 2 << 2);
						for (t.type & e.U8_t || t.type & e.S32_t ? (l = T.i32, u = C.i32) : (l = T.f32, u = C.f32); g < f; ++g, v += c) {
							for (y = (g > 0 ? g - 1 : 1) * c | 0, _ = (g < f - 1 ? g + 1 : f - 2) * c | 0, x = g * d | 0, p = 0, m = 1; p <= c - 2; p += 2, m += 2) n = b[y + p], r = b[_ + p], l[m] = 3 * (n + r) + 10 * b[v + p], u[m] = r - n, n = b[y + p + 1], r = b[_ + p + 1], l[m + 1] = 3 * (n + r) + 10 * b[v + p + 1], u[m + 1] = r - n;
							for (; p < c; ++p, ++m) n = b[y + p], r = b[_ + p], l[m] = 3 * (n + r) + 10 * b[v + p], u[m] = r - n;
							for (p = c + 1 | 0, l[0] = l[1], l[p] = l[c], u[0] = u[1], u[p] = u[c], p = 0; p <= c - 4; p += 4) n = u[p + 2], r = u[p + 1], o = u[p + 3], s = u[p + 4], a = l[p + 2], h = l[p + 3], w[x++] = a - l[p], w[x++] = 3 * (n + u[p]) + 10 * r, w[x++] = h - l[p + 1], w[x++] = 3 * (o + r) + 10 * n, w[x++] = l[p + 4] - a, w[x++] = 3 * (s + n) + 10 * o, w[x++] = l[p + 5] - h, w[x++] = 3 * (u[p + 5] + o) + 10 * s;
							for (; p < c; ++p) w[x++] = l[p + 2] - l[p], w[x++] = 3 * (u[p + 2] + u[p]) + 10 * u[p + 1]
						}
						e.cache.put_buffer(T), e.cache.put_buffer(C)
					}, sobel_derivatives: function (t, i) {
						var n, r, o, s, a, h, l, u, c = t.cols, f = t.rows, d = c << 1, p = 0, g = 0, m = 0, y = 0,
							v = 0, _ = 0, x = 0;
						i.resize(c, f, 2);
						var b = t.data, w = i.data, T = e.cache.get_buffer(c + 2 << 2),
							C = e.cache.get_buffer(c + 2 << 2);
						for (t.type & e.U8_t || t.type & e.S32_t ? (l = T.i32, u = C.i32) : (l = T.f32, u = C.f32); g < f; ++g, v += c) {
							for (y = (g > 0 ? g - 1 : 1) * c | 0, _ = (g < f - 1 ? g + 1 : f - 2) * c | 0, x = g * d | 0, p = 0, m = 1; p <= c - 2; p += 2, m += 2) n = b[y + p], r = b[_ + p], l[m] = n + r + 2 * b[v + p], u[m] = r - n, n = b[y + p + 1], r = b[_ + p + 1], l[m + 1] = n + r + 2 * b[v + p + 1], u[m + 1] = r - n;
							for (; p < c; ++p, ++m) n = b[y + p], r = b[_ + p], l[m] = n + r + 2 * b[v + p], u[m] = r - n;
							for (p = c + 1 | 0, l[0] = l[1], l[p] = l[c], u[0] = u[1], u[p] = u[c], p = 0; p <= c - 4; p += 4) n = u[p + 2], r = u[p + 1], o = u[p + 3], s = u[p + 4], a = l[p + 2], h = l[p + 3], w[x++] = a - l[p], w[x++] = n + u[p] + 2 * r, w[x++] = h - l[p + 1], w[x++] = o + r + 2 * n, w[x++] = l[p + 4] - a, w[x++] = s + n + 2 * o, w[x++] = l[p + 5] - h, w[x++] = u[p + 5] + o + 2 * s;
							for (; p < c; ++p) w[x++] = l[p + 2] - l[p], w[x++] = u[p + 2] + u[p] + 2 * u[p + 1]
						}
						e.cache.put_buffer(T), e.cache.put_buffer(C)
					}, canny: function (t, i, n, r) {
						var o = t.cols, s = t.rows;
						t.data;
						i.resize(o, s, t.channel);
						var a = i.data, h = 0, l = 0, u = 0, c = o << 1, f = 0, d = 0, p = 0, g = 0, m = 0, y = 0,
							v = 0, _ = 0, x = e.cache.get_buffer(s * c << 2), b = e.cache.get_buffer(3 * (o + 2) << 2),
							w = e.cache.get_buffer((s + 2) * (o + 2) << 2), T = e.cache.get_buffer(s * o << 2),
							C = b.i32, E = w.i32, M = T.i32, P = x.i32, S = new e.matrix_t(o, s, e.S32C2_t, x.data),
							I = 1, R = o + 2 + 1 | 0, A = 2 * (o + 2) + 1 | 0, k = o + 2 | 0, O = k + 1 | 0, L = 0;
						for (this.sobel_derivatives(t, S), n > r && (h = n, n = r, r = h), h = 3 * (o + 2) | 0; --h >= 0;) C[h] = 0;
						for (h = (s + 2) * (o + 2) | 0; --h >= 0;) E[h] = 0;
						for (; l < o; ++l, u += 2) g = P[u], m = P[u + 1], C[R + l] = (g ^ g >> 31) - (g >> 31) + ((m ^ m >> 31) - (m >> 31));
						for (h = 1; h <= s; ++h, u += c) {
							if (h == s) for (l = A + o; --l >= A;) C[l] = 0; else for (l = 0; l < o; l++) g = P[u + (l << 1)], m = P[u + (l << 1) + 1], C[A + l] = (g ^ g >> 31) - (g >> 31) + ((m ^ m >> 31) - (m >> 31));
							for (f = u - c | 0, E[O - 1] = 0, d = 0, l = 0; l < o; ++l, f += 2) {
								if (p = C[R + l], p > n) if (g = P[f], m = P[f + 1], y = g ^ m, g = (g ^ g >> 31) - (g >> 31) | 0, m = (m ^ m >> 31) - (m >> 31) | 0, v = 13573 * g, _ = v + (g + g << 15), m <<= 15, m < v) {
									if (p > C[R + l - 1] && p >= C[R + l + 1]) {
										p > r && !d && 2 != E[O + l - k] ? (E[O + l] = 2, d = 1, M[L++] = O + l) : E[O + l] = 1;
										continue
									}
								} else if (m > _) {
									if (p > C[I + l] && p >= C[A + l]) {
										p > r && !d && 2 != E[O + l - k] ? (E[O + l] = 2, d = 1, M[L++] = O + l) : E[O + l] = 1;
										continue
									}
								} else if (y = y < 0 ? -1 : 1, p > C[I + l - y] && p > C[A + l + y]) {
									p > r && !d && 2 != E[O + l - k] ? (E[O + l] = 2, d = 1, M[L++] = O + l) : E[O + l] = 1;
									continue
								}
								E[O + l] = 0, d = 0
							}
							E[O + o] = 0, O += k, l = I, I = R, R = A, A = l
						}
						for (l = O - k - 1, h = 0; h < k; ++h, ++l) E[l] = 0;
						for (; L > 0;) O = M[--L], O -= k + 1, 1 == E[O] && (E[O] = 2, M[L++] = O), O += 1, 1 == E[O] && (E[O] = 2, M[L++] = O), O += 1, 1 == E[O] && (E[O] = 2, M[L++] = O), O += k, 1 == E[O] && (E[O] = 2, M[L++] = O), O -= 2, 1 == E[O] && (E[O] = 2, M[L++] = O), O += k, 1 == E[O] && (E[O] = 2, M[L++] = O), O += 1, 1 == E[O] && (E[O] = 2, M[L++] = O), O += 1, 1 == E[O] && (E[O] = 2, M[L++] = O);
						for (O = k + 1, I = 0, h = 0; h < s; ++h, O += k) for (l = 0; l < o; ++l) a[I++] = 255 * (2 == E[O + l]);
						e.cache.put_buffer(x), e.cache.put_buffer(b), e.cache.put_buffer(w), e.cache.put_buffer(T)
					}, warp_affine: function (t, e, i, n) {
						"undefined" == typeof n && (n = 0);
						for (var r = t.cols, o = t.rows, s = e.cols, a = e.rows, h = t.data, l = e.data, u = 0, c = 0, f = 0, d = 0, p = 0, g = 0, m = 0, y = 0, v = 0, _ = 0, x = 0, b = i.data, w = b[0], T = b[1], C = b[2], E = b[3], M = b[4], P = b[5], S = 0; c < a; ++c) for (g = T * c + C, m = M * c + P, u = 0; u < s; ++u, ++S, g += w, m += E) d = 0 | g, p = 0 | m, d >= 0 && p >= 0 && d < r - 1 && p < o - 1 ? (y = g - d, v = m - p, f = r * p + d, _ = h[f] + y * (h[f + 1] - h[f]), x = h[f + r] + y * (h[f + r + 1] - h[f + r]), l[S] = _ + v * (x - _)) : l[S] = n
					}
				}
			}();
			t.imgproc = i
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t = new Int32Array([0, 3, 1, 3, 2, 2, 3, 1, 3, 0, 3, -1, 2, -2, 1, -3, 0, -3, -1, -3, -2, -2, -3, -1, -3, 0, -3, 1, -2, 2, -1, 3]),
					i = new Uint8Array(512), n = new Int32Array(25), r = new Int32Array(25), o = function (e, i, n) {
						for (var r = 0, o = t; r < n; ++r) e[r] = o[r << 1] + o[(r << 1) + 1] * i;
						for (; r < 25; ++r) e[r] = e[r - n]
					}, s = function (t, e, i, n, r) {
						for (var o = 25, s = 0, a = t[e], h = r, l = 0, u = 0, c = 0; s < o; ++s) n[s] = a - t[e + i[s]];
						for (s = 0; s < 16; s += 2) l = Math.min(n[s + 1], n[s + 2]), l = Math.min(l, n[s + 3]), l <= h || (l = Math.min(l, n[s + 4]), l = Math.min(l, n[s + 5]), l = Math.min(l, n[s + 6]), l = Math.min(l, n[s + 7]), l = Math.min(l, n[s + 8]), h = Math.max(h, Math.min(l, n[s])), h = Math.max(h, Math.min(l, n[s + 9])));
						for (u = -h, s = 0; s < 16; s += 2) c = Math.max(n[s + 1], n[s + 2]), c = Math.max(c, n[s + 3]), c = Math.max(c, n[s + 4]), c = Math.max(c, n[s + 5]), c >= u || (c = Math.max(c, n[s + 6]), c = Math.max(c, n[s + 7]), c = Math.max(c, n[s + 8]), u = Math.min(u, Math.max(c, n[s])), u = Math.min(u, Math.max(c, n[s + 9])));
						return -u - 1
					}, a = 20;
				return {
					set_threshold: function (t) {
						a = Math.min(Math.max(t, 0), 255);
						for (var e = -255; e <= 255; ++e) i[e + 255] = e < -a ? 1 : e > a ? 2 : 0;
						return a
					}, detect: function (t, h, l) {
						"undefined" == typeof l && (l = 3);
						var u, c = 8, f = 25, d = t.data, p = t.cols, g = t.rows, m = 0, y = 0, v = 0, _ = 0, x = 0,
							b = 0, w = e.cache.get_buffer(3 * p), T = e.cache.get_buffer(3 * (p + 1) << 2), C = w.u8,
							E = T.i32, M = n, P = r, S = Math.max(3, l), I = Math.min(g - 2, g - l), R = Math.max(3, l),
							A = Math.min(p - 3, p - l), k = 0, O = 0, L = s, D = i, B = a, N = 0, F = 0, z = 0, H = 0,
							j = 0, U = 0, V = 0, X = 0, W = 0, G = 0, Y = 0, q = 0;
						o(M, p, 16);
						var Q = M[0], J = M[1], Z = M[2], K = M[3], $ = M[4], tt = M[5], et = M[6], it = M[7],
							nt = M[8], rt = M[9], ot = M[10], st = M[11], at = M[12], ht = M[13], lt = M[14],
							ut = M[15];
						for (m = 0; m < 3 * p; ++m) C[m] = 0;
						for (m = S; m < I; ++m) {
							for (V = m * p + R | 0, b = (m - 3) % 3, U = b * p | 0, j = b * (p + 1) | 0, y = 0; y < p; ++y) C[U + y] = 0;
							if (H = 0, m < I - 1) for (y = R; y < A; ++y, ++V) if (N = d[V], F = -N + 255, z = D[F + d[V + Q]] | D[F + d[V + nt]], 0 != z && (z &= D[F + d[V + Z]] | D[F + d[V + ot]], z &= D[F + d[V + $]] | D[F + d[V + at]], z &= D[F + d[V + et]] | D[F + d[V + lt]], 0 != z)) {
								if (z &= D[F + d[V + J]] | D[F + d[V + rt]], z &= D[F + d[V + K]] | D[F + d[V + st]], z &= D[F + d[V + tt]] | D[F + d[V + ht]], z &= D[F + d[V + it]] | D[F + d[V + ut]], 1 & z) for (_ = N - B, k = 0, v = 0; v < f; ++v) if (x = d[V + M[v]], x < _) {
									if (++k, k > c) {
										++H, E[j + H] = y, C[U + y] = L(d, V, M, P, B);
										break
									}
								} else k = 0;
								if (2 & z) for (_ = N + B, k = 0, v = 0; v < f; ++v) if (x = d[V + M[v]], x > _) {
									if (++k, k > c) {
										++H, E[j + H] = y, C[U + y] = L(d, V, M, P, B);
										break
									}
								} else k = 0
							}
							if (E[j + p] = H, m != S) for (b = (m - 4 + 3) % 3, X = b * p | 0, j = b * (p + 1) | 0, b = (m - 5 + 3) % 3, W = b * p | 0, H = E[j + p], v = 0; v < H; ++v) y = E[j + v], G = y + 1 | 0, Y = y - 1 | 0, q = C[X + y], q > C[X + G] && q > C[X + Y] && q > C[W + Y] && q > C[W + y] && q > C[W + G] && q > C[U + Y] && q > C[U + y] && q > C[U + G] && (u = h[O], u.x = y, u.y = m - 1, u.score = q, O++)
						}
						return e.cache.put_buffer(w), e.cache.put_buffer(T), O
					}
				}
			}();
			t.fast_corners = i, i.set_threshold(20)
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t = function (t, e, i, n, r, o, s, a, h, l) {
					var u = 0, c = 0, f = a * i + s | 0, d = f;
					for (u = a; u < l; ++u, f += i, d = f) for (c = s; c < h; ++c, ++d) e[d] = -4 * t[d] + t[d + r] + t[d - r] + t[d + o] + t[d - o]
				}, i = function (t, e, i, n, r, o, s) {
					var a = -2 * t[e] + t[e + n] + t[e - n], h = -2 * t[e] + t[e + r] + t[e - r],
						l = t[e + o] + t[e - o] - t[e + s] - t[e - s], u = 0 | Math.sqrt((a - h) * (a - h) + 4 * l * l);
					return Math.min(Math.abs(i - u), Math.abs(-(i + u)))
				};
				return {
					laplacian_threshold: 30, min_eigen_value_threshold: 25, detect: function (n, r, o) {
						"undefined" == typeof o && (o = 5);
						var s, a = n.cols, h = n.rows, l = n.data, u = 5, c = 5 * a | 0, f = 3 + 3 * a | 0,
							d = 3 - 3 * a | 0, p = e.cache.get_buffer(a * h << 2), g = p.i32, m = 0, v = 0, _ = 0,
							b = 0, w = this.laplacian_threshold, T = this.min_eigen_value_threshold,
							C = 0 | Math.max(5, o), E = 0 | Math.max(3, o), M = 0 | Math.min(a - 5, a - o),
							P = 0 | Math.min(h - 3, h - o);
						for (x = a * h; --x >= 0;) g[x] = 0;
						for (t(l, g, a, h, u, c, C, E, M, P), row = E * a + C | 0, y = E; y < P; ++y, row += a) for (x = C, v = row; x < M; ++x, ++v) m = g[v], (m < -w && m < g[v - 1] && m < g[v + 1] && m < g[v - a] && m < g[v + a] && m < g[v - a - 1] && m < g[v + a - 1] && m < g[v - a + 1] && m < g[v + a + 1] || m > w && m > g[v - 1] && m > g[v + 1] && m > g[v - a] && m > g[v + a] && m > g[v - a - 1] && m > g[v + a - 1] && m > g[v - a + 1] && m > g[v + a + 1]) && (_ = i(l, v, m, u, c, f, d), _ > T && (s = r[b], s.x = x, s.y = y, s.score = _, ++b, ++x, ++v));
						return e.cache.put_buffer(p), b
					}
				}
			}();
			t.yape06 = i
		}(e.jsfeat), function (t) {
			var e = function () {
				var t = function (t, e, i) {
					var n, r, o = 0;
					for (n = i, r = 0; r < n; r++, o++) n = Math.sqrt(i * i - r * r) + .5 | 0, e[o] = n + t * r;
					for (n--; n < r && n >= 0; n--, o++) r = Math.sqrt(i * i - n * n) + .5 | 0, e[o] = n + t * r;
					for (; -n < r; n--, o++) r = Math.sqrt(i * i - n * n) + .5 | 0, e[o] = n + t * r;
					for (r--; r >= 0; r--, o++) n = -Math.sqrt(i * i - r * r) - .5 | 0, e[o] = n + t * r;
					for (; r > n; r--, o++) n = -Math.sqrt(i * i - r * r) - .5 | 0, e[o] = n + t * r;
					for (n++; n <= 0; n++, o++) r = -Math.sqrt(i * i - n * n) - .5 | 0, e[o] = n + t * r;
					for (; n < -r; n++, o++) r = -Math.sqrt(i * i - n * n) - .5 | 0, e[o] = n + t * r;
					for (r++; r < 0; r++, o++) n = Math.sqrt(i * i - r * r) + .5 | 0, e[o] = n + t * r;
					return e[o] = e[0], e[o + 1] = e[1], o
				}, e = function (t, e, i) {
					var n = 0;
					return 0 != t[e + 1] && n++,
					0 != t[e - 1] && n++, 0 != t[e + i] && n++, 0 != t[e + i + 1] && n++, 0 != t[e + i - 1] && n++, 0 != t[e - i] && n++, 0 != t[e - i + 1] && n++, 0 != t[e - i - 1] && n++, n
				}, i = function (t, e, i, n, r) {
					var o, s;
					if (i > 0) for (e -= n * r, s = -r; s <= r; ++s) {
						for (o = -r; o <= r; ++o) if (t[e + o] > i) return !1;
						e += n
					} else for (e -= n * r, s = -r; s <= r; ++s) {
						for (o = -r; o <= r; ++o) if (t[e + o] < i) return !1;
						e += n
					}
					return !0
				}, n = function (t, e, i, n, r, o, s, a) {
					var h = 0, l = 0, u = s - 1 | 0, c = 0, f = 0, d = 0, p = 0, g = 0;
					if (c = t[e + o[l]], c <= r) if (c >= n) if (f = t[e + o[u]], f <= r) {
						if (f >= n) return void(i[e] = 0);
						if (u++, d = t[e + o[u]], d > r) if (u++, p = t[e + o[u]], p > r) g = 3; else {
							if (!(p < n)) return void(i[e] = 0);
							g = 6
						} else if (u++, p = t[e + o[u]], p > r) g = 7; else {
							if (!(p < n)) return void(i[e] = 0);
							g = 2
						}
					} else if (u++, d = t[e + o[u]], d > r) if (u++, p = t[e + o[u]], p > r) g = 3; else {
						if (!(p < n)) return void(i[e] = 0);
						g = 6
					} else {
						if (!(d < n)) return void(i[e] = 0);
						if (u++, p = t[e + o[u]], p > r) g = 7; else {
							if (!(p < n)) return void(i[e] = 0);
							g = 2
						}
					} else {
						if (f = t[e + o[u]], f > r) return void(i[e] = 0);
						if (u++, d = t[e + o[u]], d > r) return void(i[e] = 0);
						if (u++, p = t[e + o[u]], p > r) return void(i[e] = 0);
						g = 1
					} else {
						if (f = t[e + o[u]], f < n) return void(i[e] = 0);
						if (u++, d = t[e + o[u]], d < n) return void(i[e] = 0);
						if (u++, p = t[e + o[u]], p < n) return void(i[e] = 0);
						g = 0
					}
					for (l = 1; l <= s; l++) switch (c = t[e + o[l]], g) {
						case 0:
							if (c > r) {
								if (d = p, u++, p = t[e + o[u]], p < n) return void(i[e] = 0);
								h -= c + d, g = 0;
								break
							}
							if (c < n) {
								if (d > r) return void(i[e] = 0);
								if (p > r) return void(i[e] = 0);
								if (d = p, u++, p = t[e + o[u]], p > r) return void(i[e] = 0);
								h -= c + d, g = 8;
								break
							}
							if (d <= r) return void(i[e] = 0);
							if (p <= r) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], p > r) {
								h -= c + d, g = 3;
								break
							}
							if (p < n) {
								h -= c + d, g = 6;
								break
							}
							return void(i[e] = 0);
						case 1:
							if (c < n) {
								if (d = p, u++, p = t[e + o[u]], p > r) return void(i[e] = 0);
								h -= c + d, g = 1;
								break
							}
							if (c > r) {
								if (d < n) return void(i[e] = 0);
								if (p < n) return void(i[e] = 0);
								if (d = p, u++, p = t[e + o[u]], p < n) return void(i[e] = 0);
								h -= c + d, g = 9;
								break
							}
							if (d >= n) return void(i[e] = 0);
							if (p >= n) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], p < n) {
								h -= c + d, g = 2;
								break
							}
							if (p > r) {
								h -= c + d, g = 7;
								break
							}
							return void(i[e] = 0);
						case 2:
							if (c > r) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], c < n) {
								if (p > r) return void(i[e] = 0);
								h -= c + d, g = 4;
								break
							}
							if (p > r) {
								h -= c + d, g = 7;
								break
							}
							if (p < n) {
								h -= c + d, g = 2;
								break
							}
							return void(i[e] = 0);
						case 3:
							if (c < n) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], c > r) {
								if (p < n) return void(i[e] = 0);
								h -= c + d, g = 5;
								break
							}
							if (p > r) {
								h -= c + d, g = 3;
								break
							}
							if (p < n) {
								h -= c + d, g = 6;
								break
							}
							return void(i[e] = 0);
						case 4:
							if (c > r) return void(i[e] = 0);
							if (c < n) {
								if (d = p, u++, p = t[e + o[u]], p > r) return void(i[e] = 0);
								h -= c + d, g = 1;
								break
							}
							if (p >= n) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], p < n) {
								h -= c + d, g = 2;
								break
							}
							if (p > r) {
								h -= c + d, g = 7;
								break
							}
							return void(i[e] = 0);
						case 5:
							if (c < n) return void(i[e] = 0);
							if (c > r) {
								if (d = p, u++, p = t[e + o[u]], p < n) return void(i[e] = 0);
								h -= c + d, g = 0;
								break
							}
							if (p <= r) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], p > r) {
								h -= c + d, g = 3;
								break
							}
							if (p < n) {
								h -= c + d, g = 6;
								break
							}
							return void(i[e] = 0);
						case 7:
							if (c > r) return void(i[e] = 0);
							if (c < n) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], p > r) {
								h -= c + d, g = 3;
								break
							}
							if (p < n) {
								h -= c + d, g = 6;
								break
							}
							return void(i[e] = 0);
						case 6:
							if (c > r) return void(i[e] = 0);
							if (c < n) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], p < n) {
								h -= c + d, g = 2;
								break
							}
							if (p > r) {
								h -= c + d, g = 7;
								break
							}
							return void(i[e] = 0);
						case 8:
							if (c > r) {
								if (p < n) return void(i[e] = 0);
								if (d = p, u++, p = t[e + o[u]], p < n) return void(i[e] = 0);
								h -= c + d, g = 9;
								break
							}
							if (c < n) {
								if (d = p, u++, p = t[e + o[u]], p > r) return void(i[e] = 0);
								h -= c + d, g = 1;
								break
							}
							return void(i[e] = 0);
						case 9:
							if (c < n) {
								if (p > r) return void(i[e] = 0);
								if (d = p, u++, p = t[e + o[u]], p > r) return void(i[e] = 0);
								h -= c + d, g = 8;
								break
							}
							if (c > r) {
								if (d = p, u++, p = t[e + o[u]], p < n) return void(i[e] = 0);
								h -= c + d, g = 0;
								break
							}
							return void(i[e] = 0)
					}
					i[e] = h + a * t[e]
				}, r = function () {
					function e(e, i, n) {
						this.dirs = new Int32Array(1024), this.dirs_count = 0 | t(e, this.dirs, n), this.scores = new Int32Array(e * i), this.radius = 0 | n
					}

					return e
				}();
				return {
					level_tables: [], tau: 7, init: function (t, e, i, n) {
						"undefined" == typeof n && (n = 1);
						var o;
						for (i = Math.min(i, 7), i = Math.max(i, 3), o = 0; o < n; ++o) this.level_tables[o] = new r(t >> o, e >> o, i)
					}, detect: function (t, r, o) {
						"undefined" == typeof o && (o = 4);
						var s, a = this.level_tables[0], h = 0 | a.radius, l = h - 1 | 0, u = a.dirs,
							c = 0 | a.dirs_count, f = c >> 1, d = t.data, p = 0 | t.cols, g = 0 | t.rows, m = p >> 1,
							y = a.scores, v = 0, _ = 0, x = 0, b = 0, w = 0, T = 0, C = 0, E = 0, M = 0 | this.tau,
							P = 0, S = 0 | Math.max(h + 1, o), I = 0 | Math.max(h + 1, o),
							R = 0 | Math.min(p - h - 2, p - o), A = 0 | Math.min(g - h - 2, g - o);
						for (x = I * p + S | 0, _ = I; _ < A; ++_, x += p) for (v = S, b = x; v < R; ++v, ++b) w = d[b] + M, T = d[b] - M, T < d[b + h] && d[b + h] < w && T < d[b - h] && d[b - h] < w ? y[b] = 0 : n(d, b, y, T, w, u, f, c);
						for (x = I * p + S | 0, _ = I; _ < A; ++_, x += p) for (v = S, b = x; v < R; ++v, ++b) E = y[b], C = Math.abs(E), C < 5 ? (++v, ++b) : e(y, b, p) >= 3 && i(y, b, E, m, h) && (s = r[P], s.x = v, s.y = _, s.score = C, ++P, v += l, b += l);
						return P
					}
				}
			}();
			t.yape = e
		}(e.jsfeat), function (t) {
			var e = t, n = function () {
				var t = new Int32Array([8, -3, 9, 5, 4, 2, 7, -12, -11, 9, -8, 2, 7, -12, 12, -13, 2, -13, 2, 12, 1, -7, 1, 6, -2, -10, -2, -4, -13, -13, -11, -8, -13, -3, -12, -9, 10, 4, 11, 9, -13, -8, -8, -9, -11, 7, -9, 12, 7, 7, 12, 6, -4, -5, -3, 0, -13, 2, -12, -3, -9, 0, -7, 5, 12, -6, 12, -1, -3, 6, -2, 12, -6, -13, -4, -8, 11, -13, 12, -8, 4, 7, 5, 1, 5, -3, 10, -3, 3, -7, 6, 12, -8, -7, -6, -2, -2, 11, -1, -10, -13, 12, -8, 10, -7, 3, -5, -3, -4, 2, -3, 7, -10, -12, -6, 11, 5, -12, 6, -7, 5, -6, 7, -1, 1, 0, 4, -5, 9, 11, 11, -13, 4, 7, 4, 12, 2, -1, 4, 4, -4, -12, -2, 7, -8, -5, -7, -10, 4, 11, 9, 12, 0, -8, 1, -13, -13, -2, -8, 2, -3, -2, -2, 3, -6, 9, -4, -9, 8, 12, 10, 7, 0, 9, 1, 3, 7, -5, 11, -10, -13, -6, -11, 0, 10, 7, 12, 1, -6, -3, -6, 12, 10, -9, 12, -4, -13, 8, -8, -12, -13, 0, -8, -4, 3, 3, 7, 8, 5, 7, 10, -7, -1, 7, 1, -12, 3, -10, 5, 6, 2, -4, 3, -10, -13, 0, -13, 5, -13, -7, -12, 12, -13, 3, -11, 8, -7, 12, -4, 7, 6, -10, 12, 8, -9, -1, -7, -6, -2, -5, 0, 12, -12, 5, -7, 5, 3, -10, 8, -13, -7, -7, -4, 5, -3, -2, -1, -7, 2, 9, 5, -11, -11, -13, -5, -13, -1, 6, 0, -1, 5, -3, 5, 2, -4, -13, -4, 12, -9, -6, -9, 6, -12, -10, -8, -4, 10, 2, 12, -3, 7, 12, 12, 12, -7, -13, -6, 5, -4, 9, -3, 4, 7, -1, 12, 2, -7, 6, -5, 1, -13, 11, -12, 5, -3, 7, -2, -6, 7, -8, 12, -7, -13, -7, -11, -12, 1, -3, 12, 12, 2, -6, 3, 0, -4, 3, -2, -13, -1, -13, 1, 9, 7, 1, 8, -6, 1, -1, 3, 12, 9, 1, 12, 6, -1, -9, -1, 3, -13, -13, -10, 5, 7, 7, 10, 12, 12, -5, 12, 9, 6, 3, 7, 11, 5, -13, 6, 10, 2, -12, 2, 3, 3, 8, 4, -6, 2, 6, 12, -13, 9, -12, 10, 3, -8, 4, -7, 9, -11, 12, -4, -6, 1, 12, 2, -8, 6, -9, 7, -4, 2, 3, 3, -2, 6, 3, 11, 0, 3, -3, 8, -8, 7, 8, 9, 3, -11, -5, -6, -4, -10, 11, -5, 10, -5, -8, -3, 12, -10, 5, -9, 0, 8, -1, 12, -6, 4, -6, 6, -11, -10, 12, -8, 7, 4, -2, 6, 7, -2, 0, -2, 12, -5, -8, -5, 2, 7, -6, 10, 12, -9, -13, -8, -8, -5, -13, -5, -2, 8, -8, 9, -13, -9, -11, -9, 0, 1, -8, 1, -2, 7, -4, 9, 1, -2, 1, -1, -4, 11, -6, 12, -11, -12, -9, -6, 4, 3, 7, 7, 12, 5, 5, 10, 8, 0, -4, 2, 8, -9, 12, -5, -13, 0, 7, 2, 12, -1, 2, 1, 7, 5, 11, 7, -9, 3, 5, 6, -8, -13, -4, -8, 9, -5, 9, -3, -3, -4, -7, -3, -12, 6, 5, 8, 0, -7, 6, -6, 12, -13, 6, -5, -2, 1, -10, 3, 10, 4, 1, 8, -4, -2, -2, 2, -13, 2, -12, 12, 12, -2, -13, 0, -6, 4, 1, 9, 3, -6, -10, -3, -5, -3, -13, -1, 1, 7, 5, 12, -11, 4, -2, 5, -7, -13, 9, -9, -5, 7, 1, 8, 6, 7, -8, 7, 6, -7, -4, -7, 1, -8, 11, -7, -8, -13, 6, -12, -8, 2, 4, 3, 9, 10, -5, 12, 3, -6, -5, -6, 7, 8, -3, 9, -8, 2, -12, 2, 8, -11, -2, -10, 3, -12, -13, -7, -9, -11, 0, -10, -5, 5, -3, 11, 8, -2, -13, -1, 12, -1, -8, 0, 9, -13, -11, -12, -5, -10, -2, -10, 11, -3, 9, -2, -13, 2, -3, 3, 2, -9, -13, -4, 0, -4, 6, -3, -10, -4, 12, -2, -7, -6, -11, -4, 9, 6, -3, 6, 11, -13, 11, -5, 5, 11, 11, 12, 6, 7, -5, 12, -2, -1, 12, 0, 7, -4, -8, -3, -2, -7, 1, -6, 7, -13, -12, -8, -13, -7, -2, -6, -8, -8, 5, -6, -9, -5, -1, -4, 5, -13, 7, -8, 10, 1, 5, 5, -13, 1, 0, 10, -13, 9, 12, 10, -1, 5, -8, 10, -9, -1, 11, 1, -13, -9, -3, -6, 2, -1, -10, 1, 12, -13, 1, -8, -10, 8, -11, 10, -6, 2, -13, 3, -6, 7, -13, 12, -9, -10, -10, -5, -7, -10, -8, -8, -13, 4, -6, 8, 5, 3, 12, 8, -13, -4, 2, -3, -3, 5, -13, 10, -12, 4, -13, 5, -1, -9, 9, -4, 3, 0, 3, 3, -9, -12, 1, -6, 1, 3, 2, 4, -8, -10, -10, -10, 9, 8, -13, 12, 12, -8, -12, -6, -5, 2, 2, 3, 7, 10, 6, 11, -8, 6, 8, 8, -12, -7, 10, -6, 5, -3, -9, -3, 9, -1, -13, -1, 5, -3, -7, -3, 4, -8, -2, -8, 3, 4, 2, 12, 12, 2, -5, 3, 11, 6, -9, 11, -13, 3, -1, 7, 12, 11, -1, 12, 4, -3, 0, -3, 6, 4, -11, 4, 12, 2, -4, 2, 1, -10, -6, -8, 1, -13, 7, -11, 1, -13, 12, -11, -13, 6, 0, 11, -13, 0, -1, 1, 4, -13, 3, -9, -2, -9, 8, -6, -3, -13, -6, -8, -2, 5, -9, 8, 10, 2, 7, 3, -9, -1, -6, -1, -1, 9, 5, 11, -2, 11, -3, 12, -8, 3, 0, 3, 5, -1, 4, 0, 10, 3, -6, 4, 5, -13, 0, -10, 5, 5, 8, 12, 11, 8, 9, 9, -6, 7, -4, 8, -12, -10, 4, -10, 9, 7, 3, 12, 4, 9, -7, 10, -2, 7, 0, 12, -2, -1, -6, 0, -11]),
					n = new e.matrix_t(3, 3, e.F32_t | e.C1_t), r = new e.matrix_t(32, 32, e.U8_t | e.C1_t),
					o = function (t, i, r, o, s, a) {
						var h = Math.cos(r), l = Math.sin(r);
						n.data[0] = h, n.data[1] = -l, n.data[2] = (-h + l) * a * .5 + o, n.data[3] = l, n.data[4] = h, n.data[5] = (-l - h) * a * .5 + s, e.imgproc.warp_affine(t, i, n, 128)
					};
				return {
					describe: function (n, s, a, h) {
						var l = 32, u = 0, c = 0, f = 0, d = 0, p = 0, g = 0, m = 0, y = r.data, v = 528, _ = 0;
						h.type & e.U8_t ? h.resize(l, a, 1) : (h.type = e.U8_t, h.cols = l, h.rows = a, h.channel = 1, h.allocate());
						var x = h.data, b = 0;
						for (i = 0; i < a; ++i) {
							for (c = s[i].x, f = s[i].y, d = s[i].angle, o(n, r, d, c, f, 32), _ = 0, u = 0; u < l; ++u) p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m = p < g | 0, p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m |= (p < g) << 1, p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m |= (p < g) << 2, p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m |= (p < g) << 3, p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m |= (p < g) << 4, p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m |= (p < g) << 5, p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m |= (p < g) << 6, p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m |= (p < g) << 7, x[b + u] = m;
							b += l
						}
					}
				}
			}();
			t.orb = n
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t = e.imgproc.scharr_derivatives;
				return {
					track: function (i, n, r, o, s, a, h, l, u, c) {
						"undefined" == typeof h && (h = 30), "undefined" == typeof l && (l = new Uint8Array(s)), "undefined" == typeof u && (u = .01), "undefined" == typeof c && (c = 1e-4);
						var f = .5 * (a - 1), d = a * a | 0, p = d << 1, g = i.data, m = n.data, y = g[0].data,
							v = m[0].data, _ = g[0].cols, x = g[0].rows, b = 0, w = 0, T = e.cache.get_buffer(d << 2),
							C = e.cache.get_buffer(p << 2), E = e.cache.get_buffer(x * (_ << 1) << 2),
							M = new e.matrix_t(_, x, e.S32C2_t, E.data), P = T.i32, S = C.i32, I = E.i32, R = 0, A = 0,
							k = 0, O = 0, L = 0, D = 0, B = 0, N = 0, F = 0, z = 0, H = 0, j = 0, U = 0, V = 0, X = 0,
							W = 0, G = 0, Y = 0, q = 0, Q = 0, J = 0, Z = 0, K = 0, $ = 0, tt = 0, et = 0, it = 0,
							nt = 0, rt = 0, ot = 0, st = 0, at = 0, ht = 0, lt = 14, ut = 14, ct = ut - 5,
							ft = 1 << ct - 1, dt = 1 << lt, pt = 1 << ut - 1, gt = 1 / (1 << 20), mt = 0, yt = 0,
							vt = 0, _t = 0, xt = 0, bt = 0, wt = 0, Tt = 0, Ct = 0, Et = 0, Mt = 0, Pt = 0,
							St = 1.1920929e-7;
						for (u *= u; Q < s; ++Q) l[Q] = 1;
						var It = i.levels - 1 | 0;
						for ($ = It; $ >= 0; --$) for (B = 1 / (1 << $), b = _ >> $, w = x >> $, R = b << 1, y = g[$].data, v = m[$].data, nt = b - a | 0, rt = w - a | 0, t(g[$], M), tt = 0; tt < s; ++tt) if (Q = tt << 1, J = Q + 1, N = r[Q] * B, F = r[J] * B, $ == It ? (z = N, H = F) : (z = 2 * o[Q], H = 2 * o[J]), o[Q] = z, o[J] = H, N -= f, F -= f, W = 0 | N, G = 0 | F, Z = W <= it | W >= nt | G <= it | G >= rt, 0 == Z) {
							for (ot = N - W, st = F - G, mt = (1 - ot) * (1 - st) * dt + .5 | 0, yt = ot * (1 - st) * dt + .5 | 0, vt = (1 - ot) * st * dt + .5 | 0, _t = dt - mt - yt - vt, Tt = 0, Ct = 0, Et = 0, K = 0; K < a; ++K) for (A = (K + G) * b + W | 0, k = A << 1, O = K * a | 0, L = O << 1, Z = 0; Z < a; ++Z, ++A, ++O, k += 2) xt = y[A] * mt + y[A + 1] * yt + y[A + b] * vt + y[A + b + 1] * _t, xt = xt + ft >> ct, bt = I[k] * mt + I[k + 2] * yt + I[k + R] * vt + I[k + R + 2] * _t, bt = bt + pt >> ut, wt = I[k + 1] * mt + I[k + 3] * yt + I[k + R + 1] * vt + I[k + R + 3] * _t, wt = wt + pt >> ut, P[O] = xt, S[L++] = bt, S[L++] = wt, Tt += bt * bt, Ct += bt * wt, Et += wt * wt;
							if (Tt *= gt, Ct *= gt, Et *= gt, Mt = Tt * Et - Ct * Ct, Pt = (Et + Tt - Math.sqrt((Tt - Et) * (Tt - Et) + 4 * Ct * Ct)) / p, Pt < c || Mt < St) 0 == $ && (l[tt] = 0); else for (Mt = 1 / Mt, z -= f, H -= f, j = 0, U = 0, et = 0; et < h; ++et) {
								if (Y = 0 | z, q = 0 | H, Z = Y <= it | Y >= nt | q <= it | q >= rt, 0 != Z) {
									0 == $ && (l[tt] = 0);
									break
								}
								for (ot = z - Y, st = H - q, mt = (1 - ot) * (1 - st) * dt + .5 | 0, yt = ot * (1 - st) * dt + .5 | 0, vt = (1 - ot) * st * dt + .5 | 0, _t = dt - mt - yt - vt, at = 0, ht = 0, K = 0; K < a; ++K) for (D = (K + q) * b + Y | 0, O = K * a | 0, L = O << 1, Z = 0; Z < a; ++Z, ++D, ++O) xt = v[D] * mt + v[D + 1] * yt + v[D + b] * vt + v[D + b + 1] * _t, xt = xt + ft >> ct, xt -= P[O], at += xt * S[L++], ht += xt * S[L++];
								if (at *= gt, ht *= gt, V = (Ct * ht - Et * at) * Mt, X = (Ct * at - Tt * ht) * Mt, z += V, H += X, o[Q] = z + f, o[J] = H + f, V * V + X * X <= u) break;
								if (et > 0 && Math.abs(V + j) < .01 && Math.abs(X + U) < .01) {
									o[Q] -= .5 * V, o[J] -= .5 * X;
									break
								}
								j = V, U = X
							}
						} else 0 == $ && (l[tt] = 0);
						e.cache.put_buffer(T), e.cache.put_buffer(C), e.cache.put_buffer(E)
					}
				}
			}();
			t.optical_flow_lk = i
		}(e.jsfeat), function (t) {
			var e = function () {
				var t = function (t, e) {
					var i = .25 * t.width + .5 | 0;
					return e.x <= t.x + i && e.x >= t.x - i && e.y <= t.y + i && e.y >= t.y - i && e.width <= 1.5 * t.width + .5 | 0 && 1.5 * e.width + .5 | 0 >= t.width
				};
				return {
					edges_density: .07, group_rectangles: function (e, i) {
						"undefined" == typeof i && (i = 1);
						var n, r, o = e.length, s = [];
						for (n = 0; n < o; ++n) s[n] = {parent: -1, element: e[n], rank: 0};
						for (n = 0; n < o; ++n) if (s[n].element) {
							for (var a = n; s[a].parent != -1;) a = s[a].parent;
							for (r = 0; r < o; ++r) if (n != r && s[r].element && t(s[n].element, s[r].element)) {
								for (var h = r; s[h].parent != -1;) h = s[h].parent;
								if (h != a) {
									s[a].rank > s[h].rank ? s[h].parent = a : (s[a].parent = h, s[a].rank == s[h].rank && s[h].rank++, a = h);
									for (var l, u = r; s[u].parent != -1;) l = u, u = s[u].parent, s[l].parent = a;
									for (u = n; s[u].parent != -1;) l = u, u = s[u].parent, s[l].parent = a
								}
							}
						}
						var c = [], f = 0;
						for (n = 0; n < o; n++) {
							r = -1;
							var d = n;
							if (s[d].element) {
								for (; s[d].parent != -1;) d = s[d].parent;
								s[d].rank >= 0 && (s[d].rank = ~f++), r = ~s[d].rank
							}
							c[n] = r
						}
						var p = [];
						for (n = 0; n < f + 1; ++n) p[n] = {
							neighbors: 0,
							x: 0,
							y: 0,
							width: 0,
							height: 0,
							confidence: 0
						};
						for (n = 0; n < o; ++n) {
							var g = e[n], m = c[n];
							0 == p[m].neighbors && (p[m].confidence = g.confidence), ++p[m].neighbors, p[m].x += g.x, p[m].y += g.y, p[m].width += g.width, p[m].height += g.height, p[m].confidence = Math.max(p[m].confidence, g.confidence)
						}
						var y = [];
						for (n = 0; n < f; ++n) o = p[n].neighbors, o >= i && y.push({
							x: (2 * p[n].x + o) / (2 * o),
							y: (2 * p[n].y + o) / (2 * o),
							width: (2 * p[n].width + o) / (2 * o),
							height: (2 * p[n].height + o) / (2 * o),
							neighbors: p[n].neighbors,
							confidence: p[n].confidence
						});
						var v = [];
						for (o = y.length, n = 0; n < o; ++n) {
							var g = y[n], _ = !0;
							for (r = 0; r < o; ++r) {
								var x = y[r], b = .25 * x.width + .5 | 0;
								if (n != r && g.x >= x.x - b && g.y >= x.y - b && g.x + g.width <= x.x + x.width + b && g.y + g.height <= x.y + x.height + b && (x.neighbors > Math.max(3, g.neighbors) || g.neighbors < 3)) {
									_ = !1;
									break
								}
							}
							_ && v.push(g)
						}
						return v
					}
				}
			}();
			t.haar = e
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t = function (t, e) {
					var i = .25 * t.width + .5 | 0;
					return e.x <= t.x + i && e.x >= t.x - i && e.y <= t.y + i && e.y >= t.y - i && e.width <= 1.5 * t.width + .5 | 0 && 1.5 * e.width + .5 | 0 >= t.width
				};
				new e.pyramid_t(1);
				return {
					interval: 4, scale: 1.1486, next: 5, scale_to: 1, detect: function (t, e) {
						var i, n, r, o, s, a = this.scale, h = this.next, l = this.scale_to, u = 0, c = 0, f = 0, d = 0,
							p = 0, g = 0, m = 0, y = 0, v = 0, _ = 0, x = 0, b = 0, w = 0, T = 0, C = 0, E = 0, M = 0,
							P = 0, S = !0, I = !0, R = 1, A = 1, k = [0, 1, 0, 1], O = [0, 0, 1, 1], L = [], D = t.data,
							B = 1, N = 2, F = 4, z = [], H = [0, 0, 0], j = [0, 0, 0], U = [0, 0, 0];
						for (u = 0; u < l; u++) {
							for (C = u << 2, E = D[C + (h << 3)].cols - (e.width >> 2), M = D[C + (h << 3)].rows - (e.height >> 2), j[0] = D[C].cols * B, j[1] = D[C + (h << 2)].cols * B, j[2] = D[C + (h << 3)].cols * B, U[0] = D[C].cols * F - E * F, U[1] = D[C + (h << 2)].cols * N - E * N, U[2] = D[C + (h << 3)].cols * B - E * B, y = e.stage_classifier.length, c = 0; c < y; c++) for (r = e.stage_classifier[c].feature, n = e.stage_classifier[c]._feature, v = e.stage_classifier[c].count, f = 0; f < v; f++) for (o = n[f], s = r[f], _ = 0 | s.size, m = 0; m < _; m++) o.px[m] = s.px[m] * B + s.py[m] * j[s.pz[m]], o.pz[m] = s.pz[m], o.nx[m] = s.nx[m] * B + s.ny[m] * j[s.nz[m]], o.nz[m] = s.nz[m];
							for (z[0] = D[C].data, z[1] = D[C + (h << 2)].data, m = 0; m < 4; m++) for (z[2] = D[C + (h << 3) + m].data, H[0] = k[m] * N + O[m] * (D[C].cols * N), H[1] = k[m] * B + O[m] * (D[C + (h << 2)].cols * B), H[2] = 0, g = 0; g < M; g++) {
								for (p = 0; p < E; p++) {
									for (P = 0, S = !0, y = e.stage_classifier.length, c = 0; c < y; c++) {
										for (P = 0, i = e.stage_classifier[c].alpha, n = e.stage_classifier[c]._feature, v = e.stage_classifier[c].count, f = 0; f < v; f++) if (o = n[f], b = z[o.pz[0]][H[o.pz[0]] + o.px[0]], w = z[o.nz[0]][H[o.nz[0]] + o.nx[0]], b <= w) P += i[f << 1]; else {
											for (I = !0, _ = o.size, T = 1; T < _; T++) {
												if (o.pz[T] >= 0 && (x = z[o.pz[T]][H[o.pz[T]] + o.px[T]], x < b)) {
													if (x <= w) {
														I = !1;
														break
													}
													b = x
												}
												if (o.nz[T] >= 0 && (d = z[o.nz[T]][H[o.nz[T]] + o.nx[T]], d > w)) {
													if (b <= d) {
														I = !1;
														break
													}
													w = d
												}
											}
											P += I ? i[(f << 1) + 1] : i[f << 1]
										}
										if (P < e.stage_classifier[c].threshold) {
											S = !1;
											break
										}
									}
									S && (L.push({
										x: (4 * p + 2 * k[m]) * R,
										y: (4 * g + 2 * O[m]) * A,
										width: e.width * R,
										height: e.height * A,
										neighbor: 1,
										confidence: P
									}), ++p, H[0] += F, H[1] += N, H[2] += B), H[0] += F, H[1] += N, H[2] += B
								}
								H[0] += U[0], H[1] += U[1], H[2] += U[2]
							}
							R *= a, A *= a
						}
						return L
					}, group_rectangles: function (e, i) {
						"undefined" == typeof i && (i = 1);
						var n, r, o = e.length, s = [];
						for (n = 0; n < o; ++n) s[n] = {parent: -1, element: e[n], rank: 0};
						for (n = 0; n < o; ++n) if (s[n].element) {
							for (var a = n; s[a].parent != -1;) a = s[a].parent;
							for (r = 0; r < o; ++r) if (n != r && s[r].element && t(s[n].element, s[r].element)) {
								for (var h = r; s[h].parent != -1;) h = s[h].parent;
								if (h != a) {
									s[a].rank > s[h].rank ? s[h].parent = a : (s[a].parent = h, s[a].rank == s[h].rank && s[h].rank++, a = h);
									for (var l, u = r; s[u].parent != -1;) l = u, u = s[u].parent, s[l].parent = a;
									for (u = n; s[u].parent != -1;) l = u, u = s[u].parent, s[l].parent = a
								}
							}
						}
						var c = [], f = 0;
						for (n = 0; n < o; n++) {
							r = -1;
							var d = n;
							if (s[d].element) {
								for (; s[d].parent != -1;) d = s[d].parent;
								s[d].rank >= 0 && (s[d].rank = ~f++), r = ~s[d].rank
							}
							c[n] = r
						}
						var p = [];
						for (n = 0; n < f + 1; ++n) p[n] = {
							neighbors: 0,
							x: 0,
							y: 0,
							width: 0,
							height: 0,
							confidence: 0
						};
						for (n = 0; n < o; ++n) {
							var g = e[n], m = c[n];
							0 == p[m].neighbors && (p[m].confidence = g.confidence), ++p[m].neighbors, p[m].x += g.x, p[m].y += g.y, p[m].width += g.width, p[m].height += g.height, p[m].confidence = Math.max(p[m].confidence, g.confidence)
						}
						var y = [];
						for (n = 0; n < f; ++n) o = p[n].neighbors, o >= i && y.push({
							x: (2 * p[n].x + o) / (2 * o),
							y: (2 * p[n].y + o) / (2 * o),
							width: (2 * p[n].width + o) / (2 * o),
							height: (2 * p[n].height + o) / (2 * o),
							neighbors: p[n].neighbors,
							confidence: p[n].confidence
						});
						var v = [];
						for (o = y.length, n = 0; n < o; ++n) {
							var g = y[n], _ = !0;
							for (r = 0; r < o; ++r) {
								var x = y[r], b = .25 * x.width + .5 | 0;
								if (n != r && g.x >= x.x - b && g.y >= x.y - b && g.x + g.width <= x.x + x.width + b && g.y + g.height <= x.y + x.height + b && (x.neighbors > Math.max(3, g.neighbors) || g.neighbors < 3)) {
									_ = !1;
									break
								}
							}
							_ && v.push(g)
						}
						return v
					}
				}
			}();
			t.bbf = i
		}(e.jsfeat), function (e) {
			if ("undefined" == typeof t || "undefined" == typeof t.exports) {
				var i = usenamespace("editor.utils");
				i.jsfeat = e
			} else t.exports.jsfeat = e
		}(e.jsfeat)
	}()
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(102), s = e(o);
		!function () {
			function e(t, e) {
				Object.defineProperty(this, "centerX", {get: this.getCenterX}), Object.defineProperty(this, "centerY", {get: this.getCenterY}), Object.defineProperty(this, "dimension", {get: this.getDimension}), Object.defineProperty(this, "uiRotation", {get: this.getUIRotation}), Object.defineProperty(this, "screenBounds", {get: this.getScreenBounds}), Object.defineProperty(this, "isHorizontal", {get: this.getIsHorizontal}), Object.defineProperty(this, "isReverseRatio", {get: this.getIsReverseRatio}), Object.defineProperty(this, "isNearInitImageSize", {get: this.getIsNearInitImageSize}), Object.defineProperty(this, "isNearInitImageWidth", {get: this.getIsNearInitImageWidth}), Object.defineProperty(this, "isNearInitImageHeight", {get: this.getIsNearInitImageHeight}), Object.defineProperty(this, "offsetX", {
					get: this.getOffsetX,
					set: this.setOffsetX
				}), Object.defineProperty(this, "offsetY", {
					get: this.getOffsetY,
					set: this.setOffsetY
				}), Object.defineProperty(this, "isMinimum", {
					get: function () {
						return this._isMinimum
					}
				}), Object.defineProperty(this, "isEditable", {
					get: function () {
						return this._isEditable
					}
				}), Object.defineProperty(this, "viewport", {
					get: this.getViewport,
					set: this.setViewport
				}), Object.defineProperty(this, "isChanged", {
					get: this.getIsChanged,
					set: this.setIsChanged
				}), Object.defineProperty(this, "isNewChanged", {
					get: this.getIsNewChanged,
					set: this.setIsNewChanged
				}), Object.defineProperty(this, "isChangeUIRotation", {get: this.getIsChangeUIRotation}), Object.defineProperty(this, "imageRotation", {
					get: this.getImageRotation,
					set: this.setImageRotation
				}), Object.defineProperty(this, "snapImageRotation", {get: this.getSnapImageRotation}), Object.defineProperty(this, "stageRotation", {
					get: this.getStageRotation,
					set: this.setStageRotation
				}), PIXI.Container.call(this), this.canvas = t, this.options = u.Func.getDefaultParameters(e, {
					offsetX: 0,
					offsetY: 0,
					paddingX: 0,
					paddingY: 0,
					viewport: {x: 0, y: 0, width: this.canvas.width, height: this.canvas.height}
				}), this.initialize(e)
			}

			var n = i(185), o = i(192), a = i(194), h = i(197), l = i(196), u = {};
			u.Func = i(187), u.Calc = i(188), u.Painter = i(191), u.Mouse = i(193);
			var c = {};
			c.KeyCode = i(198), c.HitSide = i(189);
			var f = i(190).cancelAnimFrame, d = i(190).animationLoop;
			e.UI_CHANGE = "uiChange", e.UI_MOVE_START = "uiMoveStart", e.UI_MOVE = "uiMove", e.UI_MOVE_END = "uiMoveEnd", e.ROTATE_START = "rotateStart", e.ROTATE = "rotate", e.ROTATE_END = "rotateEnd", e.MOVE_START = "moveStart", e.MOVE = "move", e.MOVE_END = "moveEnd", e.CHANGE_CURSOR = "changeCursor", e.CHANGE_ASPECT_RATIO = "changeAspectRatio", e.ASPECT_RATIO_MOTION_START = "aspectRatioMotionStart", e.RESET = "reset", e.RESET_COMPLETE = "resetComplete";
			var p = e.prototype = (0, s["default"])(PIXI.Container.prototype);
			p.initialize = function (t) {
				this.isChanged = !1, this._stageRotation = 0, this._imageRotation = 0, this.imageRotateSpace = .1, this.uiExpandSpace = 6, this.magnifyLimitSpace = 10, this._useMagnifyLimit = !1, this.errorRange = 4, this.editableSize = 60, this.minimumSize = 200, this._isEditable = !0, this._isMinimum = !1, this._isResetAnimation = !1, this._hasEventListener = !1, this._isMagnifyAnimation = !1, this.viewport = t.viewport, this.aspectRatioAllowableSize = 30, this.offsetX = u.Func.getDefaultParameters(t.offsetX, 0), this.offsetY = u.Func.getDefaultParameters(t.offsetY, 0), this.paddingX = u.Func.getDefaultParameters(this.options.paddingX, 0), this.paddingY = u.Func.getDefaultParameters(this.options.paddingY, 0), this.aspectRatioType = u.Func.getDefaultParameters(t.aspectRatioType, null)
			}, p.addDebug = function () {
				this.gTest || (this.gTest = new PIXI.Graphics, this.gImage = new PIXI.Graphics, this.gBounds = new PIXI.Graphics, this.addChild(this.gTest), this.addChild(this.gImage), this.addChild(this.gBounds))
			}, p.start = function (t, e, i, r) {
				if (this.canvas = t, this.aspectRatio = 0, this.aspectRatioWidth = 0, this.aspectRatioHeight = 0, this.isNewChanged = !1, this._useMagnifyLimit = !1, this.bitmapdata = e, this.limitRotation = u.Calc.RADIAN_45, this.maxRotation = this.limitRotation, this.minRotation = -this.limitRotation, this.image ? (this.image.reset(e), this.moveUI.reset(this.options), this.ui.reset(this.image, this.options), this.rotateUI.reset(this.canvas, this.viewport, this.image, this.options)) : (this.image = new n(e), this.moveUI = new o(this.options), this.ui = new a(this.image, this.options), this.rotateUI = new h(this.canvas, this.viewport, this.image, this.options), this.addChild(this.image), this.addChild(this.rotateUI), this.addChild(this.moveUI), this.addChild(this.ui), this.addEvent()), this.resetImage(), this._isMinimum = this.isMinimunSize(this.minimumSize), this._isEditable = this.isEditableSize(this.editableSize), this.isEditable ? (this.addEvent(), this.enableCursor(), this.disableCurrentCursor()) : (this.removeEvent(), this.disableCursor(), this.enableCurrentCursor("default")), null !== i) this.restore(i); else if (null !== this.aspectRatioType) {
					var s = this.parseAspectRatioType(this.aspectRatioType);
					this.changeAspectRatio(s[0], s[1], !1), this.isChanged = !1, this.isNewChanged = !1
				}
				this.applyExternalRotate(r)
			}, p.parseAspectRatioType = function (t) {
				return t = t.toLowerCase(), t = 0 === t.length ? "free" : t, t.indexOf(":") > -1 ? t.split(":") : "free" === t ? [0, 0] : "original" === t ? [this.originalImageWidth, this.originalImageHeight] : [0, 0]
			}, p.suspend = function () {
			}, p.addContainer = function (t) {
				this.image.image.addChild(t)
			}, p.addEvent = function () {
				this._hasEventListener !== !0 && (this._hasEventListener = !0, this._imageMoveStartListener = this.imageMoveStart.bind(this), this._imageMoveListener = this.imageMove.bind(this), this._imageMoveEndListener = this.imageMoveEnd.bind(this), this._imageRotateStartListener = this.imageRotateStart.bind(this), this._imageRotateListener = this.imageRotate.bind(this), this._imageRotateEndListener = this.imageRotateEnd.bind(this), this._uiChangeListener = this.uiChange.bind(this), this._cornerMoveStartListener = this.cornerMoveStart.bind(this), this._cornerMoveListener = this.cornerMove.bind(this), this._cornerMoveEndListener = this.cornerMoveEnd.bind(this), this._controlMoveStartListener = this.controlMoveStart.bind(this), this._controlMoveListener = this.controlMove.bind(this), this._controlMoveEndListener = this.controlMoveEnd.bind(this), this._changeCursorListener = this.changeCursor.bind(this), this.moveUI.on(o.MOVE_START, this._imageMoveStartListener), this.moveUI.on(o.MOVE, this._imageMoveListener), this.moveUI.on(o.MOVE_END, this._imageMoveEndListener), this.rotateUI.on(h.ROTATE_START, this._imageRotateStartListener), this.rotateUI.on(h.ROTATE, this._imageRotateListener), this.rotateUI.on(h.ROTATE_END, this._imageRotateEndListener), this.ui.on(a.UI_CHANGE, this._uiChangeListener), this.ui.on(a.CORNER_MOVE_START, this._cornerMoveStartListener), this.ui.on(a.CORNER_MOVE, this._cornerMoveListener), this.ui.on(a.CORNER_MOVE_END, this._cornerMoveEndListener), this.ui.on(a.CONTROL_MOVE_START, this._controlMoveStartListener), this.ui.on(a.CONTROL_MOVE, this._controlMoveListener), this.ui.on(a.CONTROL_MOVE_END, this._controlMoveEndListener), this.ui.on(a.CHANGE_CURSOR, this._changeCursorListener))
			}, p.removeEvent = function () {
				this._hasEventListener !== !1 && (this._hasEventListener = !1, this.moveUI.off(o.MOVE_START, this._imageMoveStartListener), this.moveUI.off(o.MOVE, this._imageMoveListener), this.moveUI.off(o.MOVE_END, this._imageMoveEndListener), this.rotateUI.off(h.ROTATE_START, this._imageRotateStartListener), this.rotateUI.off(h.ROTATE, this._imageRotateListener), this.rotateUI.off(h.ROTATE_END, this._imageRotateEndListener), this.ui.off(a.UI_CHANGE, this._uiChangeListener), this.ui.off(a.CORNER_MOVE_START, this._cornerMoveStartListener), this.ui.off(a.CORNER_MOVE, this._cornerMoveListener), this.ui.off(a.CORNER_MOVE_END, this._cornerMoveEndListener), this.ui.off(a.CONTROL_MOVE_START, this._controlMoveStartListener), this.ui.off(a.CONTROL_MOVE, this._controlMoveListener), this.ui.off(a.CONTROL_MOVE_END, this._controlMoveEndListener), this.ui.off(a.CHANGE_CURSOR, this._changeCursorListener), this._imageMoveStartListener = null, this._imageMoveListener = null, this._imageMoveEndListener = null, this._imageRotateStartListener = null, this._imageRotateListener = null, this._imageRotateEndListener = null, this._uiChangeListener = null, this._cornerMoveStartListener = null, this._cornerMoveListener = null, this._cornerMoveEndListener = null, this._controlMoveStartListener = null, this._controlMoveListener = null, this._controlMoveEndListener = null, this._changeCursorListener = null)
			}, p.resize = function () {
				this.image && (this.setInitImageSize(), this.magnifyImage(), this.moveUI.setSize(this.ui.bounds), this.rotateUI.resize(), this.updateDimed())
			}, p.setImagePivot = function (t) {
				t = u.Func.getDefaultParameters(t, {
					x: this.centerX,
					y: this.centerY
				}), this.image.setPivotByGlobalPoint(t)
			}, p.crop = function (t, e) {
				var i = {};
				this.setImagePivot();
				var n = this.ui.getActualPixelWidth(), r = this.ui.getActualPixelHeight();
				if (this.stageRotation === -u.Calc.RADIAN_90) {
					var o = this.image.getLocal(this.ui.lb);
					i.x = 0, i.y = r, i.offsetX = o.x, i.offsetY = o.y
				} else if (this.stageRotation === -u.Calc.RADIAN_180) {
					var s = this.image.getLocal(this.ui.rb);
					i.x = n, i.y = r, i.offsetX = s.x, i.offsetY = s.y
				} else {
					var a = this.image.getLocal(this.ui.lt);
					i.x = 0, i.y = 0, i.offsetX = a.x, i.offsetY = a.y
				}
				i.canvasWidth = n, i.canvasHeight = r, i.scaleX = 1, i.scaleY = 1, i.rotation = u.Calc.toDegrees(this.imageRotation), i.stageRotation = u.Calc.toDegrees(this.stageRotation);
				for (var h in i) e[h] = i[h];
				var l = {
					uiRestoreVO: this.ui.bounds,
					imageRestoreVO: this.image.getRestoreData(),
					rotation: this.imageRotation,
					stageRotation: this.stageRotation
				};
				return l
			}, p.cropByMatrix = function (t) {
				var e = this.getImageSizeByBitmapData(t), i = {};
				return i.canvasWidth = e.width, i.canvasHeight = e.height, i.scaleX = this.image.image.scale.x, i.scaleY = this.image.image.scale.y, i.offsetX = e.offsetX, i.offsetY = e.offsetY, i.radian = this.snapImageRotation, i
			}, p.getImageSizeByBitmapData = function (t) {
				this.updateTransform();
				var e = this.ui.points, i = t.worldTransform.matrix, n = u.Calc.convertCanvasMatrixToPixiMatrix(i),
					r = this.image.image.worldTransform.clone();
				r.append(n);
				var o = u.Calc.toLocalPoints(r, e), s = u.Calc.getSizeByPoints(o), a = s.width, h = s.height,
					l = Math.round(o.lt.x), c = Math.round(o.lt.y);
				if (l = l < 0 ? 0 : l, c = c < 0 ? 0 : c, 0 == this.isChangeUIRotation && 0 != this.aspectRatio) {
					var f = this.getRealOffset(l, c, a, h);
					a > this.originalImageWidth - f.x - this.errorRange && (a = this.originalImageWidth - f.x, h = a / this.aspectRatio), h > this.originalImageHeight - f.y - this.errorRange && (h = this.originalImageHeight - f.y, a = h * this.aspectRatio)
				} else a > this.originalImageWidth - this.errorRange && (a = this.originalImageWidth, 0 != this.aspectRatio && (h = a / this.aspectRatio)), h > this.originalImageHeight - this.errorRange && (h = this.originalImageHeight, 0 != this.aspectRatio && (a = h * this.aspectRatio));
				var d = a + .5 | 0, p = h + .5 | 0;
				return {width: d, height: p, offsetX: l, offsetY: c}
			}, p.getIsChangeUIRotation = function () {
				return 0 != u.Calc.getModulusDegreesByRadians(this.snapImageRotation, 90)
			}, p.getRealOffset = function (t, e, i, n) {
				var r = t, o = e, s = this.originalImageWidth, a = this.originalImageHeight,
					h = u.Calc.getModulusDegreesByRadians(this.stageRotation, 360);
				switch (h) {
					case 0:
					default:
						this.image.isFlipX && (r = s - r), this.image.isFlipY && (o = a - o);
						break;
					case 90:
					case-270:
						r = s - e, o = t, this.image.isFlipY && (r = s - r), this.image.isFlipX && (o = a - o);
						break;
					case 180:
					case-180:
						r = s - t, o = a - e, this.image.isFlipX && (r = s - r), this.image.isFlipY && (o = a - o);
						break;
					case-90:
					case 270:
						r = e, o = a - t, this.image.isFlipY && (r = s - r), this.image.isFlipX && (o = a - o)
				}
				return {x: r, y: o}
			}, p.getCropVO = function () {
				return this.ui ? {
					uiRestoreVO: this.ui.bounds,
					imageRestoreVO: this.image.getRestoreData(),
					rotation: this.snapImageRotation,
					stageRotation: this.stageRotation,
					aspectRatioVO: {
						aspectRatio: this.aspectRatio,
						aspectRatioWidth: this.aspectRatioWidth,
						aspectRatioHeight: this.aspectRatioHeight
					},
					originalImageWidth: this.originalImageWidth,
					originalImageHeight: this.originalImageHeight
				} : null
			}, p.restore = function (t) {
				if (t) {
					this.resetWithoutMotion(), this._isChanged = !0;
					var i = t.stageRotation, n = t.uiRestoreVO, r = t.imageRestoreVO, o = t.aspectRatioVO;
					this.aspectRatio = o.aspectRatio, this.aspectRatioWidth = o.aspectRatioWidth, this.aspectRatioHeight = o.aspectRatioHeight, this.changeCornerColor(this.aspectRatioWidth, this.aspectRatioHeight), this.originalImageWidth = t.originalImageWidth, this.originalImageHeight = t.originalImageHeight, this.imageAspectRatio = u.Calc.getAspectRatio(this.originalImageWidth, this.originalImageHeight), this.ui.setSize(n), this.image.setRestoreData(r), this.imageRotation = r.rotation, this.image.resetLt();
					for (var s = i > 0, a = u.Calc.getRotateCountByRadians(i), h = 0; h < a; h++) this.image.rotatePoints(s), this.image.rotateLt(s);
					this.image.restoreFlip(r), this.image.updatePrevLtPointForPivot(), this.setImagePivot(), this.stageRotation = i, this.maxRotation = this.stageRotation + this.limitRotation, this.minRotation = this.stageRotation - this.limitRotation, this.magnifyImage();
					var l = this.ui.bounds;
					this.moveUI.setSize(l), this.setImagePivot(), this.image.showDimed(), this.emit(e.ROTATE, {rotation: u.Calc.toDegrees(this.uiRotation)})
				}
			}, p.reset = function () {
				this.isChanged !== !1 && (this.aspectRatio = 0, this.aspectRatioWidth = 0, this.aspectRatioHeight = 0, 0 !== this.stageRotation ? this.resetImage() : this.resetImageWithMotion(), this.ui.changeCornerColor(this.ui.defaultColor))
			}, p.resetWithoutMotion = function () {
				this.isChanged !== !1 && (this.aspectRatio = 0, this.aspectRatioWidth = 0, this.aspectRatioHeight = 0, this.resetImage(), this.ui.changeCornerColor(this.ui.defaultColor))
			}, p.resetImage = function () {
				this.isChanged = !1, this.setInitImageSize(), this.maxZoom = u.Calc.getScale({
					width: this.ui.minSize * this.image.scale.x,
					height: this.ui.minSize * this.image.scale.y
				}, this.screenBounds).min, this.maxSize = {
					width: this.image.width * this.maxZoom,
					height: this.image.height * this.maxZoom
				}, this.imageRotation = 0, this.image.resetFlip(), this.image.resetLt(), this.image.pivot = {
					x: 0,
					y: 0
				}, this.image.x = this.centerX, this.image.y = this.centerY, this.image.width = this.initSize.width, this.image.height = this.initSize.height, this.image.updatePrevLtPointForPivot(), this.ui.setSize(this.image.bounds), this.moveUI.setSize(this.ui.bounds), this.rotateUI.resize(), this.stageRotation = 0, this.maxRotation = this.stageRotation + this.limitRotation, this.minRotation = this.stageRotation - this.limitRotation, this.updateDimed(), this.hideGridAndDimed(!0), this.originalImageWidth = this.bitmapdata.worldTransform.canvasWidth, this.originalImageHeight = this.bitmapdata.worldTransform.canvasHeight, this.imageAspectRatio = u.Calc.getAspectRatio(this.originalImageWidth, this.originalImageHeight), this.emit(e.RESET_COMPLETE), this.emit(e.ROTATE, {rotation: u.Calc.toDegrees(this.uiRotation)})
			}, p.resetImageWithMotion = function () {
				this._isResetAnimation !== !0 && (this._isResetAnimation = !0, f(this.resetAnimationId), this.setInitImageSize(), this._tFrom = this.ui.bounds, this._tFrom.imageX = this.image.pivot.x, this._tFrom.imageY = this.image.pivot.y, this._tFrom.imageWidth = this.image.width, this._tFrom.imageHeight = this.image.height, this._tFrom.imageRotation = this.imageRotation, this._tTo = {
					imageX: 0,
					imageY: 0,
					imageRotation: 0,
					imageWidth: this.initSize.width,
					imageHeight: this.initSize.height,
					x: this.centerX - this.initSize.width / 2,
					y: this.centerY - this.initSize.height / 2,
					width: this.initSize.width,
					height: this.initSize.height
				}, this._tCurt = u.Calc.copyObject(this._tFrom), this.resetAnimationId = d(this.resetAnimation.bind(this), 18, "easeOutQuad", function () {
				}, function () {
					this.resetImage(), this._isResetAnimation = !1, this.emit(e.ROTATE, {rotation: u.Calc.toDegrees(this.uiRotation)})
				}, this))
			}, p.resetAnimation = function (t, i, n) {
				for (var r in this._tCurt) this._tCurt[r] = u.Calc.getTweenValueByObject(r, this._tFrom, this._tTo, t);
				this.ui.setSize(this._tCurt), this.image.pivot.x = this._tCurt.imageX, this.image.pivot.y = this._tCurt.imageY, this.image.width = this._tCurt.imageWidth, this.image.height = this._tCurt.imageHeight, this.imageRotation = this._tCurt.imageRotation, this.image.updatePrevLtPointForPivot(), this.updateDimed(), this.emit(e.RESET), this.emit(e.ROTATE, {rotation: u.Calc.toDegrees(this.uiRotation)})
			}, p.applyExternalRotate = function (t) {
				if (0 !== t) for (var e = t > 0, i = u.Calc.getRotateCountByDegrees(t), n = 0; n < i; n++) this.rotate(e)
			}, p.rotate = function (t) {
				t = u.Func.getDefaultParameters(t, !1), this.isChanged = !0, this.setImagePivot();
				var i = this.aspectRatioWidth, n = this.aspectRatioHeight;
				this.aspectRatioWidth = n, this.aspectRatioHeight = i, this.aspectRatio = u.Calc.getAspectRatio(this.aspectRatioWidth, this.aspectRatioHeight), this.emit(e.CHANGE_ASPECT_RATIO, {
					width: this.aspectRatioWidth,
					height: this.aspectRatioHeight
				});
				var r = this.originalImageWidth, o = this.originalImageHeight;
				this.originalImageWidth = o, this.originalImageHeight = r, this.imageAspectRatio = u.Calc.getAspectRatio(this.originalImageWidth, this.originalImageHeight);
				var s, a, h, l;
				t ? (s = this.image.getLocal(this.ui.lb), a = this.image.getLocal(this.ui.lt), h = this.image.getLocal(this.ui.rt), l = this.image.getLocal(this.ui.rb)) : (s = this.image.getLocal(this.ui.rt), a = this.image.getLocal(this.ui.rb), h = this.image.getLocal(this.ui.lb), l = this.image.getLocal(this.ui.lt));
				var c = t ? u.Calc.RADIAN_90 : -u.Calc.RADIAN_90, f = this.snapImageRotation + c;
				this.imageRotation = u.Calc.toRoundRadiansByRadians(f), this.image.rotatePoints(t), this.image.rotateLt(t);
				var d = {
					lt: this.image.getGlobal(s),
					rt: this.image.getGlobal(a),
					rb: this.image.getGlobal(h),
					lb: this.image.getGlobal(l)
				}, p = this.ui.pointsToBounds(d), g = u.Calc.getScale(p, this.screenBounds).min;
				this.image.width = this.image.width * g, this.image.height = this.image.height * g, this.image.updatePrevLtPointForPivot(), this.setImagePivot();
				var m = u.Calc.getSizeFitInBounds(p, this.screenBounds);
				m.x = this.centerX - m.width / 2, m.y = this.centerY - m.height / 2, m = this.ui.fixBounds(m), this.ui.setSize(m), this.moveUI.setSize(this.ui.bounds), this.uiPoints = this.ui.points, this.updateDimed(), this.stageRotation += c, this.maxRotation = this.stageRotation + this.limitRotation, this.minRotation = this.stageRotation - this.limitRotation, this.emit(e.UI_CHANGE, {
					bounds: m,
					dimension: this.dimension
				})
			}, p.autoRotate = function (t) {
				this.isEditable === !1 || this.isMinimum || 0 === this.imageRotation && (this.isChanged = !0, this.rotateWithMotion(t))
			}, p.rotateWithMotion = function (t) {
				f(this.rotateAnimationId), this.imageRotateStart(), this._rotationFrom = this.imageRotation, this._rotationTo = t, this._rotationCurt = this._rotationFrom, this.rotateAnimationId = d(this.rotateAnimation.bind(this), 8, "easeOutQuad", function () {
				}, function () {
					this.imageRotation = this._rotationTo, this.imageRotateEnd()
				}, this)
			}, p.rotateAnimation = function (t, e, i) {
				this._rotationCurt = u.Calc.getTweenValue(this._rotationFrom, this._rotationTo, t), this.imageRotateByRadian(this._rotationCurt)
			}, p.uiFix = function () {
				var t = this.image.getHitPoints(this.ui.points);
				0 !== t.length && this.ui.fix()
			}, p.magnifyImage = function (t, e) {
				t = u.Func.getDefaultParameters(t, this.ui.bounds), e = u.Func.getDefaultParameters(e, this.screenBounds);
				var i = u.Calc.getScale(t, e).min, n = this.image.lt.x - t.x, r = this.image.lt.y - t.y,
					o = u.Calc.getSizeFitInBounds(t, e);
				o.x = this.centerX - o.width / 2, o.y = this.centerY - o.height / 2, this.ui.setSize(o), this.image.width = this.image.width * i, this.image.height = this.image.height * i;
				var s = n * i, a = r * i, h = this.image.x - this.image.lt.x, l = this.image.y - this.image.lt.y;
				this.image.x = o.x + s + h, this.image.y = o.y + a + l, this.image.updatePrevLtPointForPivot(), this.uiFix(), this.setCornerLimit()
			}, p.magnifyImageWithMotion = function (t, e, i) {
				if (this._isMagnifyAnimation !== !0) {
					this._isMagnifyAnimation = !0, f(this.magnifyAnimationId), e = u.Func.getDefaultParameters(e, this.ui.bounds), i = u.Func.getDefaultParameters(i, this.screenBounds);
					var n = u.Calc.getScale(e, i).min, r = u.Calc.getSizeFitInBounds(e, i);
					switch (r.x = this.centerX - r.width / 2, r.y = this.centerY - r.height / 2, this._tFrom = this.ui.bounds, this._tFrom.imageWidth = this.image.width, this._tFrom.imageHeight = this.image.height, this._tTo = {
						x: r.x,
						y: r.y,
						width: r.width,
						height: r.height,
						imageWidth: this.image.width * n,
						imageHeight: this.image.height * n
					}, t) {
						case this.ui.lt:
							this.standardTarget = this.ui.rb, this.setImagePivot({
								x: this.standardTarget.x,
								y: this.standardTarget.y
							});
							break;
						case this.ui.rt:
							this.standardTarget = this.ui.lb, this.setImagePivot({
								x: this.standardTarget.x,
								y: this.standardTarget.y
							});
							break;
						case this.ui.rb:
							this.standardTarget = this.ui.lt, this.setImagePivot({
								x: this.standardTarget.x,
								y: this.standardTarget.y
							});
							break;
						case this.ui.lb:
							this.standardTarget = this.ui.rt, this.setImagePivot({
								x: this.standardTarget.x,
								y: this.standardTarget.y
							});
							break;
						case this.ui.left:
							this.standardTarget = this.ui.rb, this.setImagePivot({
								x: this.standardTarget.x,
								y: this.standardTarget.y
							});
							break;
						case this.ui.top:
							this.standardTarget = this.ui.rb, this.setImagePivot({
								x: this.standardTarget.x,
								y: this.standardTarget.y
							});
							break;
						case this.ui.right:
							this.standardTarget = this.ui.lb, this.setImagePivot({
								x: this.standardTarget.x,
								y: this.standardTarget.y
							});
							break;
						case this.ui.bottom:
							this.standardTarget = this.ui.rt, this.setImagePivot({
								x: this.standardTarget.x,
								y: this.standardTarget.y
							})
					}
					this._tCurt = u.Calc.copyObject(this._tFrom), this.magnifyAnimationId = d(this.magnifyAnimation.bind(this), 8, "easeOutSine", function () {
					}, function () {
						this.ui.setSize(this._tTo, !1), this.image.width = this._tTo.imageWidth, this.image.height = this._tTo.imageHeight;
						var t = this.image.toGlobal(this.image.pivot);
						this.image.x += this.standardTarget.x - t.x, this.image.y += this.standardTarget.y - t.y, this.image.updatePrevLtPointForPivot(), this._isMagnifyAnimation = !1, this.uiMoveEnd(!1)
					}, this), this.uiFix(), this.setCornerLimit()
				}
			}, p.magnifyAnimation = function (t, e, i) {
				for (var n in this._tCurt) this._tCurt[n] = u.Calc.getTweenValueByObject(n, this._tFrom, this._tTo, t);
				this.ui.setSize(this._tCurt, !1), this.image.width = this._tCurt.imageWidth, this.image.height = this._tCurt.imageHeight;
				var r = this.image.toGlobal(this.image.pivot);
				this.image.x += this.standardTarget.x - r.x, this.image.y += this.standardTarget.y - r.y, this.updateDimed(), this.setCornerLimit()
			}, p.showGridAndDimed = function () {
				this.ui.showGrid(), this.image.showDimed(), this.updateGridAndDimed()
			}, p.updateDimed = function (t) {
				this.image.drawDimed(this.ui.imageBasedLocalPoints, t)
			}, p.updateGridAndDimed = function (t) {
				t = u.Func.getDefaultParameters(t, 3), this.ui.drawGrid(t), this.image.drawDimed(this.ui.imageBasedLocalPoints)
			}, p.hideGridAndDimed = function (t) {
				this.ui.hideGrid(t), this.image.hideDimed(), this.image.drawDimed(this.ui.imageBasedLocalPoints)
			}, p.changeAspectRatio = function (t, i, n) {
				if (this.isEditable !== !1) {
					var r = u.Calc.getAspectRatio(t, i), n = u.Func.getDefaultParameters(n, !0);
					if (this.aspectRatio !== r) {
						this.isChanged = !0, this.setImagePivot(), this.aspectRatioWidth = t, this.aspectRatioHeight = i, this.aspectRatio = r;
						var o = this.ui.bounds, s = u.Calc.getAspectRatio(o.width, o.height);
						if (r === s) return void(0 === t && 0 === i || (this.updateDimed(), this.changeCornerColor(t, i)));
						if (0 !== t || 0 !== i) {
							o.width = u.Calc.getWidthByAspectRatio(this.aspectRatio, o.height);
							var a = u.Calc.getPointsByBounds(o), h = {x: this.image.x, y: this.image.y},
								l = u.Calc.getRotationPoints(h, a, u.Calc.toDegrees(this.imageRotation)),
								c = u.Calc.getBoundsByRotationPoints(l), p = u.Calc.getScale(this.image, c),
								g = this.image.width, m = this.image.height, y = g * p.max, v = m * p.max;
							g <= y && m <= v && (this.image.height = v + this.imageRotateSpace, this.image.scale.x = this.image.scale.y), this.image.isFitBounds(this.ui) === !1 && this.fixRotate(), this.image.fixMove(this.ui, this.uiRotation), this.image.updatePrevLtPointForPivot(), f(this.changeAspectRatioAnimationId);
							var _ = this.ui.fixSpace;
							this._tFrom = this.ui.bounds;
							var x, b, w = o.width + _, T = o.height + _, C = w / this.image.scale.x,
								E = T / this.image.scale.y, M = this.image.textureCanvasWidth - C,
								P = this.image.textureCanvasHeight - E;
							this.imageAspectRatio === r && M < this.aspectRatioAllowableSize && P < this.aspectRatioAllowableSize ? (this._isNeedResetImageSize = !0, w = this.initSize.width, T = this.initSize.height, x = this.centerX - w / 2, b = this.centerY - T / 2) : (this._isNeedResetImageSize = !1, x = this.centerX - o.width / 2 - _, b = this.centerY - o.height / 2 - _), this._tCurt = u.Calc.copyObject(this._tFrom), this._tTo = {
								x: x,
								y: b,
								width: w,
								height: T
							}, n === !0 ? (this.changeAspectRatioAnimationId = d(this.changeAspectRatioAnimation.bind(this), 12, "easeOutSine", function () {
							}, function () {
								this._isNeedResetImageSize === !0 && this.ui.setSize(this.image.bounds), this.uiMoveEnd()
							}, this), this.emit(e.ASPECT_RATIO_MOTION_START)) : (this.ui.setSize(this._tTo, !0), this.image.isFitBounds(this.ui) === !1 && this.fixRotate(), this.image.fixMove(this.ui, this.uiRotation), this.updateDimed(), this._isNeedResetImageSize === !0 && this.ui.setSize(this.image.bounds), this.uiMoveEnd())
						}
						this.updateDimed(), this.changeCornerColor(t, i)
					}
				}
			}, p.changeCornerColor = function (t, e) {
				0 !== t || 0 !== e ? this.ui.changeCornerColor(51004) : this.ui.changeCornerColor(this.ui.defaultColor)
			}, p.changeAspectRatioAnimation = function (t, e, i) {
				for (var n in this._tCurt) this._tCurt[n] = u.Calc.getTweenValueByObject(n, this._tFrom, this._tTo, t);
				this.ui.setSize(this._tCurt, !0), this.image.isFitBounds(this.ui) === !1 && this.fixRotate(), this.image.fixMove(this.ui, this.uiRotation), this.updateDimed()
			}, p.setCornerLimit = function () {
				var t = this.ui.points;
				this.cornerLimit = {
					lt: this.image.getLtIntersection(t),
					rt: this.image.getRtIntersection(t),
					rb: this.image.getRbIntersection(t),
					lb: this.image.getLbIntersection(t)
				};
				var e, i, n, r, o = this.cornerLimit.lt, s = this.cornerLimit.rt, a = this.cornerLimit.rb,
					h = this.cornerLimit.lb;
				e = null !== o && null !== o.x ? o.x.x : u.Calc.LIMIT_LEFT, i = null !== h && null !== h.x ? h.x.x : u.Calc.LIMIT_LEFT, this.cornerLimit.limitLeft = Math.max(e, i), n = null !== o && null !== o.y ? o.y.y : u.Calc.LIMIT_TOP, r = null !== s && null !== s.y ? s.y.y : u.Calc.LIMIT_TOP, this.cornerLimit.limitTop = Math.max(n, r), e = null !== s && null !== s.x ? s.x.x : u.Calc.LIMIT_RIGHT, i = null !== a && null !== a.x ? a.x.x : u.Calc.LIMIT_RIGHT, this.cornerLimit.limitRight = Math.min(e, i), n = null !== h && null !== h.y ? h.y.y : u.Calc.LIMIT_BOTTOM, r = null !== a && null !== a.y ? a.y.y : u.Calc.LIMIT_BOTTOM, this.cornerLimit.limitBottom = Math.min(n, r)
			}, p.setStartUIBounds = function () {
				this.startUIBounds = this.ui.bounds, this.acturalPixelWidth = this.ui.getActualPixelWidth(), this.acturalPixelHeight = this.ui.getActualPixelHeight()
			}, p.detectedMagnifyLimit = function (t, e, i, n) {
				if (0 === this.aspectRatio) this._useMagnifyLimit = !1; else {
					var r = Math.abs(this.cornerLimit.limitLeft - e), o = Math.abs(this.cornerLimit.limitTop - i),
						s = Math.abs(this.cornerLimit.limitRight - e), a = Math.abs(this.cornerLimit.limitBottom - i);
					r < this.magnifyLimitSpace || o < this.magnifyLimitSpace || s < this.magnifyLimitSpace || a < this.magnifyLimitSpace ? this._useMagnifyLimit = !0 : this._useMagnifyLimit = !1
				}
			}, p.clearGraphics = function () {
				this.gTest && (this.gTest.clear(), this.gImage.clear(), this.gBounds.clear())
			}, p.getUISize = function (t) {
				var e;
				if (null === t) e = u.Calc.getSizeFitInBounds({
					width: this.originalImageWidth,
					height: this.originalImageHeight
				}, this.screenBounds); else {
					var i = t.uiRestoreVO;
					e = u.Calc.getSizeFitInBounds(i, this.screenBounds)
				}
				return e.x = this.centerX - e.width / 2, e.y = this.centerY - e.height / 2, e
			}, p.flipX = function () {
				u.Calc.toRoundDegreesByRadians(this.stageRotation) % 180 === 0 ? this.doFlipX() : this.doFlipY()
			}, p.flipY = function () {
				u.Calc.toRoundDegreesByRadians(this.stageRotation) % 180 === 0 ? this.doFlipY() : this.doFlipX()
			}, p.doFlipX = function () {
				this.isChanged = !0, this.setImagePivot();
				var t = {x: this.centerX, y: this.centerY}, e = this.image.flipX(t), i = this.toGlobal(e),
					n = t.x - i.x, r = t.y - i.y;
				this.image.x += n, this.image.y += r, this.image.updatePrevLtPointForPivot(), this.setImagePivot(), this.updateDimed()
			}, p.doFlipY = function () {
				this.isChanged = !0, this.setImagePivot();
				var t = {x: this.centerX, y: this.centerY}, e = this.image.flipY(t), i = this.toGlobal(e),
					n = t.x - i.x, r = t.y - i.y;
				this.image.x += n, this.image.y += r, this.image.updatePrevLtPointForPivot(), this.setImagePivot(), this.updateDimed()
			}, p.imageMoveStart = function () {
				this.isHit = !1, this.prevImageX = this.image.x, this.prevImageY = this.image.y, this.image.updatePrevLtPointForPivot(), this.showGridAndDimed(), this.emit(e.MOVE_START, {
					bounds: this.ui.bounds,
					dimension: this.dimension
				})
			}, p.imageMove = function (t) {
				this.isChanged = !0, this.image.x += t.change.x, this.image.y += t.change.y, this.image.isFitBounds(this.ui) === !1 && this.image.fixMove(this.ui, this.uiRotation), this.image.updatePrevLtPointForPivot(), this.updateGridAndDimed(), this.emit(e.MOVE, {
					bounds: this.ui.bounds,
					dimension: this.dimension
				})
			}, p.imageMoveEnd = function () {
				this.setImagePivot(), this.hideGridAndDimed(), this.emit(e.MOVE_END, {
					bounds: this.ui.bounds,
					dimension: this.dimension
				})
			}, p.imageRotateStart = function () {
				if (!this.isMinimum) {
					this.disableCursor(), this.enableCurrentCursor(), this.setImagePivot(), this.showGridAndDimed(), this.uiPoints = this.ui.points;
					var t = this.uiRotation;
					t = Math.abs(t) < u.Calc.RADIAN_1 ? 0 : t, this.emit(e.ROTATE_START, {rotation: u.Calc.toDegrees(t)})
				}
			}, p.imageRotate = function (t) {
				this.isMinimum || (this.isChanged = !0, this.imageRotateByRadian(this.imageRotation += t.change))
			}, p.imageRotateByRadian = function (t) {
				if (!this.isMinimum) {
					t < this.minRotation ? t = this.minRotation : t > this.maxRotation && (t = this.maxRotation), this.imageRotation = t;
					var i = this.uiRotation;
					if (this.image.isFitBounds(this.ui) === !1) {
						var n = {x: this.image.x, y: this.image.y},
							r = u.Calc.getRotationPoints(n, this.uiPoints, u.Calc.toDegrees(this.imageRotation)),
							o = u.Calc.getBoundsByRotationPoints(r), s = u.Calc.getScale(this.image, o),
							a = this.image.width, h = this.image.height, l = a * s.max, c = h * s.max;
						a <= l && h <= c && (this.image.height = c + this.imageRotateSpace, this.image.scale.x = this.image.scale.y), this.image.isFitBounds(this.ui) === !1 && this.fixRotate(), this.image.fixMove(this.ui, i)
					}
					this.image.updatePrevLtPointForPivot(), this.updateGridAndDimed(9), i = Math.abs(i) < u.Calc.RADIAN_1 ? 0 : i, this.image.updateTransform(), this.emit(e.ROTATE, {rotation: u.Calc.toDegrees(i)})
				}
			}, p.fixRotate = function () {
				var t, e, i, n = this.ui.points, r = 0, o = 0, s = this.image.getHitPoints(n);
				for (var a in s) {
					var h = s[a], l = h.line, f = h.point, d = h.hitSide;
					switch (t = u.Calc.getShortestDistancePoint(f, l.s, l.e), e = u.Calc.getReturnPoint(f, t), d) {
						case c.HitSide.LEFT:
						case c.HitSide.RIGHT:
							i = Math.abs(e.x), r += i, this.image.width += i;
							break;
						case c.HitSide.TOP:
						case c.HitSide.BOTTOM:
							i = Math.abs(e.y), o += i, this.image.height += i
					}
				}
				r > o ? this.image.scale.y = this.image.scale.x : this.image.scale.x = this.image.scale.y
			}, p.imageRotateEnd = function () {
				this.isMinimum || (this.enableCursor(), this.disableCurrentCursor(), this.setImagePivot(), this.hideGridAndDimed(), this.emit(e.ROTATE_END, {rotation: u.Calc.toDegrees(this.uiRotation)}))
			}, p.uiChange = function (t) {
				this.updateDimed(), this.emit(e.UI_CHANGE, {bounds: this.ui.bounds, dimension: this.dimension})
			}, p.cornerMoveStart = function (t) {
				this.uiMoveStart(t)
			}, p.cornerMove = function (t) {
				this.uiMove(t)
			}, p.uiUpdate = function (t) {
				var e = t.target, i = e.x + t.dx, n = e.y + t.dy, r = this.startUIBounds.x, o = this.startUIBounds.y,
					s = this.startUIBounds.x + this.startUIBounds.width,
					a = this.startUIBounds.y + this.startUIBounds.height;
				switch (e) {
					case this.ui.lt:
						i = i > s ? s : i, n = n > a ? a : n, i = i < this.cornerLimit.limitLeft ? this.cornerLimit.limitLeft : i, n = n < this.cornerLimit.limitTop ? this.cornerLimit.limitTop : n;
						break;
					case this.ui.rt:
						i = i < r ? r : i, n = n > a ? a : n, i = i > this.cornerLimit.limitRight ? this.cornerLimit.limitRight : i, n = n < this.cornerLimit.limitTop ? this.cornerLimit.limitTop : n;
						break;
					case this.ui.rb:
						i = i < r ? r : i, n = n < o ? o : n, i = i > this.cornerLimit.limitRight ? this.cornerLimit.limitRight : i, n = n > this.cornerLimit.limitBottom ? this.cornerLimit.limitBottom : n;
						break;
					case this.ui.lb:
						i = i > s ? s : i, n = n < o ? o : n, i = i < this.cornerLimit.limitLeft ? this.cornerLimit.limitLeft : i, n = n > this.cornerLimit.limitBottom ? this.cornerLimit.limitBottom : n;
						break;
					case this.ui.left:
						t.dy = 0, n = e.y, i > this.ui.right.x && (i = this.ui.right.x), i = i < this.cornerLimit.limitLeft ? this.cornerLimit.limitLeft : i;
						break;
					case this.ui.top:
						t.dx = 0, i = e.x, n > this.ui.bottom.y && (n = this.ui.bottom.y), n = n < this.cornerLimit.limitTop ? this.cornerLimit.limitTop : n;
						break;
					case this.ui.right:
						t.dy = 0, n = e.y, i < this.ui.left.x && (i = this.ui.left.x), i = i > this.cornerLimit.limitRight ? this.cornerLimit.limitRight : i;
						break;
					case this.ui.bottom:
						t.dx = 0, i = e.x, n < this.ui.top.y && (n = this.ui.top.y), n = n > this.cornerLimit.limitBottom ? this.cornerLimit.limitBottom : n
				}
				this.isNeedToMagnify(i, n, this.ui.getActualPixelWidth(), this.ui.getActualPixelHeight()) && (i += 3 * t.dx, n += 3 * t.dy), this.uiFix(), e instanceof l ? this.ui.moveCorner(e, i, n, this.aspectRatio, this.cornerLimit) : this.ui.moveControl(e, i, n, this.aspectRatio, this.cornerLimit), this.detectedMagnifyLimit(e, i, n, this.cornerLimit), this.isNeedToMagnify(i, n, this.ui.getActualPixelWidth(), this.ui.getActualPixelHeight()) && this.magnifyImage()
			}, p.cornerMoveEnd = function (t) {
				this.magnifyImageWithMotion(t.target), this.hideGridAndDimed(!0)
			}, p.cornerMoveEndNoMotion = function (t) {
				this.uiMoveEnd()
			}, p.controlMoveStart = function (t) {
				this.uiMoveStart()
			}, p.controlMove = function (t) {
				this.uiMove(t)
			}, p.controlMoveEnd = function (t) {
				this.magnifyImageWithMotion(t.target), this.hideGridAndDimed(!0)
			}, p.controlMoveEndNoMotion = function () {
				this.uiMoveEnd()
			}, p.changeCursor = function (t) {
				this.emit(e.CHANGE_CURSOR, t)
			}, p.uiMoveStart = function (t) {
				this.disableCursor(), this.enableCurrentCursor(), this.uiFix(), this.setCornerLimit(), this.setStartUIBounds(), this.image.updatePrevLtPointForPivot(), this.showGridAndDimed(), this.emit(e.UI_MOVE_START, {
					bounds: this.ui.bounds,
					dimension: this.dimension
				})
			}, p.uiMove = function (t) {
				this.isChanged = !0, this.uiUpdate(t);
				var i = this.ui.bounds;
				this.moveUI.setSize(i), this.image.updatePrevLtPointForPivot(), this.updateGridAndDimed(), this.emit(e.UI_MOVE, {
					bounds: i,
					dimension: this.dimension
				})
			}, p.uiMoveEnd = function (t) {
				t = u.Func.getDefaultParameters(t, !0), this.enableCursor(), this.disableCurrentCursor(), t === !0 && this.magnifyImage(), this.uiFix();
				var i = this.ui.bounds;
				this.moveUI.setSize(i), this.setImagePivot(), this.hideGridAndDimed(), this._useMagnifyLimit = !1, this.emit(e.UI_MOVE_END, {
					bounds: i,
					dimension: this.dimension
				})
			}, p.getOffsetX = function () {
				return this._offsetX
			}, p.setOffsetX = function (t) {
				this._offsetX = t, this.ui && (this.ui.offsetX = t, this.moveUI.offsetX = t, this.rotateUI.offsetX = t)
			}, p.getOffsetY = function () {
				return this._offsetY
			}, p.setOffsetY = function (t) {
				this._offsetY = t, this.ui && (this.ui.offsetY = t, this.moveUI.offsetY = t, this.rotateUI.offsetY = t)
			}, p.getImageRotation = function () {
				return this._imageRotation
			}, p.setImageRotation = function (t) {
				this._imageRotation = t, Math.abs(this.uiRotation) < u.Calc.RADIAN_1 ? this.image.rotation = this._stageRotation : this.image.rotation = this._imageRotation
			}, p.getSnapImageRotation = function () {
				return Math.abs(this.uiRotation) < u.Calc.RADIAN_1 ? this._stageRotation : this._imageRotation
			}, p.getStageRotation = function () {
				return this._stageRotation
			}, p.setStageRotation = function (t) {
				this._stageRotation = u.Calc.toRoundRadiansByRadians(t)
			}, p.getUIRotation = function () {
				return this.imageRotation - this.stageRotation
			}, p.getScreenBounds = function () {
				return {
					x: this.viewport.x,
					y: this.viewport.y,
					width: this.viewport.width - this.paddingX,
					height: this.viewport.height - this.paddingY
				}
			}, p.getDimension = function () {
				return this.getImageSizeByBitmapData(this.bitmapdata)
			}, p.getIsChanged = function () {
				return this._isChanged
			}, p.setIsChanged = function (t) {
				this._isChanged = t, this.isNewChanged = t
			}, p.getIsNewChanged = function () {
				return this._isNewChanged
			}, p.setIsNewChanged = function (t) {
				this._isNewChanged = t
			}, p.getCenterX = function () {
				return this.viewport.x + this._halfOfViewportWidth
			}, p.getCenterY = function () {
				return this.viewport.y + this._halfOfViewportHeight
			}, p.getViewport = function () {
				return this._viewport
			}, p.setViewport = function (t) {
				t && (this._viewport = t, this._halfOfViewportWidth = this._viewport.width / 2, this._halfOfViewportHeight = this._viewport.height / 2, this.rotateUI && (this.rotateUI.viewport = t))
			}, p.getIsReverseRatio = function () {
				var t = u.Calc.toDegrees(this.stageRotation % u.Calc.RADIAN_180);
				return t = parseInt(Math.round(t), 10), 90 == t || t == -90
			}, p.getIsHorizontal = function () {
				return !!(this.image.isHorizontal && this.isReverseRatio === !1 || this.image.isHorizontal === !1 && this.isReverseRatio)
			}, p.isNeedToMagnify = function (t, e, i, n) {
				return this._useMagnifyLimit !== !0 && !(i <= this.acturalPixelWidth + this.uiExpandSpace && n <= this.acturalPixelHeight + this.uiExpandSpace && t >= this.startUIBounds.x - this.uiExpandSpace && t <= this.startUIBounds.x + this.startUIBounds.width + this.uiExpandSpace && e >= this.startUIBounds.y - this.uiExpandSpace && e <= this.startUIBounds.y + this.startUIBounds.height + this.uiExpandSpace)
			}, p.isExpand = function (t, e, i, n) {
				if (this._useMagnifyLimit === !0) return !1;
				var r = 1;
				return !(i <= this.prevActualPixelWidth + r && n <= this.prevActualPixelHeight + r && t >= this.prevUIBounds.x - r && t <= this.prevUIBounds.x + this.prevUIBounds.width + r && e >= this.prevUIBounds.y - r && e <= this.prevUIBounds.y + this.prevUIBounds.height + r)
			}, p.isBiggerThanScreenBounds = function (t) {
				t = u.Func.getDefaultParameters(t, this.ui.bounds);
				var e = this.screenBounds;
				return t.width > e.width || t.height > e.height
			}, p.isEditableSize = function (t) {
				return !(this.originalImageWidth < t || this.originalImageHeight < t)
			}, p.isMinimunSize = function (t) {
				return this.originalImageWidth < t || this.originalImageHeight < t
			}, p.enableCurrentCursor = function (t) {
				this.interactive !== !0 && (t = u.Func.getDefaultParameters(t, u.Mouse.currentCursorStyle), this.interactive = !0, this.buttonMode = !0, this.defaultCursor = t, this.emit(e.CHANGE_CURSOR, {currentCursorStyle: t}))
			}, p.disableCurrentCursor = function () {
				this.interactive !== !1 && (this.interactive = !1, this.buttonMode = !1, this.defaultCursor = "default")
			}, p.enableCursor = function () {
				this.ui.buttonMode !== !0 && (this.ui.buttonMode = !0, this.ui.interactive = !0, this.ui.defaultCursor = "default", this.moveUI.buttonMode = !0, this.moveUI.interactive = !0, this.moveUI.defaultCursor = "default", this.rotateUI.buttonMode = !0, this.rotateUI.interactive = !0, this.rotateUI.defaultCursor = "default")
			}, p.disableCursor = function () {
				this.ui.buttonMode !== !1 && (this.ui.buttonMode = !1, this.ui.interactive = !1, this.ui.defaultCursor = "inherit", this.moveUI.buttonMode = !1, this.moveUI.interactive = !1, this.moveUI.defaultCursor = "inherit", this.rotateUI.buttonMode = !1, this.rotateUI.interactive = !1, this.rotateUI.defaultCursor = "inherit")
			}, p.getIsNearInitImageSize = function (t) {
				var e = this.image.bounds, i = this.getInitImageSize(this.isReverseRatio);
				return t = u.Func.getDefaultParameters(t, 4), e.width - t < i.width && e.height - t < i.height
			},p.getIsNearInitImageWidth = function (t) {
				var e = this.image.bounds, i = this.getInitImageSize(this.isReverseRatio);
				return t = u.Func.getDefaultParameters(t, 4), e.width - t < i.width
			},p.getIsNearInitImageHeight = function (t) {
				var e = this.image.bounds, i = this.getInitImageSize(this.isReverseRatio);
				return t = u.Func.getDefaultParameters(t, 4), e.height - t < i.height
			},p.setInitImageSize = function (t) {
				t = u.Func.getDefaultParameters(t, !1), this.initSize = this.getInitImageSize(t)
			},p.getInitImageSize = function (t) {
				t = u.Func.getDefaultParameters(t, !1);
				var e;
				e = 0 == t ? this.image.textureCanvasSize : {
					width: this.image.textureCanvasHeight,
					height: this.image.textureCanvasWidth
				};
				var i = u.Calc.getSizeFitInBounds(e, this.screenBounds);
				return i.x = this.centerX - i.width / 2, i.y = this.centerY - i.height / 2, i
			},p.getRotateImageSize = function () {
				var t = this.image.bounds;
				return {width: t.height, height: t.width}
			},p.restoreByTransform = function (t) {
				this.isChanged = !0;
				var e, i, n, r, o, s, a, h, l, c, f, d;
				e = t.x, i = t.y, n = t.offsetX, r = t.offsetY, o = t.canvasWidth, s = t.canvasHeight, a = t.scaleX, h = t.scaleY, c = t.rotation, l = 0, this.stageRotation = 0, this.imageRotation = 0, this.image.resetPivot(), this.image.resetLt(), this.image.width = this.image.textureCanvasWidth, this.image.height = this.image.textureCanvasHeight;
				for (var p = parseInt(Math.abs(l) / u.Calc.RADIAN_90), g = 0; g < p; g++) this.image.rotatePoints(), this.image.rotateLt(), this.image.updatePrevLtPointForPivot(), this.setImagePivot();
				var m = this.image.toGlobal(this.image.getRealLt());
				this.image.traceRealPoints(), l === -u.Calc.RADIAN_90 ? (f = {
					x: m.x + n + s,
					y: m.y + r,
					width: o,
					height: s
				}, d = {x: f.x, y: f.y}) : l === -u.Calc.RADIAN_180 ? (f = {
					x: m.x + n + o,
					y: m.y + r + s,
					width: o,
					height: s
				}, d = {x: f.x, y: f.y}) : (f = {x: m.x + n, y: m.y + r, width: o, height: s}, d = {
					x: f.x,
					y: f.y
				}), this.ui.setSize(f), this.image.updatePrevLtPointForPivot(), this.setImagePivot(d), this.imageRotation = u.Calc.toRadians(c), this.magnifyImage()
			},p.displayStartUIBounds = function () {
				if (this.gTest) {
					if (this.removeChild(this.gTest), this.startUIBounds) {
						var t = {
							x: this.startUIBounds.x - this.uiExpandSpace,
							y: this.startUIBounds.y - this.uiExpandSpace,
							width: this.startUIBounds.width + 2 * this.uiExpandSpace,
							height: this.startUIBounds.height + 2 * this.uiExpandSpace
						};
						u.Painter.drawBounds(this.gTest, t, !0, 4, 2003199, .7)
					}
					this.addChild(this.gTest)
				}
			},p.displayImageRotationBounds = function () {
				var t = u.Calc.getSizeFitInBounds(this.image, this.screenBounds), e = {
						lt: {x: 0, y: 0},
						rt: {x: t.width, y: 0},
						rb: {x: t.width, y: t.height},
						lb: {x: 0, y: t.height}
					}, i = {x: t.width / 2, y: t.height / 2},
					n = u.Calc.getRotationPoints(i, e, u.Calc.toDegrees(this.imageRotation)),
					r = u.Calc.getBoundsByRotationPoints(n);
				r.x = this.centerX - r.width / 2, r.y = this.centerY - r.height / 2, this.gImage && u.Painter.drawBounds(this.gImage, r, !0, 2, 64767, .4)
			},p.displayBounds = function () {
				this.gBounds && (this.removeChild(this.gBounds), this.isDisplayBounds ? (this.gBounds.clear(), this.isDisplayBounds = !1) : (this.isDisplayBounds = !0, u.Painter.drawBounds(this.gBounds, this.screenBounds, !0, 1, 16711935, .7)), this.addChild(this.gBounds))
			},void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports) ? t.exports = e : usenamespace("editor.es5.crop").Cropper = e
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(102), s = e(o);
		!function () {
			function e(t) {
				Object.defineProperty(this, "lt", {
					get: function () {
						return this.toGlobal(this.ltp.position)
					}
				}), Object.defineProperty(this, "rt", {
					get: function () {
						return this.toGlobal(this.rtp.position)
					}
				}), Object.defineProperty(this, "rb", {
					get: function () {
						return this.toGlobal(this.rbp.position)
					}
				}), Object.defineProperty(this, "lb", {
					get: function () {
						return this.toGlobal(this.lbp.position)
					}
				}), Object.defineProperty(this, "leftLine", {
					get: function () {
						return {s: this.lb, e: this.lt}
					}
				}), Object.defineProperty(this, "topLine", {
					get: function () {
						return {s: this.lt, e: this.rt}
					}
				}), Object.defineProperty(this, "rightLine", {
					get: function () {
						return {s: this.rt, e: this.rb}
					}
				}), Object.defineProperty(this, "bottomLine", {
					get: function () {
						return {s: this.lb, e: this.rb}
					}
				}), Object.defineProperty(this, "left", {
					get: function () {
						return Math.min(this.lt.x, this.lb.x)
					}
				}), Object.defineProperty(this, "right", {
					get: function () {
						return Math.max(this.rt.x, this.rb.x)
					}
				}), Object.defineProperty(this, "top", {
					get: function () {
						return Math.min(this.lt.y, this.rt.y)
					}
				}), Object.defineProperty(this, "bottom", {
					get: function () {
						return Math.max(this.lb.y, this.rb.y)
					}
				}), Object.defineProperty(this, "size", {
					get: function () {
						return {width: this.rt.x - this.lt.x, height: this.lb.y - this.lt.y}
					}
				}), Object.defineProperty(this, "bounds", {
					get: function () {
						return {x: this.lt.x, y: this.lt.y, width: this.rt.x - this.lt.x, height: this.rb.y - this.rt.y}
					}
				}), Object.defineProperty(this, "points", {
					get: function () {
						return {lt: this.lt, rt: this.rt, rb: this.rb, lb: this.lb}
					}
				}), Object.defineProperty(this, "isFlipX", {
					get: function () {
						return this.getIsFlipX()
					}
				}), Object.defineProperty(this, "isFlipY", {
					get: function () {
						return this.getIsFlipY()
					}
				}), Object.defineProperty(this, "isHorizontal", {
					get: function () {
						return this._isHorizontal
					}
				}), Object.defineProperty(this, "textureCanvasWidth", {
					get: function () {
						return this._textureCanvasWidth
					}
				}), Object.defineProperty(this, "textureCanvasHeight", {
					get: function () {
						return this._textureCanvasHeight
					}
				}), Object.defineProperty(this, "textureCanvasSize", {
					get: function () {
						return {width: this._textureCanvasWidth, height: this._textureCanvasHeight}
					}
				}), PIXI.Container.call(this), this.initialize(t)
			}

			var n = {};
			n.DimedUI = i(186);
			var o = {};
			o.Func = i(187), o.Calc = i(188), o.Painter = i(191);
			var a = {};
			a.HitSide = i(189);
			var h = e.prototype = (0, s["default"])(PIXI.Container.prototype);
			h.initialize = function (t) {
				this.fixSpace = .1, this.intersectionSpace = 10, this.bitmapdata = t, this.textureCanvas = t.canvas, this._textureCanvasWidth = this.textureCanvas.width, this._textureCanvasHeight = this.textureCanvas.height, this._isHorizontal = this._textureCanvasWidth > this._textureCanvasHeight, this.image = new PIXI.Sprite(new PIXI.Texture(new PIXI.BaseTexture(this.textureCanvas))), this.image.x = -this.image.width / 2, this.image.y = -this.image.height / 2, this.addChild(this.image), this.dimed = new n.DimedUI(this.image.width, this.image.height), this.image.addChild(this.dimed), this.maskGraphic = new PIXI.Graphics, this.maskGraphic.beginFill(16711680, .2), this.maskGraphic.drawRect(0, 0, this.image.width, this.image.height), this.maskGraphic.endFill(), this.image.addChild(this.maskGraphic), this.image.mask = this.maskGraphic, this.ltp || (this.ltp = new PIXI.Sprite, this.rtp = new PIXI.Sprite, this.rbp = new PIXI.Sprite, this.lbp = new PIXI.Sprite, this.addChild(this.ltp), this.addChild(this.rtp), this.addChild(this.rbp), this.addChild(this.lbp)), this.ltp.x = this.image.x, this.ltp.y = this.image.y, this.rtp.x = this.image.x + this.image.width, this.rtp.y = this.image.y, this.rbp.x = this.image.x + this.image.width, this.rbp.y = this.image.y + this.image.height, this.lbp.x = this.image.x, this.lbp.y = this.image.y + this.image.height, this.ltp.isLt = !0, this.lbp.isLt = !1, this.rbp.isLt = !1, this.rtp.isLt = !1, this.ltp.name = "ltp", this.lbp.name = "lbp", this.rbp.name = "rbp", this.rtp.name = "rtp", this.realPoints = [this.ltp, this.lbp, this.rbp, this.rtp]
			}, h.reset = function (t) {
				this.removeImage(), this.initialize(t), this.updateDebugPivotGraphic()
			}, h.addDebugPoint = function () {
				var t = 20, e = t / 2;
				this.gDebugPivot = new PIXI.Graphics, this.gDebugPivot.beginFill(16724736, 1), this.gDebugPivot.drawRect(-e, -e, t, t), this.gDebugPivot.endFill(), this.addChild(this.gDebugPivot);
				var t = 8, e = t / 2, i = o.Painter.getRect(t, 16379392, 1), n = o.Painter.getRect(t, 14326784, 1),
					r = o.Painter.getRect(t, 40151, 1), s = o.Painter.getRect(t, 1597873, 1);
				i.x = e, i.y = e, n.x = -e, n.y = e, r.x = -e, r.y = -e, s.x = e, s.y = -e, this.ltp.addChild(i), this.rtp.addChild(n), this.rbp.addChild(r), this.lbp.addChild(s)
			}, h.showDimed = function () {
				this.dimed.show()
			}, h.drawDimed = function (t, e) {
				this.dimed.draw(t, e, this.image.scale)
			}, h.hideDimed = function () {
				this.dimed.hide()
			}, h.rotatePoints = function (t) {
				var e, i, n, r;
				t = o.Func.getDefaultParameters(t, !1), t ? (e = {x: this.lbp.x, y: this.lbp.y}, i = {
					x: this.ltp.x,
					y: this.ltp.y
				}, n = {x: this.rtp.x, y: this.rtp.y}, r = {x: this.rbp.x, y: this.rbp.y}) : (e = {
					x: this.rtp.x,
					y: this.rtp.y
				}, i = {x: this.rbp.x, y: this.rbp.y}, n = {x: this.lbp.x, y: this.lbp.y}, r = {
					x: this.ltp.x,
					y: this.ltp.y
				}), this.ltp.x = e.x, this.ltp.y = e.y, this.rtp.x = i.x, this.rtp.y = i.y, this.rbp.x = n.x, this.rbp.y = n.y, this.lbp.x = r.x, this.lbp.y = r.y
			}, h.rotateLt = function (t) {
				if (t = o.Func.getDefaultParameters(t, !1)) for (var e = 0; e < this.realPoints.length; e++) {
					var i = this.realPoints[e];
					if (i.isLt) {
						i === this.ltp ? this.setRealLt(this.rtp) : i === this.rtp ? this.setRealLt(this.rbp) : i === this.rbp ? this.setRealLt(this.lbp) : this.setRealLt(this.ltp);
						break
					}
				} else for (var e = 0; e < this.realPoints.length; e++) {
					var i = this.realPoints[e];
					if (i.isLt) {
						i === this.ltp ? this.setRealLt(this.lbp) : i === this.lbp ? this.setRealLt(this.rbp) : i === this.rbp ? this.setRealLt(this.rtp) : this.setRealLt(this.ltp);
						break
					}
				}
			}, h.getRealLt = function () {
				for (var t = 0; t < this.realPoints.length; t++) if (this.realPoints[t].isLt) return this.realPoints[t]
			}, h.setRealLt = function (t) {
				for (var e = 0; e < this.realPoints.length; e++) {
					var i = this.realPoints[e];
					i.isLt = !1, i === t && (i.isLt = !0)
				}
			}, h.flipX = function (t) {
				var e = this.image.toLocal(t), i = new PIXI.Point(this.image.width - e.x, e.y);
				return i = this.image.toGlobal(i), this.image.scale.x *= -1, this.image.scale.x < 0 ? this.image.x = this.image.width / 2 : this.image.x = -this.image.width / 2, i
			}, h.flipY = function (t) {
				var e = this.image.toLocal(t), i = new PIXI.Point(e.x, this.image.height - e.y);
				return i = this.image.toGlobal(i), this.image.scale.y *= -1, this.image.scale.y < 0 ? this.image.y = this.image.height / 2 : this.image.y = -this.image.height / 2, i
			}, h.getOffsetPoint = function (t) {
				for (var e = 0; e < this.realPoints.length; e++) {
					var i = this.realPoints[e];
					if (i.isLt) return i === this.ltp ? t.lt : i === this.lbp ? t.lb : i === this.rbp ? t.rb : t.rt
				}
			}, h.isLeftOut = function (t, e) {
				return !(!this.isLtLeftOut(t, e) && !this.isLbLeftOut(t, e))
			}, h.isLtLeftOut = function (t, e) {
				return this.isPassedLeftLine(e.lt) !== !1 || !t.isLtInsideBounds(this, e)
			}, h.isLbLeftOut = function (t, e) {
				return this.isPassedLeftLine(e.lb) !== !1 || !t.isLbInsideBounds(this, e)
			}, h.isLeftTopBottomOut = function (t, e) {
				return !(!this.isLtTopOut(t, e) && !this.isLbBottomOut(t, e))
			}, h.isLtTopOut = function (t, e) {
				return this.isPassedTopLine(e.lt) !== !1 || !t.isLtInsideBounds(this, e)
			}, h.isLbBottomOut = function (t, e) {
				return this.isPassedBottomLine(e.lb) !== !1 || !t.isLbInsideBounds(this, e)
			}, h.isRightOut = function (t, e) {
				return !(!this.isRtRightOut(t, e) && !this.isRbRightOut(t, e))
			}, h.isRtRightOut = function (t, e) {
				return this.isPassedRightLine(e.rt) !== !1 || !t.isRtInsideBounds(this, e)
			}, h.isRbRightOut = function (t, e) {
				return this.isPassedRightLine(e.rb) !== !1 || !t.isRbInsideBounds(this, e)
			}, h.isRightTopBottomOut = function (t, e) {
				return !(!this.isRtTopOut(t, e) && !this.isRbBottomOut(t, e))
			}, h.isRtTopOut = function (t, e) {
				return this.isPassedTopLine(e.rt) !== !1 || !t.isRtInsideBounds(this, e)
			}, h.isRbBottomOut = function (t, e) {
				return this.isPassedBottomLine(e.rb) !== !1 || !t.isLbInsideBounds(this, e)
			}, h.fixMove = function (t, e) {
				e > 0 ? (this.isPassedLeftLine(t.lt) && t.isLtInsideBounds(this) === !1 && o.Calc.goByCollision(this, t.lt, this.leftLine, -this.fixSpace, -this.fixSpace), this.isPassedBottomLine(t.lb) && t.isLbInsideBounds(this) === !1 && o.Calc.goByCollision(this, t.lb, this.bottomLine, -this.fixSpace, this.fixSpace), this.isPassedTopLine(t.rt) && t.isRtInsideBounds(this) === !1 && o.Calc.goByCollision(this, t.rt, this.topLine, this.fixSpace, -this.fixSpace),
				this.isPassedRightLine(t.rb) && t.isRbInsideBounds(this) === !1 && o.Calc.goByCollision(this, t.rb, this.rightLine, this.fixSpace, this.fixSpace)) : (this.isPassedTopLine(t.lt) && t.isLtInsideBounds(this) === !1 && o.Calc.goByCollision(this, t.lt, this.topLine, -this.fixSpace, -this.fixSpace), this.isPassedLeftLine(t.lb) && t.isLbInsideBounds(this) === !1 && o.Calc.goByCollision(this, t.lb, this.leftLine, -this.fixSpace, this.fixSpace), this.isPassedRightLine(t.rt) && t.isRtInsideBounds(this) === !1 && o.Calc.goByCollision(this, t.rt, this.rightLine, this.fixSpace, -this.fixSpace), this.isPassedBottomLine(t.rb) && t.isRbInsideBounds(this) === !1 && o.Calc.goByCollision(this, t.rb, this.bottomLine, this.fixSpace, this.fixSpace))
			}, h.fixMoveByPoints = function (t, e, i) {
				return i > 0 ? (o.Calc.isPassedLeftLine(t, e.lt) && o.Calc.isInsideSquare(e.lt, t.lt, t.rt, t.rb, t.lb) === !1 && (t = o.Calc.pointsUpdateByCollision(t, e.lt, t.leftLine)), o.Calc.isPassedBottomLine(t, e.lb) && o.Calc.isInsideSquare(e.lb, t.lt, t.rt, t.rb, t.lb) === !1 && (t = o.Calc.pointsUpdateByCollision(t, e.lb, t.bottomLine)), o.Calc.isPassedTopLine(t, e.rt) && o.Calc.isInsideSquare(e.rt, t.lt, t.rt, t.rb, t.lb) === !1 && (t = o.Calc.pointsUpdateByCollision(t, e.rt, t.topLine)), o.Calc.isPassedRightLine(t, e.rb) && o.Calc.isInsideSquare(e.rb, t.lt, t.rt, t.rb, t.lb) === !1 && (t = o.Calc.pointsUpdateByCollision(t, e.rb, t.rightLine))) : (o.Calc.isPassedTopLine(t, e.lt) && o.Calc.isInsideSquare(e.lt, t.lt, t.rt, t.rb, t.lb) === !1 && (t = o.Calc.pointsUpdateByCollision(t, e.lt, t.topLine)), o.Calc.isPassedLeftLine(t, e.lb) && o.Calc.isInsideSquare(e.lb, t.lt, t.rt, t.rb, t.lb) === !1 && (t = o.Calc.pointsUpdateByCollision(t, e.lb, t.leftLine)), o.Calc.isPassedRightLine(t, e.rt) && o.Calc.isInsideSquare(e.rt, t.lt, t.rt, t.rb, t.lb) === !1 && (t = o.Calc.pointsUpdateByCollision(t, e.rt, t.rightLine)), o.Calc.isPassedBottomLine(t, e.rb) && o.Calc.isInsideSquare(e.rb, t.lt, t.rt, t.rb, t.lb) === !1 && (t = o.Calc.pointsUpdateByCollision(t, e.rb, t.bottomLine))), t
			}, h.updatePrevLtPointForPivot = function () {
				this.prevLtX = this.lt.x, this.prevLtY = this.lt.y
			}, h.setPivotByGlobalPoint = function (t) {
				var e = this.toLocal(t);
				this.pivot = e;
				var i = this.lt.x - this.prevLtX, n = this.lt.y - this.prevLtY;
				this.x = this.x - i, this.y = this.y - n, this.updatePrevLtPointForPivot(), this.updateDebugPivotGraphic()
			}, h.setPivotByLocalPoint = function (t) {
				t.x = this.ltp.x + this.pivot.x, t.y = this.ltp.y + this.pivot.y, this.pivot = t;
				var e = this.lt.x - this.prevLtX, i = this.lt.y - this.prevLtY;
				this.x = this.x - e, this.y = this.y - i, this.updatePrevLtPointForPivot(), this.updateDebugPivotGraphic()
			}, h.getGlobalPivot = function () {
				return {x: this.pivot.x - this.ltp.x, y: this.pivot.y - this.ltp.y}
			}, h.getLocal = function (t) {
				var e = this.getRealLt(), i = this.toLocal(t);
				return {x: i.x - e.x, y: i.y - e.y}
			}, h.getGlobal = function (t) {
				var e = this.getRealLt(), i = {x: t.x + e.x, y: t.y + e.y};
				return this.toGlobal(i)
			}, h.updateDebugPivotGraphic = function () {
				this.gDebugPivot && (this.removeChild(this.gDebugPivot), this.gDebugPivot.x = this.pivot.x, this.gDebugPivot.y = this.pivot.y, this.addChild(this.gDebugPivot))
			}, h.isPassedLeftLine = function (t) {
				return o.Calc.triangleArea(t, this.lb, this.lt) > 0
			}, h.isPassedTopLine = function (t) {
				return o.Calc.triangleArea(t, this.lt, this.rt) > 0
			}, h.isPassedRightLine = function (t) {
				return o.Calc.triangleArea(t, this.rt, this.rb) > 0
			}, h.isPassedBottomLine = function (t) {
				return o.Calc.triangleArea(t, this.rb, this.lb) > 0
			}, h.getLeftIntersectionPoint = function (t) {
				return o.Calc.getShortestDistancePoint(t, this.lb, this.lt)
			}, h.getTopIntersectionPoint = function (t) {
				return o.Calc.getShortestDistancePoint(t, this.lt, this.rt)
			}, h.getRightIntersectionPoint = function (t) {
				return o.Calc.getShortestDistancePoint(t, this.rt, this.rb)
			}, h.getBottomIntersectionPoint = function (t) {
				return o.Calc.getShortestDistancePoint(t, this.rb, this.lb)
			}, h.getRotationBounds = function (t) {
				var e = this.pivot,
					i = [o.Calc.getRotationPoint(e, this.ltp, t), o.Calc.getRotationPoint(e, this.rtp, t), o.Calc.getRotationPoint(e, this.rbp, t), o.Calc.getRotationPoint(e, this.lbp, t)];
				return {
					left: o.Calc.getLeftPoint(i).x,
					right: o.Calc.getRightPoint(i).x,
					top: o.Calc.getTopPoint(i).y,
					bottom: o.Calc.getBottomPoint(i).y
				}
			}, h.getFixPoint = function (t) {
				var e = this.getLocal(t);
				return e = this.getValidationPoint(e), this.getGlobal(e)
			}, h.getFixPoints = function (t) {
				for (var e in t) {
					var i = this.getLocal(t[e]);
					i = this.getValidationPoint(i), t[e] = this.getGlobal(i)
				}
				return t
			}, h.getValidationPoint = function (t) {
				var e = t.x, i = t.y;
				e <= 0 && (e = this.fixSpace), e >= this.image.width && (e = this.image.width - this.fixSpace), i <= 0 && (i = this.fixSpace), i >= this.image.height && (i = this.image.height - this.fixSpace), t.x = e, t.y = i;
				var n = this.getGlobal(t);
				return t.x = n.x, t.y = n.y, t
			}, h.getValidationPoints = function (t) {
				for (var e in t) {
					var i = t[e], n = i.x, r = i.y;
					n <= 0 && (n = this.fixSpace), n >= this.image.width && (n = this.image.width - this.fixSpace), r <= 0 && (r = this.fixSpace), r >= this.image.height && (r = this.image.height - this.fixSpace), i.x = n, i.y = r;
					var o = this.getGlobal(i);
					t[e].x = o.x, t[e].y = o.y
				}
				return t
			}, h.isFitBounds = function (t) {
				for (var e = [t.lt, t.rt, t.rb, t.lb], i = 0; i < e.length; i++) if (o.Calc.isInsideSquare(e[i], this.lt, this.rt, this.rb, this.lb) === !1) return !1;
				return !0
			}, h.getHitSide = function (t) {
				var e = this.lt, i = this.rt, n = this.rb, r = this.lb, s = a.HitSide.NONE;
				return (o.Calc.triangleArea(t.lt, r, e) > 0 || o.Calc.triangleArea(t.lb, r, e) > 0) && (s = a.HitSide.LEFT), (o.Calc.triangleArea(t.rt, i, n) > 0 || o.Calc.triangleArea(t.rb, i, n) > 0) && (s = a.HitSide.RIGHT), (o.Calc.triangleArea(t.lt, e, i) > 0 || o.Calc.triangleArea(t.rt, e, i) > 0) && (s = s === a.HitSide.NONE ? a.HitSide.TOP : s += "-" + a.HitSide.TOP), (o.Calc.triangleArea(t.rb, n, r) > 0 || o.Calc.triangleArea(t.lb, n, r) > 0) && (s = s === a.HitSide.NONE ? a.HitSide.BOTTOM : s += "-" + a.HitSide.BOTTOM), s
			}, h.getHitPoints = function (t) {
				var e = this.lt, i = this.rt, n = this.rb, r = this.lb, s = [];
				return o.Calc.triangleArea(t.lt, r, e) > 0 && s.push({
					point: t.lt,
					line: {s: r, e: e},
					name: "lt",
					hitSide: a.HitSide.LEFT
				}), o.Calc.triangleArea(t.lb, r, e) > 0 && s.push({
					point: t.lb,
					line: {s: r, e: e},
					name: "lb",
					hitSide: a.HitSide.LEFT
				}), o.Calc.triangleArea(t.rt, i, n) > 0 && s.push({
					point: t.rt,
					line: {s: i, e: n},
					name: "rt",
					hitSide: a.HitSide.RIGHT
				}), o.Calc.triangleArea(t.rb, i, n) > 0 && s.push({
					point: t.rb,
					line: {s: i, e: n},
					name: "rb",
					hitSide: a.HitSide.RIGHT
				}), o.Calc.triangleArea(t.lt, e, i) > 0 && s.push({
					point: t.lt,
					line: {s: e, e: i},
					name: "lt",
					hitSide: a.HitSide.TOP
				}), o.Calc.triangleArea(t.rt, e, i) > 0 && s.push({
					point: t.rt,
					line: {s: e, e: i},
					name: "rt",
					hitSide: a.HitSide.TOP
				}), o.Calc.triangleArea(t.rb, n, r) > 0 && s.push({
					point: t.rb,
					line: {s: n, e: r},
					name: "rb",
					hitSide: a.HitSide.BOTTOM
				}), o.Calc.triangleArea(t.lb, n, r) > 0 && s.push({
					point: t.lb,
					line: {s: n, e: r},
					name: "lb",
					hitSide: a.HitSide.BOTTOM
				}), s
			}, h.getIntersection = function (t, e) {
				var i;
				switch (t) {
					case e.lt:
						i = this.getLbIntersection(e);
						break;
					case e.rt:
						i = this.getRbIntersection(e);
						break;
					case e.rb:
						i = this.getRtIntersection(e);
						break;
					case e.lb:
						i = this.getLtIntersection(e);
						break;
					case e.left:
						var n = this.getLtIntersection(e), r = this.getLbIntersection(e);
						i = n.distanceX < r.distanceX ? n : r;
						break;
					case e.top:
						var n = this.getLtIntersection(e), o = this.getRtIntersection(e);
						i = n.distanceY < o.distanceY ? n : o;
						break;
					case e.right:
						var o = this.getRtIntersection(e), s = this.getRbIntersection(e);
						i = o.distanceX < s.distanceX ? o : s;
						break;
					case e.bottom:
						var s = this.getRbIntersection(e), r = this.getLbIntersection(e);
						i = s.distanceY < r.distanceY ? s : r
				}
				return i
			}, h.getLtIntersection = function (t) {
				var e, i, n = [], r = [], s = t.lt, a = {x: t.rt.x - this.intersectionSpace, y: t.rt.y},
					h = {x: t.lb.x, y: t.lb.y - this.intersectionSpace}, l = {x: 0, y: s.y}, u = {x: s.x, y: 0},
					c = this.topLine, f = this.leftLine, d = this.bottomLine, p = o.Calc.intersection(f.s, f.e, a, l),
					g = o.Calc.intersection(c.s, c.e, a, l), m = o.Calc.intersection(d.s, d.e, a, l);
				null !== p && n.push(p), null !== g && n.push(g), null !== m && n.push(m);
				var y = o.Calc.intersection(f.s, f.e, h, u), v = o.Calc.intersection(c.s, c.e, h, u);
				null !== y && r.push(y), null !== v && r.push(v);
				var _, x;
				return _ = 1 === n.length ? n[0] : o.Calc.getNearPoint(s, "x", n), x = 1 === r.length ? r[0] : o.Calc.getNearPoint(s, "y", r), null !== _ && (e = s.x - _.x), null !== x && (i = s.y - x.x), {
					x: _,
					y: x,
					distanceX: e,
					distanceY: i
				}
			}, h.getRtIntersection = function (t) {
				var e, i, n = [], r = [], s = t.rt, a = {x: t.lt.x + this.intersectionSpace, y: t.lt.y},
					h = {x: t.rb.x, y: t.rb.y - this.intersectionSpace}, l = {x: window.innerWidth, y: s.y},
					u = {x: s.x, y: 0}, c = this.topLine, f = this.rightLine, d = this.bottomLine,
					p = o.Calc.intersection(f.s, f.e, a, l), g = o.Calc.intersection(c.s, c.e, a, l),
					m = o.Calc.intersection(d.s, d.e, a, l);
				null !== p && n.push(p), null !== g && n.push(g), null !== m && n.push(m);
				var y = o.Calc.intersection(f.s, f.e, h, u), v = o.Calc.intersection(c.s, c.e, h, u);
				null !== y && r.push(y), null !== v && r.push(v);
				var _, x;
				return _ = 1 === n.length ? n[0] : o.Calc.getNearPoint(s, "x", n), x = 1 === r.length ? r[0] : o.Calc.getNearPoint(s, "y", r), null !== _ && (e = _.x - s.x), null !== x && (i = s.y - x.y), {
					x: _,
					y: x,
					distanceX: e,
					distanceY: i
				}
			}, h.getRbIntersection = function (t) {
				var e, i, n = [], r = [], s = t.rb, a = {x: t.lb.x + this.intersectionSpace, y: t.lb.y},
					h = {x: t.rt.x, y: t.rt.y + this.intersectionSpace}, l = {x: window.innerWidth, y: s.y},
					u = {x: s.x, y: window.innerHeight}, c = this.topLine, f = this.rightLine, d = this.bottomLine,
					p = o.Calc.intersection(f.s, f.e, a, l), g = o.Calc.intersection(c.s, c.e, a, l),
					m = o.Calc.intersection(d.s, d.e, a, l);
				null !== p && n.push(p), null !== g && n.push(g), null !== m && n.push(m);
				var y = o.Calc.intersection(f.s, f.e, h, u), v = o.Calc.intersection(d.s, d.e, h, u);
				null !== y && r.push(y), null !== v && r.push(v);
				var _, x;
				return _ = 1 === n.length ? n[0] : o.Calc.getNearPoint(s, "x", n), x = 1 === r.length ? r[0] : o.Calc.getNearPoint(s, "y", r), null !== _ && (e = _.x - s.x), null !== x && (i = x.y - s.y), {
					x: _,
					y: x,
					distanceX: e,
					distanceY: i
				}
			}, h.getLbIntersection = function (t) {
				var e, i, n = [], r = [], s = t.lb, a = {x: t.rb.x - this.intersectionSpace, y: t.rb.y},
					h = {x: t.lt.x, y: t.lt.y + this.intersectionSpace}, l = {x: 0, y: s.y},
					u = {x: s.x, y: window.innerHeight}, c = this.topLine, f = this.leftLine, d = this.bottomLine,
					p = o.Calc.intersection(f.s, f.e, a, l), g = o.Calc.intersection(c.s, c.e, a, l),
					m = o.Calc.intersection(d.s, d.e, a, l);
				null !== p && n.push(p), null !== g && n.push(g), null !== m && n.push(m);
				var y = o.Calc.intersection(f.s, f.e, h, u), v = o.Calc.intersection(d.s, d.e, h, u);
				null !== y && r.push(y), null !== v && r.push(v);
				var _, x;
				return _ = 1 === n.length ? n[0] : o.Calc.getNearPoint(s, "x", n), x = 1 === r.length ? r[0] : o.Calc.getNearPoint(s, "y", r), null !== _ && (e = s.x - _.x), null !== x && (i = x.y - s.y), {
					x: _,
					y: x,
					distanceX: e,
					distanceY: i
				}
			}, h.sortX = function (t, e) {
				return t.x === e.x ? 0 : t.x < e.x ? -1 : 1
			}, h.sortY = function (t, e) {
				return t.y === e.y ? 0 : t.y < e.y ? -1 : 1
			}, h.toString = function () {
				var t = this.toGlobal(this.pivot),
					e = "LT[" + o.Calc.leadingZero(parseInt(this.lt.x)) + ", " + o.Calc.leadingZero(parseInt(this.lt.y)) + "] RT[" + o.Calc.leadingZero(parseInt(this.rt.x)) + ", " + o.Calc.leadingZero(parseInt(this.rt.y)) + "] RB[" + o.Calc.leadingZero(parseInt(this.rb.x)) + ", " + o.Calc.leadingZero(parseInt(this.rb.y)) + "] LB[" + o.Calc.leadingZero(parseInt(this.lb.x)) + ", " + o.Calc.leadingZero(parseInt(this.lb.y)) + "] XY[" + o.Calc.leadingZero(parseInt(this.x)) + ", " + o.Calc.leadingZero(parseInt(this.y)) + "] WH[" + o.Calc.leadingZero(parseInt(this.width)) + ", " + o.Calc.leadingZero(parseInt(this.height)) + "] Scale[" + this.scale.x + ", " + this.scale.y + "] Pivot Local[" + this.pivot.x + ", " + this.pivot.y + "] Pivot Global[" + t.x + ", " + t.y + "] Rotation[" + o.Calc.digit(o.Calc.toDegrees(this.rotation)) + "]";
				return e
			}, h.traceRealPoints = function () {
				for (var t = 0; t < this.realPoints.length; t++) {
					var e = this.realPoints[t];
					void 0
				}
			}, h.getRestoreData = function () {
				return {
					x: this.x,
					y: this.y,
					width: this.width,
					height: this.height,
					pivotX: this.pivot.x,
					pivotY: this.pivot.y,
					rotation: this.rotation,
					flipX: this.image.scale.x,
					flipY: this.image.scale.y
				}
			}, h.setRestoreData = function (t) {
				this.pivot.x = t.pivotX, this.pivot.y = t.pivotY, this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height
			}, h.restoreFlip = function (t) {
				this.image.scale.x = t.flipX, this.image.scale.y = t.flipY, this.image.scale.x < 0 ? this.image.x = this.image.width / 2 : this.image.x = -this.image.width / 2, this.image.scale.y < 0 ? this.image.y = this.image.height / 2 : this.image.y = -this.image.height / 2
			}, h.removeImage = function () {
				this.image.destroy(!0, !0), this.removeChild(this.image), this.image = null
			}, h.traceHitPoints = function (t) {
				var e = this.getHitPoints(t);
				void 0;
				for (var i in e) {
					var n = e[i], r = n.name, o = n.hitSide;
					void 0
				}
				return e
			}, h.getIsFlipX = function () {
				return this.image.scale.x < 0
			}, h.getIsFlipY = function () {
				return this.image.scale.y < 0
			}, h.resetPivot = function () {
				this.pivot = {x: 0, y: 0}, this.updatePrevLtPointForPivot(), this.updateDebugPivotGraphic()
			}, h.resetLt = function () {
				this.ltp.x = this.image.x, this.ltp.y = this.image.y, this.rtp.x = this.image.x + this.image.width, this.rtp.y = this.image.y, this.rbp.x = this.image.x + this.image.width, this.rbp.y = this.image.y + this.image.height, this.lbp.x = this.image.x, this.lbp.y = this.image.y + this.image.height;
				for (var t = 0; t < this.realPoints.length; t++) this.realPoints[t].isLt = !1;
				this.ltp.isLt = !0
			}, h.resetFlip = function () {
				this.image.scale.x < 0 && (this.image.scale.x *= -1, this.image.x = -this.image.width / 2), this.image.scale.y < 0 && (this.image.scale.y *= -1, this.image.y = -this.image.height / 2)
			}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports) ? t.exports = e : usenamespace("editor.es5.ui").Image = e
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(102), s = e(o);
		!function () {
			function e(t, e) {
				PIXI.Sprite.call(this), this.initialize(t, e)
			}

			var n = {};
			n.Func = i(187), n.Calc = i(188);
			var o = i(190).cancelAnimFrame, a = i(190).animationLoop,
				h = e.prototype = (0, s["default"])(PIXI.Sprite.prototype);
			h.initialize = function (t, e) {
				this.w = t, this.h = e, this.bgSpace = .5, this.drawSpace = .1, this.easingDuration = 6, this.dimedShowAlpha = .4, this.dimedHideAlpha = .82, this.graphics || (this.graphics = new PIXI.Graphics, this.graphics.alpha = this.dimedShowAlpha, this.addChild(this.graphics))
			}, h.show = function () {
				o(this.displayAnimationId), this._tFrom = this.graphics.alpha, this._tTo = this.dimedShowAlpha, this._tCurt = this._tFrom, this.displayAnimationId = a(this.changeGridAlpha.bind(this), this.easingDuration, "easeOutQuad", function () {
				}, function () {
					this.graphics.alpha = this._tTo
				}, this)
			}, h.changeGridAlpha = function (t, e, i) {
				this._tCurt = n.Calc.getTweenValue(this._tFrom, this._tTo, t), this.graphics.alpha = this._tCurt
			}, h.draw = function (t, e, i) {
				e = n.Func.getDefaultParameters(e, this.graphics.alpha), this._tFrom = e, this._tCurt = e, this.graphics.alpha = e, this.clear(), this.validationCheck(t), this.drawDimed(t, i)
			}, h.validationCheck = function (t) {
				for (var e in t) {
					var i = t[e], n = i.x, r = i.y;
					n < 0 && (n = 0), n > this.w && (n = this.w), r < 0 && (r = 0), r > this.h && (r = this.h), t[e].x = n, t[e].y = r
				}
			}, h.drawDimed = function (t, e) {
				var i = this.w, r = this.h, o = t;
				if (e.x < 0) {
					for (var s in o) o[s] = n.Calc.flipX(this.w, o[s]);
					var a = {x: o.rt.x, y: o.rt.y}, h = {x: o.lt.x, y: o.lt.y}, l = {x: o.lb.x, y: o.lb.y},
						u = {x: o.rb.x, y: o.rb.y};
					o.lt = a, o.rt = h, o.rb = l, o.lb = u
				}
				if (e.y < 0) {
					for (var s in o) o[s] = n.Calc.flipY(this.h, o[s]);
					var a = {x: o.lb.x, y: o.lb.y}, h = {x: o.rb.x, y: o.rb.y}, l = {x: o.rt.x, y: o.rt.y},
						u = {x: o.lt.x, y: o.lt.y};
					o.lt = a, o.rt = h, o.rb = l, o.lb = u
				}
				this.graphics.lineStyle(0, 16724736, 0), this.graphics.beginFill(0), this.graphics.moveTo(-this.bgSpace, -this.bgSpace), this.graphics.lineTo(i + this.bgSpace, -this.bgSpace), this.graphics.lineTo(i + this.bgSpace, r + this.bgSpace), this.graphics.lineTo(-this.bgSpace, r + this.bgSpace), this.graphics.lineTo(-this.bgSpace, -this.bgSpace), this.graphics.lineTo(o.lt.x, o.lt.y), this.graphics.lineTo(o.lb.x, o.lb.y), this.graphics.lineTo(o.rb.x, o.rb.y), this.graphics.lineTo(o.rt.x, o.rt.y), this.graphics.lineTo(o.lt.x, o.lt.y), this.graphics.endFill()
			}, h.hide = function () {
				o(this.displayAnimationId), this._tFrom = this.graphics.alpha, this._tTo = this.dimedHideAlpha, this._tCurt = this._tFrom, this.displayAnimationId = a(this.changeGridAlpha.bind(this), this.easingDuration, "easeOutQuad", function () {
				}, function () {
					this.graphics.alpha = this._tTo
				}, this)
			}, h.clear = function () {
				this.graphics.clear()
			}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports) ? t.exports = e : usenamespace("editor.es5.ui").DimedUI = e
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n);
		!function () {
			var e = {};
			e.getDefaultParameters = function (t, e) {
				return void 0 === t || null === t ? e : t
			}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports) ? t.exports = e : usenamespace("editor.es5.utils").Func = e
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n);
		!function () {
			var e = {};
			e.Func = i(187);
			var n = {};
			n.HitSide = i(189);
			var o = {};
			o.LIMIT_LEFT = -1e5, o.LIMIT_TOP = -1e5, o.LIMIT_RIGHT = 1e5, o.LIMIT_BOTTOM = 1e5, o._DEG_TO_RAD = Math.PI / 180, o._RAD_TO_DEG = 180 / Math.PI, o._RADIAN_1 = 1 * o._DEG_TO_RAD, o._RADIAN_45 = 45 * o._DEG_TO_RAD, o._RADIAN_90 = 90 * o._DEG_TO_RAD, o._RADIAN_180 = 180 * o._DEG_TO_RAD, o._RADIAN_360 = 360 * o._DEG_TO_RAD, o.EPSILON = 2.220446049250313e-16, Object.defineProperty(o, "DEG_TO_RAD", {
				get: function () {
					return o._DEG_TO_RAD
				}
			}), Object.defineProperty(o, "RAD_TO_DEG", {
				get: function () {
					return o._RAD_TO_DEG
				}
			}), Object.defineProperty(o, "RADIAN_1", {
				get: function () {
					return o._RADIAN_1
				}
			}), Object.defineProperty(o, "RADIAN_45", {
				get: function () {
					return o._RADIAN_45
				}
			}), Object.defineProperty(o, "RADIAN_90", {
				get: function () {
					return o._RADIAN_90
				}
			}), Object.defineProperty(o, "RADIAN_180", {
				get: function () {
					return o._RADIAN_180
				}
			}), Object.defineProperty(o, "RADIAN_360", {
				get: function () {
					return o._RADIAN_360
				}
			}), o.getDiagonal = function (t, e) {
				return Math.sqrt(t * t + e * e)
			}, o.getHeightMaintainAspectRatio = function (t, e, i) {
				return i * e / t
			}, o.getY2 = function (t, e, i) {
				return i / (t / e)
			}, o.getWidthMaintainAspectRatio = function (t, e, i) {
				return i * t / e
			}, o.getX2 = function (t, e, i) {
				return t / e * i
			}, o.getWidthByAspectRatio = function (t, e) {
				return e * t
			}, o.getHeightByAspectRatio = function (t, e) {
				return e / t
			}, o.getAspectRatio = function (t, e) {
				return t / e || 0
			}, o.getAspectRatioBackup = function (t, e, i) {
				return i ? Math.max(t, e) / Math.min(t, e) || 0 : Math.min(t, e) / Math.max(t, e) || 0
			}, o.toRadians = function (t) {
				return t * o.DEG_TO_RAD
			}, o.toDegrees = function (t) {
				return t * o.RAD_TO_DEG
			}, o.toRoundDegreesByRadians = function (t) {
				return Math.round(o.toDegrees(t))
			}, o.toRoundRadiansByRadians = function (t) {
				return o.toRadians(o.toRoundDegreesByRadians(t))
			}, o.toRoundRadiansByDegrees = function (t) {
				return o.toRadians(o.toRoundDegreesByDegrees(t))
			}, o.toRoundDegreesByDegrees = function (t) {
				return Math.round(t)
			}, o.getModulusDegreesByRadians = function (t, e) {
				return o.toRoundDegreesByRadians(t) % e
			}, o.getModulusDegreesByDegrees = function (t, e) {
				return o.toRoundDegreesByDegrees(t) % e
			}, o.getRotateCountByRadians = function (t) {
				var e = o.getModulusDegreesByRadians(t, 360);
				return parseInt(Math.abs(e) / 90)
			}, o.getRotateCountByDegrees = function (t) {
				var e = o.getModulusDegreesByDegrees(t, 360);
				return parseInt(Math.abs(e) / 90)
			}, o.sqr = function (t) {
				return t * t
			}, o.dist2 = function (t, e) {
				return o.sqr(t.x - e.x) + o.sqr(t.y - e.y)
			}, o.getScale = function (t, e) {
				var i = e.width / t.width, n = e.height / t.height;
				return i < n ? {min: i, max: n} : {min: n, max: i}
			}, o.getSizeFitInBounds = function (t, e) {
				var i = o.getScale(t, e), n = i.min, r = n * t.width, s = n * t.height;
				return {x: 0, y: 0, width: r, height: s}
			}, o.getRotation = function (t, e) {
				var i = e.x - t.x, n = e.y - t.y, r = Math.atan2(n, i), s = o.toDegrees(r);
				return s
			}, o.triangleArea = function (t, e, i) {
				return i.x * e.y - e.x * i.y - (i.x * t.y - t.x * i.y) + (e.x * t.y - t.x * e.y)
			}, o.isInsideSquare = function (t, e, i, n, r) {
				return !(o.triangleArea(t, e, i) > 0 || o.triangleArea(t, i, n) > 0 || o.triangleArea(t, n, r) > 0 || o.triangleArea(t, r, e) > 0)
			}, o.isHit = function (t, e) {
				return o.triangleArea(t, e.s, e.e) > 0
			}, o.sampleCodeHitTest = function (t, e, i, n, r) {
				var s = {isHitLeft: !1, isHitRight: !1, isHitTop: !1, isHitBottom: !1};
				return o.triangleArea(t, e, i) > 0 && (s.isHitTop = !0), o.triangleArea(t, i, n) > 0 && (s.isHitRight = !0), o.triangleArea(t, n, r) > 0 && (s.isHitBottom = !0), o.triangleArea(t, r, e) > 0 && (s.isHitLeft = !0), s
			}, o.getPointsByBounds = function (t) {
				return {
					lt: {x: t.x, y: t.y},
					rt: {x: t.x + t.width, y: t.y},
					rb: {x: t.x + t.width, y: t.y + t.height},
					lb: {x: t.x, y: t.y + t.height}
				}
			}, o.getOneToOne = function (t, e, i, n, r) {
				return (r - n) / (i - e) * (t - e) + n
			}, o.getTweenValue = function (t, e, i) {
				return t + (e - t) * i
			}, o.getTweenValueByObject = function (t, e, i, n) {
				return e[t] + (i[t] - e[t]) * n
			}, o.getRotationPoint = function (t, e, i) {
				var n = e.x - t.x, r = e.y - t.y, s = Math.sqrt(n * n + r * r), a = Math.atan2(r, n) * o._RAD_TO_DEG,
					h = (a + i) % 360 * o._DEG_TO_RAD, l = t.x + s * Math.cos(h) + .5 | 0,
					u = t.y + s * Math.sin(h) + .5 | 0;
				return {x: l, y: u}
			}, o.getRotationPoints = function (t, e, i) {
				var n = o.getRotationPoint(t, e.lt, i), r = o.getRotationPoint(t, e.rt, i),
					s = o.getRotationPoint(t, e.rb, i), a = o.getRotationPoint(t, e.lb, i);
				return {lt: n, rt: r, rb: s, lb: a}
			}, o.getBoundsByRotationPoints = function (t) {
				var e = Math.min(t.lt.x, t.rt.x, t.rb.x, t.lb.x), i = Math.min(t.lt.y, t.rt.y, t.rb.y, t.lb.y),
					n = Math.max(t.lt.x, t.rt.x, t.rb.x, t.lb.x), r = Math.max(t.lt.y, t.rt.y, t.rb.y, t.lb.y);
				return {x: e, y: i, width: n - e, height: r - i}
			}, o.getBoundsByPoints = function (t) {
				return {x: t.lt.x, y: t.lt.y, width: t.rb.x - t.lt.x, height: t.rb.y - t.lt.y}
			}, o.getShortestDistancePoint = function (t, e, i) {
				var n = o.dist2(e, i);
				if (0 == n) return e;
				var r = ((t.x - e.x) * (i.x - e.x) + (t.y - e.y) * (i.y - e.y)) / n;
				return r = Math.max(0, Math.min(1, r)), {x: e.x + r * (i.x - e.x), y: e.y + r * (i.y - e.y)}
			}, o.distToSegmentSquared = function (t, e, i) {
				var n = o.getShortestDistancePoint(t, e, i);
				return o.dist2(t, n)
			}, o.distToSegment = function (t, e, i) {
				return Math.sqrt(o.distToSegmentSquared(t, e, i))
			}, o.getReturnPoint = function (t, e) {
				return {x: t.x - e.x, y: t.y - e.y}
			}, o.goByCollision = function (t, i, n, r, s) {
				r = e.Func.getDefaultParameters(r, 0), s = e.Func.getDefaultParameters(s, 0);
				var a = o.getShortestDistancePoint(i, n.s, n.e), h = o.getReturnPoint(i, a);
				t.x = t.x + h.x + r, t.y = t.y + h.y + s
			}, o.goByCollisionNoSpace = function (t, e, i) {
				var n = o.getShortestDistancePoint(e, i.s, i.e), r = o.getReturnPoint(e, n);
				t.x = t.x + r.x, t.y = t.y + r.y
			}, o.pointsUpdateByCollision = function (t, i, n, r, s) {
				r = e.Func.getDefaultParameters(r, 0), s = e.Func.getDefaultParameters(s, 0);
				var a = o.getShortestDistancePoint(i, n.s, n.e), h = o.getReturnPoint(i, a), l = h.x + r, u = h.y + s;
				return o.translate(t, l, u)
			}, o.getNextMovePosition = function (t, e, i, n) {
				var r = t + i * Math.cos(n), o = e + i * Math.sin(n);
				return {x: r, y: o}
			}, o.getActualPixelSize = function (t, e, i, n) {
				var r = n.bounds, o = i.width / t, s = i.height / e, a = r.width / o, h = r.height / s;
				return {width: a, height: h}
			}, o.getLineIntersection = function (t, e, i, n) {
				var r, o, s, a, h = t.x, l = t.y, u = e.x, c = e.y, f = i.x, d = i.y, p = n.x, g = n.y,
					m = {x: null, y: null, onLine1: !1, onLine2: !1}, y = (g - d) * (u - h) - (p - f) * (c - l);
				return 0 == y ? m : (r = l - d, o = h - f, s = (p - f) * r - (g - d) * o, a = (u - h) * r - (c - l) * o, r = s / y, o = a / y, m.x = h + r * (u - h), m.y = l + r * (c - l), r > 0 && r < 1 && (m.onLine1 = !0), o > 0 && o < 1 && (m.onLine2 = !0), m)
			}, o.intersection = function (t, e, i, n) {
				var r, o, s, a, h = t.x, l = t.y, u = e.x, c = e.y, f = i.x, d = i.y, p = n.x, g = n.y, m = u - h,
					y = c - l, v = p - f, _ = g - d, x = m * _ - v * y;
				return 0 == x ? null : (r = h - f, o = l - d, s = (m * o - y * r) / x, s >= 0 && s <= 1 && (a = (v * o - _ * r) / x, a >= 0 && a <= 1) ? {
					x: h + a * m,
					y: l + a * y
				} : null)
			}, o.translate = function (t, e, i) {
				return t.lt.x += e, t.lt.y += i, t.rt.x += e, t.rt.y += i, t.rb.x += e, t.rb.y += i, t.lb.x += e, t.lb.y += i, t.leftLine = {
					s: t.lb,
					e: t.lt
				}, t.topLine = {s: t.lt, e: t.rt}, t.rightLine = {s: t.rt, e: t.rb}, t.bottomLine = {
					s: t.lb,
					e: t.rb
				}, t
			}, o.rotate = function (t, e) {
				for (var i = Math.cos(t), n = Math.sin(t), r = 0; r < e.length; r++) {
					var o = e[r], s = o.x, a = o.y;
					o.x = i * s - n * a, o.y = n * s + i * a
				}
			}, o.getRotationPionts = function (t, e, i) {
				return {
					lt: o.getRotationPoint(t, e.lt, i),
					rt: o.getRotationPoint(t, e.rt, i),
					rb: o.getRotationPoint(t, e.rb, i),
					lb: o.getRotationPoint(t, e.lb, i)
				}
			}, o.getRotationBox = function (t, e, i) {
				var n = o.getRotationPionts(t, e, i);
				return {
					left: o.getLeftPoint(n).x,
					right: o.getRightPoint(n).x,
					top: o.getTopPoint(n).y,
					bottom: o.getBottomPoint(n).y
				}
			}, o.getLeftPoint = function (t) {
				var e = t.lt;
				for (var i in t) e.x > t[i].x && (e = t[i]);
				return e
			}, o.getTopPoint = function (t) {
				var e = t.lt;
				for (var i in t) e.y > t[i].y && (e = t[i]);
				return e
			}, o.getRightPoint = function (t) {
				var e = t.lt;
				for (var i in t) e.x > t[i].x && (e = t[i]);
				return e
			}, o.getBottomPoint = function (t) {
				var e = t.lt;
				for (var i in t) e.y < t[i].y && (e = t[i]);
				return e
			}, o.getNearPoint = function (t, e, i) {
				if (!i || 0 === i.length) return null;
				for (var n, r, o = 0, s = null, a = 9007199254740991, h = 0; h < i.length; h++) n = i[h][e], r = n - t[e], o = r < 0 ? -r : r, o < a && (a = o, s = i[h]);
				return s
			}, o.getNear = function (t, e) {
				for (var i, n, r = 0, o = 0, s = 9007199254740991, a = 0; a < e.length; a++) i = e[a], n = i - t, r = n < 0 ? -n : n, r < s && (s = r, o = i);
				return o
			}, o.fixLimit = function (t, e, i) {
				var n, r, s, a, h, l, u, c, f = i.lt, d = i.rt, p = i.rb, g = i.lb;
				return n = null !== f && null !== f.x ? f.x.x : o.LIMIT_LEFT, r = null !== g && null !== g.x ? g.x.x : o.LIMIT_LEFT, h = Math.max(n, r), s = null !== f && null !== f.y ? f.y.y : o.LIMIT_TOP, a = null !== d && null !== d.y ? d.y.y : o.LIMIT_TOP, l = Math.max(s, a), n = null !== d && null !== d.x ? d.x.x : o.LIMIT_RIGHT, r = null !== p && null !== p.x ? p.x.x : o.LIMIT_RIGHT, u = Math.min(n, r), s = null !== g && null !== g.y ? g.y.y : o.LIMIT_BOTTOM, a = null !== p && null !== p.y ? p.y.y : o.LIMIT_BOTTOM, c = Math.min(s, a), t = t < h ? h : t, t = t > u ? u : t, e = e < l ? l : e, e = e > c ? c : e, {
					x: t,
					y: e
				}
			}, o.digit = function (t, i) {
				i = e.Func.getDefaultParameters(i, 1), 0 === i && (i = 1);
				var n = Math.pow(10, i);
				return parseInt(t * n) / n
			}, o.leadingZero = function (t, i) {
				i = e.Func.getDefaultParameters(i, 4);
				var n = "";
				if (t = t.toString(), t.length < i) for (var r = 0; r < i - t.length; r++) n += "0";
				return n + t
			}, o.trace = function (t) {
				return o.leadingZero(parseInt(t))
			}, o.copyObject = function (t) {
				var e = {};
				for (var i in t) e[i] = t[i];
				return e
			}, o.getLeftHeight = function (t) {
				return t.lb.y - t.lt.y || 0
			}, o.getRightHeight = function (t) {
				return t.rb.y - t.rt.y || 0
			}, o.round = function (t) {
				for (var e in t) t[e] = Math.round(t[e]);
				return t
			}, o.flipX = function (t, e) {
				return e.x = t - e.x, e
			}, o.flipY = function (t, e) {
				return e.y = t - e.y, e
			}, o.getIsFitImageToBounds = function (t, e) {
				for (var i = [e.lt, e.rt, e.rb, e.lb], n = 0; n < i.length; n++) if (o.isInsideSquare(i[n], t.lt, t.rt, t.rb, t.lb) === !1) return !1;
				return !0
			}, o.getHitSide = function (t, e) {
				var i = t.lt, r = t.rt, s = t.rb, a = t.lb, h = n.HitSide.NONE;
				return (o.triangleArea(e.lt, a, i) > 0 || o.triangleArea(e.lb, a, i) > 0) && (h = n.HitSide.LEFT), (o.triangleArea(e.rt, r, s) > 0 || o.triangleArea(e.rb, r, s) > 0) && (h = n.HitSide.RIGHT), (o.triangleArea(e.lt, i, r) > 0 || o.triangleArea(e.rt, i, r) > 0) && (h = h === n.HitSide.NONE ? n.HitSide.TOP : h += "-" + n.HitSide.TOP), (o.triangleArea(e.rb, s, a) > 0 || o.triangleArea(e.lb, s, a) > 0) && (h = h === n.HitSide.NONE ? n.HitSide.BOTTOM : h += "-" + n.HitSide.BOTTOM), h
			}, o.getSizeByPoints = function (t) {
				var e = t.rt.x - t.lt.x, i = t.rt.y - t.lt.y, n = Math.sqrt(e * e + i * i);
				e = t.rt.x - t.rb.x, i = t.rt.y - t.rb.y;
				var r = Math.sqrt(e * e + i * i);
				return {width: n, height: r}
			}, o.toLocalPoints = function (t, e) {
				var i = {};
				for (var n in e) i[n] = t.applyInverse(e[n]);
				return i
			}, o.convertCanvasMatrixToPixiMatrix = function (t) {
				var e = new PIXI.Matrix;
				return e.a = t.m11, e.b = t.m21, e.c = t.m12, e.d = t.m22, e.tx = t.tx, e.ty = t.ty, e
			}, o.isPassedLeftLine = function (t, e) {
				return o.triangleArea(e, t.lb, t.lt) > 0
			}, o.isPassedTopLine = function (t, e) {
				return o.triangleArea(e, t.lt, t.rt) > 0
			}, o.isPassedRightLine = function (t, e) {
				return o.triangleArea(e, t.rt, t.rb) > 0
			}, o.isPassedBottomLine = function (t, e) {
				return o.triangleArea(e, t.rb, t.lb) > 0
			}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports) ? t.exports = o : usenamespace("editor.es5.utils").Calc = o
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n);
		!function () {
			var e = {};
			e.NONE = "none", e.LEFT = "left", e.TOP = "top", e.RIGHT = "right", e.BOTTOM = "bottom", e.LEFT_TOP = "left-top", e.LEFT_BOTTOM = "left-bottom", e.RIGHT_TOP = "right-top", e.RIGHT_BOTTOM = "right-bottom", void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports) ? t.exports = e : usenamespace("editor.es5.consts").HitSide = e
		}()
	}).call(e, i(158)(t))
}, function (t, e) {
	"use strict";
	!function (e) {
		var i = {
			linear: function (t) {
				return t
			}, easeInQuad: function (t) {
				return t * t
			}, easeOutQuad: function (t) {
				return -1 * t * (t - 2)
			}, easeInOutQuad: function (t) {
				return (t /= .5) < 1 ? .5 * t * t : -.5 * (--t * (t - 2) - 1)
			}, easeInCubic: function (t) {
				return t * t * t
			}, easeOutCubic: function (t) {
				return 1 * ((t = t / 1 - 1) * t * t + 1)
			}, easeInOutCubic: function (t) {
				return (t /= .5) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2)
			}, easeInQuart: function (t) {
				return t * t * t * t
			}, easeOutQuart: function (t) {
				return -1 * ((t = t / 1 - 1) * t * t * t - 1)
			}, easeInOutQuart: function (t) {
				return (t /= .5) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2)
			}, easeInQuint: function (t) {
				return 1 * (t /= 1) * t * t * t * t
			}, easeOutQuint: function (t) {
				return 1 * ((t = t / 1 - 1) * t * t * t * t + 1)
			}, easeInOutQuint: function (t) {
				return (t /= .5) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2)
			}, easeInSine: function (t) {
				return -1 * Math.cos(t / 1 * (Math.PI / 2)) + 1
			}, easeOutSine: function (t) {
				return 1 * Math.sin(t / 1 * (Math.PI / 2))
			}, easeInOutSine: function (t) {
				return -.5 * (Math.cos(Math.PI * t / 1) - 1)
			}, easeInExpo: function (t) {
				return 0 === t ? 1 : 1 * Math.pow(2, 10 * (t / 1 - 1))
			}, easeOutExpo: function (t) {
				return 1 === t ? 1 : 1 * (-Math.pow(2, -10 * t / 1) + 1)
			}, easeInOutExpo: function (t) {
				return 0 === t ? 0 : 1 === t ? 1 : (t /= .5) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (-Math.pow(2, -10 * --t) + 2)
			}, easeInCirc: function (t) {
				return t >= 1 ? t : -1 * (Math.sqrt(1 - (t /= 1) * t) - 1)
			}, easeOutCirc: function (t) {
				return 1 * Math.sqrt(1 - (t = t / 1 - 1) * t)
			}, easeInOutCirc: function (t) {
				return (t /= .5) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
			}, easeInElastic: function (t) {
				var e = 1.70158, i = 0, n = 1;
				return 0 === t ? 0 : 1 == (t /= 1) ? 1 : (i || (i = .3), n < Math.abs(1) ? (n = 1, e = i / 4) : e = i / (2 * Math.PI) * Math.asin(1 / n), -(n * Math.pow(2, 10 * (t -= 1)) * Math.sin((1 * t - e) * (2 * Math.PI) / i)))
			}, easeOutElastic: function (t) {
				var e = 1.70158, i = 0, n = 1;
				return 0 === t ? 0 : 1 == (t /= 1) ? 1 : (i || (i = .3), n < Math.abs(1) ? (n = 1, e = i / 4) : e = i / (2 * Math.PI) * Math.asin(1 / n), n * Math.pow(2, -10 * t) * Math.sin((1 * t - e) * (2 * Math.PI) / i) + 1)
			}, easeInOutElastic: function (t) {
				var e = 1.70158, i = 0, n = 1;
				return 0 === t ? 0 : 2 == (t /= .5) ? 1 : (i || (i = 1 * (.3 * 1.5)), n < Math.abs(1) ? (n = 1, e = i / 4) : e = i / (2 * Math.PI) * Math.asin(1 / n), t < 1 ? -.5 * (n * Math.pow(2, 10 * (t -= 1)) * Math.sin((1 * t - e) * (2 * Math.PI) / i)) : n * Math.pow(2, -10 * (t -= 1)) * Math.sin((1 * t - e) * (2 * Math.PI) / i) * .5 + 1)
			}, easeInBack: function (t) {
				var e = 1.70158;
				return 1 * (t /= 1) * t * ((e + 1) * t - e)
			}, easeOutBack: function (t) {
				var e = 1.70158;
				return 1 * ((t = t / 1 - 1) * t * ((e + 1) * t + e) + 1)
			}, easeInOutBack: function (t) {
				var e = 1.70158;
				return (t /= .5) < 1 ? .5 * (t * t * (((e *= 1.525) + 1) * t - e)) : .5 * ((t -= 2) * t * (((e *= 1.525) + 1) * t + e) + 2)
			}, easeInBounce: function (t) {
				return 1 - i.easeOutBounce(1 - t)
			}, easeOutBounce: function (t) {
				return (t /= 1) < 1 / 2.75 ? 1 * (7.5625 * t * t) : t < 2 / 2.75 ? 1 * (7.5625 * (t -= 1.5 / 2.75) * t + .75) : t < 2.5 / 2.75 ? 1 * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 1 * (7.5625 * (t -= 2.625 / 2.75) * t + .984375)
			}, easeInOutBounce: function (t) {
				return t < .5 ? .5 * i.easeInBounce(2 * t) : .5 * i.easeOutBounce(2 * t - 1) + .5
			}
		}, n = function () {
			return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (t) {
				return window.setTimeout(t, 1e3 / 60)
			}
		}(), r = function () {
			return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame || function (t) {
				return window.clearTimeout(t, 1e3 / 60)
			}
		}(), o = function (t, e, r, o, s, a) {
			var h = 0, l = i[r] || i.linear, u = function c() {
				h++;
				var i = h / e, r = l(i);
				if (t.call(a, r, i, h), o.call(a, r, i), h < e) try {
					a.animationFrame = n(c)
				} catch (u) {
					void 0
				} else s.apply(a)
			};
			n(u)
		};
		"undefined" == typeof t || "undefined" == typeof t.exports ? (e.easingEffects = i, e.requestAnimFrame = n, e.cancelAnimFrame = r, e.animationLoop = o) : (t.exports.easingEffects = i, t.exports.requestAnimFrame = n, t.exports.cancelAnimFrame = r, t.exports.animationLoop = o)
	}("undefined" == typeof window ? void 0 : window)
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n);
		!function () {
			var e = {};
			e.Func = i(187);
			var n = {};
			n.getRect = function (t, i, n) {
				t = e.Func.getDefaultParameters(t, 4), i = e.Func.getDefaultParameters(i, 16724736), n = e.Func.getDefaultParameters(n, 1);
				var r = t / 2, o = new PIXI.Graphics;
				return o.beginFill(i, n), o.drawRect(-r, -r, t, t), o.endFill(), o
			}, n.getCircle = function (t, i, n) {
				t = e.Func.getDefaultParameters(t, 2), i = e.Func.getDefaultParameters(i, 16724736), n = e.Func.getDefaultParameters(n, 1);
				var r = new PIXI.Graphics;
				return r.beginFill(i, n), r.drawRect(0, 0, t), r.endFill(), r
			}, n.drawBounds = function (t, i, n, r, o, s) {
				n = e.Func.getDefaultParameters(n, !0), r = e.Func.getDefaultParameters(r, 1), o = e.Func.getDefaultParameters(o, 16724736), s = e.Func.getDefaultParameters(s, .7), n && t.clear(), t.lineStyle(r, o, s), t.drawRect(i.x, i.y, i.width, i.height), t.endFill()
			}, n.drawBox = function (t, i, n, r, o, s) {
				n = e.Func.getDefaultParameters(n, !0), r = e.Func.getDefaultParameters(r, 1), o = e.Func.getDefaultParameters(o, 16724736), s = e.Func.getDefaultParameters(s, .5), n && t.clear(), t.lineStyle(r, o, s), t.drawRect(i.left, i.top, i.right - i.left, i.bottom - i.top), t.endFill()
			}, n.drawPoints = function (t, i, n, r, o, s) {
				n = e.Func.getDefaultParameters(n, !0), r = e.Func.getDefaultParameters(r, 1), o = e.Func.getDefaultParameters(o, 16724736), s = e.Func.getDefaultParameters(s, .5), n && t.clear();
				var a = i.lt, h = i.rt, l = i.rb, u = i.lb;
				t.lineStyle(r, o, s), t.moveTo(a.x, a.y), t.lineTo(h.x, h.y), t.lineTo(l.x, l.y), t.lineTo(u.x, u.y), t.lineTo(a.x, a.y), t.endFill()
			}, n.drawCircle = function (t, i, n, r, o, s) {
				null !== i && (n = e.Func.getDefaultParameters(n, 5), r = e.Func.getDefaultParameters(r, 16724736), o = e.Func.getDefaultParameters(o, .5), s = e.Func.getDefaultParameters(s, !1), s && t.clear(), t.lineStyle(1, 0, o), t.beginFill(r, o), t.drawCircle(i.x, i.y, n), t.endFill())
			}, n.drawGrid = function (t, e, i) {
				for (var n = .1, r = .3, o = .5; o < e; o += 10) (o - .5) % 50 === 0 ? t.lineStyle(1, 10066329, r) : t.lineStyle(1, 14540253, n), t.moveTo(o, 0), t.lineTo(o, i);
				for (var s = .5; s < i; s += 10) (s - .5) % 50 === 0 ? t.lineStyle(1, 10066329, r) : t.lineStyle(1, 14540253, n),
					t.moveTo(0, s), t.lineTo(e, s);
				t.endFill()
			}, n.drawDistToSegment = function (t, e, i, n, r) {
				var o = 3, s = .1, a = .2;
				t.beginFill(52275, a), t.lineStyle(1, 39219, s), t.moveTo(i.x, i.y), t.lineTo(n.x, n.y), t.drawCircle(i.x, i.y, o), t.drawCircle(n.x, n.y, o), t.beginFill(16764159, a), t.lineStyle(1, 13408716, s), t.moveTo(e.x, e.y), t.lineTo(e.x, r.y), t.lineTo(r.x, r.y), t.drawCircle(e.x, e.y, o), t.drawCircle(r.x, r.y, o), t.endFill()
			}, n.drawLine = function (t, i, n, r, o, s) {
				r = e.Func.getDefaultParameters(r, 1), o = e.Func.getDefaultParameters(o, 16724736), s = e.Func.getDefaultParameters(s, 1), t.lineStyle(r, o, s), t.moveTo(i.x, i.y), t.lineTo(n.x, n.y)
			}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports) ? t.exports = n : usenamespace("editor.es5.utils").Painter = n
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(102), s = e(o);
		!function () {
			function e(t) {
				PIXI.Sprite.call(this), this.initialize(t), this.render(), this.addCursorEvent(), this.addMouseDownEvent()
			}

			var n = {};
			n.Mouse = i(193), n.Func = i(187), e.MOVE_START = "moveStart", e.MOVE = "move", e.MOVE_END = "moveEnd";
			var o = e.prototype = (0, s["default"])(PIXI.Sprite.prototype);
			o.initialize = function (t) {
				this.interactive = !0, this.buttonMode = !0, this.defaultCursor = "pointer", this.graphics || (this.graphics = new PIXI.Graphics, this.addChild(this.graphics))
			}, o.reset = function (t) {
				this.initialize(t)
			}, o.render = function () {
				this.graphics.clear(), this.graphics.beginFill(4359668, 0), this.graphics.drawRect(0, 0, 1, 1), this.graphics.endFill()
			}, o.setSize = function (t) {
				this.graphics.x = t.x, this.graphics.y = t.y, this.graphics.width = t.width, this.graphics.height = t.height
			}, o.changeCursor = function (t) {
				this.defaultCursor = t
			}, o.addCursorEvent = function () {
				this.mouseover = this.changeCursor.bind(this, "pointer")
			}, o.removeCursorEvent = function () {
				this.mouseover = null
			}, o.addMouseDownEvent = function () {
				this._mouseDownListener = this.onMouseDown.bind(this), this.on("mousedown", this._mouseDownListener)
			}, o.removeMouseDownEvent = function () {
				this.off("mousedown", this._mouseDownListener)
			}, o.addMouseMoveEvent = function () {
				this._mouseMoveListener = this.onMouseMove.bind(this), this._mouseUpListener = this.onMouseUp.bind(this), window.document.addEventListener("mousemove", this._mouseMoveListener), window.document.addEventListener("mouseup", this._mouseUpListener)
			}, o.removeMouseMoveEvent = function () {
				window.document.removeEventListener("mousemove", this._mouseMoveListener), window.document.removeEventListener("mouseup", this._mouseUpListener)
			}, o.onMouseDown = function (t) {
				this.prevMousePoint = {
					x: n.Mouse.globalX,
					y: n.Mouse.globalY
				}, this.emit(e.MOVE_START), t.stopPropagation(), this.changeCursor("move"), this.addMouseMoveEvent(), this.removeMouseDownEvent()
			}, o.onMouseMove = function (t) {
				this.currentMousePoint = {
					x: n.Mouse.globalX,
					y: n.Mouse.globalY
				}, this.change = {
					x: this.currentMousePoint.x - this.prevMousePoint.x,
					y: this.currentMousePoint.y - this.prevMousePoint.y
				}, this.emit(e.MOVE, {
					prevMousePoint: this.prevMousePoint,
					currentMousePoint: this.currentMousePoint,
					change: this.change
				}), this.prevMousePoint = this.currentMousePoint
			}, o.onMouseUp = function () {
				this.changeCursor("pointer"), this.emit(e.MOVE_END), this.addMouseDownEvent(), this.removeMouseMoveEvent()
			}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports) ? t.exports = e : usenamespace("editor.es5.ui").MoveUI = e
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n);
		!function () {
			var e = {};
			Object.defineProperty(e, "renderer", {
				get: function () {
					return e._renderer
				}, set: function (t) {
					e._renderer = t
				}
			}), Object.defineProperty(e, "global", {
				get: function () {
					return e._renderer.plugins.interaction.mouse.global
				}
			}), Object.defineProperty(e, "globalX", {
				get: function () {
					return e._renderer.plugins.interaction.mouse.global.x
				}
			}), Object.defineProperty(e, "globalY", {
				get: function () {
					return e._renderer.plugins.interaction.mouse.global.y
				}
			}), Object.defineProperty(e, "currentCursorStyle", {
				get: function () {
					return e._renderer.plugins.interaction.currentCursorStyle
				}, set: function (t) {
					e._renderer.plugins.interaction.currentCursorStyle = t
				}
			}), void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports) ? t.exports = e : usenamespace("editor.es5.utils").Mouse = e
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(102), s = e(o);
		!function () {
			function e(t, e) {
				Object.defineProperty(this, "dimension", {get: this.getDimension}), Object.defineProperty(this, "centerX", {
					get: function () {
						return this.lt.x + (this.rt.x - this.lt.x) / 2
					}
				}), Object.defineProperty(this, "centerY", {
					get: function () {
						return this.lt.y + (this.lb.y - this.lt.y) / 2
					}
				}), Object.defineProperty(this, "isMinWidth", {
					get: function () {
						var t = this.bounds, e = 2 * this.size + this.half;
						return t.width < e
					}
				}), Object.defineProperty(this, "isMinHeight", {
					get: function () {
						var t = this.bounds, e = 2 * this.size + this.half;
						return t.height < e
					}
				}), Object.defineProperty(this, "bounds", {
					get: function () {
						return {x: this.lt.x, y: this.lt.y, width: this.rt.x - this.lt.x, height: this.rb.y - this.rt.y}
					}
				}), Object.defineProperty(this, "points", {
					get: function () {
						return {
							lt: {x: this.lt.x, y: this.lt.y},
							rt: {x: this.rt.x, y: this.rt.y},
							rb: {x: this.rb.x, y: this.rb.y},
							lb: {x: this.lb.x, y: this.lb.y}
						}
					}
				}), Object.defineProperty(this, "imageBasedLocalPoints", {get: this.getImageBasedLocalPoints}), PIXI.Container.call(this), this.initialize(t, e), this.addCursorEvent(), this.addCornerDownEvent(), this.addControlDownEvent()
			}

			var n = {};
			n.ControlArea = i(195), n.CornerShape = i(196);
			var o = {};
			o.Mouse = i(193), o.Func = i(187), o.Calc = i(188);
			var a = i(190).cancelAnimFrame, h = i(190).animationLoop;
			e.UI_CHANGE = "uiChange", e.CORNER_MOVE_START = "cornerMoveStart", e.CORNER_MOVE = "cornerMove", e.CORNER_MOVE_END = "cornerMoveEnd", e.CONTROL_MOVE_START = "controlMoveStart", e.CONTROL_MOVE = "controlMove", e.CONTROL_MOVE_END = "controlMoveEnd", e.CHANGE_CURSOR = "changeCursor";
			var l = e.prototype = (0, s["default"])(PIXI.Container.prototype);
			l.initialize = function (t, e) {
				this.image = t, this.fixSpace = .1, this.lineThickness = 1, this.easingDuration = 4, this.interactive = !0, this.buttonMode = !0, this.defaultColor = 16777215, this.defaultCursor = "default", this.imageWidth = t.image.width, this.imageHeight = t.image.height, this.top || (this.gGrid = new PIXI.Graphics, this.gBounds = new PIXI.Graphics, this.left = new n.ControlArea(n.ControlArea.COL), this.top = new n.ControlArea(n.ControlArea.ROW), this.right = new n.ControlArea(n.ControlArea.COL), this.bottom = new n.ControlArea(n.ControlArea.ROW), this.lt = new n.CornerShape(n.CornerShape.LEFT_TOP, 40, 3, this.defaultColor), this.rt = new n.CornerShape(n.CornerShape.RIGHT_TOP, 40, 3, this.defaultColor), this.rb = new n.CornerShape(n.CornerShape.RIGHT_BOTTOM, 40, 3, this.defaultColor), this.lb = new n.CornerShape(n.CornerShape.LEFT_BOTTOM, 40, 3, this.defaultColor), this.addChild(this.gGrid), this.addChild(this.gBounds), this.addChild(this.top), this.addChild(this.bottom), this.addChild(this.left), this.addChild(this.right), this.addChild(this.lt), this.addChild(this.rt), this.addChild(this.rb), this.addChild(this.lb), this.minSize = this.lt.size), this.changeCornerColor(this.defaultColor)
			}, l.showGrid = function () {
				a(this.displayAnimationId), this._tFrom = this.gGrid.alpha, this._tTo = 1, this._tCurt = this._tFrom, this.displayAnimationId = h(this.changeGridAlpha.bind(this), this.easingDuration, "easeOutQuad", function () {
				}, function () {
					this.gGrid.alpha = this._tTo
				}, this)
			}, l.changeGridAlpha = function (t, e, i) {
				this._tCurt = o.Calc.getTweenValue(this._tFrom, this._tTo, t), this.gGrid.alpha = this._tCurt
			}, l.drawGrid = function (t) {
				t = o.Func.getDefaultParameters(t, 3);
				var e = this.lt, i = this.rt, n = this.lb, r = (this.rb, i.x - e.x), s = n.y - e.y, a = r / t,
					h = s / t;
				this.gGrid.clear(), this.gGrid.lineStyle(1, 16777215, .5);
				for (var l, u, c, f = 0; f < t - 1; f++) l = f + 1, u = e.x + a * l, c = e.y + h * l, this.gGrid.moveTo(u, e.y), this.gGrid.lineTo(u, n.y), this.gGrid.moveTo(e.x, c), this.gGrid.lineTo(i.x, c)
			}, l.hideGrid = function (t) {
				t = o.Func.getDefaultParameters(t, !1), a(this.displayAnimationId), t === !1 ? (this._tFrom = this.gGrid.alpha, this._tTo = 0, this._tCurt = this._tFrom, this.displayAnimationId = h(this.changeGridAlpha.bind(this), this.easingDuration, "easeOutQuad", function () {
				}, function () {
					this.gGrid.alpha = this._tTo
				}, this)) : this.gGrid.alpha = 0
			}, l.changeCornerColor = function (t) {
				this.lt.changeColor(t), this.rt.changeColor(t), this.rb.changeColor(t), this.lb.changeColor(t)
			}, l.reset = function (t, e) {
				this.initialize(t, e)
			}, l.resizeCornerShape = function (t) {
				this.lt.x = t.x, this.lt.y = t.y, this.rt.x = t.x + t.width, this.rt.y = t.y, this.rb.x = this.rt.x, this.rb.y = t.y + t.height, this.lb.x = this.lt.x, this.lb.y = this.rb.y
			}, l.resizeControl = function () {
				this.top.x = this.lt.x, this.top.y = this.lt.y, this.top.width = this.rt.x - this.lt.x, this.bottom.x = this.lb.x, this.bottom.y = this.lb.y, this.bottom.width = this.top.width, this.left.x = this.lt.x, this.left.y = this.lt.y, this.left.height = this.rb.y - this.lt.y, this.right.x = this.rt.x, this.right.y = this.rt.y, this.right.height = this.left.height
			}, l.drawBounds = function () {
				this.gBounds.clear(), this.gBounds.lineStyle(1, 16777215, this.lineThickness), this.gBounds.moveTo(this.lt.x - this.lineThickness, this.lt.y - this.lineThickness), this.gBounds.lineTo(this.rt.x + this.lineThickness, this.rt.y - this.lineThickness), this.gBounds.lineTo(this.rb.x + this.lineThickness, this.rb.y + this.lineThickness), this.gBounds.lineTo(this.lb.x - this.lineThickness, this.lb.y + this.lineThickness), this.gBounds.lineTo(this.lt.x - this.lineThickness, this.lt.y - this.lineThickness), this.gBounds.endFill()
			}, l.setSize = function (t, i) {
				i = o.Func.getDefaultParameters(i, !0);
				var n = t.x, r = t.y;
				this.lt.x = n, this.lt.y = r, this.rt.x = n + t.width, this.rt.y = r, this.rb.x = this.rt.x, this.rb.y = r + t.height, this.lb.x = n, this.lb.y = this.rb.y, this.drawBounds(), this.resizeControl(), i === !0 && this.emit(e.UI_CHANGE)
			}, l.setPoint = function (t, i) {
				i = o.Func.getDefaultParameters(i, !0), this.lt.x = t.lt.x, this.lt.y = t.lt.y, this.rt.x = t.rt.x, this.rt.y = t.rt.y, this.rb.x = t.rb.x, this.rb.y = t.rb.y, this.lb.x = t.lb.x, this.lb.y = t.lb.y, this.drawBounds(), i === !0 && this.emit(e.UI_CHANGE)
			}, l.moveCorner = function (t, e, i, n, r) {
				var s, a, h, l, u = this.points, c = r.lt, f = r.rt, d = r.rb, p = r.lb;
				switch (t) {
					case this.lt:
						u.lt.x = e, u.lt.y = i, u.rt.y = u.lt.y, u.lb.x = u.lt.x;
						break;
					case this.rt:
						u.rt.x = e, u.rt.y = i, u.lt.y = u.rt.y, u.rb.x = u.rt.x;
						break;
					case this.rb:
						u.rb.x = e, u.rb.y = i, u.rt.x = u.rb.x, u.lb.y = u.rb.y;
						break;
					case this.lb:
						u.lb.x = e, u.lb.y = i, u.lt.x = u.lb.x, u.rb.y = u.lb.y
				}
				switch (u = this.getImageBasedLocalPoints(u), u = this.image.getValidationPoints(u), s = Math.max(u.lt.x, u.lb.x), a = Math.max(u.lt.y, u.rt.y), h = Math.min(u.rt.x, u.rb.x), l = Math.min(u.rb.y, u.lb.y), s = Math.max(s, r.limitLeft), a = Math.max(a, r.limitTop), h = Math.min(h, r.limitRight), l = Math.min(l, r.limitBottom), t) {
					case this.lt:
						null !== p && null !== p.x && (s = p.x.x > s ? p.x.x : s), null !== f && null !== f.y && (a = f.y.y > a ? f.y.y : a), u.lt.x = s, u.lt.y = a, u.rt.x = u.rb.x, u.rt.y = a, u.lb.x = s, u.lb.y = u.rb.y;
						break;
					case this.rt:
						null !== d && null !== d.x && (h = d.x.x < h ? d.x.x : h), null !== c && null !== c.y && (a = c.y.y > a ? c.y.y : a), u.lt.x = u.lb.x, u.lt.y = a, u.rt.x = h, u.rt.y = a, u.rb.x = h, u.rb.y = u.lb.y;
						break;
					case this.rb:
						null !== f && null !== f.x && (h = f.x.x < h ? f.x.x : h), null !== p && null !== p.y && (l = p.y.y < l ? p.y.y : l), u.rt.x = h, u.rt.y = u.lt.y, u.rb.x = h, u.rb.y = l, u.lb.x = u.lt.x, u.lb.y = l;
						break;
					case this.lb:
						null !== c && null !== c.x && (s = c.x.x > s ? c.x.x : s), null !== d && null !== d.y && (l = d.y.y < l ? d.y.y : l), u.lt.x = s, u.lt.y = u.rt.y, u.rb.x = u.rt.x, u.rb.y = l, u.lb.x = s, u.lb.y = l
				}
				var g = !1, m = o.Calc.getBoundsByPoints(u), y = this.getActualPixelWidth(m),
					v = this.getActualPixelHeight(m);
				(y < this.minSize || v < this.minSize) && (g = !0);
				var _ = this.minSize * this.image.scale.x, x = this.minSize * this.image.scale.y;
				if (m.width = m.width < _ ? _ : m.width, m.height = m.height < x ? x : m.height, 0 !== n) switch (m.width = o.Calc.getWidthByAspectRatio(n, m.height), t) {
					case this.lt:
						m.x = this.rb.x - m.width, m.y = this.rb.y - m.height, u = o.Calc.getPointsByBounds(m), this.image.isLeftOut(this, u) && (null !== p && null !== p.x && (s = p.x.x > s ? p.x.x : s), u.lt.x = s, u.lb.x = s, m = o.Calc.getBoundsByPoints(u), m.height = o.Calc.getHeightByAspectRatio(n, m.width), m.x = this.rb.x - m.width, m.y = this.rb.y - m.height, u = o.Calc.getPointsByBounds(m));
						break;
					case this.rt:
						m.x = this.lb.x, m.y = this.lb.y - m.height, u = o.Calc.getPointsByBounds(m), this.image.isRightOut(this, u) && (null !== d && null !== d.x && (h = d.x.x < h ? d.x.x : h), u.rt.x = h, u.rb.x = h, m = o.Calc.getBoundsByPoints(u), m.height = o.Calc.getHeightByAspectRatio(n, m.width), m.x = this.lb.x, m.y = this.lb.y - m.height, u = o.Calc.getPointsByBounds(m));
						break;
					case this.rb:
						m.x = this.lt.x, m.y = this.lt.y, u = o.Calc.getPointsByBounds(m), this.image.isRightOut(this, u) && (null !== f && null !== f.x && (h = f.x.x < h ? f.x.x : h), u.rt.x = h, u.rb.x = h, m = o.Calc.getBoundsByPoints(u), m.height = o.Calc.getHeightByAspectRatio(n, m.width), m.x = this.lt.x, m.y = this.lt.y, u = o.Calc.getPointsByBounds(m));
						break;
					case this.lb:
						m.x = this.rt.x - m.width, m.y = this.rt.y, u = o.Calc.getPointsByBounds(m), this.image.isLeftOut(this, u) && (null !== c && null !== c.x && (s = c.x.x > s ? c.x.x : s), u.lt.x = s, u.lb.x = s, m = o.Calc.getBoundsByPoints(u), m.height = o.Calc.getHeightByAspectRatio(n, m.width), m.x = this.rt.x - m.width, m.y = this.rt.y, u = o.Calc.getPointsByBounds(m))
				} else {
					switch (t) {
						case this.lt:
							m.x = this.rb.x - m.width, m.y = this.rb.y - m.height;
							break;
						case this.rt:
							m.x = this.lb.x, m.y = this.lb.y - m.height;
							break;
						case this.rb:
							m.x = this.lt.x, m.y = this.lt.y;
							break;
						case this.lb:
							m.x = this.rt.x - m.width, m.y = this.rt.y
					}
					u = o.Calc.getPointsByBounds(m)
				}
				return this.setPoint(u), o.Calc.getBoundsByPoints(u)
			}, l.moveControl = function (t, e, i, n, r) {
				var s, a, h, l, u, c, f, d, p, g, m = this.points, y = r.lt, v = r.rt, _ = r.rb, x = r.lb;
				switch (t) {
					case this.left:
						m.lt.x = e, m.lb.x = e;
						break;
					case this.top:
						m.lt.y = i, m.rt.y = i;
						break;
					case this.right:
						m.rt.x = e, m.rb.x = e;
						break;
					case this.bottom:
						m.lb.y = i, m.rb.y = i
				}
				switch (m = this.getImageBasedLocalPoints(m), m = this.image.getValidationPoints(m), s = Math.max(m.lt.x, m.lb.x), a = Math.max(m.lt.y, m.rt.y), h = Math.min(m.rt.x, m.rb.x), l = Math.min(m.rb.y, m.lb.y), s = Math.max(s, r.limitLeft), a = Math.max(a, r.limitTop), h = Math.min(h, r.limitRight), l = Math.min(l, r.limitBottom), t) {
					case this.left:
						f = null !== y && null !== y.x ? y.x.x : o.Calc.LIMIT_LEFT, d = null !== x && null !== x.x ? x.x.x : o.Calc.LIMIT_LEFT, u = Math.max(f, d), u = u > s ? u : s, e = e > u ? e : u, m.lt.x = e, m.lt.y = m.rt.y, m.lb.x = e, m.lb.y = m.rb.y;
						break;
					case this.top:
						p = null !== y && null !== y.y ? y.y.y : o.Calc.LIMIT_TOP, g = null !== v && null !== v.y ? v.y.y : o.Calc.LIMIT_TOP, c = Math.max(p, g), c = c > a ? c : a, i = i > c ? i : c, m.lt.x = m.lb.x, m.lt.y = i, m.rt.x = m.rb.x, m.rt.y = i;
						break;
					case this.right:
						f = null !== v && null !== v.x ? v.x.x : o.Calc.LIMIT_RIGHT, d = null !== _ && null !== _.x ? _.x.x : o.Calc.LIMIT_RIGHT, u = Math.min(f, d), u = u < h ? u : h, e = e < u ? e : u, m.rt.x = e, m.rt.y = m.lt.y, m.rb.x = e, m.rb.y = m.lb.y;
						break;
					case this.bottom:
						p = null !== x && null !== x.y ? x.y.y : o.Calc.LIMIT_BOTTOM, g = null !== _ && null !== _.y ? _.y.y : o.Calc.LIMIT_BOTTOM, c = Math.min(p, g), c = c < l ? c : l, i = i < c ? i : c, m.lb.x = m.lt.x, m.lb.y = i, m.rb.x = m.rt.x, m.rb.y = i
				}
				var b = {x: 0, y: 0}, w = !1, T = !1, C = o.Calc.getBoundsByPoints(m), E = this.getActualPixelWidth(C),
					M = this.getActualPixelHeight(C);
				E < this.minSize && (w = !0), M < this.minSize && (T = !0);
				var P = this.minSize * this.image.scale.x, S = this.minSize * this.image.scale.y;
				C.width = C.width < P ? P : C.width, C.height = C.height < S ? S : C.height, 0 !== n && (t === this.top || t === this.bottom ? C.width = o.Calc.getWidthByAspectRatio(n, C.height) : C.height = o.Calc.getHeightByAspectRatio(n, C.width)), m = o.Calc.getPointsByBounds(C);
				var I = m.lt.x + (m.rt.x - m.lt.x) / 2, R = m.lt.y + (m.lb.y - m.lt.y) / 2, A = C.width, k = C.height,
					O = A / 2, L = k / 2, D = o.Calc.getBoundsByPoints(this.points), B = D.width - C.width,
					N = D.height - C.height;
				switch (t) {
					case this.left:
						b.x = this.rt.x, b.y = R + N / 2, C.x = b.x - A, C.y = b.y - L;
						break;
					case this.right:
						b.x = m.lt.x, b.y = R + N / 2, C.x = b.x, C.y = b.y - L;
						break;
					case this.top:
						b.x = I + B / 2, b.y = this.lb.y, C.x = b.x - O, C.y = b.y - k;
						break;
					case this.bottom:
						b.x = I + B / 2, b.y = m.lt.y, C.x = b.x - O, C.y = b.y
				}
				if (0 !== n) switch (m = o.Calc.getPointsByBounds(C), t) {
					case this.left:
					case this.right:
						(this.image.isLeftTopBottomOut(this, m) || this.image.isRightTopBottomOut(this, m)) && (p = null !== y && null !== y.y ? y.y.y : o.Calc.LIMIT_TOP, g = null !== v && null !== v.y ? v.y.y : o.Calc.LIMIT_TOP, c = Math.max(p, g), c = c > a ? c : a, m.lt.x = m.lb.x, m.lt.y = c, m.rt.x = m.rb.x, m.rt.y = c, p = null !== x && null !== x.y ? x.y.y : o.Calc.LIMIT_BOTTOM, g = null !== _ && null !== _.y ? _.y.y : o.Calc.LIMIT_BOTTOM, c = Math.min(p, g), c = c < l ? c : l, m.lb.x = m.lt.x, m.lb.y = c, m.rb.x = m.rt.x, m.rb.y = c, C = o.Calc.getBoundsByPoints(m), C.width = o.Calc.getWidthByAspectRatio(n, C.height), I = m.lt.x + (m.rt.x - m.lt.x) / 2, R = m.lt.y + (m.lb.y - m.lt.y) / 2, A = C.width, k = C.height, O = A / 2, L = k / 2, B = D.width - C.width, N = D.height - C.height, t === this.left ? (b.x = m.rt.x, b.y = R + N / 2, C.x = b.x - A, C.y = b.y - L) : (b.x = m.lt.x, b.y = R + N / 2, C.x = b.x, C.y = b.y - L));
						break;
					case this.top:
					case this.bottom:
						(this.image.isLeftOut(this, m) || this.image.isRightOut(this, m)) && (f = null !== y && null !== y.x ? y.x.x : o.Calc.LIMIT_LEFT, d = null !== x && null !== x.x ? x.x.x : o.Calc.LIMIT_LEFT, u = Math.max(f, d), u = u > s ? u : s, m.lt.x = u, m.lt.y = m.rt.y, m.lb.x = u, m.lb.y = m.rb.y, f = null !== v && null !== v.x ? v.x.x : o.Calc.LIMIT_RIGHT, d = null !== _ && null !== _.x ? _.x.x : o.Calc.LIMIT_RIGHT, u = Math.min(f, d), u = u < h ? u : h, m.rt.x = u, m.rt.y = m.lt.y, m.rb.x = u, m.rb.y = m.lb.y, C = o.Calc.getBoundsByPoints(m), C.height = o.Calc.getHeightByAspectRatio(n, C.width), I = m.lt.x + (m.rt.x - m.lt.x) / 2, R = m.lt.y + (m.lb.y - m.lt.y) / 2, A = C.width, k = C.height, O = A / 2, L = k / 2, B = D.width - C.width, N = D.height - C.height, t === this.top ? (b.x = I + B / 2, b.y = m.lb.y, C.x = b.x - O, C.y = b.y - k) : (b.x = I + B / 2, b.y = m.lt.y, C.x = b.x - O, C.y = b.y))
				}
				return m = o.Calc.getPointsByBounds(C), this.setPoint(m), o.Calc.getBoundsByPoints(m)
			}, l.getImageBasedLocalPoints = function (t) {
				return t = o.Func.getDefaultParameters(t, this.points), {
					lt: this.image.getLocal(t.lt),
					rt: this.image.getLocal(t.rt),
					rb: this.image.getLocal(t.rb),
					lb: this.image.getLocal(t.lb)
				}
			}, l.fixBounds = function (t) {
				var e = o.Calc.getPointsByBounds(t);
				e = this.getImageBasedLocalPoints(e), e = this.image.getValidationPoints(e);
				var i = Math.max(e.lt.x, e.lb.x), n = Math.max(e.lt.y, e.rt.y), r = Math.min(e.rt.x, e.rb.x),
					s = Math.min(e.rb.y, e.lb.y);
				return e.lt.x = i, e.lt.y = n, e.rt.x = r, e.rt.y = n, e.rb.x = r, e.rb.y = s, e.lb.x = i, e.lb.y = s, o.Calc.getBoundsByPoints(e)
			}, l.fix = function (t) {
				return t = o.Func.getDefaultParameters(t, this.points), t = this.getImageBasedLocalPoints(t), t = this.image.getValidationPoints(t), this.setPoint(t), t
			}, l.getLeft = function (t, e) {
				var i, n;
				return i = e.isPassedLeftLine(t.lt) ? e.getLeftIntersectionPoint(t.lt).x : e.isPassedTopLine(t.lt) ? e.getTopIntersectionPoint(t.lt).x : e.isPassedBottomLine(t.lt) ? e.getBottomIntersectionPoint(t.lt).x : t.lt.x, n = e.isPassedLeftLine(t.lb) ? e.getLeftIntersectionPoint(t.lb).x : e.isPassedTopLine(t.lb) ? e.getTopIntersectionPoint(t.lb).x : e.isPassedBottomLine(t.lb) ? e.getBottomIntersectionPoint(t.lb).x : t.lb.x, Math.max(i, n)
			}, l.getTop = function (t, e) {
				var i, n;
				return i = e.isPassedTopLine(t.lt) ? e.getTopIntersectionPoint(t.lt).y : e.isPassedLeftLine(t.lt) ? e.getLeftIntersectionPoint(t.lt).y : e.isPassedRightLine(t.lt) ? e.getRightIntersectionPoint(t.lt).y : t.lt.y, n = e.isPassedTopLine(t.rt) ? e.getTopIntersectionPoint(t.rt).y : e.isPassedLeftLine(t.rt) ? e.getLeftIntersectionPoint(t.rt).y : e.isPassedRightLine(t.rt) ? e.getRightIntersectionPoint(t.rt).y : t.rt.y, Math.max(i, n)
			}, l.getRight = function (t, e) {
				var i, n;
				return i = e.isPassedRightLine(t.rt) ? e.getRightIntersectionPoint(t.rt).x : e.isPassedTopLine(t.rt) ? e.getTopIntersectionPoint(t.rt).x : e.isPassedBottomLine(t.rt) ? e.getBottomIntersectionPoint(t.rt).x : t.rt.x, n = e.isPassedRightLine(t.rb) ? e.getRightIntersectionPoint(t.rb).x : e.isPassedTopLine(t.rb) ? e.getTopIntersectionPoint(t.rb).x : e.isPassedBottomLine(t.rb) ? e.getBottomIntersectionPoint(t.rb).x : t.rb.x, Math.min(i, n)
			}, l.getBottom = function (t, e) {
				var i, n;
				return i = e.isPassedBottomLine(t.rb) ? e.getBottomIntersectionPoint(t.rb).y : e.isPassedLeftLine(t.rb) ? e.getLeftIntersectionPoint(t.rb).y : e.isPassedRightLine(t.rb) ? e.getRightIntersectionPoint(t.rb).y : t.rb.y, n = e.isPassedBottomLine(t.lb) ? e.getBottomIntersectionPoint(t.lb).y : e.isPassedLeftLine(t.lb) ? e.getLeftIntersectionPoint(t.lb).y : e.isPassedRightLine(t.lb) ? e.getRightIntersectionPoint(t.lb).y : t.lb.y, Math.min(i, n)
			}, l.pointsToBounds = function (t) {
				return {x: t.lt.x, y: t.lt.y, width: t.rt.x - t.lt.x, height: t.rb.y - t.rt.y}
			}, l.getActualPixelWidth = function (t) {
				return t = o.Func.getDefaultParameters(t, this.bounds), Math.round(t.width / this.image.scale.x)
			}, l.getActualPixelHeight = function (t) {
				return t = o.Func.getDefaultParameters(t, this.bounds), Math.round(t.height / this.image.scale.y)
			}, l.isLtInsideBounds = function (t, e) {
				return e = o.Func.getDefaultParameters(e, this.points), o.Calc.isInsideSquare(e.lt, t.lt, t.rt, t.rb, t.lb)
			}, l.isRtInsideBounds = function (t, e) {
				return e = o.Func.getDefaultParameters(e, this.points), o.Calc.isInsideSquare(e.rt, t.lt, t.rt, t.rb, t.lb)
			}, l.isRbInsideBounds = function (t, e) {
				return e = o.Func.getDefaultParameters(e, this.points), o.Calc.isInsideSquare(e.rb, t.lt, t.rt, t.rb, t.lb)
			}, l.isLbInsideBounds = function (t, e) {
				return e = o.Func.getDefaultParameters(e, this.points), o.Calc.isInsideSquare(e.lb, t.lt, t.rt, t.rb, t.lb)
			}, l.getDimension = function () {
				return {width: this.getActualPixelWidth(), height: this.getActualPixelHeight()}
			}, l.changeCursor = function (t) {
				switch (t) {
					case this.lt:
						this.defaultCursor = "nwse-resize";
						break;
					case this.rt:
						this.defaultCursor = "nesw-resize";
						break;
					case this.rb:
						this.defaultCursor = "nwse-resize";
						break;
					case this.lb:
						this.defaultCursor = "nesw-resize";
						break;
					case this.left:
						this.defaultCursor = "ew-resize";
						break;
					case this.top:
						this.defaultCursor = "ns-resize";
						break;
					case this.right:
						this.defaultCursor = "ew-resize";
						break;
					case this.bottom:
						this.defaultCursor = "ns-resize"
				}
				this.emit(e.CHANGE_CURSOR, {currentCursorStyle: this.defaultCursor})
			}, l.onCornerDown = function (t) {
				t.stopPropagation(), this.selectedTarget = t.target, this.dragStartX = this.prevDragX = o.Mouse.globalX, this.dragStartY = this.prevDragY = o.Mouse.globalY, this.changeCursor(t.target), this.addCornerMoveEvent(), this.removeCornerDownEvent(), this.emit(e.CORNER_MOVE_START, {
					target: this.selectedTarget,
					dragStartX: this.dragStartX,
					dragStartY: this.dragStartY
				})
			}, l.onCornerMove = function (t) {
				this.currentDragX = o.Mouse.globalX, this.currentDragY = o.Mouse.globalY, this.dx = this.currentDragX - this.prevDragX, this.dy = this.currentDragY - this.prevDragY, this.emit(e.CORNER_MOVE, {
					dx: this.dx,
					dy: this.dy,
					prevX: this.prevDragX,
					prevY: this.prevDragY,
					target: this.selectedTarget,
					mouseX: o.Mouse.globalX,
					mouseY: o.Mouse.globalY
				}), this.prevDragX = this.currentDragX, this.prevDragY = this.currentDragY, this.resizeControl()
			}, l.onCornerUp = function (t) {
				this.addCornerDownEvent(), this.removeCornerMoveEvent(), this.emit(e.CORNER_MOVE_END, {target: this.selectedTarget}), this.selectedTarget = null
			}, l.onControlDown = function (t) {
				t.stopPropagation(), this.selectedTarget = t.target, this.dragStartX = this.prevDragX = o.Mouse.globalX, this.dragStartY = this.prevDragY = o.Mouse.globalY, this.changeCursor(t.target), this.addControlMoveEvent(), this.removeControlDownEvent(), this.emit(e.CONTROL_MOVE_START, {
					target: this.selectedTarget,
					dragStartX: this.dragStartX,
					dragStartY: this.dragStartY
				})
			}, l.onControlMove = function (t) {
				this.currentDragX = o.Mouse.globalX, this.currentDragY = o.Mouse.globalY, this.dx = this.currentDragX - this.prevDragX, this.dy = this.currentDragY - this.prevDragY, this.emit(e.CONTROL_MOVE, {
					dx: this.dx,
					dy: this.dy,
					prevX: this.prevDragX,
					prevY: this.prevDragY,
					target: this.selectedTarget,
					mouseX: o.Mouse.globalX,
					mouseY: o.Mouse.globalY
				}), this.prevDragX = this.currentDragX, this.prevDragY = this.currentDragY, this.resizeControl()
			}, l.onControlUp = function (t) {
				this.addControlDownEvent(), this.removeControlMoveEvent(), this.emit(e.CONTROL_MOVE_END, {target: this.selectedTarget}), this.selectedTarget = null
			}, l.addCursorEvent = function () {
				this.lt.mouseover = this.changeCursor.bind(this, this.lt), this.rt.mouseover = this.changeCursor.bind(this, this.rt), this.rb.mouseover = this.changeCursor.bind(this, this.rb), this.lb.mouseover = this.changeCursor.bind(this, this.lb), this.left.mouseover = this.changeCursor.bind(this, this.left), this.top.mouseover = this.changeCursor.bind(this, this.top), this.right.mouseover = this.changeCursor.bind(this, this.right), this.bottom.mouseover = this.changeCursor.bind(this, this.bottom)
			}, l.addCornerDownEvent = function () {
				this._cornerDownListener = this.onCornerDown.bind(this), this.lt.on("mousedown", this._cornerDownListener), this.rt.on("mousedown", this._cornerDownListener), this.rb.on("mousedown", this._cornerDownListener), this.lb.on("mousedown", this._cornerDownListener)
			}, l.removeCornerDownEvent = function () {
				this.lt.off("mousedown", this._cornerDownListener), this.rt.off("mousedown", this._cornerDownListener), this.rb.off("mousedown", this._cornerDownListener), this.lb.off("mousedown", this._cornerDownListener)
			}, l.addCornerMoveEvent = function () {
				this._cornerUpListener = this.onCornerUp.bind(this), this._cornerMoveListener = this.onCornerMove.bind(this), window.document.addEventListener("mouseup", this._cornerUpListener), window.document.addEventListener("mousemove", this._cornerMoveListener)
			}, l.removeCornerMoveEvent = function () {
				window.document.removeEventListener("mouseup", this._cornerUpListener), window.document.removeEventListener("mousemove", this._cornerMoveListener)
			}, l.addControlDownEvent = function () {
				this._controlDownListener = this.onControlDown.bind(this), this.left.on("mousedown", this._controlDownListener), this.top.on("mousedown", this._controlDownListener), this.right.on("mousedown", this._controlDownListener), this.bottom.on("mousedown", this._controlDownListener)
			}, l.removeControlDownEvent = function () {
				this.left.off("mousedown", this._controlDownListener), this.top.off("mousedown", this._controlDownListener), this.right.off("mousedown", this._controlDownListener), this.bottom.off("mousedown", this._controlDownListener)
			}, l.addControlMoveEvent = function () {
				this._controlUpListener = this.onControlUp.bind(this), this._controlMoveListener = this.onControlMove.bind(this), window.document.addEventListener("mouseup", this._controlUpListener), window.document.addEventListener("mousemove", this._controlMoveListener)
			}, l.removeControlMoveEvent = function () {
				window.document.removeEventListener("mouseup", this._controlUpListener), window.document.removeEventListener("mousemove", this._controlMoveListener)
			}, l.testSetPointWithAspectRatio = function (t, e, i) {
				this.lt.x = t.lt.x, this.lt.y = t.lt.y, this.rt.x = t.rt.x, this.rt.y = t.rt.y, this.rb.x = t.rb.x, this.rb.y = t.rb.y, this.lb.x = t.lb.x, this.lb.y = t.lb.y, this.testSetAspectRatio(e, i)
			}, l.testSetAspectRatio = function (t, e) {
				e = o.Func.getDefaultParameters(e, 0);
				var i = this.bounds;
				switch (i.width = o.Calc.getWidthByAspectRatio(e, i.height), t) {
					case this.lt:
						i.x = this.rb.x - i.width, i.y = this.rb.y - i.height;
						break;
					case this.rt:
						i.x = this.lb.x, i.y = this.lb.y - i.height;
						break;
					case this.rb:
						i.x = this.lt.x, i.y = this.lt.y;
						break;
					case this.lb:
						i.x = this.rt.x - i.width, i.y = this.rt.y
				}
				this.setSize(i)
			}, l.moveControlBackUp = function (t, e, i, n, r) {
				var s, a, h, l, u, c, f, d, p, g, m, y, v, _, x = this.points, b = r.lt, w = r.rt, T = r.rb, C = r.lb;
				switch (t) {
					case this.left:
						x.lt.x = e, x.lb.x = e;
						break;
					case this.top:
						x.lt.y = i, x.rt.y = i;
						break;
					case this.right:
						x.rt.x = e, x.rb.x = e;
						break;
					case this.bottom:
						x.lb.y = i, x.rb.y = i
				}
				switch (x = this.getImageBasedLocalPoints(x), x = this.image.getValidationPoints(x), s = Math.max(x.lt.x, x.lb.x), a = Math.max(x.lt.y, x.rt.y), h = Math.min(x.rt.x, x.rb.x), l = Math.min(x.rb.y, x.lb.y), m = null !== b && null !== b.x ? b.x.x : o.Calc.LIMIT_LEFT, y = null !== C && null !== C.x ? C.x.x : o.Calc.LIMIT_LEFT, p = Math.max(m, y), u = p > s ? p : s, v = null !== b && null !== b.y ? b.y.y : o.Calc.LIMIT_TOP, _ = null !== w && null !== w.y ? w.y.y : o.Calc.LIMIT_TOP, g = Math.max(v, _), c = g > a ? g : a, m = null !== w && null !== w.x ? w.x.x : o.Calc.LIMIT_RIGHT, y = null !== T && null !== T.x ? T.x.x : o.Calc.LIMIT_RIGHT, p = Math.min(m, y), f = p < h ? p : h, v = null !== C && null !== C.y ? C.y.y : o.Calc.LIMIT_BOTTOM, _ = null !== T && null !== T.y ? T.y.y : o.Calc.LIMIT_BOTTOM, g = Math.min(v, _), d = g < l ? g : l, t) {
					case this.left:
						e = e > u ? e : u, x.lt.x = e, x.lt.y = x.rt.y, x.lb.x = e, x.lb.y = x.rb.y;
						break;
					case this.top:
						i = i > c ? i : c, x.lt.x = x.lb.x, x.lt.y = i, x.rt.x = x.rb.x, x.rt.y = i;
						break;
					case this.right:
						e = e < f ? e : f, x.rt.x = e, x.rt.y = x.lt.y, x.rb.x = e, x.rb.y = x.lb.y;
						break;
					case this.bottom:
						i = i < d ? i : d, x.lb.x = x.lt.x, x.lb.y = i, x.rb.x = x.rt.x, x.rb.y = i
				}
				var E = {x: 0, y: 0}, M = !1, P = !1, S = o.Calc.getBoundsByPoints(x), I = this.getActualPixelWidth(S),
					R = this.getActualPixelHeight(S);
				I < this.minSize && (M = !0), R < this.minSize && (P = !0), S.width = I < this.minSize ? this.minSize * this.image.scale.x : S.width, S.height = R < this.minSize ? this.minSize * this.image.scale.y : S.height, 0 !== n && (t === this.top || t === this.bottom ? S.width = o.Calc.getWidthByAspectRatio(n, S.height) : S.height = o.Calc.getHeightByAspectRatio(n, S.width)), x = o.Calc.getPointsByBounds(S);
				var A = x.lt.x + (x.rt.x - x.lt.x) / 2, k = x.lt.y + (x.lb.y - x.lt.y) / 2, O = S.width, L = S.height,
					D = O / 2, B = L / 2, N = o.Calc.getBoundsByPoints(this.points), F = N.width - S.width,
					z = N.height - S.height;
				switch (t) {
					case this.left:
						E.x = x.rt.x, E.y = k + z / 2, S.x = E.x - O, M && (S.x = this.rt.x - S.width), S.y = E.y - B;
						break;
					case this.right:
						E.x = x.lt.x, E.y = k + z / 2, S.x = E.x, S.y = E.y - B;
						break;
					case this.top:
						E.x = A + F / 2, E.y = x.lb.y, S.x = E.x - D, S.y = E.y - L, P && (S.y = this.rb.y - S.height);
						break;
					case this.bottom:
						E.x = A + F / 2, E.y = x.lt.y, S.x = E.x - D, S.y = E.y
				}
				switch (x = o.Calc.getPointsByBounds(S), t) {
					case this.left:
					case this.right:
						(this.image.isLeftTopBottomOut(this, x) || this.image.isRightTopBottomOut(this, x)) && (v = null !== b && null !== b.y ? b.y.y : o.Calc.LIMIT_TOP, _ = null !== w && null !== w.y ? w.y.y : o.Calc.LIMIT_TOP, g = Math.max(v, _), g = g > a ? g : a, x.lt.x = x.lb.x, x.lt.y = g, x.rt.x = x.rb.x, x.rt.y = g, v = null !== C && null !== C.y ? C.y.y : o.Calc.LIMIT_BOTTOM, _ = null !== T && null !== T.y ? T.y.y : o.Calc.LIMIT_BOTTOM, g = Math.min(v, _), g = g < l ? g : l, x.lb.x = x.lt.x, x.lb.y = g, x.rb.x = x.rt.x, x.rb.y = g, S = o.Calc.getBoundsByPoints(x), 0 !== n && (S.width = o.Calc.getWidthByAspectRatio(n, S.height)), A = x.lt.x + (x.rt.x - x.lt.x) / 2, k = x.lt.y + (x.lb.y - x.lt.y) / 2, O = S.width, L = S.height, D = O / 2, B = L / 2, F = N.width - S.width, z = N.height - S.height, t === this.left ? (E.x = x.rt.x, E.y = k + z / 2, S.x = E.x - O, S.y = E.y - B) : (E.x = x.lt.x, E.y = k + z / 2, S.x = E.x, S.y = E.y - B));
						break;
					case this.top:
					case this.bottom:
						(this.image.isLeftOut(this, x) || this.image.isRightOut(this, x)) && (m = null !== b && null !== b.x ? b.x.x : o.Calc.LIMIT_LEFT, y = null !== C && null !== C.x ? C.x.x : o.Calc.LIMIT_LEFT, p = Math.max(m, y), p = p > s ? p : s, x.lt.x = p, x.lt.y = x.rt.y, x.lb.x = p, x.lb.y = x.rb.y, m = null !== w && null !== w.x ? w.x.x : o.Calc.LIMIT_RIGHT, y = null !== T && null !== T.x ? T.x.x : o.Calc.LIMIT_RIGHT, p = Math.min(m, y), p = p < h ? p : h, x.rt.x = p, x.rt.y = x.lt.y, x.rb.x = p, x.rb.y = x.lb.y, S = o.Calc.getBoundsByPoints(x), 0 !== n && (S.height = o.Calc.getHeightByAspectRatio(n, S.width)), A = x.lt.x + (x.rt.x - x.lt.x) / 2, k = x.lt.y + (x.lb.y - x.lt.y) / 2, O = S.width, L = S.height, D = O / 2, B = L / 2, F = N.width - S.width, z = N.height - S.height, t === this.top ? (E.x = A + F / 2, E.y = x.lb.y, S.x = E.x - D, S.y = E.y - L) : (E.x = A + F / 2, E.y = x.lt.y, S.x = E.x - D, S.y = E.y))
				}
				x = o.Calc.getPointsByBounds(S), this.setPoint(x)
			}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports) ? t.exports = e : usenamespace("editor.es5.ui").ResizeUI = e
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(102), s = e(o);
		!function () {
			function e(t) {
				PIXI.Sprite.call(this), this.initialize(t), this.draw(t)
			}

			e.ROW = "row", e.COL = "col", e.CORNER = "corner";
			var i = e.prototype = (0, s["default"])(PIXI.Sprite.prototype);
			i.initialize = function (t) {
				this.type = t, this.size = 32, this.half = this.size / 2, this.globalAlpha = 0, this.interactive = !0, this.buttonMode = !0, this.defaultCursor = "default", this.graphics = new PIXI.Graphics, this.addChild(this.graphics)
			}, i.draw = function (t) {
				switch (this.graphics.clear(), t) {
					case e.ROW:
						this.graphics.beginFill(16724736, this.globalAlpha), this.graphics.drawRect(0, -this.half, 1, this.size);
						break;
					case e.COL:
						this.graphics.beginFill(16724736, this.globalAlpha), this.graphics.drawRect(-this.half, 0, this.size, 1);
						break;
					case e.CORNER:
						this.graphics.beginFill(4359668, this.globalAlpha), this.graphics.drawRect(-this.half, -this.half, this.size, this.size)
				}
				this.graphics.endFill()
			}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports) ? t.exports = e : usenamespace("editor.es5.ui").ControlArea = e
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(102), s = e(o);
		!function () {
			function e(t, e, i, n) {
				PIXI.Sprite.call(this), this.initialize(t, e, i, n), this.draw(t)
			}

			var n = {};
			n.Func = i(187), e.LEFT_TOP = "leftTop", e.RIGHT_TOP = "rightTop", e.RIGHT_BOTTOM = "rightBottom", e.LEFT_BOTTOM = "leftBottom";
			var o = e.prototype = (0, s["default"])(PIXI.Sprite.prototype);
			o.initialize = function (t, e, i, r) {
				this.type = t, this.size = n.Func.getDefaultParameters(e, 20), this.half = this.size / 2, this.defaultColor = 16777215, this.thickness = n.Func.getDefaultParameters(i, 4), this.shapeColor = n.Func.getDefaultParameters(r, this.defaultColor), this.buttonAreaAlpha = 0, this.buttonAreaColor = 4359668, this.interactive = !0, this.buttonMode = !0, this.defaultCursor = "default", this.graphics = new PIXI.Graphics, this.buttonArea = new PIXI.Graphics, this.addChild(this.graphics), this.addChild(this.buttonArea)
			}, o.draw = function (t) {
				switch (this.drawButtonArea(), t) {
					case e.LEFT_TOP:
						this.drawLeftTop();
						break;
					case e.RIGHT_TOP:
						this.drawRightTop();
						break;
					case e.RIGHT_BOTTOM:
						this.drawRightBottom();
						break;
					case e.LEFT_BOTTOM:
						this.drawLeftBottom();
				}
			}, o.changeColor = function (t) {
				this.shapeColor = t, this.draw(this.type)
			}, o.drawButtonArea = function () {
				var t = this.half, e = this.size;
				this.buttonArea.clear(), this.buttonArea.beginFill(this.buttonAreaColor, this.buttonAreaAlpha), this.buttonArea.drawRect(-t, -t, e, e), this.buttonArea.endFill()
			}, o.drawLeftTop = function () {
				var t = this.half, e = this.thickness;
				this.graphics.clear(), this.graphics.beginFill(this.shapeColor), this.graphics.drawRect(-e, -e, t, e), this.graphics.drawRect(-e, -e, e, t), this.graphics.endFill()
			}, o.drawRightTop = function () {
				var t = this.half, e = this.thickness;
				this.graphics.clear(), this.graphics.beginFill(this.shapeColor), this.graphics.drawRect(-(t - e), -e, t, e), this.graphics.drawRect(0, -e, e, t), this.graphics.endFill()
			}, o.drawRightBottom = function () {
				var t = this.half, e = this.thickness;
				this.graphics.clear(), this.graphics.beginFill(this.shapeColor), this.graphics.drawRect(-(t - e), 0, t, e), this.graphics.drawRect(0, e, e, -t), this.graphics.endFill()
			}, o.drawLeftBottom = function () {
				var t = this.half, e = this.thickness;
				this.graphics.clear(), this.graphics.beginFill(this.shapeColor), this.graphics.drawRect(-e, 0, t, e), this.graphics.drawRect(-e, e, e, -t), this.graphics.endFill()
			}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports) ? t.exports = e : usenamespace("editor.es5.ui").CornerShape = e
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(102), s = e(o);
		!function () {
			function e(t, e, i, n) {
				Object.defineProperty(this, "viewport", {
					get: this.getViewport,
					set: this.setViewport
				}), PIXI.Sprite.call(this), this.initialize(t, e, i, n), this.render(), this.addMouseDownEvent()
			}

			var n = {};
			n.Mouse = i(193), n.Func = i(187), n.Calc = i(188), e.ROTATE_START = "rotateStart", e.ROTATE = "rotate", e.ROTATE_END = "rotateEnd";
			var o = e.prototype = (0, s["default"])(PIXI.Sprite.prototype);
			o.initialize = function (t, e, i, r) {
				this.image = i, this.canvas = t, this.interactive = !0, this.buttonMode = !0, this.defaultCursor = "inherit", this.viewport = n.Func.getDefaultParameters(e, {
					x: 0,
					y: 0,
					width: t.width,
					height: t.height
				}), this.graphics || (this.graphics = new PIXI.Graphics, this.addChild(this.graphics))
			}, o.reset = function (t, e, i, n) {
				this.initialize(t, e, i, n)
			}, o.render = function () {
				this.graphics.clear(), this.graphics.beginFill(16711935, 0), this.graphics.drawRect(0, 0, 1, 1), this.graphics.endFill()
			}, o.resize = function () {
				this.graphics.width = this.canvas.width, this.graphics.height = this.canvas.height
			}, o.changeCursor = function () {
			}, o.addCursorEvent = function () {
				this.mouseover = this.changeCursor.bind(this)
			}, o.addMouseDownEvent = function () {
				this._mouseDownListener = this.onMouseDown.bind(this), this.on("mousedown", this._mouseDownListener)
			}, o.removeMouseDownEvent = function () {
				this.off("mousedown", this._mouseDownListener)
			}, o.addMouseMoveEvent = function () {
				this._mouseMoveListener = this.onMouseMove.bind(this), this._mouseUpListener = this.onMouseUp.bind(this), window.document.addEventListener("mousemove", this._mouseMoveListener), window.document.addEventListener("mouseup", this._mouseUpListener)
			}, o.removeMouseMoveEvent = function () {
				window.document.removeEventListener("mousemove", this._mouseMoveListener), window.document.removeEventListener("mouseup", this._mouseUpListener)
			}, o.onMouseDown = function (t) {
				this.prevRotation = n.Calc.getRotation({x: this.centerX, y: this.centerY}, {
					x: n.Mouse.globalX,
					y: n.Mouse.globalY
				}), this.changeCursor(), this.emit(e.ROTATE_START, {
					prevRotation: this.prevRotation,
					currentRotation: this.prevRotation,
					currentRadian: n.Calc.toRadians(this.prevRotation)
				}), t.stopPropagation(), this.addMouseMoveEvent(), this.removeMouseDownEvent()
			}, o.onMouseMove = function (t) {
				this.currentRotation = n.Calc.getRotation({x: this.centerX, y: this.centerY}, {
					x: n.Mouse.globalX,
					y: n.Mouse.globalY
				}), this.change = this.currentRotation - this.prevRotation, this.absChange = this.change < 0 ? this.change * -1 : this.change, this.absChange < 100 && this.emit(e.ROTATE, {
					prevRotation: this.prevRotation,
					currentRotation: this.currentRotation,
					currentRadian: n.Calc.toRadians(this.currentRotation),
					change: n.Calc.toRadians(this.change)
				}), this.prevRotation = this.currentRotation
			}, o.onMouseUp = function (t) {
				this.emit(e.ROTATE_END), this.addMouseDownEvent(), this.removeMouseMoveEvent()
			}, o.getViewport = function () {
				return this._viewport
			}, o.setViewport = function (t) {
				t && (this._viewport = t, this.centerX = this.viewport.x + this.viewport.width / 2, this.centerY = this.viewport.y + this.viewport.height / 2)
			}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports) ? t.exports = e : usenamespace("editor.es5.ui").RotateUI = e
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n);
		!function () {
			var e = {};
			e.NUM_0 = 48, e.NUM_1 = 49, e.NUM_2 = 50, e.NUM_3 = 51, e.NUM_4 = 52, e.NUM_5 = 53, e.NUM_6 = 54, e.NUM_7 = 55, e.NUM_8 = 56, e.NUM_9 = 57, e.SPACE = 32, e.BACK_SPACE = 8, e.ENTER = 13, e.SHIFT = 16, e.CTRL = 17, e.ALT = 18, e.ESC = 27, e.LEFT_ARROW = 37, e.RIGHT_ARROW = 39, e.UP_ARROW = 39, e.DOWN_ARROW = 40, e.DELETE = 46, e.F1 = 112, e.F2 = 113, e.F3 = 114, e.F4 = 115, e.Q = 81, e.W = 87, e.E = 69, e.R = 82, e.A = 65, e.S = 83, e.D = 68, e.F = 70, e.Z = 90, e.X = 88, e.C = 67, e.V = 86, e.T = 84, e.B = 66, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports) ? t.exports = e : usenamespace("editor.es5.consts").KeyCode = e
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(80), o = n(r), s = i(70), a = n(s), h = i(71), l = n(h), u = i(96), c = n(u), f = i(97), d = n(f),
		p = i(153), g = n(p), m = i(145), y = (n(m), i(154)), v = i(200), _ = i(205), x = n(_), b = i(206),
		w = function (t) {
			function e(i, n) {
				(0, a["default"])(this, e);
				var r = (0, c["default"])(this, t.call(this, i, n));
				return r._init(), r
			}

			return (0, d["default"])(e, t), e.prototype.start = function () {
				t.prototype.start.call(this)
			}, e.prototype.suspend = function () {
				return t.prototype.suspend.call(this)
			}, e.prototype.snapshot = function () {
				return {
					index: this._index, values: this._values.map(function (t) {
						return t
					})
				}
			}, e.prototype.reset = function (e) {
				var i = this, n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
				(0, x["default"])(this.complete, "ColorTable  ."), e ? (this._index = e.index, this._values = e.values, this._filter.colorTable = this.colorTables[e.index], this._filter.value = this.value) : (this._index = -1, this._values.forEach(function (t, e, n) {
					n[e] = i.options.defaultValue
				}), this._filter.colorTable = null), t.prototype.reset.call(this, n)
			}, e.prototype._init = function () {
				this._filter = new b, this._filter.interpolate = this.options.interpolate, this._filters = [this._filter], this._values = null, this._colorTables = null, this._index = -1, this.onColorTableLoadComplete = this.onColorTableLoadComplete.bind(this), this.onFail = this.onFail.bind(this), this._initColorTables()
			}, e.prototype._initColorTables = function () {
				if (!this._setColorTables(this.options.colorTables)) {
					var t = this.options.colorTableURLs;
					if (t && 0 != t.length) {
						var e = t.map(function (t) {
							return (0, v.loadImage)(t)
						});
						o["default"].all(e).then(this.onColorTableLoadComplete)["catch"](this.onFail)
					} else this.emit("ready", "ready")
				}
			}, e.prototype._setColorTables = function (t) {
				return !(!t || 0 == t.length) && (this.onColorTableLoadComplete(t), !0)
			}, e.prototype.onColorTableLoadComplete = function (t) {
				var e = this;
				this._values = [], this._colorTables = t.map(function (t) {
					return e._values.push(e.options.defaultValue), (0, y.toImageData)(t)
				}), this.emit("ready", "ready")
			}, e.prototype.onFail = function (t) {
				return void 0, o["default"].reject(t)
			}, (0, l["default"])(e, [{
				key: "modified", get: function () {
					return !!this.stage.ready && !!this._filter.colorTable
				}
			}, {
				key: "index", get: function () {
					return this._index
				}, set: function (t) {
					(0, x["default"])(this.complete, "ColorTable  ."), this._index != t && (this._index = t, this._filter.colorTable = this._colorTables[t], this._filter.value = this.value, this.invalidate(this._filter))
				}
			}, {
				key: "value", get: function () {
					return this.index == -1 ? 0 : this._values[this.index]
				}, set: function (t) {
					(0, x["default"])(this.complete, "ColorTable  ."), this.index != -1 && (this._values[this.index] = t, this._filter.value = this.value, this.invalidate(this._filter))
				}
			}, {
				key: "colorTables", get: function () {
					return this._colorTables
				}
			}, {
				key: "foodieFilter", get: function () {
					return this._filter
				}
			}, {
				key: "complete", get: function () {
					return this.colorTables && this.colorTables.length
				}
			}, {
				key: "interpolate", get: function () {
					return this._filter.interpolate
				}, set: function (t) {
					this._filter.interpolate = t
				}
			}]), e
		}(g["default"]);
	e["default"] = w
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	function r(t) {
		return function (e) {
			var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : document.createElement("img");
			return null != t && (i.crossOrigin = t), new u["default"](function (t, n) {
				i.onload = function (e) {
					o(i) ? t(i) : n("image element validation error")
				}, i.onerror = function (t) {
					return n(t)
				}, i.src = e
			})
		}
	}

	function o(t) {
		return 0 !== (t.width || t.naturalWidth) && 0 !== (t.height || t.naturalHeight)
	}

	function s(t) {
		var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
		return e = e || g, e.canvas.width = t.width || t.naturalWidth, e.canvas.height = t.height || t.naturalHeight, e.drawImage(t, 0, 0), e.getImageData(0, 0, e.canvas.width, e.canvas.height)
	}

	function a() {
		var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
			e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
		return t = t || m, e && e.length && t.setAttribute("accept", e), new u["default"](function (e, i) {
			var n = function r(t) {
				var n = t.target, o = n.files;
				o.length ? e(o) : i({type: "user cancel", files: o}), n.removeEventListener(t.type, r)
			};
			t.addEventListener("change", n), t.click()
		})
	}

	function h(t) {
		return new u["default"](function (e, i) {
			var n = new FileReader, r = function (t) {
				e(t.target.result), s(t.target)
			}, o = function (t) {
				i(t), s(t.target)
			}, s = function (t) {
				t.removeEventListener("load", r), t.removeEventListener("error", o)
			};
			n.addEventListener("load", r), n.addEventListener("error", o), n.readAsDataURL(t)
		})
	}

	e.__esModule = !0, e.loadImage = e.all = void 0;
	var l = i(80), u = n(l);
	e.makeLoadImage = r, e.getImageData = s, e.browseFile = a, e.readAsDataURL = h;
	var c = i(201), f = n(c), d = i(205), p = n(d);
	window.Promise || (window.Promise = f["default"]);
	var g = document.createElement("canvas").getContext("2d");
	(0, p["default"])(g, "CanvasRenderingContext2D   .");
	var m = (e.all = u["default"].all.bind(u["default"]), e.loadImage = r(), document.createElement("input"));
	m.setAttribute("type", "file")
}, function (t, e, i) {
	(function (e) {
		!function (i) {
			function n() {
			}

			function r(t, e) {
				return function () {
					t.apply(e, arguments)
				}
			}

			function o(t) {
				if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
				if ("function" != typeof t) throw new TypeError("not a function");
				this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], c(t, this)
			}

			function s(t, e) {
				for (; 3 === t._state;) t = t._value;
				return 0 === t._state ? void t._deferreds.push(e) : (t._handled = !0, void o._immediateFn(function () {
					var i = 1 === t._state ? e.onFulfilled : e.onRejected;
					if (null === i) return void(1 === t._state ? a : h)(e.promise, t._value);
					var n;
					try {
						n = i(t._value)
					} catch (r) {
						return void h(e.promise, r)
					}
					a(e.promise, n)
				}))
			}

			function a(t, e) {
				try {
					if (e === t) throw new TypeError("A promise cannot be resolved with itself.");
					if (e && ("object" == typeof e || "function" == typeof e)) {
						var i = e.then;
						if (e instanceof o) return t._state = 3, t._value = e, void l(t);
						if ("function" == typeof i) return void c(r(i, e), t)
					}
					t._state = 1, t._value = e, l(t)
				} catch (n) {
					h(t, n)
				}
			}

			function h(t, e) {
				t._state = 2, t._value = e, l(t)
			}

			function l(t) {
				2 === t._state && 0 === t._deferreds.length && o._immediateFn(function () {
					t._handled || o._unhandledRejectionFn(t._value)
				});
				for (var e = 0, i = t._deferreds.length; e < i; e++) s(t, t._deferreds[e]);
				t._deferreds = null
			}

			function u(t, e, i) {
				this.onFulfilled = "function" == typeof t ? t : null, this.onRejected = "function" == typeof e ? e : null, this.promise = i
			}

			function c(t, e) {
				var i = !1;
				try {
					t(function (t) {
						i || (i = !0, a(e, t))
					}, function (t) {
						i || (i = !0, h(e, t))
					})
				} catch (n) {
					if (i) return;
					i = !0, h(e, n)
				}
			}

			var f = setTimeout;
			o.prototype["catch"] = function (t) {
				return this.then(null, t)
			}, o.prototype.then = function (t, e) {
				var i = new this.constructor(n);
				return s(this, new u(t, e, i)), i
			}, o.all = function (t) {
				var e = Array.prototype.slice.call(t);
				return new o(function (t, i) {
					function n(o, s) {
						try {
							if (s && ("object" == typeof s || "function" == typeof s)) {
								var a = s.then;
								if ("function" == typeof a) return void a.call(s, function (t) {
									n(o, t)
								}, i)
							}
							e[o] = s, 0 === --r && t(e)
						} catch (h) {
							i(h)
						}
					}

					if (0 === e.length) return t([]);
					for (var r = e.length, o = 0; o < e.length; o++) n(o, e[o])
				})
			}, o.resolve = function (t) {
				return t && "object" == typeof t && t.constructor === o ? t : new o(function (e) {
					e(t)
				})
			}, o.reject = function (t) {
				return new o(function (e, i) {
					i(t)
				})
			}, o.race = function (t) {
				return new o(function (e, i) {
					for (var n = 0, r = t.length; n < r; n++) t[n].then(e, i)
				})
			}, o._immediateFn = "function" == typeof e && function (t) {
				e(t)
			} || function (t) {
				f(t, 0)
			}, o._unhandledRejectionFn = function (t) {
				"undefined" != typeof console && console && void 0
			}, o._setImmediateFn = function (t) {
				o._immediateFn = t
			}, o._setUnhandledRejectionFn = function (t) {
				o._unhandledRejectionFn = t
			}, "undefined" != typeof t && t.exports ? t.exports = o : i.Promise || (i.Promise = o)
		}(this)
	}).call(e, i(202).setImmediate)
}, function (t, e, i) {
	function n(t, e) {
		this._id = t, this._clearFn = e
	}

	var r = Function.prototype.apply;
	e.setTimeout = function () {
		return new n(r.call(setTimeout, window, arguments), clearTimeout)
	}, e.setInterval = function () {
		return new n(r.call(setInterval, window, arguments), clearInterval)
	}, e.clearTimeout = e.clearInterval = function (t) {
		t && t.close()
	}, n.prototype.unref = n.prototype.ref = function () {
	}, n.prototype.close = function () {
		this._clearFn.call(window, this._id)
	}, e.enroll = function (t, e) {
		clearTimeout(t._idleTimeoutId), t._idleTimeout = e
	}, e.unenroll = function (t) {
		clearTimeout(t._idleTimeoutId), t._idleTimeout = -1
	}, e._unrefActive = e.active = function (t) {
		clearTimeout(t._idleTimeoutId);
		var e = t._idleTimeout;
		e >= 0 && (t._idleTimeoutId = setTimeout(function () {
			t._onTimeout && t._onTimeout()
		}, e))
	}, i(203), e.setImmediate = setImmediate, e.clearImmediate = clearImmediate
}, function (t, e, i) {
	(function (t, e) {
		!function (t, i) {
			"use strict";

			function n(t) {
				"function" != typeof t && (t = new Function("" + t));
				for (var e = new Array(arguments.length - 1), i = 0; i < e.length; i++) e[i] = arguments[i + 1];
				var n = {callback: t, args: e};
				return g[p] = n, d(p), p++
			}

			function r(t) {
				delete g[t]
			}

			function o(t) {
				var e = t.callback, n = t.args;
				switch (n.length) {
					case 0:
						e();
						break;
					case 1:
						e(n[0]);
						break;
					case 2:
						e(n[0], n[1]);
						break;
					case 3:
						e(n[0], n[1], n[2]);
						break;
					default:
						e.apply(i, n)
				}
			}

			function s(t) {
				if (m) setTimeout(s, 0, t); else {
					var e = g[t];
					if (e) {
						m = !0;
						try {
							o(e)
						} finally {
							r(t), m = !1
						}
					}
				}
			}

			function a() {
				d = function (t) {
					e.nextTick(function () {
						s(t)
					})
				}
			}

			function h() {
				if (t.postMessage && !t.importScripts) {
					var e = !0, i = t.onmessage;
					return t.onmessage = function () {
						e = !1
					}, t.postMessage("", "*"), t.onmessage = i, e
				}
			}

			function l() {
				var e = "setImmediate$" + Math.random() + "$", i = function (i) {
					i.source === t && "string" == typeof i.data && 0 === i.data.indexOf(e) && s(+i.data.slice(e.length))
				};
				t.addEventListener ? t.addEventListener("message", i, !1) : t.attachEvent("onmessage", i), d = function (i) {
					t.postMessage(e + i, "*")
				}
			}

			function u() {
				var t = new MessageChannel;
				t.port1.onmessage = function (t) {
					var e = t.data;
					s(e)
				}, d = function (e) {
					t.port2.postMessage(e)
				}
			}

			function c() {
				var t = y.documentElement;
				d = function (e) {
					var i = y.createElement("script");
					i.onreadystatechange = function () {
						s(e), i.onreadystatechange = null, t.removeChild(i), i = null
					}, t.appendChild(i)
				}
			}

			function f() {
				d = function (t) {
					setTimeout(s, 0, t)
				}
			}

			if (!t.setImmediate) {
				var d, p = 1, g = {}, m = !1, y = t.document, v = Object.getPrototypeOf && Object.getPrototypeOf(t);
				v = v && v.setTimeout ? v : t, "[object process]" === {}.toString.call(t.process) ? a() : h() ? l() : t.MessageChannel ? u() : y && "onreadystatechange" in y.createElement("script") ? c() : f(), v.setImmediate = n, v.clearImmediate = r
			}
		}("undefined" == typeof self ? "undefined" == typeof t ? this : t : self)
	}).call(e, function () {
		return this
	}(), i(204))
}, function (t, e) {
	function i() {
		throw new Error("setTimeout has not been defined")
	}

	function n() {
		throw new Error("clearTimeout has not been defined")
	}

	function r(t) {
		if (u === setTimeout) return setTimeout(t, 0);
		if ((u === i || !u) && setTimeout) return u = setTimeout, setTimeout(t, 0);
		try {
			return u(t, 0)
		} catch (e) {
			try {
				return u.call(null, t, 0)
			} catch (e) {
				return u.call(this, t, 0)
			}
		}
	}

	function o(t) {
		if (c === clearTimeout) return clearTimeout(t);
		if ((c === n || !c) && clearTimeout) return c = clearTimeout, clearTimeout(t);
		try {
			return c(t)
		} catch (e) {
			try {
				return c.call(null, t)
			} catch (e) {
				return c.call(this, t)
			}
		}
	}

	function s() {
		g && d && (g = !1, d.length ? p = d.concat(p) : m = -1, p.length && a())
	}

	function a() {
		if (!g) {
			var t = r(s);
			g = !0;
			for (var e = p.length; e;) {
				for (d = p, p = []; ++m < e;) d && d[m].run();
				m = -1, e = p.length
			}
			d = null, g = !1, o(t)
		}
	}

	function h(t, e) {
		this.fun = t, this.array = e
	}

	function l() {
	}

	var u, c, f = t.exports = {};
	!function () {
		try {
			u = "function" == typeof setTimeout ? setTimeout : i
		} catch (t) {
			u = i
		}
		try {
			c = "function" == typeof clearTimeout ? clearTimeout : n
		} catch (t) {
			c = n
		}
	}();
	var d, p = [], g = !1, m = -1;
	f.nextTick = function (t) {
		var e = new Array(arguments.length - 1);
		if (arguments.length > 1) for (var i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
		p.push(new h(t, e)), 1 !== p.length || g || r(a)
	}, h.prototype.run = function () {
		this.fun.apply(null, this.array)
	}, f.title = "browser", f.browser = !0, f.env = {}, f.argv = [], f.version = "", f.versions = {}, f.on = l, f.addListener = l, f.once = l, f.off = l, f.removeListener = l, f.removeAllListeners = l, f.emit = l, f.prependListener = l, f.prependOnceListener = l, f.listeners = function (t) {
		return []
	}, f.binding = function (t) {
		throw new Error("process.binding is not supported")
	}, f.cwd = function () {
		return "/"
	}, f.chdir = function (t) {
		throw new Error("process.chdir is not supported")
	}, f.umask = function () {
		return 0
	}
}, function (t, e) {
	"use strict";

	function i(t, e) {
		if (!t) throw new Error("[Assertion Error] " + e)
	}

	e.__esModule = !0, e["default"] = i
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(159), s = e(o);
		!function () {
			function e(t, e) {
				t = parseInt(t || 512), e = parseInt(e || 64), this._colorTable = null, this._table = null, this.interpolate = !1, this._init(t, e)
			}

			var n = i(162), o = n.loop;
			if (e.original = -1, e.prototype = {
					constructor: e, _init: function (t, e) {
						this._table = this._makeQuadIndexLookupTable(t, e), this._tableSize = t, this._quadSize = e, this._value = 1
					}, _makeQuadIndexLookupTable: function (t, e) {
						for (var i = parseInt(t / e), n = new Uint32Array(i * i), r = n.length, o = 4 * e, s = e * o, a = 0; a < r; a++) n[a] = s * (i * parseInt(a / i)) + o * (a % i);
						return n
					}, applyFilter: function (t, e, i, n, r, o) {
						if (!this.interpolate) return this.applyFilterNoInterpolation(t, e, i, n, r, o);
						if (null == this._colorTable) return !1;
						i = parseInt(i || 0), n = parseInt(n || 0), r = parseInt(r || t.width), o = parseInt(o || t.height);
						for (var s, a, h, l, u, c, f, d, p, g, m, y, v, _, x, b, w, T, C, E, M, P, S, I, R, A, k = t.data, O = e.data, L = parseInt(k.length), D = parseInt(this._quadSize - 1), B = parseInt(this._tableSize), N = parseInt(4 * B), F = this._colorTable.data, z = this._table, H = 0; H < L; H += 4) m = k[H] / 4, l = 0 | m, d = m - l | 0, m = k[H + 1] / 4, u = 0 | m, p = m - u | 0, m = k[H + 2] / 4, c = 0 | m, g = m - c | 0, f = c + 1, f > D && (f = 0 | D), c = z[c], f = z[f], M = c + 4 * (B * u + l) | 0, R = !!(l + 1 > D), A = !!(u + 1 > D), P = R ? 0 | M : M + 4 | 0, S = A ? 0 | M : M + N | 0, I = R ? 0 | S : S + 4 | 0, s = F[M], a = F[M + 1], h = F[M + 2], y = s + d * (F[P] - s), v = a + d * (F[P + 1] - a), _ = h + d * (F[P + 2] - h), s = F[S], a = F[S + 1], h = F[S + 2], x = s + d * (F[S] - s), b = a + d * (F[S + 1] - a), w = h + d * (F[S + 2] - h), T = y + p * (x - y), C = v + p * (b - v), E = _ + p * (w - _), M = f + 4 * (B * u + l) | 0, P = R ? 0 | M : M + 4 | 0, S = A ? 0 | M : M + N | 0, I = R ? 0 | S : S + 4 | 0, s = F[M], a = F[M + 1], h = F[M + 2], y = s + d * (F[P] - s), v = a + d * (F[P + 1] - a), _ = h + d * (F[P + 2] - h), s = F[S], a = F[S + 1], h = F[S + 2], x = s + d * (F[S] - s), b = a + d * (F[S + 1] - a), w = h + d * (F[S + 2] - h), s = y + p * (x - y), a = v + p * (b - v), h = _ + p * (w - _), s = T + g * (s - T), a = C + g * (a - C), h = E + g * (h - E), O[H] = 0 | s, O[H + 1] = 0 | a, O[H + 2] = 0 | h, O[H + 3] = k[H + 3];
						return !0
					}, applyFilterAsync: function (t, e, i, n, r, s, a, h) {
						if (null == this._colorTable || 0 == this.value) return !1;
						i = parseInt(i || 0), n = parseInt(n || 0), r = parseInt(r || t.width), s = parseInt(s || t.height);
						var l = t.data, u = e.data, c = parseInt(l.length), f = parseInt(this._quadSize - 1),
							d = parseInt(this._tableSize), p = this._colorTable.data, g = this._table;
						return o(0, c, this.onFilterLoop, [l, u, f, d, p, g, this.value], this, a, h), !0
					}, onFilterLoop: function (t, e, i, r, o, s, a, h, l) {
						var u, c, f, d, p, g, m, y, v = i, _ = r, x = t + 4 * n.MAXIMUM_PROCESS;
						for (x > e && (x = e); t < x; t += 4) u = v[t], d = u / 4 | 0, m = u % 4, m > 2 && d + 1 <= o && ++d, c = v[t + 1], p = c / 4 | 0, m = c % 4, m > 2 && p + 1 <= o && ++p, f = v[t + 2], g = f / 4 | 0, m = f % 4, m > .5 && g + 1 <= o && ++g, y = h[g] + 4 * (s * p + d) | 0, 1 == l ? (_[t] = a[y], _[t + 1] = a[y + 1], _[t + 2] = a[y + 2]) : (d = a[y], p = a[y + 1], g = a[y + 2], _[t] = u + l * (d - u), _[t + 1] = c + l * (p - c), _[t + 2] = f + l * (g - f)), _[t + 3] = v[t + 3];
						return t
					}, applyFilterNoInterpolation: function (t, e, i, n, r, o) {
						if (null == this._colorTable || 0 == this.value) return !1;
						i = parseInt(i || 0), n = parseInt(n || 0), r = parseInt(r || t.width), o = parseInt(o || t.height);
						for (var s, a, h, l, u, c, f, d, p = t.data, g = e.data, m = parseInt(p.length), y = parseInt(this._quadSize - 1), v = parseInt(this._tableSize), _ = this._colorTable.data, x = this._table, b = this.value, w = 0; w < m; w += 4) s = p[w], l = s / 4 | 0, f = s % 4, f > 2 && l + 1 <= y && ++l, a = p[w + 1], u = a / 4 | 0, f = a % 4, f > 2 && u + 1 <= y && ++u, h = p[w + 2], c = h / 4 | 0, f = h % 4, f > .5 && c + 1 <= y && ++c, d = x[c] + 4 * (v * u + l) | 0, 1 == b ? (g[w] = _[d], g[w + 1] = _[d + 1], g[w + 2] = _[d + 2]) : (l = _[d], u = _[d + 1], c = _[d + 2], g[w] = s + b * (l - s), g[w + 1] = a + b * (u - a), g[w + 2] = h + b * (c - h)), g[w + 3] = p[w + 3];
						return !0
					}, getPixelOnColorTable: function (t) {
						var e, i, n, r, o, s, a, h, l, u, c, f, d, p, g = this._quadSize - 1, m = this._colorTable.data,
							y = this._table, v = [];
						return e = t[0], i = t[1], n = t[2], u = n / 4, s = parseInt(u), d = u - s, l = s + 1, l > g && (l = g), u = e / 4, r = parseInt(u), c = u - r, a = r + 1, a > g && (a = g), u = i / 4, o = parseInt(u), f = u - o, h = o + 1, h > g && (h = g), p = y[s] + 4 * (this._tableSize * o + r), void 0, v[0] = m[p], v[1] = m[p + 1], v[2] = m[p + 2], v
					}
				}, (0, s["default"])(e.prototype, {
					colorTable: {
						get: function () {
							return this._colorTable
						}, set: function (t) {
							t != this._colorTable && (this._colorTable = t)
						}
					}, value: {
						get: function () {
							return this._value
						}, set: function (t) {
							this._value = t
						}
					}, name: {
						get: function () {
							return "FoodieFilter"
						}
					}, changed: {
						get: function () {
							return null != this._colorTable
						}
					}
				}), void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports)) t.exports = e; else {
				var a = usenamespace("editor.filter");
				a.FoodieFilter = e
			}
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(116), o = n(r), s = i(70), a = n(s), h = i(71), l = n(h), u = i(96), c = n(u), f = i(97), d = n(f),
		p = i(153), g = n(p), m = i(177), y = (n(m), i(143)), v = n(y), _ = i(208), x = function (t) {
			function e(i, n, r) {
				(0, a["default"])(this, e);
				var o = (0, c["default"])(this, t.call(this, i, n));
				return o._previewBitmapdata = r, o._init(), o
			}

			return (0, d["default"])(e, t), e.prototype.initWithTarget = function (t) {
				this._target = t
			}, e.prototype.square1 = function () {
				this._setMode(this._modes[0])
			}, e.prototype.square2 = function () {
				this._setMode(this._modes[1])
			}, e.prototype.square3 = function () {
				this._setMode(this._modes[2])
			}, e.prototype.square4 = function () {
				this._setMode(this._modes[3])
			}, e.prototype.square5 = function () {
				this._setMode(this._modes[4])
			}, e.prototype.circle1 = function () {
				this._setMode(this._modes[5])
			}, e.prototype.circle2 = function () {
				this._setMode(this._modes[6])
			}, e.prototype.circle3 = function () {
				this._setMode(this._modes[7])
			}, e.prototype.circle4 = function () {
				this._setMode(this._modes[8])
			}, e.prototype.circle5 = function () {
				this._setMode(this._modes[9])
			}, e.prototype.deselect = function () {
				this._setMode(null)
			}, e.prototype.undo = function () {
				var t = this._mosaic.removeLastArea();
				return this.invalidate(this._mosaic), this._preview.removeLastArea(), this.invalidate(this._preview), t
			}, e.prototype.getFilterCount = function () {
				return this._mosaic.filterCount
			}, e.prototype.start = function (e) {
				t.prototype.start.call(this), this._stage.update(), this._oldDragEnable = this._stage.magnify.dragEnable, this._target.on("mousedown", this._mdEvent), this._target.on("mouseup", this._muEvent), window.document.addEventListener("mouseup", this._muEvent), window.document.addEventListener("keydown", this.onKeyboardDown), window.document.addEventListener("keyup", this.onKeyboardUp), this._dragging = !1, this._setMode(this._mode), this.stage.emit(v["default"].MOUSE_CHILDREN_CHANGE, {
					type: v["default"].MOUSE_CHILDREN_CHANGE,
					interactive: !1
				})
			}, e.prototype.suspend = function () {
				return this.stage.emit(v["default"].MOUSE_CHILDREN_CHANGE, {
					type: v["default"].MOUSE_CHILDREN_CHANGE,
					interactive: !0
				}), this._target.off("mousedown", this._mdEvent), this._target.off("mouseup", this._muEvent), window.document.removeEventListener("mouseup", this._muEvent), window.document.removeEventListener("keydown", this.onKeyboardDown), window.document.removeEventListener("keyup", this.onKeyboardUp), this._stage.magnify.dragEnable = !0, this._setCursor(!1), t.prototype.suspend.call(this)
			}, e.prototype.snapshot = function () {
				var t = {
					previewAreas: this._deepCopyArr(this._preview.areas),
					areas: this._deepCopyArr(this._mosaic.areas)
				};
				return this._setCursor(!1), t
			}, e.prototype.reset = function (e) {
				var i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
				e ? (e.previewAreas ? this._preview.areas = this._deepCopyArr(e.previewAreas) : this._preview.removeAll(), e.areas ? this._mosaic.areas = this._deepCopyArr(e.areas) : this._mosaic.removeAll()) : (this._mosaic.removeAll(), this._preview.removeAll()), t.prototype.reset.call(this, i)
			}, e.prototype.dispose = function () {
				this.suspend(), delete this._mosaic, delete this._preview, delete this._previewBitmapdata, t.prototype.dispose.call(this)
			}, e.prototype._init = function () {
				this._mosaic = new _(this._bitmapdata.worldTransform), this._preview = new _(this._previewBitmapdata.worldTransform), this._modes = this.options.modes, this._drawBox = new PIXI.Graphics, this._mvEvent = this._mouseMove.bind(this), this._mdEvent = this._mouseDown.bind(this), this._muEvent = this._mouseUp.bind(this), this.onKeyboardDown = this.onKeyboardDown.bind(this), this.onKeyboardUp = this.onKeyboardUp.bind(this), this._filters.push(this._mosaic), this._dragging = !1
			}, e.prototype._deepCopyArr = function (t) {
				for (var e = [], i = 0; i < t.length; i++) e.push((0, o["default"])({}, t[i]));
				return e
			}, e.prototype.onKeyboardDown = function (t) {
				t.keyCode == this.options.keyCode && (this._prevMode = this._mode, this._setMode(null), this._dragEnable = !0)
			}, e.prototype.onKeyboardUp = function (t) {
				t.keyCode == this.options.keyCode && (this._dragEnable = !1, this._setMode(this._prevMode))
			}, e.prototype._mouseDown = function (t) {
				var e = t.data.global;
				this._mode && (this._dragging = !0, this._startPos = {
					x: (e.x >> 0) + .5,
					y: (e.y >> 0) + .5
				}, this._target.on("mousemove", this._mvEvent), this._stage.addChild(this._drawBox))
			}, e.prototype._mouseMove = function (t) {
				this._drawArea(t.data.global, this._isSquare())
			}, e.prototype._mouseUp = function (t) {
				var e = this._getActiveObj();
				this._dragging && e && this._mode && (e.width * e.height > 1 || e.radius > 1) && (this._doMosaic(), this.pushHistory()), this._target.off("mousemove", this._mvEvent), this._cleaBox(), this._dragging = !1
			}, e.prototype._getActiveObj = function () {
				return this._square ? (0, o["default"])({}, this._square) : this._circle ? (0, o["default"])({}, this._circle) : null
			}, e.prototype._doMosaic = function () {
				this._mosaic.addArea(this._getArea(this._stage._editingCanvas, this._bitmapdata)), this._preview.addArea(this._getArea(this._stage._previewingCanvas, this._previewBitmapdata)), this.invalidate(this._mosaic)
			}, e.prototype._cleaBox = function () {
				this._drawBox.clear(), this._stage.removeChild(this._drawBox), this._square = this._circle = null
			}, e.prototype._drawArea = function (t, e) {
				if (this._drawBox.clear(), this._drawBox.lineStyle(1, this._mode.color, this._mode.alpha), this._drawBox.beginFill(16777215, .2), this._drawBox.moveTo(this._startPos.x, this._startPos.y), e) this._square = {
					x: this._startPos.x,
					y: this._startPos.y,
					width: Math.floor(t.x - this._startPos.x),
					height: Math.floor(t.y - this._startPos.y)
				}, this._correctRect(this._square), this._drawBox.drawRect(this._square.x, this._square.y, this._square.width, this._square.height); else {
					var i = {w: (t.x - this._startPos.x) / 2, h: (t.y - this._startPos.y) / 2};
					this._circle = {
						x: this._startPos.x + i.w,
						y: this._startPos.y + i.h,
						radius: Math.sqrt(i.w * i.w + i.h * i.h)
					}, this._drawBox.drawCircle(this._circle.x, this._circle.y, this._circle.radius)
				}
				this._drawBox.endFill()
			}, e.prototype._correctRect = function (t) {
				t.width < 0 && (t.x += t.width, t.width *= -1), t.height < 0 && (t.y += t.height, t.height *= -1)
			}, e.prototype._getArea = function (t, e) {
				var i, n, r, o, s, a, h, l, u, c, f, d, p = t.parent;
				return (i = this._getActiveObj()) ? (l = {
					x: i.x,
					y: i.y
				}, r = this._target.worldTransform.applyInverse(l), i.x = r.x, i.y = r.y, a = e.sourceWidth, h = e.sourceHeight, n = e.worldTransform.clone(), u = a * n.scaleX * p.scale.x * t.scale.x, c = h * n.scaleY * p.scale.y * t.scale.y, o = u / p.scale.x, s = c / p.scale.y, f = n.scaleX < 0 ? -1 : 1, d = n.scaleY < 0 ? -1 : 1, i.x = i.x / o * a * f >> 0, i.y = i.y / s * h * d >> 0, this._square ? (i.width = i.width / u * a * f, i.height = i.height / c * h * d) : this._circle && (i.radius = i.radius / u * a * f), n.scaleX *= f, n.scaleY *= d, i.transform = n, i.originRect = {
					x: 0,
					y: 0,
					width: a,
					height: h
				}, i.type = 1 == this._isSquare() ? "rect" : "circle", i.blockSize = this._mode.size, i) : null
			}, e.prototype._isSquare = function () {
				return this._mode.name.indexOf("square") !== -1
			}, e.prototype._setCursor = function (t) {
				this._target.buttonMode = t, this._target.defaultCursor = t ? "crosshair" : "default"
			}, e.prototype._setMode = function (t) {
				if (!this.running) return void(this._mode = t);
				var e = null != t;
				return e && this._dragEnable ? void(this._prevMode = t) : (this._mode = t, this.stage.magnify.dragEnable = !e, void this._setCursor(e))
			}, (0, l["default"])(e, [{
				key: "modified", get: function () {
					return !!this.stage.ready && this._mosaic.filterCount > 0
				}
			}, {
				key: "editingFilter", get: function () {
					return this._mosaic
				}
			}, {
				key: "previewingFilter", get: function () {
					return this._preview
				}
			}]), e
		}(g["default"]);
	e["default"] = x
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n), o = i(159), s = e(o);
		!function () {
			function e(t) {
				this._worldTransform = t, y = document.createElement("canvas"), v = document.createElement("canvas"), _ = y.getContext("2d"), x = v.getContext("2d")
			}

			function n(t, e, i, n) {
				for (var r = i, s = 0, a = 1 - r, h = {}, l = function (t, e) {
					if (t <<= 0, e <<= 0, !(e < 0 || e > n)) {
						var i = h[e];
						i ? i.setValue(t) : h[e] = new o(t)
					}
				}; r >= s;) l(r + t, s + e), l(s + t, r + e), l(-r + t, s + e), l(-s + t, r + e), l(-r + t, -s + e), l(-s + t, -r + e), l(r + t, -s + e), l(s + t, -r + e), s++, a <= 0 ? a += 2 * s + 1 : (r--, a += 2 * (s - r) + 1);
				return h
			}

			function o(t) {
				this.min = t, this.max = t
			}

			function a(t, e, i) {
				for (var n, r = e.length, o = 0; o < r; o++) n = e[o], "rect" == n.type ? g(n, i) : m(n, i);
				t.data.set(_.getImageData(0, 0, y.width, y.height).data)
			}

			function h(t, e, i, n, r, o, s, a, h) {
				if (r < 2 || o < 2) return null;
				var l = s.matrix.clone(), f = a.matrix.clone(), d = r * s.scaleX >> 0, p = o * s.scaleY >> 0,
					g = i * s.scaleX >> 0, m = n * s.scaleY >> 0;
				if (d < 1 || p < 1) return null;
				var _, b, w = {x: g, y: m, w: d, h: p}, T = h.width, C = h.height;
				return f = f.inverse(), f.preppend(l), v.width = v.height = Math.max(T, C), u(x, f, y, {
					x: 0,
					y: 0
				}), _ = x.getImageData(g, m, d, p), b = c(_, w, r, e), {mosaic: b, origin: _}
			}

			function l(t, e, i) {
				for (var n = 0; n < i.length; n++) t[e + n] = i[n]
			}

			function u(t, e, i, n) {
				t.save(), t.transform(e.m11, e.m21, e.m12, e.m22, e.tx, e.ty), t.drawImage(i, n.x, n.y), t.restore()
			}

			function c(t, e, i, n) {
				var r, o, s, a, h = t, l = h.width / i * n >> 0, u = h.width, c = h.height, d = 0, p = 0, g = h.data;
				return l <= 1 ? h : (e.x < 0 && (d -= e.x), e.y < 0 && (p -= e.y), a = 4 * d, r = (c - p) % l, o = (c - p) / l >> 0, s = 0 == r ? o : o + 1, f(g, d, p, l, s, r, u), h)
			}

			function f(t, e, i, n, r, o, s) {
				var a, h, l, u, c, f, d, g, m, y, v, _, x, b, w, T, C = 4 * e | 0, E = 4 * s | 0;
				for (l = 0; l < r; l++) {
					for (a = (i + l * n) * E + C | 0, h = (i + l * n + 1) * E | 0, f = (h / 4 | 0) % s, d = 0 === f ? s : f, g = (d - e) % n, m = t.subarray(a, h), v = 0, _ = 4 * d - C, x = l < r - 1 || l == r - 1 && 0 === o ? n : o, y = p(_, a, n, t, E, x, g), T = -1, _ = d - e, u = 0; u < _; u++) u % n == 0 && T++, f = y[T], b = 4 * u | 0, m[b] = f.r, m[b + 1] = f.g, m[b + 2] = f.b;
					for (w = o > 0 && l == r - 1 ? o : n, c = 0; c < w; c++) {
						T = a + c * E | 0;
						for (var M = 0; M < m.length; M += 4) t[T + M] = m[M], t[T + M + 1] = m[M + 1], t[T + M + 2] = m[M + 2]
					}
				}
			}

			function d(t, e, i) {
				var n, r, o = e || {r: 0, g: 0, b: 0}, s = o.r, a = o.g, h = o.b;
				n = e ? 1 : 0;
				for (var l = 0; l < i.length; l++) r = i[l], t[r + 3] > 0 && (s += t[r], a += t[r + 1], h += t[r + 2], n++);
				return o.r = s / n | 0, o.g = a / n | 0, o.b = h / n | 0, o
			}

			function p(t, e, i, n, r, o, s) {
				var a, h, l, u, c, f, p, g, m, y, v, _, x, b = [], w = Math.ceil(t / (4 * i)), T = o * r | 0,
					C = i / 3 | 0, E = s / 3 | 0;
				for (a = 0; a < w; a++) x = e + 4 * a * i | 0, p = (a == w - 1 ? s : i) >> 1, g = o >> 1, m = x + 4 * p + g * r | 0, l = x + 4 * ((a == w - 1 ? s : i) - 1) | 0, u = x + T, c = l + T, _ = d(n, null, [x, l, u, c, m]), i < 6 || a == w - 1 && s > 0 || o < 6 || (f = a == w - 1 ? E : C, y = f * r | 0, v = 4 * f + y | 0, h = x + v | 0, l = h + v | 0, u = h + y | 0, c = l + y | 0, _ = d(n, _, [h, l, u, c])), b.push(_);
				return b.slice()
			}

			function g(t, e) {
				if (t.result) {
					var i = t.result.mosaic, n = t.transform, r = n.matrix.clone(), o = e.matrix.clone();
					r = r.inverse(), r.preppend(o), v.width = i.width, v.height = i.height, x.putImageData(i, 0, 0), u(_, r, v, {
						x: t.x * n.scaleX,
						y: t.y * n.scaleY
					})
				}
			}

			function m(t, e) {
				if (t.result) {
					var i, r, o, s, a, h, c = t.transform, f = c.matrix.clone(), d = e.matrix.clone(),
						p = t.result.origin, g = t.result.mosaic, m = t.radius * c.scaleX >> 0,
						y = n(m, m, m, g.height), b = g.width, w = g.width, T = g.height, C = Math.min(T, g.height),
						E = x.createImageData(g).data;
					f = f.inverse(), f.preppend(d);
					for (var M = 0; M < C; M++) o = y[M], o && (s = o.min << 0, a = o.max + 1 << 0, s < 0 && (s = 0), a > b && (a = b), h = M * w, r = g.data.subarray(4 * (h + s) | 0, 4 * (h + a) | 0), r.length && (i = b * M + s, l(E, 4 * i | 0, r)));
					v.width = g.width, v.height = g.height, l(p.data, 0, E), x.putImageData(p, 0, 0), u(_, f, v, {
						x: t.x * c.scaleX - m | 0,
						y: t.y * c.scaleY - m | 0
					})
				}
			}

			var y, v, _, x, b = i(162).loop;
			if (e.prototype = {
					constructor: e, applyFilter: function (t, e, i, n, r, o) {
						var s = this._areas;
						if (!s || !s.length) return !1;
						e.data.set(t.data), y.width = e.width, y.height = e.height, _.putImageData(e, 0, 0);
						for (var h = 0; h < s.length; h++) this.onFilterLoop(h, s.length, e, e);
						return a(e, s, this._worldTransform),
							!0
					}, applyFilterAsync: function (t, e, i, n, r, o, s, h) {
						var l = this._areas;
						if (!l || !l.length) return !1;
						var u = t, c = parseInt(l.length);
						return e.data.set(u.data), y.width = e.width, y.height = e.height, _.putImageData(e, 0, 0), b(0, c, this.onFilterLoop, [e, e], this, s, function () {
							a(e, l, this._worldTransform), h()
						}.bind(this)), !0
					}, onFilterLoop: function (t, e, i, n) {
						var r = this._areas[t];
						switch (r.type) {
							case"rect":
								r.result = this.applyRect(n, n, r.blockSize, r.x, r.y, r.width, r.height, r.transform, r.originRect);
								break;
							case"circle":
								r.result = this.applyCircle(n, n, r.blockSize, r.x, r.y, r.radius, r.transform, r.originRect)
						}
						return t + 1
					}, addArea: function (t) {
						t && (void 0, this._areas || (this._areas = []), this._areas.push(t))
					}, removeAll: function () {
						if (this._areas && this._areas.length > 0) {
							for (var t = 0; t < this._areas.length; t++) this.removeArea(this._areas[t]);
							this._areas = []
						}
					}, removeLastArea: function () {
						return this._areas && this.removeArea(this._areas.pop()), this.filterCount
					}, removeArea: function (t) {
						for (var e in t) delete t[e]
					}, applyCircle: function (t, e, i, n, r, o, s, a) {
						if (i = parseInt(i), n = parseInt(n), r = parseInt(r), o = parseInt(o), i < 1) throw new RangeError("blockSize  1   .");
						var l = n - o << 0, u = r - o << 0, c = 2 * o + 1 << 0, f = 2 * o + 1 << 0,
							d = h(t, i, l, u, c, f, s, this._worldTransform, a);
						if (d) return d
					}, applyRect: function (t, e, i, n, r, o, s, a, l) {
						n = n || 0, r = r || 0, o = o || t.width, s = s || t.height;
						var u = h(t, i, n, r, o, s, a, this._worldTransform, l);
						if (u) return u
					}
				}, (0, s["default"])(e.prototype, {
					name: {
						get: function () {
							return "MosaicFilter"
						}
					}, filterCount: {
						get: function () {
							return this._areas ? this._areas.length : 0
						}
					}, changed: {
						get: function () {
							return this._areas && this._areas.length
						}
					}, areas: {
						get: function () {
							return this._areas ? this._areas : []
						}, set: function (t) {
							this._areas = t
						}
					}
				}), o.prototype = {
					setValue: function (t) {
						t < this.min && (this.min = t), this.max < t && (this.max = t)
					}
				}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports)) t.exports = e; else {
				var w = usenamespace("editor.filter");
				w.MosaicFilter = e
			}
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(96), a = n(s), h = i(71), l = n(h), u = i(97), c = n(u), f = i(153), d = n(f),
		p = i(210), g = n(p), m = i(143), y = n(m), v = i(171), _ = n(v), x = i(211), b = i(212), w = i(154),
		T = i(181), C = i(148), E = n(C), M = i(146), P = n(M), S = i(217), I = i(215), R = i(221),
		A = (n(R), i(223), function (t) {
			function e(i, n, r) {
				(0, o["default"])(this, e);
				var s = (0, a["default"])(this, t.call(this, i, n));
				return s._container = r, s._container.on(g["default"].CHANGE_SIZE, s.onContainerChange, s), x.Mouse.renderer = n.renderer, s.stickerMain = new b.StickerMain(n.renderer, n, r, i), s.stickerMain.on(b.StickerMain.DELETED, s.onDeleted, s), s.stickerMain.on(b.StickerMain.SELECTED, s.onSelected, s), s.stickerMain.on(b.StickerMain.DESELECTED, s.onDeselected, s), s.stickerMain.on(b.StickerMain.COMPLETE, s.onComplete, s), s.stickerMain.on(I.TransformTool.CONTROL_UP, s.onControlUp, s), s.stage.on(y["default"].VIEWPORT_MOTION_UPDATE, s.onViewportChange, s), s.stage.on(y["default"].VIEWPORT_MOTION_COMPLETE, s.onViewportChange, s), s.stage.on(y["default"].MOUSE_CHILDREN_CHANGE, s.onMouseChildrenChange, s), s.stage.on(y["default"].BITMAPDATA_UPDATE, s.onUpdateBitmapDataComplete, s), s.stage.on(_["default"].CROP_COMPLETE, s.onCropComplete, s), s.stage.on(y["default"].CLEAR_ALL, s.onClearAll, s), s
			}

			return (0, c["default"])(e, t), (0, l["default"])(e, null, [{
				key: "DELETED", get: function () {
					return "deleted"
				}
			}, {
				key: "SELECTED", get: function () {
					return "selected"
				}
			}, {
				key: "DESELECTED", get: function () {
					return "deselected"
				}
			}]), e.prototype.start = function () {
				t.prototype.start.call(this), this.stage.magnify.on(P["default"].DRAG, this.onImageDrag, this), this.stage.motion.on(E["default"].UPDATE, this.onMotionUpdate, this), this._container.on(I.TransformTool.CONTROL_UP, this.onControlUp, this)
			}, e.prototype.suspend = function () {
				return this.stickerMain.releaseTarget(), this.stage.magnify.off(P["default"].DRAG, this.onImageDrag, this), this.stage.motion.off(E["default"].UPDATE, this.onMotionUpdate, this), this._container.off(I.TransformTool.CONTROL_UP, this.onControlUp, this), t.prototype.suspend.call(this)
			}, e.prototype.reset = function (e) {
				var i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
				this.stickerMain.releaseTarget(), this.stickerMain.clear(), this.stickerMain.restore(e), t.prototype.reset.call(this, i)
			}, e.prototype.snapshot = function () {
				return this.stickerMain.snapshot
			}, e.prototype.dispose = function () {
				this._container.off(g["default"].CHANGE_SIZE, this.onContainerChange, this), this._container = null, this.stickerMain.off(b.StickerMain.DELETED, this.onDeleted, this), this.stickerMain.off(b.StickerMain.SELECTED, this.onSelected, this), this.stickerMain.off(b.StickerMain.DESELECTED, this.onDeselected, this), this.stickerMain.off(b.StickerMain.COMPLETE, this.onComplete, this), this.stickerMain.off(I.TransformTool.CONTROL_UP, this.onControlUp, this), this.stage.off(y["default"].VIEWPORT_MOTION_UPDATE, this.onViewportChange, this), this.stage.off(y["default"].VIEWPORT_MOTION_COMPLETE, this.onViewportChange, this), this.stage.off(y["default"].MOUSE_CHILDREN_CHANGE, this.onMouseChildrenChange, this), this.stage.off(y["default"].BITMAPDATA_UPDATE, this.onUpdateBitmapDataComplete, this), this.stage.off(_["default"].CROP_COMPLETE, this.onCropComplete, this), this.stage.off(y["default"].CLEAR_ALL, this.onClearAll, this), x.Mouse.renderer = null
			}, e.prototype.createSticker = function (t) {
				var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100,
					i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 100,
					n = this.getLandingPoint();
				this.stickerMain.createSticker(t, n.x, n.y, e, i)
			}, e.prototype.createPNGSticker = function (t) {
				var e = this, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
					n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 150,
					r = this.getLandingPoint();
				n *= this.stage.croppedWidth / this.stage.resizedWidth, this.stickerMain.once(b.StickerMain.COMPLETE, function (t) {
					return e.pushHistory()
				}), this.stickerMain.createPNGSticker(t, r.x, r.y, n, n).stickerID = i
			}, e.prototype.getLandingPoint = function () {
				var t = this.stage.viewportToLocal(this._container), e = S.ToolControl.imageRect,
					i = 0 != t.radian ? (0, T.rotate)(t.width / 2, t.height / 2, t.radian) : {
						x: t.width / 2,
						y: t.height / 2
					},
					n = 0 != t.radian ? (0, T.rotate)(this.options.horizontalGap, this.options.verticalGap, t.radian) : {
						x: this.options.horizontalGap,
						y: this.options.verticalGap
					}, r = t.origin.x + i.x, o = t.origin.y + i.y;
				return this.evalEmptyLocation(this.stickerMain.stickers, r, o, r, o, e, n)
			}, e.prototype.evalEmptyLocation = function (t, e, i, n, r, o, s) {
				var a = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 1;
				if (!(0, T.hitTestWithBoundary)(n, r, o)) return {x: e, y: i};
				var h = t.every(function (t) {
					return Math.abs(n - t.x) > 1 || Math.abs(r - t.y) > 1
				});
				if (h) return {x: n, y: r};
				if (n += s.x, r += s.y, !(0, T.hitTestWithBoundary)(n, r, o)) {
					var l = (0, T.rotate)(s.x, s.y, Math.PI / 2);
					n = e + l.x * a, r = i + l.y * a++
				}
				return this.evalEmptyLocation(t, e, i, n, r, o, s, a)
			}, e.prototype["delete"] = function () {
				this.stickerMain.deleteSticker(this.stickerMain.target)
			}, e.prototype.screenFit = function (t) {
				if (t) return void this.stage.magnify.autoScale(!0);
				var e = null;
				if (null == e) return void(1 != this.stage.magnify.scale && this.stage.magnify.autoScale(t));
				var i = w.TEMP_POINT_A;
				i.x = e.x, i.y = e.y;
				var n = this._container.toGlobal(i);
				this.stage.magnify.autoScale(!1, n.x, n.y)
			}, e.prototype.update = function () {
				this.stickerMain.updateTransformTool(), this.stickerMain.transformTool.drawCenter(), this.stickerMain.transformTool.updatePrevTargetLt()
			}, e.prototype.onControlUp = function (t) {
				this.pushHistory()
			}, e.prototype.onComplete = function () {
				this.emit(y["default"].READY, {type: y["default"].READY, target: this})
			}, e.prototype.onDeleted = function (t) {
				this.emit(e.DELETED, t)
			}, e.prototype.onSelected = function (t) {
				this.emit(e.SELECTED, t), this.running || this.stage.emit(y["default"].PHASE_CHANGE, {
					type: y["default"].PHASE_CHANGE,
					phase: "sticker"
				})
			}, e.prototype.onDeselected = function (t) {
				this.emit(e.DESELECTED, t)
			}, e.prototype.onContainerChange = function (t) {
				this.stickerMain.releaseTarget()
			}, e.prototype.onViewportChange = function (t) {
				this.update()
			}, e.prototype.onImageDrag = function () {
				this.update()
			}, e.prototype.onMotionUpdate = function () {
				this.update()
			}, e.prototype.onMouseChildrenChange = function (t) {
				this._container && (this._container.mouseChildren = t.interactive)
			}, e.prototype.onUpdateBitmapDataComplete = function (t) {
				if (this._container) {
					var e = S.ToolControl.mouseBoundary = this.stage.imageToLocal(this._container),
						i = S.ToolControl.imageRect, n = {
							origin: e.tl,
							width: (0, T.getDistance)(e.tl.x, e.tl.y, e.tr.x, e.tr.y),
							height: (0, T.getDistance)(e.tl.x, e.tl.y, e.bl.x, e.bl.y),
							radian: (0, T.getRadian)(e.tl.x, e.tl.y, e.tr.x, e.tr.y)
						};
					this._container.scale.x < 0 ? n = this._container.scale.y < 0 ? {
						origin: e.br,
						width: (0, T.getDistance)(e.br.x, e.br.y, e.bl.x, e.bl.y),
						height: (0, T.getDistance)(e.br.x, e.br.y, e.tr.x, e.tr.y),
						radian: (0, T.getRadian)(e.br.x, e.br.y, e.bl.x, e.bl.y)
					} : {
						origin: e.tr,
						width: (0, T.getDistance)(e.tr.x, e.tr.y, e.tl.x, e.tl.y),
						height: (0, T.getDistance)(e.tr.x, e.tr.y, e.br.x, e.br.y),
						radian: (0, T.getRadian)(e.tr.x, e.tr.y, e.tl.x, e.tl.y)
					} : this._container.scale.y < 0 && (n = {
						origin: e.bl,
						width: (0, T.getDistance)(e.bl.x, e.bl.y, e.br.x, e.br.y),
						height: (0, T.getDistance)(e.bl.x, e.bl.y, e.tl.x, e.tl.y),
						radian: (0, T.getRadian)(e.bl.x, e.bl.y, e.br.x, e.br.y)
					}), i.origin.x = n.origin.x, i.origin.y = n.origin.y, i.width = n.width, i.height = n.height, i.radian = n.radian, S.ToolControl.imageRect = S.ToolControl.imageRect, this._container.clipRectPoints = S.ToolControl.mouseBoundary
				}
			}, e.prototype.onCropComplete = function (t) {
				this.stage.updateTransform(), this.onUpdateBitmapDataComplete()
			}, e.prototype.onClearAll = function (t) {
				this.reset()
			}, (0, l["default"])(e, [{
				key: "modified", get: function () {
					return this.stickerMain.modified
				}
			}, {
				key: "lastSticker", get: function () {
					return this.stickerMain.lastSticker
				}
			}, {
				key: "ready", get: function () {
					return this.stickerMain.complete
				}
			}]), e
		}(d["default"]));
	e["default"] = A
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(96), a = n(s), h = i(71), l = n(h), u = i(97), c = n(u), f = i(155), d = i(147),
		p = n(d), g = i(149), m = function (t) {
			function e() {
				(0, o["default"])(this, e);
				var i = (0, a["default"])(this, t.call(this));
				return i._changEvent = {
					type: e.CHANGE_SIZE,
					target: i
				}, i._frame = new p["default"](3, 100, 100, 100, 65280), i._width = 100, i._height = 100, i._boundary = {
					x: 0,
					y: 0,
					width: 100,
					height: 100
				}, i._clipRect = null, i._graphics = new PIXI.Graphics, i._border = {
					top: 0,
					left: 0,
					right: 0,
					bottom: 0
				}, i
			}

			return (0, c["default"])(e, t), (0, l["default"])(e, null, [{
				key: "CHANGE_SIZE", get: function () {
					return "changeSize"
				}
			}]), e.prototype.updateSize = function (t, e) {
				this._width = t, this._height = e, this.scale.x = this.scale.y = 1, this._frame.setSize(t, e), this.emit(this._changEvent.type, this._changEvent)
			}, e.prototype.markUp = function (t, e) {
				var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 16711680,
					n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1,
					r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 10,
					o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 1,
					s = this._g = this._g || new PIXI.Graphics;
				s.lineStyle(n, i, o), s.moveTo(t - r, e - r), s.lineTo(t + r, e + r), s.moveTo(t + r, e - r), s.lineTo(t - r, e + r), this.addChild(s)
			}, e.prototype.clearPoints = function () {
				this._g && this._g.clear()
			}, e.prototype.getBounds = function (t) {
				return {x: 1e7, y: 1e7, width: -1e9, height: -1e9}
			}, (0, l["default"])(e, [{
				key: "actualWidth", get: function () {
					return this._width
				}
			}, {
				key: "width", get: function () {
					return Math.abs(this.scale.x) * this._width
				}, set: function (t) {
					this.scale.x = (0, f.sign)(this.scale.x) * t / this._width
				}
			}, {
				key: "actualHeight", get: function () {
					return this._height
				}
			}, {
				key: "height", get: function () {
					return Math.abs(this.scale.y) * this._height
				}, set: function (t) {
					this.scale.y = (0, f.sign)(this.scale.y) * t / this._height
				}
			}, {
				key: "graphics", get: function () {
					return this._graphics
				}
			}, {
				key: "clipRectPoints", get: function () {
					return this._clipRectPoints
				}, set: function (t) {
					(0, g.every)(t, function (t) {
						return !isNaN(t.x) && !isNaN(t.y)
					}) || (t = null), this._clipRectPoints = t;
					var e = this._graphics;
					return e.clear(), null == t ? (this.mask = null, void(e.parent && e.parent.removeChild(e))) : (e.beginFill(), e.moveTo(t.tl.x, t.tl.y), [t.tr, t.br, t.bl, t.tl].forEach(function (t) {
						return e.lineTo(t.x, t.y)
					}), e.endFill(), this.mask = e, void this.addChild(e))
				}
			}, {
				key: "mouseChildren", get: function () {
					if (!this.children) return !1;
					var t = !1;
					return this.children.every(function (e) {
						return !e.renderableObject || (t = e.interactive, !1)
					}), t
				}, set: function (t) {
					this.children && this.children.forEach(function (e) {
						e.renderableObject && (e.interactive = t)
					})
				}
			}, {
				key: "debug", get: function () {
					return null != this._frame.parent
				}, set: function (t) {
					t ? this.addChild(this._frame) : this._frame.parent && this._frame.parent.removeChild(this._frame)
				}
			}, {
				key: "border", get: function () {
					return this._border
				}, set: function (t) {
					this._border = t
				}
			}]), e
		}(PIXI.Container);
	e["default"] = m
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0, e.Mouse = void 0;
	var r = i(70), o = n(r), s = i(71), a = n(s);
	e.Mouse = function () {
		function t() {
			(0, o["default"])(this, t)
		}

		return (0, a["default"])(t, null, [{
			key: "renderer", set: function (t) {
				this._renderer = t
			}, get: function () {
				return this._renderer
			}
		}, {
			key: "global", get: function () {
				return t.renderer.plugins.interaction.mouse.global
			}
		}, {
			key: "globalX", get: function () {
				return t.renderer.plugins.interaction.mouse.global.x
			}
		}, {
			key: "globalY", get: function () {
				return t.renderer.plugins.interaction.mouse.global.y
			}
		}, {
			key: "currentCursorStyle", set: function (e) {
				t.renderer.plugins.interaction.currentCursorStyle = e
			}, get: function () {
				return t.renderer.plugins.interaction.currentCursorStyle
			}
		}]), t
	}()
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0, e.StickerMain = void 0;
	var r = i(70), o = n(r), s = i(96), a = n(s), h = i(71), l = n(h), u = i(97), c = n(u), f = i(213), d = i(214),
		p = i(221), g = n(p), m = i(215);
	e.StickerMain = function (t) {
		function e(i, n, r) {
			var s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {useSnap: !0, snapAngle: 5};
			(0, o["default"])(this, e);
			var h = (0, a["default"])(this, t.call(this));
			return h.renderer = i, h.stageLayer = n, h.stickerLayer = r, h.options = s, h.initialize(), h
		}

		return (0, c["default"])(e, t), (0, l["default"])(e, null, [{
			key: "DELETED", get: function () {
				return "deleted"
			}
		}, {
			key: "SELECTED", get: function () {
				return "selected"
			}
		}, {
			key: "DESELECTED", get: function () {
				return "deselected"
			}
		}, {
			key: "COMPLETE", get: function () {
				return "complete"
			}
		}]), e.prototype.initialize = function () {
			this.stickers = [], this.stickerLayer.updateTransform(), this.options.deleteButtonOffsetY = 0, this.transformTool = new m.TransformTool(this.stageLayer, this.stickerLayer, this.options), this.transformTool.on(m.TransformTool.CONTROL_UP, this.onControlUp, this), this.onStickerMouseDown = this.onStickerMouseDown.bind(this), this.onStickerDelete = this.onStickerDelete.bind(this), this.onStickerSelect = this.onStickerSelect.bind(this), this.onStickerDeselect = this.onStickerDeselect.bind(this), this.onLoadComplete = this.onLoadComplete.bind(this)
		}, e.prototype.createSticker = function (t, e, i, n, r) {
			return this.initializeSticker(new d.VectorContainer(this.stageLayer.options.canvasLimitSize), t, e, i, n, r)
		}, e.prototype.createPNGSticker = function (t, e, i, n, r) {
			return this.initializeSticker(new g["default"](this.stageLayer.options.canvasLimitSize), t, e, i, n, r)
		}, e.prototype.initializeSticker = function (t, e, i, n, r, o) {
			1 == this._debugMode && (window["s" + this.stickers.length] = t), this.stickerLayer.addChild(t), this.stickers.push(t);
			var s = 1, a = 1, h = this.stageLayer, l = -this.stickerLayer.rotation;
			if (h.crop) {
				var u = h.crop.isHorizontal;
				u ? (s = h.croppedScaleX, a = h.croppedScaleY) : (s = h.croppedScaleY, a = h.croppedScaleX), u ? l = l * s * a : (s == -1 && 1 == a || 1 == s && a == -1) && (l = f.Calc.toRadians(180) - l)
			}
			return t.scale.x = s, t.scale.y = a, t.pivot.x = r / 2, t.pivot.y = o / 2, t.x = i, t.y = n, t.rotation = l, t.on("mousedown", this.onStickerMouseDown), t.on(m.TransformTool.DELETE, this.onStickerDelete), t.on(m.TransformTool.SELECT, this.onStickerSelect), t.on(m.TransformTool.DESELECT, this.onStickerDeselect), t.on(d.VectorContainer.LOAD_COMPLETE, this.onLoadComplete), t.load(e, 0, 0, r, o), t
		}, e.prototype.deleteSticker = function (t) {
			if (null !== t) {
				var e = this.transformTool.selectedControl;
				e && e.isMouseDown && e.onMouseUp(), t.off("mousedown", this.onStickerMouseDown), t.off(m.TransformTool.DELETE, this.onStickerDelete), t.off(m.TransformTool.SELECT, this.onStickerSelect), t.off(m.TransformTool.DESELECT, this.onStickerDeselect), t.off(d.VectorContainer.LOAD_COMPLETE, this.onLoadComplete);
				for (var i = 0; i < this.stickers.length; i++) {
					var n = this.stickers[i];
					n === t && (this.stickers.splice(i, 1), this.stickerLayer.removeChild(n), this.transformTool.releaseTarget(), n["delete"](), n = null)
				}
			}
		}, e.prototype.restore = function (t) {
			if (1 == this._debugMode && (this._debugSnapshot = t), this._numRestoredStickers = 0, t) {
				this.stickers = null, this.stickers = [], this._numRestoredStickers = t.length;
				for (var e = 0; e < t.length; e++) {
					var i = t[e], n = i.transform, r = i.pngSource ? new g["default"] : new d.VectorContainer;
					r._restored = !0, r.childScaleX = n.childScaleX, r.childScaleY = n.childScaleY, r.childIndex = i.childIndex, this.initializeSticker(r, i.url, n.x, n.y, i.width, i.height), r.x = n.x, r.y = n.y, r.scale.x = n.scaleX, r.scale.y = n.scaleY, r.rotation = n.rotation, r.pivot.x = n.pivotX, r.pivot.y = n.pivotY, r._restoreScaleSignX = n.scaleSignX, r._restoreScaleSignY = n.scaleSignY, r.stickerID = i.stickerID, 1 == this._debugMode && (r._debugSnapshot = i)
				}
			}
		}, e.prototype.updateTransformTool = function () {
			this.transformTool.updateGraphics()
		}, e.prototype.releaseTarget = function () {
			this.transformTool.releaseTarget()
		}, e.prototype.show = function () {
			for (var t = 0; t < this.stickers.length; t++) this.stickers[t].visible = !0;
			this.transformTool.show()
		}, e.prototype.hide = function () {
			for (var t = 0; t < this.stickers.length; t++) this.stickers[t].visible = !1;
			this.transformTool.hide()
		}, e.prototype.clear = function () {
			for (var t = this.stickers.slice(0), e = 0; e < t.length; e++) this.deleteSticker(t[e])
		}, e.prototype.update = function () {
			this.transformTool.update()
		}, e.prototype.resize = function () {
		}, e.prototype.onControlUp = function (t) {
			this.emit(t.type, t)
		}, e.prototype.onLoadComplete = function (t) {
			var i = t.target;
			i._restored ? (i.image.scale.x = i.childScaleX, i.image.scale.y = i.childScaleY) : (this.stickerLayer.updateTransform(), this.transformTool.activeTarget(i)), i._restored = !1, this.complete && this.stickers.length >= this._numRestoredStickers && (this.emit(e.COMPLETE), this._numRestoredStickers = 0)
		}, e.prototype.onStickerClick = function (t) {
			var e = t.target;
			1 == this._debugMode && this.traceSticker(e), this.stickerLayer.setChildIndex(e, this.stickerLayer.children.length - 1), this.transformTool.setTarget(t)
		}, e.prototype.onStickerMouseDown = function (t) {
			t.target;
			t.stopPropagation(), this.onStickerClick(t)
		}, e.prototype.onStickerDelete = function (t) {
			this.deleteSticker(t), this.emit(e.DELETED, t)
		}, e.prototype.onStickerSelect = function (t) {
			this.emit(e.SELECTED, t)
		}, e.prototype.onStickerDeselect = function (t) {
			this.emit(e.DESELECTED, t)
		}, e.prototype.onKeyUp = function (t) {
			switch (t.keyCode) {
				case 27:
					this.clear();
					break;
				case 32:
					this.debugRestoreSticker(this.target);
					break;
				case 49:
					this.traceSticker(this.target), this.traceSnapshot(this.target);
					break;
				case 50:
					break;
				case 51:
					break;
				case 52:
					break;
				case 53:
					break;
				case 54:
			}
		}, e.prototype.addDebug = function () {
			this._debugMode = !0, window.document.addEventListener("keyup", this.onKeyUp.bind(this))
		}, e.prototype.traceSticker = function (t) {
			window._s = t, void 0
		}, e.prototype.traceSnapshot = function (t) {
			t._debugSnapshot && (t = t._debugSnapshot), t.transform && void 0
		}, e.prototype.debugRestoreSticker = function (t) {
			if (this._debugSnapshot) for (var e = 0; e < this._debugSnapshot.length; e++) {
				var i = this._debugSnapshot[e];
				t.url == i.url && (this.traceSnapshot(i), this.traceSticker(t), t.scaleSignX = i.transform.scaleSignX, t.scaleSignY = i.transform.scaleSignY)
			}
		}, (0, l["default"])(e, [{
			key: "snapshot", get: function () {
				for (var t = [], e = 0; e < this.stickers.length; e++) {
					var i = this.stickers[e].snapshot;
					i.childIndex = this.stickerLayer.getChildIndex(this.stickers[e]), t[e] = i
				}
				return t.sort(function (t, e) {
					return t.childIndex < e.childIndex ? -1 : t.childIndex > e.childIndex ? 1 : 0
				}), t
			}
		}, {
			key: "modified", get: function () {
				return 0 !== this.stickers.length
			}
		}, {
			key: "lastSticker", get: function () {
				if (0 === this.stickers.length) return null;
				for (var t = this.stickerLayer.children, e = t.length; e--;) if (this.stickers.indexOf(t[e]) != -1) return t[e];
				return null
			}
		}, {
			key: "target", get: function () {
				return this.transformTool.target
			}
		}, {
			key: "complete", get: function () {
				return this.stickers.every(function (t) {
					return t.complete
				})
			}
		}]), e
	}(PIXI.utils.EventEmitter)
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0, e.Calc = void 0;
	var r = i(70), o = n(r), s = i(71), a = n(s);
	e.Calc = function () {
		function t() {
			(0, o["default"])(this, t)
		}

		return t.toRadians = function (e) {
			return e * t.DEG_TO_RAD
		}, t.toDegrees = function (e) {
			return e * t.RAD_TO_DEG
		}, t.getRotation = function (e, i) {
			var n = i.x - e.x, r = i.y - e.y, o = Math.atan2(r, n);
			return t.toDegrees(o)
		}, t.deltaTransformPoint = function (t, e) {
			var i = e.x * t.a + e.y * t.c + 0, n = e.x * t.b + e.y * t.d + 0;
			return {x: i, y: n}
		}, t.getScaleX = function (t) {
			return Math.sqrt(t.a * t.a + t.b * t.b)
		}, t.getScaleY = function (t) {
			return Math.sqrt(t.c * t.c + t.d * t.d)
		}, t.getSkewX = function (e) {
			var i = t.deltaTransformPoint(e, {x: 0, y: 1});
			return 180 / Math.PI * Math.atan2(i.y, i.x) - 90
		}, t.getSkewY = function (e) {
			var i = t.deltaTransformPoint(e, {x: 1, y: 0});
			return 180 / Math.PI * Math.atan2(i.y, i.x)
		}, t.snapTo = function (t, e) {
			return Math.round(t / e) * e
		}, t.toRoundDegreesByRadians = function (e) {
			return Math.round(t.toDegrees(e))
		}, t.toRoundRadiansByRadians = function (e) {
			return t.toRadians(t.toRoundDegreesByRadians(e))
		}, t.toRoundRadiansByDegrees = function (e) {
			return t.toRadians(t.toRoundDegreesByDegrees(e))
		}, t.toRoundDegreesByDegrees = function (t) {
			return Math.round(t)
		}, t.getModulusDegreesByRadians = function (e, i) {
			return t.toRoundDegreesByRadians(e) % i
		}, t.getModulusDegreesByDegrees = function (e, i) {
			return t.toRoundDegreesByDegrees(e) % i
		}, t.digit = function (t) {
			var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
			0 === e && (e = 1);
			var i = Math.pow(10, e);
			return parseInt(t * i) / i
		}, t.leadingZero = function (t) {
			var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 4, i = "";
			if (t = t.toString(), t.length < e) for (var n = 0; n < e - t.length; n++) i += "0";
			return i + t
		}, t.trace = function (e) {
			return t.leadingZero(parseInt(e))
		}, (0, a["default"])(t, null, [{
			key: "DEG_TO_RAD", get: function () {
				return this._DEG_TO_RAD || (this._DEG_TO_RAD = Math.PI / 180), this._DEG_TO_RAD
			}
		}, {
			key: "RAD_TO_DEG", get: function () {
				return this._RAD_TO_DEG || (this._RAD_TO_DEG = 180 / Math.PI), this._RAD_TO_DEG
			}
		}]), t
	}()
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0, e.VectorContainer = void 0;
	var r = i(70), o = n(r), s = i(96), a = n(s), h = i(71), l = n(h), u = i(97), c = n(u), f = i(213), d = i(215);
	e.VectorContainer = function (t) {
		function e() {
			var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 4e3;
			(0, o["default"])(this, e);
			var n = (0, a["default"])(this, t.call(this));
			return n.canvasLimitSize = i, n.initialize(), n.addEvent(), n
		}

		return (0, c["default"])(e, t), (0, l["default"])(e, null, [{
			key: "LOAD_COMPLETE", get: function () {
				return "drawComplete"
			}
		}, {
			key: "TEXTURE_UPDATE", get: function () {
				return "textureUpdate"
			}
		}]), e.prototype.initialize = function () {
			this.image = null, this.scaleSignX = 1, this.scaleSignY = 1, this._restoreScaleSignX = -1, this._restoreScaleSignY = -1, this.interactive = !0, this.isFirstLoad = !0, this.renderableObject = !0, this.childScaleX = 1, this.childScaleY = 1, this.canvgCanvas = document.createElement("CANVAS"), this.canvgCanvas.id = "canvgCanvas", this.canvgContext = this.canvgCanvas.getContext("2d")
		}, e.prototype.addEvent = function () {
			this.drawCompleteListener = this.onDrawComplete.bind(this), this.transformCompleteListener = this.onTransformComplete.bind(this), this.on(d.TransformTool.TRANSFORM_COMPLETE, this.transformCompleteListener)
		}, e.prototype.removeEvent = function () {
			this.off(d.TransformTool.TRANSFORM_COMPLETE, this.transformCompleteListener), this.drawCompleteListener = null, this.transformCompleteListener = null
		}, e.prototype.load = function (t) {
			var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
				i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
				n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 100,
				r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 100;
			this.url = t, this.originW = n, this.originH = r, this.drawSvg(e, i, n, r)
		}, e.prototype.setSVG = function (t) {
			var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
				i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
				n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 100,
				r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 100;
			this.svg = t, this.originW = n, this.originH = r, this.drawSvg(e, i, n, r)
		}, e.prototype.setPivot = function (t) {
			this.pivot = t
		}, e.prototype.drawSvg = function (t, e, i, n) {
			this.drawX = t, this.drawY = e, this.drawWidth = i, this.drawHeight = n;
			var r = i < 0 ? -1 : 1, o = n < 0 ? -1 : 1;
			this.scaleSignX = this.scaleSignX * r, this.scaleSignY = this.scaleSignY * o, i = Math.abs(i), n = Math.abs(n), i = i > this.canvasLimitSize ? this.canvasLimitSize : i, n = n > this.canvasLimitSize ? this.canvasLimitSize : n, this._timeout && clearTimeout(this._timeout), this.canvgCanvas.style.display = "none", document.body.appendChild(this.canvgCanvas), this.canvgCanvas.width = i, this.canvgCanvas.height = n, this.canvgContext.drawSvg(this.url || this.svg, t, e, i, n, {renderCallback: this.drawCompleteListener.call(this)})
		}, e.prototype["delete"] = function () {
			this.removeEvent(), this.interactive = !1, null !== this.image && (this.image.texture.destroy(), this.image.texture = null, this.removeChild(this.image), this.image.renderableObject = !1, this.image.destroy(), this.image = null), this.destroy(), this.svg && this.svg.parentNode && this.svg.parentNode.removeChild(this.svg), this._timeout && (clearTimeout(this._timeout), this._timeout = -1), this.canvgCanvas.parentNode && document.body.removeChild(this.canvgCanvas), this.svg = null, this.canvgCanvas.svg = null, this.canvgCanvas = null, this.canvgContext = null, this.drawCompleteListener = null, this.transformCompleteListener = null
		}, e.prototype.checkAlphaPoint = function (t) {
			var e = this.worldTransform.applyInverse(t), i = this.canvgContext.getImageData(e.x, e.y, 1, 1);
			return 0 == i.data[3]
		}, e.prototype.onTransformComplete = function (t) {
			"middleCenter" == t.type ? this.notifyTextureUpdate() : this.drawSvg(0, 0, this.width, this.height)
		}, e.prototype.onDrawComplete = function () {
			this.isFirstLoad === !0 ? (this.isFirstLoad = !1, this.createImage()) : (this.resetScale(), this.notifyTextureUpdate()), this._timeout = setTimeout(function () {
				this.canvgCanvas.parentNode && document.body.removeChild(this.canvgCanvas)
			}.bind(this), 500)
		}, e.prototype.createImage = function () {
			this.image = new PIXI.Sprite(new PIXI.Texture.fromCanvas(this.canvgCanvas)), this.image.renderableObject = !0, this.addChild(this.image), this.emit(e.LOAD_COMPLETE, {target: this})
		}, e.prototype.resetScale = function () {
			this.scale = {x: 1, y: 1}, this.image.scale = {
				x: this.scaleSignX,
				y: this.scaleSignY
			}, this.image.texture.update(), this.image.updateTransform()
		}, e.prototype.notifyTextureUpdate = function () {
			this.emit(e.TEXTURE_UPDATE, {target: this, scaleSignX: this.scaleSignX, scaleSignY: this.scaleSignY})
		}, e.prototype.toString = function () {
			void 0;
			var t = this.getLocalBounds(), e = this.image.getLocalBounds();
			void 0, void 0
		}, (0, l["default"])(e, [{
			key: "ID", get: function () {
				return this._id
			}, set: function (t) {
				this._id = t
			}
		}, {
			key: "scaleForOrigin", get: function () {
				return {x: this.width / this.originW, y: this.height / this.originH}
			}
		}, {
			key: "snapshot", get: function () {
				return {
					url: this.url,
					svg: this.svg,
					x: this.drawX,
					y: this.drawY,
					width: this.drawWidth,
					height: this.drawHeight,
					transform: {
						x: this.x,
						y: this.y,
						scaleX: this.scale.x,
						scaleY: this.scale.y,
						pivotX: this.pivot.x,
						pivotY: this.pivot.y,
						rotation: this.rotation,
						childIndex: this.parent.getChildIndex(this),
						childScaleX: this.image.scale.x,
						childScaleY: this.image.scale.y,
						originW: this.originW,
						originH: this.originH,
						scaleSignX: this.scaleSignX,
						scaleSignY: this.scaleSignY
					},
					pngSource: !1
				}
			}
		}, {
			key: "complete", get: function () {
				return !0
			}
		}]), e
	}(PIXI.Container)
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0, e.TransformTool = void 0;
	var r = i(70), o = n(r), s = i(96), a = n(s), h = i(71), l = n(h), u = i(97), c = n(u), f = i(211), d = i(213),
		p = i(216), g = i(217), m = i(218), y = i(219), v = i(214), _ = i(149), x = {
			tl: null,
			tr: null,
			tc: null,
			bl: null,
			br: null,
			bc: null,
			ml: null,
			mr: null,
			mc: null,
			rtl: null,
			rtc: null,
			rtr: null,
			rml: null,
			rmr: null,
			rbl: null,
			rbc: null,
			rbr: null
		}, b = 10;
	e.TransformTool = function (t) {
		function e(i, n) {
			var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {
				useSnap: !0,
				snapAngle: 5,
				deleteButtonOffsetY: 0
			};
			(0, o["default"])(this, e);
			var s = (0, a["default"])(this, t.call(this));
			return s.stageLayer = i, s.targetLayer = n, s.options = r, s.useSnap = r.useSnap, s.snapAngle = r.snapAngle, s.selectedControl = null, s.deleteButtonSize = 28, s.deleteButtonOffsetY = r.deleteButtonOffsetY, s.initialize(), s.addEvent(), s._px = 0, s._py = 0, s
		}

		return (0, c["default"])(e, t), (0, l["default"])(e, null, [{
			key: "DELETE", get: function () {
				return "delete"
			}
		}, {
			key: "SET_TARGET", get: function () {
				return "setTarget"
			}
		}, {
			key: "TRANSFORM_COMPLETE", get: function () {
				return "transformComplete"
			}
		}, {
			key: "SELECT", get: function () {
				return "select"
			}
		}, {
			key: "DESELECT", get: function () {
				return "deselect"
			}
		}, {
			key: "REQ_INPUT", get: function () {
				return "requestInput"
			}
		}, {
			key: "DBCLICK", get: function () {
				return "dbClick"
			}
		}, {
			key: "CONTROL_UP", get: function () {
				return "controlUp"
			}
		}]), e.prototype.initialize = function () {
			this.target = null, this.transform = new PIXI.Matrix, this.invertTransform = new PIXI.Matrix, this.g = this.graphics = new PIXI.Graphics, this.stageLayer.addChild(this.graphics), this.rotationCursorList = [new PIXI.Sprite.fromImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAOCAYAAAA8E3wEAAAAAXNSR0IArs4c6QAAAyRJREFUOBGNVF1IU2EY9pz9z9YkRdaPIfhHiV4V3Sy80S4jijLqwvDGO/Uq6KLLqBtpN+G9SndJmSBZlDYbNjeGLWSW2CQxt0E65+bmfk7Pc/I7HRdELzx7v/d7f7/3fc+kiv8jSWemPyu6e/1Zd334qHemhrJwFDryctCWRNtyiHvyv0gflEohC0PKMmDQcZFcJCpBVwQEF/e40uLxjqQwmAggJ5PJ85AZnDACZsAK2IBKwK5DuWyBjvb0EzEY8xxkfR41IQ3MhULBt7y8fBHnI8BR4FhLS8uJ2dnZqxsbG4/hPJnNZkPAJ2BxZ2dnKhaLPfH7/bc7OztP0x5wACymErpr+Xz+Gc4mgDnUDjI7q7JDGUqn03PT09OXqqurTwaDwTu7u7tvw+Hw68HBwZnW1tavJpMpB1vFaDTmUcxqb2/vnM/newW/D5FIZKC9vf0U9LVLS0s39/b2/Llc7jlkdog5JDEjCpb9/X1vV1eXPDExkYbhWiKRqO3p6XEFAoEzkiQpCPYFSLhcrlw8HjejG1ULCwtni8Wiob6+/vvo6Gikra0tH41G39TV1V3v6+uTR0ZG4na7/Rbis9ACoPaXvXciySK40tHR8dnj8bwzGAwFh8ORHBoamkqlUu/R8nHYPALuAQ8hP81kMnNjY2OTNTU1Cfr29/d7Nzc3PzY1Na01NzdH0aFJ3LPNbKvWUias4mzAxZYpbrc7vLW15UWyBysrK43QcQ4cgQa85jiS3gW83d3d8/Q3m81q23UJuQ9qQjqSmKTEtqnSwY/NZitYLJYKVPyysbExSpsyKGhlDC3zYF7jw8PDRXQkhdHwASTlICb9tNh8prY0BwrtlZhpAAFmtre3ud5qS8D1JGNhrmBjZxoaGr5Bofnihavo2gvccWnULWUAgi81YPjzoVDoh6IoamBWhzmWEKgSlbPqAdwFwTWC7WUI97FEP9fX1/P0Ff7wkeCbxWbfgA3/HNTAomoZs3KjIhmJ1TskU6xWawmfAD8DIqNPiMCs+gKWxwBIhN4f4yjJspx2Op0sUn25SFbOoT9ENCYJ/lv68/svf72P8gunF5KUe/EFxQAAAABJRU5ErkJggg=="), new PIXI.Sprite.fromImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyppVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1Rjc3NTE3RDZEQTcxMUU2OTkwNzk1ODBGOTZCN0JBOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1Rjc3NTE3RTZEQTcxMUU2OTkwNzk1ODBGOTZCN0JBOSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjVGNzc1MTdCNkRBNzExRTY5OTA3OTU4MEY5NkI3QkE5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjVGNzc1MTdDNkRBNzExRTY5OTA3OTU4MEY5NkI3QkE5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+bXt2owAAA1tJREFUeNqsVt1LWmEY99XjR7ZNZ8yGC0YrG2ODddXNBjXGrlpjH25rhKj76Cbovqv9A4PddN9N7kLYYNiFoMyltmBusUqIIHJCzTJD0yzNr/1e9xrH0wfH2gsPnvfjPL/3eZ7f7zkSycFBJIePsuSEQ3oIAGHr0kKh8Ix3hkj+w6g652DKTCbzulQq+fEsh8lOAyIVRECdyTc2Nmy5XM5cLBbpvoKtS5mRegGlghTJV1dXX+bz+RddXV2XkS66pmJA1YhkvHdIvZHI1tfXLYSQp52dndfw3IR0Kbxe752RkRED9ht4gJwATFQtuGQyORiNRr16vT5GmaRQKHJjY2OeQCDgTqVS37HvmJ2d7W9vb7+A/XMMVM7LxvEgqMFV5P9nT0/PL0bVGuM4Lt/b2/tjfn6eAjodDsdtrJ+HNYoFqqQqHo8/3tra8uGmv6ljjUaTDIfDkx6Px2Wz2fxqtXqbrpvN5m+IanpmZsaMeZNYoP2iI12mRCLhp0BarTYBhk0vLS09B51H0+m0b3h4+AsFovubm5tTDEgHU7M6ETEaUaDgT2hEYFcILPOz3Csikcj1vb09u9vtnkC9shQI56bHx8dvYV9DtSVGT/sRIe8Pd3d3fWDXJLthRSNOp1MNoPcul2uCRmS1WgM4+7m1tbWZpY0TRQLmUJbNZh+Uy2WvQEuEAX0YGhqie+VQKOQJBoP9eNayaKRiKV0xgNwVaKFyibW1tRuIwKdSqTJ9fX1BSm9GgobTtqAaNiLSUYvF4qP0pjoCKYxYPyNgGpGIDe2QzwAB4yYHBgbSaD0c9JM0mUw3GQDH63WVs5xY70gdvaWJNk2wjsD5pY6ODtpiJKA5uYeB34vQUwFWVCqVJUjgE6SQFA2CnrYNoLhMJnuLQkfn5uY40L0Smd1u1+/s7EgxrhiNxkJ3d3cz2PkOAKnqDY81IRZlHYT5ta2tLSxsPy0tLX9isZh/ZWXFyprpPxLUC0JfRFd4RAULoEgVwGAwRMG6qcXFxTeYn2XdWnpSkIpgaWeotiAaAeaBhYWFQaYXVQ2V6wSpaUG019GI0MV9y8vLr1h7UfG6RAWEHOGIX/DjBEtTdx8+GnU63UfMi8z4tToxiETwCSZCx/y/UNwplF8+4v/YgVv/FWAAZA0E5twGSyUAAAAASUVORK5CYII="), new PIXI.Sprite.fromImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAAXNSR0IArs4c6QAAAztJREFUOBF9VN9rUnEU915NS5BV2JRqa7CYkOAeEgqmSTF7jC2IPfU22Nvajzehl6CHHmR/xN6FbCP6icsZgYrDLXFzNFcgONlQNyf+urfP+d77vdwN6sC53+/3nPM53/PrewWDQoK60qLf01mmj0ra3gQBNxTVPZ25jOwlMAE4iK0EJCKQEUxnYjoT9VTuqisHMyPh+PjYZ7ValyRJEsCiLMsCiD6cm41GY76vry9J3kDMgVipVB6mUqlVVUBCxoFAIAvA+vb2th+yC2AeibLp9XoC3QKFRgD9jEajjUQi8crlcm1oCnXDczwvN0xOTlZarVZ5YmJiC0p9wWgvs6uNRiPLhdDBYHDD5/NtLS4u+pFCfzwefwwxXUDFOxOViOIEMpnMO4BSp6en8aOjo3WbzVbzer25k5OTLwj1OkA28Jk8hWaz+aBer39tt9uxQqFwH45eh8Ph9zCUNzc3P62trT3F/gr4Ili7Weh0On4UZ71arXqhMO3u7t4G+BvaIc3NzcVKpdIS5NfAVtKDlZABukusCkho7Ha7kdHR0bzb7S7UarUVyBxgHq7AigPPaWIotB6iRQWPx1PZ2dkZtFgsN6AjhxprDYXwPNWcTmcLaZih4HkpIULwP6Dt4ODAbDKZaE7ZiOlWBYj8yCMnFg56ewujdnl4ePgPql2CUv9KlAGA8B7AT7BSBEKxWOyH8WAymbwzNjZWQrt+qUAOVgxRQbrxJQaawCa73f48EolUUSDj9PR0Y39//zvk/InxsA1sAMrl8gcMQezw8HCepgfgytDQ0G84S4yPjw8CSK2gQml1YSOXTqdXkM8exi0xNTX1AwYyJuZjPp9/gf1V8CUwry628KB/j5jROmTy7OxsHJO0il7exFl/G2sJu1b/HjFqNjS8HQqFzCjS52w22waQisILw3LU4oVCI7xDMx6yY2Bg4Fkul3sEhVYQbsQeMm6QEKIwMjKyBwXrI9pjmJmZEZeXlxdQuI7D4Xir6pgTZoQh9uJnFULIIjFASh6iKGEQJFEUe6j0G/ysUurtzICBIaCK8ZdOKZBnYuofjZ0+T/Vd6aYeBtwRtoy4A/2qAcmChafY/vNLYEZ/ARukibLGcoOhAAAAAElFTkSuQmCC"), new PIXI.Sprite.fromImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAA71JREFUSA2lVUlPU1EYhU6UYi1qJIGwYlghsIGVkQ0JG8QRg4YgjVNMmhB/gQv+gAsXpCtcgFEjJgoaQouFUuwCIYHCCoSSME9lKnR+nvPoNWD7kMYvOX33ft+999xvuk1P+z9JV9guHderjk9SHJOAUK2vrxfjq+Y4rlMih/nsIh+O5dqNjY070Wh0dHt7+xnmGYAGEGQYHk3kQQo/wgPN8vLyTa1W+6K6ulp9eHj4YHV19RHO0QH0SqxL4eijpX88wIF3fT7fUFFRkRcmKScnZ21paWlwcXHRgnkmkOARdGcSkqh3d3dv7ezsOAUBdEy0IBpAjp5jztAJjzA8u6QHAoEbCI2zsrLSYzKZfMA2tks6nS5oNBr3SLy1tTXo9/ufQJ86iSRJ1YAjFosNhsPhoWAw6J6bmxskSXt7ux0Hj+ICbtiGscYViUQaYKP3KYnICeOdOTMz02C323sxllwul83hcNRjfAnIArSAXGX8SVUY/xgQzc3NvdbZ2Zml0WgiZWVlpr6+vgnog0A4vuZEU0KXXBCec39ZZG/m5+dL9vb2nAaDwV9bW/sTffIB6y4AekDkQjFUNMgAwXXAHJ/jc6Tv7u42hEKhzpaWlu/QSR6PxzY+Pn4fYyPAMCkeDptsZAjVrCIQjCB5bDBBrIoTvLLZbD3QS01NTT9Q0t2oqsuYGwDmS5GEBhJo0WS3EYoBt9v9BdXyOL5RvbKycgUevO3t7e1ByQZYrgiTu6ur6yrWnAfY7TwjKYkg0LGT2WiFhYVzVqv1G8hebm5u3sPhr3Fjp8ViceAQiQTQD4+NjTVhzlyILj+VQIu3qJ5PBQjmeVBra6vd6/XaUDVfm5ubnXq93k+92Wx24SLuOEFCyWJNgpBZzRDFnwqZADr5qRBflGm4rq5uZHJy0g6PPnd0dDBEF4ETPYF5gjBJlHQkOQshSUPCWR2y1NTUTDQ2Nq4hNFJpaWk2utg7PT39qby83IFOD2AR+4GIAuJSGCaK7AnUmbOzs4+RE1deXt4y5lJbW1s/Xlar0+msR7nyj4mhyQZ4+6T/HdAniPCEt4gWFBR8nJqa0iDWDysqKiSVShU7ODjwVFVV9cMubix3O+bcwzGFY0VhuQk36XKwpKTkPXLzBkS/iouLI+joCPQMDZ+LEHCcTOyF+t/CkJGQnvFZMC4sLJjxtzqGPniKOfOkWP+wnSrHw8WFdJ83jeXn57/b398PZWRksP6pT+nWWK8o9Eh4xUdODU/YaEKvuPE0Azcnk2T6U5Ob7BCh+w13D8jLwsORsAAAAABJRU5ErkJggg=="), new PIXI.Sprite.fromImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAOCAYAAAA8E3wEAAAAAXNSR0IArs4c6QAAAy1JREFUOBF9VE1IG1EQdpNs/jQNiAlW0h8UYkEIWCN4EQ/V3irFXgoFLd682PRorz3YS6iXHjwK4qktLRWkhlKtqWColcSSotEmXiS2KElM1MRkt9+87ixbKX3wMfPmzcw3M5mNVPfnSJokYdTZrGoKS7az5BiWbGfJcSo7kJTy+XyXoij15XLZRJ5ms1m12+2KxWJRNdRgXpMkiaQ4qqp2VatVJyARzs7OTLVaTeTleJfLFYWzQgEWQJBBmp1O55Pd3V378fGxqAiJVYLP55O9Xm8jfJ4ayXAXB8VMnp6eVhBbApkJRQhCiu3s7LwMpx7NVZDSoxlwoLq3fr//B3QiFGhra0sXCoWlUql0FzbROaTxSLlcLlipVJYGBga+4EGPJf38/HwD0glwc6JDujQg6TsQpsmRgFEUjo6OPh8eHj7G3QoQoagekg/dLalUqufk5GQFpESgk+LnieN+CZABE1dMQTwKkdBqtVYwWtfY2JjZ4XAMFYvFUDqd9sJP+JI/Y2dn53pzc/MdJK/DaKl4/Wjj/atQSkDsLiSdR4eZ9vb2TDabXRsfH1+BXW1qavo1Ozs7jw6iWIw5JJ4EJoBnuL9GYZ/C4fACJpLHolSnpqY+9vX1faNY+FCHbkBMiMgIVJUNCeeGh4e909PTyt7e3svW1tZb8XhcHhkZuZHJZK4gWa27uzuJgnLoqLy/v29PJBIewE+dBIPB7zMzM1mPx/PTZrNdGxwcrI9EIgqm1Yv8ZaAK6IQOVPMGI4klk8n7sHsDgYBve3v7EX7bVZz3o6OjUVoq6gLvqizL5Y6OjlQoFFra3NyMYEIf1tfXH2LbWxYXF28jLnphacRPSB3Slsp4fHVwcHAPer0GF2Rjf3//1Vgs9gBvL7CxC9jmOJAANvDtzqPT58vLy0PovIX8AVqShq2trV6MfBU6jZM4JB6pkPThu93ur3jgQxWRI42cfmfSeVmg6ttI3xd1zaA/BtrUOuS8iZz650JEdC5K4azZ6Y2JWIoCYef1JwIiZcnxMInDd/2vjR8uSmMhTMKSfZnUKOmNScifdb0zDv6fZHLyMep6MtiN+j9z/Qasm4fFL/kTlgAAAABJRU5ErkJggg=="), new PIXI.Sprite.fromImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAA6lJREFUSA2lVUlLW1EUNiZGY4zGxhoiIggqQqtLEVqo0KVYOqTowqYKHRFcdeOy/oFuCl260S5EkFYLYtLGTKTUKg3RhSixLpI4GzXikOH1+0KuxDHRHji8e84993xnuvfJss4n2Tlq6RxdRirFKSvhnF/BdC4AxPfUscvF7JRt4ZQ6gis3Nzfbtra2HmAtB4t9LK9GIhPhQADk+nw+YywWe65UKrOCwaDcYDB8heto0v21MiIIo80Da2dnZ1+vrKw4y8vLA1VVVX+RjQPyE+zlgBkI7a9EPMCDSrBmbm7u5fLysqusrCwIOdEPAm1vb9sB9gg6UTosM6fjLPx+f+fq6qqDGeB4AkB8q6urfbu7uxMHBwfs0ZUyoXEik3A43KpSqd7ZbLaV+fl5RTwezx4eHi4ZHx+v7+3t/a7X64/q6+ujjY2NBpx5L5PJRvHNiBKND4VChXK5XIVIP9XW1sorKioU+fn5deA4QLJMJpOk0+l+KhQKP4ZBgm2JJEkFAApnhAIjkQ1rzcaqwMV2u93ocrnGsZYA9G1jY+Mp1gxK2GOZGbHhYhzjWMfAHNPI0NCQp66uTovoowMDAxq1Wn0vxVacgerqxCiZEbPRoYyDLS0tk3l5eXs7Ozt2TN1t6FNHOJEVSncfepEhv2mJTnLB2snJybaZmRkL1lJXV5f16Ojo88jISD7kVIfZALEmp44BpgYB8XyiA9ZeXVlZqUcGXzo6OpyQpbGxsVEAfUgC0RmZk2jb39+3w/Yh5IwuLEEYEbMp6u/vv4OL6OaFxBNzYDabCTSwtLR0C/u8wKpIJOJoaGjw8sImXwbq02YksmFpbkxPTz/DdLkIBFnq7u7+gXG37+3tfVxYWGg9PDx0a7XaLfEE4a0zwi5tRgRhJDRUg3UAMmEQ3O3t7W7IEu5QuLOz02GxWMYWFxdtRUVFIerFE7S+vv4YMitCXxfSaaDiwcHBu6j7iNfrNTc3N//GeEdw+sTzQ7mpqekPLu3U2tpaDeRLQYieCsSxLkSkNz0eTxvHGz345XQ6zX19fRb06xD7Umlp6SrKNYH9V5DF5cXychJAPMCGsk8acHFPT0+N1Wo1ojdTGo1mlwCBQGACzX+LfQ5O2nLB5pgIlArGXvHfUwDWYXwT0wcAG17yLugYCINKO2GwOUOpYIySmakxwi78qm3owRvILGvayYJNRkRAAuXgMjpRshdYs0TXzgBnz5DISh6NRluxS0DymRLR8H/oovMnXul/F7SWjoEFkdEAAAAASUVORK5CYII="), new PIXI.Sprite.fromImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAAXNSR0IArs4c6QAAAz9JREFUOBFtVN9LU3EU997b7nJrG+hkYWKGOEFBIhdIWFHMFx+iN4NASv+A8EXfetxTkD304rNo0INgVhhkybURbmuwcDCnDRNxOtT9cIr7cW+f83Xf23XswNn5nvP9fs4538/33Al1F0W46Nb0NIpeMmwRqFr5Nh3mSjHNCKQAAUUoxaWKTzEVWoaWKlavyCplMplei8UyoaqqVC6XRVhKUicIgiZJkkp6cnLiczgcQV6R2hAQ+LW3tzdjt9snhoeH1UgkcpWAENbm/Px8zOVyWeFTIV3IoUSWaDT65ODgwN/R0bEFn99NCwQCn5LJ5EPERNYKFkYRurq6lra3t98ripKUZblg3ORrDmR3RJB8saenR25ra/P6fL4CRLbZbDkCVO5KHehCQGKxHtqwvr7+Ynl5+QvW2tDQ0M/Dw8Mf7e3tiVAotJDL5e4jzguyhYyAzev1tubzeT8q/nU6nSmwqOC+Y9ls9juIWzw9Pb2Hc1SI/VC1y9CG1dXVp36/fxFrbXp6euH4+HgcaxnJHmuaFigWi3fh60Bik2huQta3IyMjK3izEqqtJBIJehJ2dwAfQe/AZ0JoE9QGdaGlz263+09fX1+kVCrNIMYnCEu0oWnks0wE5CqC/ubNzc3Wzs7ONKZni85WFAYHBYFG7z87FKMARABAwoTQ+2VZpMaPTiv2eOayyWQq7O7umhFz1MCwEJHCAcyenZ3t4I5XMKdNIMiNfX4Nut8tQqHdEK9IIOpdBe3xgYGBHQDdeDPnxsbGDcSldDrdC/sGhFlgBSOQvrlSPB5XRkdHi8guTE1N5XHX54h58Lm9wtQUAORc4Pg5SexJwGYzHv2rx+OJYkYzR0dHCk0PJioUDoc/VI8cZdFnFTP5bG1tbYmGoL+//zdaD2NfCwaDH1Op1INKIZhzAqhtmld7Y2Pjtf39/XeTk5Pf4OvkGb/HC/8A/NDs7Gy32Wy+Pjc3R9NUUzhQ34zFYjdbWlpeDg4OWvFpdesbWBi/R84QWQF/VretVutrMFpPrHIlgCiKKlQDUWMgTeFASkxruieRRJ2QZQMNy54Klv89qtVAVhkHeBIsmegEwaMk+mCz3SrfmJT2CcxF+wduL3Nt3V5HIgAAAABJRU5ErkJggg=="), new PIXI.Sprite.fromImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAA5hJREFUSA2lVklMU1EUtb/fTlIpihgIG2TYOCxYsGFDYsIGMYoTCVaKGKNpQly4YeOCuHehG5Yk6IKEhaKGUBT6EZtQJRJgQUgaSJgqQylQZvo9p/aZ30mmm9z8++5775x777vv5etOHE90Sbar8T4p3nGIcYRgeXnZhj3EodInFOZfOQ4JESSj0Vi1trZ2D/ZJqEwfNIboqCQCRNra2tKbzebnU1NT1QA3QkkWQ3QYkn/AURA9vvL6+rrkdrv9BoOhfmxsjEQm+qFcH5GDkGjBCcxIDVBGbQKJPD4+LhcXF+enp6c7RkdHWTrOcW1k734kgiASdXSzGV9LQ0NDtqIoVy0Wy+VwOCyhXNkgupCZmWn3+Xy3NSQwUwsJGAQjt0DT8/Lyznu93mp0VNvKyspAf39/V0tLi6u8vHwI82xdNTc3d2Z+fl5ZWlq6j3FM2TCOES3BKcycaW1tLQXw+5GRke7KykqvLMs78EeAtd+CgoKJYDCoBAKBm/CLksGMlXiCs4ODg3Zs9Dgcjm9YqppMplBtba3S1dX1aWJiwtXU1NRNPwkA3jc7O8tyabsslgEjkjBN1j4DBA8WFxf7CYCx6nQ6e5CRsr29/Rr+O6urqy+am5s/FxYW+piB3++/hXVsDJaaWAkisuCi0+3t7aWov4cEaNHNzs7OjwB/Nzc3dwnzkWbY2Nio93g8H0DWGy3RfzMgo8jCAuBziLjDbrd/h191uVwkeNXR0cEmEFHqdnd3H6qq6t3c3LwOP4nFHMzkQhJGYh0aGqoeHh52wVbRrl9B8DZKwDVUig4EDug12hrlXIKIBYyENzaDbVpRUfED92ANpVAmJycvwp8QJQjSEtCSOLQEPIu0xsbGIhziANu0rq6uLxQKvYFfe5gikyRwiS5GRuEm2iyVEZfrCkoVRL3lmpqaEFqyD/4D1RvrEoStegJgdyVJcu7t7UmwJTwThra2tgDn8vPzzTk5Oc92dnacer1e1el0Ybhf4vuF8wcVZqFHSR7hKXCzXa1W6ypadgt+FY/ess1mC5SUlAyjXZVoFx2qXAwkQoKvEW/Ok5mZGXdWVtZvEgglMS8aWvoGfCzbkUh4HpFbPj097QRRryAiAZ+K6E3e96IBJ6UwMnHwFgA+xWH3lJWV/WIGsPkWabsrJdB+E4KIGRlxTx6jEX4uLCxUYXysDOKJBRHrLuOMivA9cusKcILGSzIf1yT8T8VvTDX+A7nQiRk9jngZAAAAAElFTkSuQmCC")];
			for (var t = 0; t < this.rotationCursorList.length; t++) {
				var e = this.rotationCursorList[t];
				e.visible = !1, e.anchor = {x: .5, y: .5}, this.stageLayer.addChild(e)
			}
			var i = {photoEditor: this.stageLayer},
				n = {photoEditor: this.stageLayer, rotationCursorList: this.rotationCursorList},
				r = {photoEditor: this.stageLayer};
			this.c = this.controls = {
				de: new g.ToolControl(m.ToolControlType.DELETE, r),
				tl: new g.ToolControl(m.ToolControlType.TOP_LEFT, i),
				tc: new g.ToolControl(m.ToolControlType.TOP_CENTER, i),
				tr: new g.ToolControl(m.ToolControlType.TOP_RIGHT, i),
				ml: new g.ToolControl(m.ToolControlType.MIDDLE_LEFT, i),
				mr: new g.ToolControl(m.ToolControlType.MIDDLE_RIGHT, i),
				bl: new g.ToolControl(m.ToolControlType.BOTTOM_LEFT, i),
				bc: new g.ToolControl(m.ToolControlType.BOTTOM_CENTER, i),
				br: new g.ToolControl(m.ToolControlType.BOTTOM_RIGHT, i),
				mc: new g.ToolControl(m.ToolControlType.MIDDLE_CENTER, i),
				rde: new g.ToolControl(m.ToolControlType.ROTATION, n, y.RotationControlType.DELETE),
				rtl: new g.ToolControl(m.ToolControlType.ROTATION, n, y.RotationControlType.TOP_LEFT),
				rtc: new g.ToolControl(m.ToolControlType.ROTATION, n, y.RotationControlType.TOP_CENTER),
				rtr: new g.ToolControl(m.ToolControlType.ROTATION, n, y.RotationControlType.TOP_RIGHT),
				rml: new g.ToolControl(m.ToolControlType.ROTATION, n, y.RotationControlType.MIDDLE_LEFT),
				rmr: new g.ToolControl(m.ToolControlType.ROTATION, n, y.RotationControlType.MIDDLE_RIGHT),
				rbl: new g.ToolControl(m.ToolControlType.ROTATION, n, y.RotationControlType.BOTTOM_LEFT),
				rbc: new g.ToolControl(m.ToolControlType.ROTATION, n, y.RotationControlType.BOTTOM_CENTER),
				rbr: new g.ToolControl(m.ToolControlType.ROTATION, n, y.RotationControlType.BOTTOM_RIGHT)
			}, this.c.mc.on(g.ToolControl.MOVE_START, this.onControlMoveStart.bind(this)), this.c.mc.on(g.ToolControl.MOVE, this.onControlMove.bind(this)), this.c.mc.on(g.ToolControl.MOVE_END, this.onControlMoveEnd.bind(this)), this.c.mc.on(g.ToolControl.DBCLICK, this.onControlDBClick.bind(this)), this.stageLayer.addChild(this.c.rde), this.stageLayer.addChild(this.c.rtl), this.stageLayer.addChild(this.c.rtc), this.stageLayer.addChild(this.c.rtr), this.stageLayer.addChild(this.c.rml), this.stageLayer.addChild(this.c.rmr), this.stageLayer.addChild(this.c.rbl), this.stageLayer.addChild(this.c.rbc), this.stageLayer.addChild(this.c.rbr), this.stageLayer.addChild(this.c.mc);
			for (var o in this.controls) {
				var s = this.controls[o];
				switch (s.visible = !1, s.centerPoint = this.controls.mc, s.targetLayer = this.targetLayer, s.type) {
					case m.ToolControlType.DELETE:
						this.stageLayer.addChild(s), s.on("click", this.onDelete.bind(this));
						break;
					case m.ToolControlType.ROTATION:
						s.on(g.ToolControl.ROTATE_START, this.onRotateStart.bind(this)), s.on(g.ToolControl.ROTATE, this.onRotate.bind(this)), s.on(g.ToolControl.ROTATE_END, this.onRotateEnd.bind(this)), s.on(g.ToolControl.CHANGE_ROTATION_CURSOR, this.onChangeRotationCursor.bind(this));
						break;
					case m.ToolControlType.TOP_LEFT:
					case m.ToolControlType.TOP_RIGHT:
					case m.ToolControlType.TOP_CENTER:
					case m.ToolControlType.MIDDLE_LEFT:
					case m.ToolControlType.MIDDLE_RIGHT:
					case m.ToolControlType.BOTTOM_LEFT:
					case m.ToolControlType.BOTTOM_RIGHT:
					case m.ToolControlType.BOTTOM_CENTER:
						this.stageLayer.addChild(s), s.on(g.ToolControl.MOVE_START, this.onControlMoveStart.bind(this)), s.on(g.ToolControl.MOVE, this.onControlMove.bind(this)), s.on(g.ToolControl.MOVE_END, this.onControlMoveEnd.bind(this))
				}
			}
		}, e.prototype.addEvent = function () {
			this.stageLayer.on(e.SET_TARGET, this.onSetTarget.bind(this)), this.stageLayer.root.on("mousedown", this.onMouseDown, this), this.stageLayer.root.on("mouseup", this.onMouseUp, this), this.downCnt = 0
		}, e.prototype.onMouseDown = function (t) {
			t.data.originalEvent.target == this.stageLayer.renderer.view && (this._px = t.data.global.x, this._py = t.data.global.y)
		}, e.prototype.onMouseUp = function (t) {
			if (t.data.originalEvent.target == this.stageLayer.renderer.view) {
				if (this.downCnt--, this.downCnt < 0 && this.target) {
					var i = t.data.global.x - this._px, n = t.data.global.y - this._py;
					i * i + n * n <= b * b && (this.target.emit(e.DESELECT), this.target.visible = !0, this.releaseTarget())
				}
				this.downCnt = 0
			}
		}, e.prototype.show = function () {
			this.controls && !this.g.visible && (this.g.visible = !0, (0, _.each)(this.controls, function (t) {
				return t.visible = !0
			}))
		}, e.prototype.hide = function () {
			this.controls && this.g.visible !== !1 && (this.g.visible = !1, (0, _.each)(this.controls, function (t) {
				return t.visible = !1
			}), (0, _.each)(this.rotationCursorList, function (t) {
				return t.visible = !1
			}))
		}, e.prototype.activeTarget = function (t) {
			this.target = t, this.removeTextureUpdateEvent(), this.addTextureUpdateEvent(), this.update(), this.drawCenter(), this.target.emit(e.SELECT, t), this.stageLayer.emit(e.SET_TARGET, t)
		}, e.prototype.drawCenter = function () {
			null !== this.target && (this.stageLayer.updateTransform(), this.c.mc.drawCenter(d.Calc.toRadians(this.c.mc.angle), this.width, this.height))
		}, e.prototype.setTarget = function (t) {
			var i = t.target;
			i.emit(e.SET_TARGET, i), this.activeTarget(i), this.c.mc.emit("mousedown", t), this.enableCurrentStyleCursor("move")
		}, e.prototype.releaseTarget = function () {
			null !== this.target && (this.hide(), this.removeTextureUpdateEvent(), this.target = null)
		}, e.prototype.addTextureUpdateEvent = function () {
			this.target._targetTextureUpdateListener = this.onTextureUpdate.bind(this), this.target.on(v.VectorContainer.TEXTURE_UPDATE, this.target._targetTextureUpdateListener)
		}, e.prototype.removeTextureUpdateEvent = function () {
			null !== this.target && null !== this.target._targetTextureUpdateListener && (this.target.off(v.VectorContainer.TEXTURE_UPDATE, this.target._targetTextureUpdateListener), this.target._targetTextureUpdateListener = null)
		}, e.prototype.update = function () {
			null !== this.target && (this.setControls(), this.updateTransform(), this.draw(), this.updatePrevTargetLt())
		}, e.prototype.setControls = function () {
			var t = this.target.scaleSignX, e = this.target.scaleSignY, i = this.target.getLocalBounds(),
				n = i.width * t, r = i.height * e, o = this.deleteButtonOffsetY * e;
			this.c.tl.localPoint = new PIXI.Point(0, 0), this.c.tr.localPoint = new PIXI.Point(n, 0), this.c.tc.localPoint = p.PointUtil.interpolate(this.c.tr.localPoint, this.c.tl.localPoint, .5), this.c.bl.localPoint = new PIXI.Point(0, r), this.c.br.localPoint = new PIXI.Point(n, r), this.c.bc.localPoint = p.PointUtil.interpolate(this.c.br.localPoint, this.c.bl.localPoint, .5), this.c.ml.localPoint = p.PointUtil.interpolate(this.c.bl.localPoint, this.c.tl.localPoint, .5), this.c.mr.localPoint = p.PointUtil.interpolate(this.c.br.localPoint, this.c.tr.localPoint, .5), this.c.mc.localPoint = p.PointUtil.interpolate(this.c.bc.localPoint, this.c.tc.localPoint, .5), this.c.de.localPoint = p.PointUtil.add(this.c.tl.localPoint.clone(), new PIXI.Point(0, o));
			var s = this.c;
			this.c.rde.localPoint = new PIXI.Point(s.de.localPoint.x, s.de.localPoint.y), this.c.rtl.localPoint = new PIXI.Point(s.tl.localPoint.x, s.tl.localPoint.y), this.c.rtc.localPoint = new PIXI.Point(s.tc.localPoint.x, s.tc.localPoint.y), this.c.rtr.localPoint = new PIXI.Point(s.tr.localPoint.x, s.tr.localPoint.y), this.c.rml.localPoint = new PIXI.Point(s.ml.localPoint.x, s.ml.localPoint.y), this.c.rmr.localPoint = new PIXI.Point(s.mr.localPoint.x, s.mr.localPoint.y), this.c.rbl.localPoint = new PIXI.Point(s.bl.localPoint.x, s.bl.localPoint.y), this.c.rbc.localPoint = new PIXI.Point(s.bc.localPoint.x, s.bc.localPoint.y), this.c.rbr.localPoint = new PIXI.Point(s.br.localPoint.x, s.br.localPoint.y);
			for (var a in this.controls) {
				var h = this.controls[a];
				h.target = this.target
			}
		}, e.prototype.updateTransform = function () {
			this.transform = this.target.worldTransform.clone(), this.invertTransform = this.transform.clone(), this.invertTransform.invert();
			for (var t in this.controls) {
				var e = this.controls[t];
				e.transform = this.transform
			}
			this.targetFlipScale = {x: this.target.scale.x, y: this.target.scale.y}
		}, e.prototype.updatePrevTargetLt = function () {
			null !== this.target && (this.prevLtX = this.lt.x, this.prevLtY = this.lt.y)
		}, e.prototype.scaleCorner = function (t) {
			var e = t.target, i = t.currentMousePoint, n = this.invertTransform.apply(i),
				r = this.invertTransform.apply(this.startMousePoint), o = p.PointUtil.subtract(n, r),
				e = this.invertTransform.apply(e.globalPoint), s = this.invertTransform.apply(this.c.mc.globalPoint),
				a = p.PointUtil.subtract(e, s), h = 2 * a.x, l = 2 * a.y, u = (1 + o.x / h) * this.targetFlipScale.x,
				c = (1 + o.y / l) * this.targetFlipScale.y, f = Math.abs(u), d = Math.abs(c), g = u > 0 ? 1 : -1,
				m = c > 0 ? 1 : -1;
			f > d ? c = f * m : u = d * g, this.target.scale = {x: u, y: c}
		}, e.prototype.scaleMiddle = function (t) {
			var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], i = t.target,
				n = t.currentMousePoint, r = 1, o = 1, s = this.invertTransform.apply(n),
				a = this.invertTransform.apply(this.startMousePoint), h = p.PointUtil.subtract(s, a),
				i = this.invertTransform.apply(i.globalPoint), l = this.invertTransform.apply(this.c.mc.globalPoint),
				u = p.PointUtil.subtract(i, l), c = 2 * u.x, f = 2 * u.y;
			e ? r = 1 + h.x / c : o = 1 + h.y / f, r *= this.targetFlipScale.x, o *= this.targetFlipScale.y, this.target.scale = {
				x: r,
				y: o
			}
		}, e.prototype.move = function (t) {
			var e = t.targetChangeMovement;
			this.target.x += e.x, this.target.y += e.y
		}, e.prototype.doTransform = function (t) {
			var e = t.target;
			switch (e.type) {
				case m.ToolControlType.TOP_LEFT:
				case m.ToolControlType.TOP_RIGHT:
				case m.ToolControlType.BOTTOM_LEFT:
				case m.ToolControlType.BOTTOM_RIGHT:
					this.scaleCorner(t);
					break;
				case m.ToolControlType.MIDDLE_LEFT:
				case m.ToolControlType.MIDDLE_RIGHT:
					this.scaleMiddle(t, !0);
					break;
				case m.ToolControlType.TOP_CENTER:
				case m.ToolControlType.BOTTOM_CENTER:
					this.scaleMiddle(t, !1);
					break;
				case m.ToolControlType.MIDDLE_CENTER:
					this.move(t)
			}
		}, e.prototype.draw = function () {
			this.stageLayer.updateTransform();
			var t = this.g;
			t.visible = !0;
			var e = this.target.worldTransform.clone(), i = {
				de: this.deleteButtonPosition,
				tl: e.apply(this.c.tl.localPoint),
				tr: e.apply(this.c.tr.localPoint),
				tc: e.apply(this.c.tc.localPoint),
				bl: e.apply(this.c.bl.localPoint),
				br: e.apply(this.c.br.localPoint),
				bc: e.apply(this.c.bc.localPoint),
				ml: e.apply(this.c.ml.localPoint),
				mr: e.apply(this.c.mr.localPoint),
				mc: e.apply(this.c.mc.localPoint),
				rde: this.deleteButtonPosition,
				rtl: e.apply(this.c.rtl.localPoint),
				rtc: e.apply(this.c.rtc.localPoint),
				rtr: e.apply(this.c.rtr.localPoint),
				rml: e.apply(this.c.rml.localPoint),
				rmr: e.apply(this.c.rmr.localPoint),
				rbl: e.apply(this.c.rbl.localPoint),
				rbc: e.apply(this.c.rbc.localPoint),
				rbr: e.apply(this.c.rbr.localPoint)
			};
			t.clear(), t.lineStyle(.5, 16777215), this.drawRect(t, i);
			for (var n in this.controls) {
				var r = i[n], o = this.controls[n];
				o.x = r.x, o.y = r.y, o.visible = !0
			}
		}, e.prototype.updateGraphics = function () {
			if (this.target) {
				this.stageLayer.updateTransform(), this.g.visible = !0;
				var t = this.c, e = this.target.worldTransform, i = (0, _.map)(x, function (i, n) {
					return e.apply(t[n].localPoint)
				});
				i.de = i.rde = this.deleteButtonPosition, this.g.clear(), this.g.lineStyle(.5, 16777215), this.drawRect(this.g, i), (0, _.each)(this.controls, function (t, e) {
					t.x = i[e].x, t.y = i[e].y, t.visible = !0
				})
			}
		}, e.prototype.drawRect = function (t, e) {
			t.moveTo(e.tl.x, e.tl.y), t.lineTo(e.tr.x, e.tr.y), t.lineTo(e.br.x, e.br.y), t.lineTo(e.bl.x, e.bl.y), t.lineTo(e.tl.x, e.tl.y)
		}, e.prototype.setPivotByLocalPoint = function (t) {
			this.target.setPivot(t), this.target.pivot = t, this.adjustPosition()
		}, e.prototype.setPivotByControl = function (t) {
			this.pivot = this.getPivot(t), this.target.setPivot(this.pivot.localPoint), this.adjustPosition()
		}, e.prototype.adjustPosition = function () {
			var t = this.lt.x - this.prevLtX, e = this.lt.y - this.prevLtY, i = 1, n = 1;
			this.stageLayer && (i = this.stageLayer.croppedScaleX, n = this.stageLayer.croppedScaleY);
			var r = t / (this.diffScaleX * i), o = e / (this.diffScaleY * n), s = t - r, a = e - o;
			this.target.x = this.target.x - t + s, this.target.y = this.target.y - e + a, this.updatePrevTargetLt()
		}, e.prototype.getPivot = function (t) {
			switch (t.type) {
				case m.ToolControlType.DELETE:
					return this.c.mc;
				case m.ToolControlType.ROTATION:
					return this.c.mc;
				case m.ToolControlType.TOP_LEFT:
					return this.c.br;
				case m.ToolControlType.TOP_CENTER:
					return this.c.bc;
				case m.ToolControlType.TOP_RIGHT:
					return this.c.bl;
				case m.ToolControlType.MIDDLE_LEFT:
					return this.c.mr;
				case m.ToolControlType.MIDDLE_RIGHT:
					return this.c.ml;
				case m.ToolControlType.BOTTOM_LEFT:
					return this.c.tr;
				case m.ToolControlType.BOTTOM_CENTER:
					return this.c.tc;
				case m.ToolControlType.BOTTOM_RIGHT:
					return this.c.tl;
				case m.ToolControlType.MIDDLE_CENTER:
					return this.c.mc
			}
		}, e.prototype.enableCurrentStyleCursor = function () {
			var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
			if (null !== this.target) {
				this.target.buttonMode = !1, this.target.interactive = !1, this.target.defaultCursor = "inherit";
				for (var e in this.c) {
					var i = this.c[e];
					i.buttonMode = !1, i.interactive = !1, i.defaultCursor = "inherit"
				}
				this.stageLayer.buttonMode = !0, this.stageLayer.interactive = !0, "" !== t ? this.stageLayer.defaultCursor = t : this.stageLayer.defaultCursor = f.Mouse.currentCursorStyle
			}
		}, e.prototype.disableCurrentStyleCursor = function () {
			if (null !== this.target) {
				this.target.buttonMode = !0, this.target.interactive = !0, this.target.defaultCursor = "inherit";
				for (var t in this.c) {
					var e = this.c[t];
					e.buttonMode = !0, e.interactive = !0, e.defaultCursor = "inherit"
				}
				this.stageLayer.buttonMode = !1, this.stageLayer.interactive = !1, this.stageLayer.defaultCursor = "inherit", this.selectedControl.onMouseOver()
			}
		}, e.prototype.emitControlUp = function (t) {
			t && this.emit(e.CONTROL_UP, {type: e.CONTROL_UP})
		}, e.prototype.onSetTarget = function (t) {
			this.target !== t && this.releaseTarget()
		}, e.prototype.onDelete = function (t) {
			this.target && (this.target.emit(e.DELETE, this.target), this.emit(e.CONTROL_UP, {type: e.CONTROL_UP}))
		}, e.prototype.onRotateStart = function (t) {
			this.target && (this.downCnt++, this.target._rotation = this.target.rotation, this.selectedControl = t.target, this.setPivotByControl(t.target), this.enableCurrentStyleCursor())
		}, e.prototype.onRotate = function (t) {
			if (this.target) {
				var e = !1, i = !1, n = this.stageLayer;
				if (n.crop && (e = !0, i = n.crop.isImageRotated), 1 == this.useSnap && 0 == i) {
					var r = this.target._rotation + t.changeRadian, o = d.Calc.toDegrees(r),
						s = Math.round(Math.abs(o) % 90);
					s < this._startSnapAngle || s > this._endSnapAngle ? this.target.rotation = d.Calc.toRadians(d.Calc.snapTo(o, 90)) : this.target.rotation = r, this.target._rotation = r
				} else this.target.rotation += t.changeRadian, this.target._rotation = this.target.rotation;
				this.draw(), this.updatePrevTargetLt()
			}
		}, e.prototype.onRotateEnd = function (t) {
			this.target && (this.update(), this.drawCenter(), this.disableCurrentStyleCursor(), this.emitControlUp(t.modified))
		}, e.prototype.onControlMoveStart = function (t) {
			this.target && (this.downCnt++, this.startMousePoint = {
				x: t.currentMousePoint.x,
				y: t.currentMousePoint.y
			}, this.selectedControl = t.target, this.setPivotByControl(t.target), this.updatePrevTargetLt(), this.enableCurrentStyleCursor())
		}, e.prototype.onControlMove = function (t) {
			this.target && (this.doTransform(t), this.draw(), this.updatePrevTargetLt())
		}, e.prototype.onControlMoveEnd = function (t) {
			this.target && (this.target.emit(e.TRANSFORM_COMPLETE, t), this.disableCurrentStyleCursor(), this.emitControlUp(t.modified))
		}, e.prototype.onControlDBClick = function (t) {
			this.target && this.target.emit(e.DBCLICK, {target: this.target})
		}, e.prototype.onChangeRotationCursor = function (t) {
			this.stageLayer.defaultCursor = t
		}, e.prototype.onTextureUpdate = function (t) {
			var e = t.target;
			e.width, e.height;
			this.setPivotByLocalPoint({x: 0, y: 0}), this.update(), this.drawCenter()
		}, (0, l["default"])(e, [{
			key: "lt", get: function () {
				this.target.displayObjectUpdateTransform();
				var t = this.target.worldTransform.clone();
				return t.rotate(-this.targetLayer.rotation), t.apply({x: 0, y: 0})
			}
		}, {
			key: "deleteButtonPosition", get: function () {
				if (!this.c) return new PIXI.Point(0, 0);
				var t = this.target.worldTransform.clone(), e = t.apply(this.c.tl.localPoint),
					i = t.apply(this.c.ml.localPoint);
				return p.PointUtil.add(p.PointUtil.getAddedInterpolate(e, i, this.deleteButtonOffsetY), new PIXI.Point((-this.deleteButtonSize), (-this.deleteButtonSize)))
			}
		}, {
			key: "rotateControlPosition", get: function () {
				if (!this.c) return new PIXI.Point(0, 0);
				var t = this.target.worldTransform.clone(), e = t.apply(this.c.tc.localPoint),
					i = t.apply(this.c.ro.localPoint);
				return p.PointUtil.getAddedInterpolate(e, i, this.rotationLineLength)
			}
		}, {
			key: "diffScaleX", get: function () {
				var t = this.target.worldTransform;
				return Math.sqrt(t.a * t.a + t.b * t.b)
			}
		}, {
			key: "diffScaleY", get: function () {
				var t = this.target.worldTransform;
				return Math.sqrt(t.c * t.c + t.d * t.d)
			}
		}, {
			key: "width", get: function () {
				return this.target.width * this.diffScaleX
			}
		}, {
			key: "height", get: function () {
				return this.target.height * this.diffScaleY
			}
		}, {
			key: "useSnap", set: function (t) {
				this._useSnap = t
			}, get: function () {
				return this._useSnap
			}
		}, {
			key: "snapAngle", set: function (t) {
				this._snapAngle = t, this._startSnapAngle = t, this._endSnapAngle = 90 - t
			}, get: function () {
				return this._snapAngle
			}
		}]), e
	}(PIXI.utils.EventEmitter)
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0, e.PointUtil = void 0;
	var r = i(70), o = n(r);
	e.PointUtil = function () {
		function t() {
			(0, o["default"])(this, t)
		}

		return t.add = function (t, e) {
			return new PIXI.Point(t.x + e.x, t.y + e.y)
		}, t.subtract = function (t, e) {
			return new PIXI.Point(t.x - e.x, t.y - e.y)
		}, t.distance = function (t, e) {
			return Math.sqrt((t.x - e.x) * (t.x - e.x) + (t.y - e.y) * (t.y - e.y))
		}, t.calcDistance = function (t, e) {
			return Math.sqrt((t.x - e.x) * (t.x - e.x) + (t.y - e.y) * (t.y - e.y))
		}, t.getAddedInterpolate = function (e, i, n) {
			var r = t.calcDistance(e, i), o = (r + n) / r;
			return t.interpolate(e, i, o)
		}, t.interpolate = function (t, e, i) {
			return new PIXI.Point(e.x + i * (t.x - e.x), e.y + i * (t.y - e.y))
		}, t.normalize = function (t, e) {
			if (0 == t.x && 0 == t.y) return t;
			var i = e / Math.sqrt(t.x * t.x + t.y * t.y);
			return t.x *= i, t.y *= i, t
		}, t
	}()
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0, e.ToolControl = void 0;
	var r = i(70), o = n(r), s = i(96), a = n(s), h = i(71), l = n(h), u = i(97), c = n(u), f = i(211), d = i(213),
		p = i(218), g = i(219), m = i(181), y = i(220), v = null, _ = null,
		x = {origin: {x: 0, y: 0}, width: 0, height: 0, radian: 0, center: {x: 0, y: 0}};
	e.ToolControl = function (t) {
		function e(i) {
			var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
				r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : g.RotationControlType.NONE;
			(0, o["default"])(this, e);
			var s = (0, a["default"])(this, t.call(this));
			return s.type = i, s.options = n, s.photoEditor = n.photoEditor, s.rotationControlType = r, s.rotationCursorList = n.rotationCursorList, s._cursorIndex = s.getCursorIndex(), s.currentRadian = 0, s.currentRotation = 0, s.drawAlpha = 0, s.buttonMode = !0, s.interactive = !0, s.defaultCursor = "inherit", s._isMouseDown = !1, s._localPoint = new PIXI.Point, s._pressedPos = {
				x: 0,
				y: 0
			}, s.initialize(), s.render(), s.addCursorEvent(), s.addMouseDownEvent(), s
		}

		return (0, c["default"])(e, t), (0, l["default"])(e, null, [{
			key: "DELETE", get: function () {
				return "delete"
			}
		}, {
			key: "MOVE_START", get: function () {
				return "moveStart"
			}
		}, {
			key: "MOVE", get: function () {
				return "move"
			}
		}, {
			key: "MOVE_END", get: function () {
				return "moveEnd"
			}
		}, {
			key: "ROTATE_START", get: function () {
				return "rotateStart"
			}
		}, {
			key: "ROTATE", get: function () {
				return "rotate"
			}
		}, {
			key: "ROTATE_END", get: function () {
				return "rotateEnd"
			}
		}, {
			key: "CHANGE_ROTATION_CURSOR", get: function () {
				return "changeRotationCursor"
			}
		}, {
			key: "DBCLICK", get: function () {
				return "dbClick"
			}
		}, {
			key: "DBCLICK_TIME", get: function () {
				return 400
			}
		}, {
			key: "mouseBoundary", get: function () {
				return v
			}, set: function (t) {
				v = t;
				var e = t.tl, i = t.tr, n = t.bl, r = t.br;
				_ = [e.x, e.y, i.x, i.y, i.x, i.y, r.x, r.y, r.x, r.y, n.x, n.y, n.x, n.y, e.x, e.y]
			}
		}, {
			key: "imageRect", get: function () {
				return x
			}, set: function (t) {
				x = t;
				var e = (0, m.rotate)(t.width >> 1, t.height >> 1, t.radian), i = x.center = x.center || {};
				i.x = t.origin.x + e.x, i.y = t.origin.y + e.y
			}
		}]), e.prototype.initialize = function () {
			this.g = this.graphics = new PIXI.Graphics, this.addChild(this.graphics)
		}, e.prototype.render = function () {
			switch (this.type) {
				case p.ToolControlType.TOP_LEFT:
				case p.ToolControlType.TOP_CENTER:
				case p.ToolControlType.TOP_RIGHT:
				case p.ToolControlType.MIDDLE_LEFT:
				case p.ToolControlType.MIDDLE_RIGHT:
				case p.ToolControlType.BOTTOM_LEFT:
				case p.ToolControlType.BOTTOM_CENTER:
				case p.ToolControlType.BOTTOM_RIGHT:
					this.drawControl();
					break;
				case p.ToolControlType.MIDDLE_CENTER:
					this.drawControl();
					break;
				case p.ToolControlType.ROTATION:
					this.drawRotation();
					break;
				case p.ToolControlType.DELETE:
					this.drawDeleteButton()
			}
		}, e.prototype.drawControl = function () {
			var t = 3, e = t / 2, i = 5, n = i / 2, r = 10, o = r / 2;
			this.g.clear(), this.g.beginFill(16724991, this.drawAlpha), this.g.drawRect(-o, -o, r, r), this.g.beginFill(16777215, 1), this.g.drawRect(-n, -n, i, i), this.g.beginFill(0, 1), this.g.drawRect(-e, -e, t, t), this.g.endFill()
		}, e.prototype.drawCenter = function (t, e, i) {
			var n = this.target.scale.x, r = this.target.scale.y;
			this.rotation = t, this.g.clear(), this.g.beginFill(16724991, this.drawAlpha), this.g.drawRect(-(e / 2) * n, -(i / 2) * r, e * n, i * r), this.g.endFill()
		}, e.prototype.drawRotation = function () {
			var t = 22, e = t / 2;
			this.g.clear(), this.g.beginFill(16724736, this.drawAlpha), this.g.drawRect(-e, -e, t, t), this.g.endFill()
		}, e.prototype.drawDeleteButton = function () {
			this.deleteTexture = PIXI.Texture.fromImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAB2UlEQVRIie2VTUsqYRTHj2M4MhHUIKLDCC58QxHdulHEnWsXfYco0kUUVHKDXqgJLtw2fYC+haDixpUgA8KIgsj4Hm1qTCf03EW3W9xL40yCtPC/eRbnPOd3Dvyf8+gA4AYWpJU/5/0CWCZiAZC/WsKWsK/DotEoPZlMjg0Gg25WIURMzwXLZrMPLpfrajQaHVutVoMSiCTJk7lgAAD1ev05Fov9arVaB6FQaP1jLBKJ0IiYttlsF7Is49wwgNcJE4nEbaFQ2Ha73dQbKJfLbdM0fSqK4lhNHR287kZV64plWbLZbO47nc7LWq22ZzabzwaDwYuauwBgWpmd8y5RFMcEQfxAxHQymbzTAAIAjdYPh8MbiJj2+/3XHMdtqnGpZpjRaCTsdrsxn8/v+Hw+rlKpPAWDwZ/D4fDQ4/GsEoS6nvUAEAeAoVJSPB43F4vFXYvFct5oNEaICP1+X65Wq7VMJrPF83xVEIQnREVDUjMNQlEUIUnSEcMw551OR/43HggE1kqlUtLr9XKCICg1rfyfsSxLSpJ05HA4Lnu93n8gAIByufyo1+tPeJ7fTaVSTqV6mqyvJIZhyG63O55Op5+laLO+ktrt9syH/X22/hL2LWFvbjQtAvYb9NC0/9Sr3AYAAAAASUVORK5CYII="), this.deleteOverTexture = PIXI.Texture.fromImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAABCElEQVRIie3UvWrDMBDA8VNtD8EfIojYwlPA0Rrw4HcIef9XyRAh9O/SlgaaWC4htGDBLcdJP4HupEQEedF6exW0Yiv2jzDnnIQQJMuy2YMgbVx5FMYYYozUdX23BiDLsofnfMRsAc45Yozs9/ub/OFwAEBrnQKlYSLCOI5479ntdjfQZrNJhdIxEUFrTYwRYwwAZVkugZZh39/odDot3rcIG4YBAGst1+s1tSmWYXmes91uAei6DqUU1lq897Rti1LqedjxeASgqqqb/DRNeO8ZxzEVfFxQFAXA3Tnr+54QwleX/hrTWgNgjJm9+eVy4Xw+P78bf4qmaWYvpD7FV6y/8+uv2Iq9A1yTczX16ka0AAAAAElFTkSuQmCC"), this.texture = this.deleteTexture
		}, e.prototype.hideAllRotationCursor = function () {
			if (this.type === p.ToolControlType.ROTATION) for (var t = this.rotationCursorList.length, e = 0; e < t; e++) this.rotationCursorList[e].visible = !1
		}, e.prototype.addCursorEvent = function () {
			this.mouseover = this.onMouseOver.bind(this), this.mouseout = this.onMouseOut.bind(this), this.mousemove = this.onMouseOverMove.bind(this)
		}, e.prototype.addMouseDownEvent = function () {
			this._mouseDownListener = this.onMouseDown.bind(this), this.on("mousedown", this._mouseDownListener)
		}, e.prototype.removeMouseDownEvent = function () {
			this.off("mousedown", this._mouseDownListener)
		}, e.prototype.addMouseMoveEvent = function () {
			this._mouseMoveListener = this.onMouseMove.bind(this), this._mouseUpListener = this.onMouseUp.bind(this), window.document.addEventListener("mousemove", this._mouseMoveListener)
		}, e.prototype.removeMouseMoveEvent = function () {
			window.document.removeEventListener("mousemove", this._mouseMoveListener), window.document.removeEventListener("mouseup", this._mouseUpListener)
		}, e.prototype.onMouseDown = function (t) {
			t.stopPropagation(), this._isMouseDown = !0, this._pressedPos.x = t.data.global.x, this._pressedPos.y = t.data.global.y;
			var i = {x: t.data.global.x, y: t.data.global.y};
			this.prevMousePoint = this.currentMousePoint = i, this.targetPrevMousePoint = this.targetCurrentMousePoint = this.targetLayer.toLocal(i);
			var n = (new Date).getTime();
			return this.startTime && this.type == p.ToolControlType.MIDDLE_CENTER && this.downTarget && this.downTarget == this.target && n - this.startTime < e.DBCLICK_TIME ? (this.emit(e.DBCLICK), this.startTime = null, void(this.downTarget = null)) : (this.startTime = n, this.downTarget = this.target, this.type === p.ToolControlType.ROTATION ? (this.prevRotation = this.currentRotation = d.Calc.getRotation(this.centerPoint.globalPoint, {
				x: t.data.global.x,
				y: t.data.global.y
			}), this.prevRotation = this.currentRotation = this.getFlipRotation(this.currentRotation), this.currentRadian = d.Calc.toRadians(this.currentRotation), this.emit(e.ROTATE_START, {
				target: this,
				type: this.type,
				currentRadian: this.currentRadian,
				currentRotation: this.currentRotation,
				currentMousePoint: this.currentMousePoint
			})) : this.emit(e.MOVE_START, {
				target: this,
				type: this.type,
				currentMousePoint: this.currentMousePoint,
				targetCurrentMousePoint: this.targetCurrentMousePoint
			}), this.addMouseMoveEvent(), window.document.addEventListener("mouseup", this._mouseUpListener), void(this.prevMousePoint = this.targetPrevMousePoint = null))
		}, e.prototype.getFlipRotation = function (t) {
			if (this.photoEditor) {
				var e = this.photoEditor.croppedScaleX, i = this.photoEditor.croppedScaleY;
				e == -1 && 1 == i ? t *= -1 : 1 == e && i == -1 && (t *= -1)
			}
			return t
		}, e.prototype.hitTest = function (t, i) {
			return (0, m.hitTestWithBoundary)(t.x, t.y, e.imageRect) ? (this._lastPoint = t, t) : this._lastPoint || (0, y.getIntersectionWithlines)(i.x, i.y, t.x, t.y, _) || t
		}, e.prototype.onMouseMove = function (t) {
			var i = f.Mouse.global;
			this.currentMousePoint = i, this.targetCurrentMousePoint = this.targetLayer.toLocal(i), this.prevMousePoint = this.prevMousePoint || this.currentMousePoint, this.targetPrevMousePoint = this.targetPrevMousePoint || this.targetCurrentMousePoint, this.targetCurrentMousePoint = this.hitTest(this.targetCurrentMousePoint, this._lastPoint || e.imageRect.center), this.changeMovement = {
				x: this.currentMousePoint.x - this.prevMousePoint.x,
				y: this.currentMousePoint.y - this.prevMousePoint.y
			}, this.targetChangeMovement = {
				x: this.targetCurrentMousePoint.x - this.targetPrevMousePoint.x,
				y: this.targetCurrentMousePoint.y - this.targetPrevMousePoint.y
			}, this.moveRotationCursor(), this.type === p.ToolControlType.ROTATION ? (this.currentRotation = d.Calc.getRotation(this.centerPoint.globalPoint, f.Mouse.global), this.currentRotation = this.getFlipRotation(this.currentRotation), this.changeRotation = this.currentRotation - this.prevRotation, this.absChangeRotation = this.changeRotation < 0 ? this.changeRotation * -1 : this.changeRotation, this.absChangeRotation < 100 && this.emit(e.ROTATE, {
				prevRotation: this.prevRotation,
				changeRotation: this.changeRotation,
				currentRotation: this.currentRotation,
				currentRadian: d.Calc.toRadians(this.currentRotation),
				changeRadian: d.Calc.toRadians(this.changeRotation)
			}), this.emit(e.CHANGE_ROTATION_CURSOR, this.getRotationCursor())) : this.emit(e.MOVE, {
				target: this,
				type: this.type,
				prevMousePoint: this.prevMousePoint,
				changeMovement: this.changeMovement,
				currentMousePoint: this.currentMousePoint,
				targetPrevMousePoint: this.targetPrevMousePoint,
				targetChangeMovement: this.targetChangeMovement,
				targetCurrentMousePoint: this.targetCurrentMousePoint
			}), this.prevRotation = this.currentRotation, this.prevMousePoint = this.currentMousePoint, this.targetPrevMousePoint = this.targetCurrentMousePoint
		}, e.prototype.onMouseUp = function (t) {
			this._isMouseDown = !1;
			var i = f.Mouse.global,
				n = this.currentMousePoint.x != this._pressedPos.x && this.currentMousePoint.y != this._pressedPos.y;
			this.currentMousePoint = i, this.targetCurrentMousePoint = this.targetLayer.toLocal(i), this.prevMousePoint = this.prevMousePoint || this.currentMousePoint, this.targetPrevMousePoint = this.targetPrevMousePoint || this.targetCurrentMousePoint, this.changeMovement = {
				x: this.currentMousePoint.x - this.prevMousePoint.x,
				y: this.currentMousePoint.y - this.prevMousePoint.y
			}, this.targetChangeMovement = {
				x: this.targetCurrentMousePoint.x - this.targetPrevMousePoint.x,
				y: this.targetCurrentMousePoint.y - this.targetPrevMousePoint.y
			}, this.moveRotationCursor(), this.type === p.ToolControlType.ROTATION ? (this.currentRotation = d.Calc.getRotation(this.centerPoint.globalPoint, f.Mouse.global), this.currentRotation = this.getFlipRotation(this.currentRotation), this.changeRotation = this.currentRotation - this.prevRotation, this.absChangeRotation = this.changeRotation < 0 ? this.changeRotation * -1 : this.changeRotation, this.absChangeRotation < 100 && this.emit(e.ROTATE_END, {
				target: this,
				type: this.type,
				modified: n,
				prevRotation: this.prevRotation,
				changeRotation: this.changeRotation,
				currentRotation: this.currentRotation,
				currentRadian: d.Calc.toRadians(this.currentRotation),
				changeRadian: d.Calc.toRadians(this.changeRotation)
			})) : this.emit(e.MOVE_END, {
				target: this,
				type: this.type,
				modified: n,
				prevMousePoint: this.prevMousePoint,
				changeMovement: this.changeMovement,
				currentMousePoint: this.currentMousePoint,
				targetPrevMousePoint: this.targetPrevMousePoint,
				targetChangeMovement: this.targetChangeMovement,
				targetCurrentMousePoint: this.targetCurrentMousePoint
			}), this.removeMouseMoveEvent()
		}, e.prototype.onMouseOver = function () {
			this.defaultCursor = this.getCursor(), this.type === p.ToolControlType.DELETE && (this.texture = this.deleteOverTexture), this.type === p.ToolControlType.ROTATION && (this.rotationCursor = this.rotationCursorList[this.cursorIndex], this.moveRotationCursor(), this.rotationCursor.visible = !0)
		}, e.prototype.onMouseOut = function () {
			this.type === p.ToolControlType.DELETE && (this.texture = this.deleteTexture), "none" !== f.Mouse.defaultCursor && (this.rotationCursor = null, this.hideAllRotationCursor())
		}, e.prototype.onMouseOverMove = function () {
			this.type === p.ToolControlType.ROTATION && this.moveRotationCursor()
		}, e.prototype.moveRotationCursor = function () {
			if (this.rotationCursor && null !== this.rotationCursor) {
				var t = this.rotationCursorList[this.cursorIndex];
				this.rotationCursor !== t && (this.rotationCursor.visible = !1, this.rotationCursor = t, this.rotationCursor.visible = !0), this.rotationCursor.x = f.Mouse.globalX, this.rotationCursor.y = f.Mouse.globalY
			}
		}, e.prototype.getAngleIndex = function () {
			var t = this.angle;
			return t > 337.5 && t <= 22.5 ? 0 : t > 22.5 && t <= 67.5 ? 1 : t > 67.5 && t <= 112.5 ? 2 : t > 112.5 && t <= 157.5 ? 3 : t > 157.5 && t <= 202.5 ? 4 : t > 202.5 && t <= 247.5 ? 5 : t > 247.5 && t <= 292.5 ? 6 : t > 292.5 && t <= 337.5 ? 7 : 0
		}, e.prototype.getCursor = function () {
			switch (this.type) {
				case p.ToolControlType.TOP_LEFT:
				case p.ToolControlType.TOP_CENTER:
				case p.ToolControlType.TOP_RIGHT:
				case p.ToolControlType.MIDDLE_LEFT:
				case p.ToolControlType.MIDDLE_RIGHT:
				case p.ToolControlType.BOTTOM_LEFT:
				case p.ToolControlType.BOTTOM_CENTER:
				case p.ToolControlType.BOTTOM_RIGHT:
					return this.getScaleCursor();
				case p.ToolControlType.ROTATION:
					return this.getRotationCursor();
				case p.ToolControlType.DELETE:
					return "pointer";
				case p.ToolControlType.MIDDLE_CENTER:
					return "move"
			}
		}, e.prototype.getScaleCursor = function () {
			switch (this.cursorIndex) {
				case 0:
					return "ns-resize";
				case 1:
					return "nesw-resize";
				case 2:
					return "ew-resize";
				case 3:
					return "nwse-resize";
				case 4:
					return "ns-resize";
				case 5:
					return "nesw-resize";
				case 6:
					return "ew-resize";
				case 7:
					return "nwse-resize"
			}
		}, e.prototype.getRotationCursor = function () {
			return "none"
		}, e.prototype.getFlipCursor = function (t) {
			if (!this.photoEditor) return t;
			var e = this.target.scale.x, i = this.target.scale.y, n = this.photoEditor.croppedScaleX,
				r = this.photoEditor.croppedScaleY, o = e * i * n * r < 1;
			if (o) switch (t) {
				case 0:
					return 0;
				case 1:
					return 7;
				case 2:
					return 6;
				case 3:
					return 5;
				case 4:
					return 4;
				case 5:
					return 3;
				case 6:
					return 2;
				case 7:
					return 1
			}
			return t
		}, e.prototype.getCursorIndex = function () {
			if (this.type === p.ToolControlType.ROTATION) return this.getRotationCursorIndex();
			var t = this.target ? this.target.scaleSignX : 1, e = this.target ? this.target.scaleSignY : 1;
			if (1 === t && 1 === e) switch (this.type) {
				case p.ToolControlType.TOP_CENTER:
					return 0;
				case p.ToolControlType.TOP_RIGHT:
					return 1;
				case p.ToolControlType.MIDDLE_RIGHT:
					return 2;
				case p.ToolControlType.BOTTOM_RIGHT:
					return 3;
				case p.ToolControlType.BOTTOM_CENTER:
					return 4;
				case p.ToolControlType.BOTTOM_LEFT:
					return 5;
				case p.ToolControlType.MIDDLE_LEFT:
					return 6;
				case p.ToolControlType.TOP_LEFT:
					return 7
			} else if (t === -1 && 1 === e) switch (this.type) {
				case p.ToolControlType.TOP_CENTER:
					return 0;
				case p.ToolControlType.TOP_RIGHT:
					return 7;
				case p.ToolControlType.MIDDLE_RIGHT:
					return 6;
				case p.ToolControlType.BOTTOM_RIGHT:
					return 5;
				case p.ToolControlType.BOTTOM_CENTER:
					return 4;
				case p.ToolControlType.BOTTOM_LEFT:
					return 3;
				case p.ToolControlType.MIDDLE_LEFT:
					return 2;
				case p.ToolControlType.TOP_LEFT:
					return 1
			} else if (1 === t && e === -1) switch (this.type) {
				case p.ToolControlType.TOP_CENTER:
					return 4;
				case p.ToolControlType.TOP_RIGHT:
					return 3;
				case p.ToolControlType.MIDDLE_RIGHT:
					return 2;
				case p.ToolControlType.BOTTOM_RIGHT:
					return 1;
				case p.ToolControlType.BOTTOM_CENTER:
					return 0;
				case p.ToolControlType.BOTTOM_LEFT:
					return 7;
				case p.ToolControlType.MIDDLE_LEFT:
					return 6;
				case p.ToolControlType.TOP_LEFT:
					return 5
			} else if (t === -1 && e === -1) switch (this.type) {
				case p.ToolControlType.TOP_CENTER:
					return 4;
				case p.ToolControlType.TOP_RIGHT:
					return 5;
				case p.ToolControlType.MIDDLE_RIGHT:
					return 6;
				case p.ToolControlType.BOTTOM_RIGHT:
					return 7;
				case p.ToolControlType.BOTTOM_CENTER:
					return 0;
				case p.ToolControlType.BOTTOM_LEFT:
					return 1;
				case p.ToolControlType.MIDDLE_LEFT:
					return 2;
				case p.ToolControlType.TOP_LEFT:
					return 3
			} else switch (this.type) {
				case p.ToolControlType.TOP_CENTER:
					return 0;
				case p.ToolControlType.TOP_RIGHT:
					return 1;
				case p.ToolControlType.MIDDLE_RIGHT:
					return 2;
				case p.ToolControlType.BOTTOM_RIGHT:
					return 3;
				case p.ToolControlType.BOTTOM_CENTER:
					return 4;
				case p.ToolControlType.BOTTOM_LEFT:
					return 5;
				case p.ToolControlType.MIDDLE_LEFT:
					return 6;
				case p.ToolControlType.TOP_LEFT:
					return 7
			}
		}, e.prototype.getRotationCursorIndex = function () {
			var t = this.target ? this.target.scaleSignX : 1, e = this.target ? this.target.scaleSignY : 1;
			if (1 === t && 1 === e) switch (this.rotationControlType) {
				case g.RotationControlType.TOP_CENTER:
					return 0;
				case g.RotationControlType.TOP_RIGHT:
					return 1;
				case g.RotationControlType.MIDDLE_RIGHT:
					return 2;
				case g.RotationControlType.BOTTOM_RIGHT:
					return 3;
				case g.RotationControlType.BOTTOM_CENTER:
					return 4;
				case g.RotationControlType.BOTTOM_LEFT:
					return 5;
				case g.RotationControlType.MIDDLE_LEFT:
					return 6;
				case g.RotationControlType.TOP_LEFT:
				case g.RotationControlType.DELETE:
					return 7
			} else if (t === -1 && 1 === e) switch (this.rotationControlType) {
				case g.RotationControlType.TOP_CENTER:
					return 0;
				case g.RotationControlType.TOP_RIGHT:
					return 7;
				case g.RotationControlType.MIDDLE_RIGHT:
					return 6;
				case g.RotationControlType.BOTTOM_RIGHT:
					return 5;
				case g.RotationControlType.BOTTOM_CENTER:
					return 4;
				case g.RotationControlType.BOTTOM_LEFT:
					return 3;
				case g.RotationControlType.MIDDLE_LEFT:
					return 2;
				case g.RotationControlType.TOP_LEFT:
				case g.RotationControlType.DELETE:
					return 1
			} else if (1 === t && e === -1) switch (this.rotationControlType) {
				case g.RotationControlType.TOP_CENTER:
					return 4;
				case g.RotationControlType.TOP_RIGHT:
					return 3;
				case g.RotationControlType.MIDDLE_RIGHT:
					return 2;
				case g.RotationControlType.BOTTOM_RIGHT:
					return 1;
				case g.RotationControlType.BOTTOM_CENTER:
					return 0;
				case g.RotationControlType.BOTTOM_LEFT:
					return 7;
				case g.RotationControlType.MIDDLE_LEFT:
					return 6;
				case g.RotationControlType.TOP_LEFT:
				case g.RotationControlType.DELETE:
					return 5
			} else if (t === -1 && e === -1) switch (this.rotationControlType) {
				case g.RotationControlType.TOP_CENTER:
					return 4;
				case g.RotationControlType.TOP_RIGHT:
					return 5;
				case g.RotationControlType.MIDDLE_RIGHT:
					return 6;
				case g.RotationControlType.BOTTOM_RIGHT:
					return 7;
				case g.RotationControlType.BOTTOM_CENTER:
					return 0;
				case g.RotationControlType.BOTTOM_LEFT:
					return 1;
				case g.RotationControlType.MIDDLE_LEFT:
					return 2;
				case g.RotationControlType.TOP_LEFT:
				case g.RotationControlType.DELETE:
					return 3
			} else switch (this.rotationControlType) {
				case g.RotationControlType.TOP_CENTER:
					return 0;
				case g.RotationControlType.TOP_RIGHT:
					return 1;
				case g.RotationControlType.MIDDLE_RIGHT:
					return 2;
				case g.RotationControlType.BOTTOM_RIGHT:
					return 3;
				case g.RotationControlType.BOTTOM_CENTER:
					return 4;
				case g.RotationControlType.BOTTOM_LEFT:
					return 5;
				case g.RotationControlType.MIDDLE_LEFT:
					return 6;
				case g.RotationControlType.TOP_LEFT:
				case g.RotationControlType.DELETE:
					return 7
			}
		}, (0, l["default"])(e, [{
			key: "target", set: function (t) {
				this._target = t
			}, get: function () {
				return this._target
			}
		}, {
			key: "transform", set: function (t) {
				this._transform = t
			}, get: function () {
				return this._transform
			}
		}, {
			key: "localPoint", set: function (t) {
				this._localPoint = t
			}, get: function () {
				return this._localPoint
			}
		}, {
			key: "globalPoint", get: function () {
				return this.transform.apply(this._localPoint)
			}
		}, {
			key: "centerPoint", set: function (t) {
				this._centerPoint = t
			}, get: function () {
				return this._centerPoint
			}
		}, {
			key: "angle", get: function () {
				var t = this.target.worldTransform.clone(), e = d.Calc.getSkewX(t);
				return e = e < 0 ? e + 360 : e
			}
		}, {
			key: "cursorIndex", get: function () {
				return (this.getAngleIndex() + this.getFlipCursor(this.getCursorIndex())) % 8
			}
		}, {
			key: "targetLayer", set: function (t) {
				this._targetLayer = t
			}, get: function () {
				return this._targetLayer
			}
		}, {
			key: "isMouseDown", get: function () {
				return this._isMouseDown
			}
		}]), e
	}(PIXI.Sprite)
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0, e.ToolControlType = void 0;
	var r = i(70), o = n(r), s = i(71), a = n(s);
	e.ToolControlType = function () {
		function t() {
			(0, o["default"])(this, t)
		}

		return (0, a["default"])(t, null, [{
			key: "DELETE", get: function () {
				return "delete"
			}
		}, {
			key: "ROTATION", get: function () {
				return "rotation"
			}
		}, {
			key: "TOP_LEFT", get: function () {
				return "topLeft"
			}
		}, {
			key: "TOP_CENTER", get: function () {
				return "topCenter"
			}
		}, {
			key: "TOP_RIGHT", get: function () {
				return "topRight"
			}
		}, {
			key: "MIDDLE_LEFT", get: function () {
				return "middleLeft"
			}
		}, {
			key: "MIDDLE_CENTER", get: function () {
				return "middleCenter"
			}
		}, {
			key: "MIDDLE_RIGHT", get: function () {
				return "middleRight"
			}
		}, {
			key: "BOTTOM_LEFT", get: function () {
				return "bottomLeft"
			}
		}, {
			key: "BOTTOM_CENTER", get: function () {
				return "bottomCenter"
			}
		}, {
			key: "BOTTOM_RIGHT", get: function () {
				return "bottomRight"
			}
		}]), t
	}()
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0, e.RotationControlType = void 0;
	var r = i(70), o = n(r), s = i(71), a = n(s);
	e.RotationControlType = function () {
		function t() {
			(0, o["default"])(this, t)
		}

		return (0, a["default"])(t, null, [{
			key: "NONE", get: function () {
				return "rotationNone"
			}
		}, {
			key: "DELETE", get: function () {
				return "rotationDelete"
			}
		}, {
			key: "TOP_LEFT", get: function () {
				return "rotationTopLeft"
			}
		}, {
			key: "TOP_CENTER", get: function () {
				return "rotationTopCenter"
			}
		}, {
			key: "TOP_RIGHT", get: function () {
				return "rotationTopRight"
			}
		}, {
			key: "MIDDLE_LEFT", get: function () {
				return "rotationMiddleLeft"
			}
		}, {
			key: "MIDDLE_RIGHT", get: function () {
				return "rotationMiddleRight"
			}
		}, {
			key: "BOTTOM_LEFT", get: function () {
				return "rotationBottomLeft"
			}
		}, {
			key: "BOTTOM_CENTER", get: function () {
				return "rotationBottomCenter"
			}
		}, {
			key: "BOTTOM_RIGHT", get: function () {
				return "rotationBottomRight"
			}
		}]), t
	}()
}, function (t, e, i) {
	"use strict";

	function n(t, e, i, n, r, o, s, a) {
		return !(Math.min(t, i) > Math.max(r, s) || Math.max(t, i) < Math.min(r, s) || Math.min(e, n) > Math.max(o, a) || Math.max(e, n) < Math.min(o, a))
	}

	function r(t, e, i, n, r, o, s, a) {
		var h = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : null, l = i - t, u = n - e, c = s - r,
			f = a - o, d = l * l + u * u, p = c * l + f * u, g = p, m = c * c + f * f, y = -d * m + p * g;
		if (0 == y) return null;
		var v = r - t, _ = o - e, x = v * l + _ * u, b = v * c + _ * f, w = (-x * m + p * b) / y,
			T = (d * b - g * x) / y;
		return w < 0 || w > 1 || T < 0 || T > 1 ? null : (h = h || {}, h.x = t + w * (i - t), h.y = e + w * (n - e), h)
	}

	function o(t, e, i, n, o) {
		for (var s = void 0, a = void 0, h = void 0, l = void 0, u = void 0, c = 0, f = o.length; c < f && (s = o[c], a = o[c + 1], h = o[c + 2], l = o[c + 3], !(u = r(t, e, i, n, s, a, h, l))); c += 4) ;
		return u
	}

	e.__esModule = !0, e.pseudoTestLine = n, e.getIntersection = r, e.getIntersectionWithlines = o;
	i(155)
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(71), a = n(s), h = i(96), l = n(h), u = i(97), c = n(u), f = i(214), d = i(222),
		p = function (t) {
			function e() {
				var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 4e3;
				(0, o["default"])(this, e);
				var n = (0, l["default"])(this, t.call(this));
				return n.canvasLimitSize = i, n.source = document.createElement("img"), n.source.crossOrigin = "Anonymous", n.source.onload = n.onSourceLoadComplete.bind(n), n._complete = !1, n
			}

			return (0, c["default"])(e, t), e.prototype.load = function (t) {
				var e = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 100),
					i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 100;
				this._complete = !1, this.url = t, this.originW = e, this.originH = i, this.source.src = this.url
			}, e.prototype["delete"] = function () {
				t.prototype["delete"].call(this), this.source.onload = null
			}, e.prototype.drawSvg = function (t, e, i, n) {
				this.drawX = t, this.drawY = e, this.drawWidth = i, this.drawHeight = n;
				var r = i < 0 ? -1 : 1, o = n < 0 ? -1 : 1;
				this.scaleSignX = this.scaleSignX * r, this.scaleSignY = this.scaleSignY * o, i = Math.abs(i), n = Math.abs(n), i = i > this.canvasLimitSize ? this.canvasLimitSize : i, n = n > this.canvasLimitSize ? this.canvasLimitSize : n, this.resizeSource(i, n), this.onDrawComplete()
			}, e.prototype.resizeSource = function (t, e) {
				var i = this.canvgContext;
				i.canvas.width = 0 | t, i.canvas.height = 0 | e, (0, d.resizeImage)(this.source, i)
			}, e.prototype.onSourceLoadComplete = function (t) {
				if (this._complete = !0, this._restored) this.drawSvg(0, 0, this.originW, this.originH), this.scaleSignX = this._restoreScaleSignX, this.scaleSignY = this._restoreScaleSignY; else {
					var e = this.originW / Math.max(this.sourceWidth, this.sourceHeight);
					this.drawSvg(0, 0, e * this.sourceWidth | 0, e * this.sourceHeight | 0)
				}
			}, (0, a["default"])(e, [{
				key: "sourceWidth", get: function () {
					return this.source.complete ? this.source.width || this.source.naturalWidth : 0
				}
			}, {
				key: "sourceHeight", get: function () {
					return this.source.complete ? this.source.height || this.source.naturalHeight : 0
				}
			}, {
				key: "snapshot", get: function () {
					return {
						url: this.url,
						svg: this.svg,
						x: this.drawX,
						y: this.drawY,
						width: this.drawWidth,
						height: this.drawHeight,
						transform: {
							x: this.x,
							y: this.y,
							scaleX: this.scale.x,
							scaleY: this.scale.y,
							pivotX: this.pivot.x,
							pivotY: this.pivot.y,
							rotation: this.rotation,
							childIndex: this.parent.getChildIndex(this),
							childScaleX: this.image ? this.image.scale.x : 1,
							childScaleY: this.image ? this.image.scale.y : 1,
							originW: this.originW,
							originH: this.originH,
							scaleSignX: this.scaleSignX,
							scaleSignY: this.scaleSignY
						},
						pngSource: !0,
						stickerID: this.stickerID
					}
				}
			}, {
				key: "complete", get: function () {
					return this._complete
				}
			}]), e
		}(f.VectorContainer);
	e["default"] = p
}, function (t, e) {
	"use strict";

	function i(t, e) {
		var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, n = i;
		e.save(), e.setTransform(1, 0, 0, 1, 0, 0), null != i && e.setTransform(n[0], n[1], n[2], n[3], n[4], n[5]), e.drawImage(t, 0, 0), e.restore()
	}

	function n(t, e, i, r, o, s, a) {
		var h = i, l = r;
		if (i != o && (i = i + a * (o - i) | 0, Math.abs(.6 * i * (1 - a)) > Math.abs(o - i) && (i = o)), r != s && (r = r + a * (s - r) | 0, Math.abs(.6 * r * (1 - a)) > Math.abs(s - r) && (r = s)), i == o && r == s) return t;
		var u = e[0];
		return e.unshift(e.pop()), u.canvas.width = i, u.canvas.height = r, u.drawImage(t, 0, 0, h, l, 0, 0, i, r), n(u.canvas, e, i, r, o, s, a)
	}

	function r(t, e) {
		var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : -1,
			a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : -1,
			h = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : .5,
			l = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : null, u = e.canvas.width,
			c = e.canvas.height;
		if (i == -1 && (i = t.width || t.naturalWidth), a == -1 && (a = t.height || t.naturalHeight), l) o.canvas.width = i, o.canvas.height = a, o.setTransform(l[0], l[1], l[2], l[3], l[4], l[5]), o.drawImage(t, 0, 0), r(o.canvas, e, i, a, h); else {
			var f = n(t, [s, o], i, a, u, c, h);
			e.drawImage(f, 0, 0, f.width || f.naturalWidth, f.height || f.naturalHeight, 0, 0, u, c)
		}
	}

	e.__esModule = !0, e.transformImage = i, e.resizeImage = r;
	var o = document.createElement("canvas").getContext("2d"), s = document.createElement("canvas").getContext("2d")
}, function (t, e, i) {
	"use strict";
	!function (e, n) {
		"undefined" != typeof t && t.exports && (t.exports = n(i(224), i(225))), e.canvg = n(e.RGBColor, e.stackBlur)
	}("undefined" != typeof window ? window : void 0, function (t, e) {
		function i(t) {
			var e = [0, 0, 0], i = function (i, n) {
				var r = t.match(i);
				null != r && (e[n] += r.length, t = t.replace(i, " "))
			};
			return t = t.replace(/:not\(([^\)]*)\)/g, "     $1 "), t = t.replace(/{[\s\S]*/gm, " "), i(s, 1), i(a, 0), i(h, 1), i(l, 2), i(u, 1), i(c, 1), t = t.replace(/[\*\s\+>~]/g, " "), t = t.replace(/[#\.]/g, " "), i(f, 2), e.join("")
		}

		function n(n) {
			var o = {opts: n};
			o.FRAMERATE = 30, o.MAX_VIRTUAL_PIXELS = 3e4, o.log = function (t) {
			}, 1 == o.opts.log && "undefined" != typeof console && (o.log = function (t) {
				void 0
			}), o.init = function (t) {
				var e = 0;
				o.UniqueId = function () {
					return e++, "canvg" + e
				}, o.Definitions = {}, o.Styles = {}, o.StylesSpecificity = {}, o.Animations = [], o.Images = [], o.ctx = t, o.ViewPort = new function () {
					this.viewPorts = [], this.Clear = function () {
						this.viewPorts = []
					}, this.SetCurrent = function (t, e) {
						this.viewPorts.push({width: t, height: e})
					}, this.RemoveCurrent = function () {
						this.viewPorts.pop()
					}, this.Current = function () {
						return this.viewPorts[this.viewPorts.length - 1]
					}, this.width = function () {
						return this.Current().width
					}, this.height = function () {
						return this.Current().height
					}, this.ComputeSize = function (t) {
						return null != t && "number" == typeof t ? t : "x" == t ? this.width() : "y" == t ? this.height() : Math.sqrt(Math.pow(this.width(), 2) + Math.pow(this.height(), 2)) / Math.sqrt(2)
					}
				}
			}, o.init(), o.ImagesLoaded = function () {
				for (var t = 0; t < o.Images.length; t++) if (!o.Images[t].loaded) return !1;
				return !0
			}, o.trim = function (t) {
				return t.replace(/^\s+|\s+$/g, "")
			}, o.compressSpaces = function (t) {
				return t.replace(/[\s\r\t\n]+/gm, " ")
			}, o.ajax = function (t) {
				var e;
				return e = window.XMLHttpRequest ? new XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP"), e ? (e.open("GET", t, !1), e.send(null), e.responseText) : null
			}, o.parseXml = function (t) {
				if ("undefined" != typeof Windows && "undefined" != typeof Windows.Data && "undefined" != typeof Windows.Data.Xml) {
					var e = new Windows.Data.Xml.Dom.XmlDocument, i = new Windows.Data.Xml.Dom.XmlLoadSettings;
					return i.prohibitDtd = !1, e.loadXml(t, i), e
				}
				if (window.DOMParser) {
					var n = new DOMParser;
					return n.parseFromString(t, "text/xml")
				}
				t = t.replace(/<!DOCTYPE svg[^>]*>/, "");
				var e = new ActiveXObject("Microsoft.XMLDOM");
				return e.async = "false", e.loadXML(t), e
			}, o.Property = function (t, e) {
				this.name = t, this.value = e
			}, o.Property.prototype.getValue = function () {
				return this.value
			}, o.Property.prototype.hasValue = function () {
				return null != this.value && "" !== this.value
			}, o.Property.prototype.numValue = function () {
				if (!this.hasValue()) return 0;
				var t = parseFloat(this.value);
				return (this.value + "").match(/%$/) && (t /= 100), t
			}, o.Property.prototype.valueOrDefault = function (t) {
				return this.hasValue() ? this.value : t
			}, o.Property.prototype.numValueOrDefault = function (t) {
				return this.hasValue() ? this.numValue() : t
			}, o.Property.prototype.addOpacity = function (e) {
				var i = this.value;
				if (null != e.value && "" != e.value && "string" == typeof this.value) {
					var n = new t(this.value);
					n.ok && (i = "rgba(" + n.r + ", " + n.g + ", " + n.b + ", " + e.numValue() + ")")
				}
				return new o.Property(this.name, i)
			}, o.Property.prototype.getDefinition = function () {
				var t = this.value.match(/#([^\)'"]+)/);
				return t && (t = t[1]), t || (t = this.value), o.Definitions[t]
			}, o.Property.prototype.isUrlDefinition = function () {
				return 0 == this.value.indexOf("url(")
			}, o.Property.prototype.getFillStyleDefinition = function (t, e) {
				var i = this.getDefinition();
				if (null != i && i.createGradient) return i.createGradient(o.ctx, t, e);
				if (null != i && i.createPattern) {
					if (i.getHrefAttribute().hasValue()) {
						var n = i.attribute("patternTransform");
						i = i.getHrefAttribute().getDefinition(), n.hasValue() && (i.attribute("patternTransform", !0).value = n.value)
					}
					return i.createPattern(o.ctx, t)
				}
				return null
			}, o.Property.prototype.getDPI = function (t) {
				return 96
			}, o.Property.prototype.getEM = function (t) {
				var e = 12, i = new o.Property("fontSize", o.Font.Parse(o.ctx.font).fontSize);
				return i.hasValue() && (e = i.toPixels(t)), e
			}, o.Property.prototype.getUnits = function () {
				var t = this.value + "";
				return t.replace(/[0-9\.\-]/g, "")
			}, o.Property.prototype.toPixels = function (t, e) {
				if (!this.hasValue()) return 0;
				var i = this.value + "";
				if (i.match(/em$/)) return this.numValue() * this.getEM(t);
				if (i.match(/ex$/)) return this.numValue() * this.getEM(t) / 2;
				if (i.match(/px$/)) return this.numValue();
				if (i.match(/pt$/)) return this.numValue() * this.getDPI(t) * (1 / 72);
				if (i.match(/pc$/)) return 15 * this.numValue();
				if (i.match(/cm$/)) return this.numValue() * this.getDPI(t) / 2.54;
				if (i.match(/mm$/)) return this.numValue() * this.getDPI(t) / 25.4;
				if (i.match(/in$/)) return this.numValue() * this.getDPI(t);
				if (i.match(/%$/)) return this.numValue() * o.ViewPort.ComputeSize(t);
				var n = this.numValue();
				return e && n < 1 ? n * o.ViewPort.ComputeSize(t) : n
			}, o.Property.prototype.toMilliseconds = function () {
				if (!this.hasValue()) return 0;
				var t = this.value + "";
				return t.match(/s$/) ? 1e3 * this.numValue() : t.match(/ms$/) ? this.numValue() : this.numValue()
			}, o.Property.prototype.toRadians = function () {
				if (!this.hasValue()) return 0;
				var t = this.value + "";
				return t.match(/deg$/) ? this.numValue() * (Math.PI / 180) : t.match(/grad$/) ? this.numValue() * (Math.PI / 200) : t.match(/rad$/) ? this.numValue() : this.numValue() * (Math.PI / 180)
			};
			var s = {
				baseline: "alphabetic",
				"before-edge": "top",
				"text-before-edge": "top",
				middle: "middle",
				central: "middle",
				"after-edge": "bottom",
				"text-after-edge": "bottom",
				ideographic: "ideographic",
				alphabetic: "alphabetic",
				hanging: "hanging",
				mathematical: "alphabetic"
			};
			return o.Property.prototype.toTextBaseline = function () {
				return this.hasValue() ? s[this.value] : null
			}, o.Font = new function () {
				this.Styles = "normal|italic|oblique|inherit", this.Variants = "normal|small-caps|inherit", this.Weights = "normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit", this.CreateFont = function (t, e, i, n, r, s) {
					var a = null != s ? this.Parse(s) : this.CreateFont("", "", "", "", "", o.ctx.font);
					return {
						fontFamily: r || a.fontFamily,
						fontSize: n || a.fontSize,
						fontStyle: t || a.fontStyle,
						fontWeight: i || a.fontWeight,
						fontVariant: e || a.fontVariant,
						toString: function () {
							return [this.fontStyle, this.fontVariant, this.fontWeight, this.fontSize, this.fontFamily].join(" ")
						}
					}
				};
				var t = this;
				this.Parse = function (e) {
					for (var i = {}, n = o.trim(o.compressSpaces(e || "")).split(" "), r = {
						fontSize: !1,
						fontStyle: !1,
						fontWeight: !1,
						fontVariant: !1
					}, s = "", a = 0; a < n.length; a++) r.fontStyle || t.Styles.indexOf(n[a]) == -1 ? r.fontVariant || t.Variants.indexOf(n[a]) == -1 ? r.fontWeight || t.Weights.indexOf(n[a]) == -1 ? r.fontSize ? "inherit" != n[a] && (s += n[a]) : ("inherit" != n[a] && (i.fontSize = n[a].split("/")[0]), r.fontStyle = r.fontVariant = r.fontWeight = r.fontSize = !0) : ("inherit" != n[a] && (i.fontWeight = n[a]), r.fontStyle = r.fontVariant = r.fontWeight = !0) : ("inherit" != n[a] && (i.fontVariant = n[a]), r.fontStyle = r.fontVariant = !0) : ("inherit" != n[a] && (i.fontStyle = n[a]), r.fontStyle = !0);
					return "" != s && (i.fontFamily = s), i
				}
			}, o.ToNumberArray = function (t) {
				for (var e = o.trim(o.compressSpaces((t || "").replace(/,/g, " "))).split(" "), i = 0; i < e.length; i++) e[i] = parseFloat(e[i]);
				return e
			}, o.Point = function (t, e) {
				this.x = t, this.y = e
			}, o.Point.prototype.angleTo = function (t) {
				return Math.atan2(t.y - this.y, t.x - this.x)
			}, o.Point.prototype.applyTransform = function (t) {
				var e = this.x * t[0] + this.y * t[2] + t[4], i = this.x * t[1] + this.y * t[3] + t[5];
				this.x = e, this.y = i
			}, o.CreatePoint = function (t) {
				var e = o.ToNumberArray(t);
				return new o.Point(e[0], e[1])
			}, o.CreatePath = function (t) {
				for (var e = o.ToNumberArray(t), i = [], n = 0; n < e.length; n += 2) i.push(new o.Point(e[n], e[n + 1]));
				return i
			}, o.BoundingBox = function (t, e, i, n) {
				this.x1 = Number.NaN, this.y1 = Number.NaN, this.x2 = Number.NaN, this.y2 = Number.NaN, this.x = function () {
					return this.x1
				}, this.y = function () {
					return this.y1
				}, this.width = function () {
					return this.x2 - this.x1
				}, this.height = function () {
					return this.y2 - this.y1
				}, this.addPoint = function (t, e) {
					null != t && ((isNaN(this.x1) || isNaN(this.x2)) && (this.x1 = t, this.x2 = t), t < this.x1 && (this.x1 = t), t > this.x2 && (this.x2 = t)), null != e && ((isNaN(this.y1) || isNaN(this.y2)) && (this.y1 = e, this.y2 = e), e < this.y1 && (this.y1 = e), e > this.y2 && (this.y2 = e))
				}, this.addX = function (t) {
					this.addPoint(t, null)
				}, this.addY = function (t) {
					this.addPoint(null, t)
				}, this.addBoundingBox = function (t) {
					this.addPoint(t.x1, t.y1), this.addPoint(t.x2, t.y2)
				}, this.addQuadraticCurve = function (t, e, i, n, r, o) {
					var s = t + 2 / 3 * (i - t), a = e + 2 / 3 * (n - e), h = s + 1 / 3 * (r - t),
						l = a + 1 / 3 * (o - e);
					this.addBezierCurve(t, e, s, h, a, l, r, o)
				}, this.addBezierCurve = function (t, e, i, n, r, o, s, a) {
					var h = [t, e], l = [i, n], u = [r, o], c = [s, a];
					this.addPoint(h[0], h[1]), this.addPoint(c[0], c[1]);
					var f;
					for (f = 0; f <= 1; f++) {
						var d = function (t) {
								return Math.pow(1 - t, 3) * h[f] + 3 * Math.pow(1 - t, 2) * t * l[f] + 3 * (1 - t) * Math.pow(t, 2) * u[f] + Math.pow(t, 3) * c[f]
							}, p = 6 * h[f] - 12 * l[f] + 6 * u[f], g = -3 * h[f] + 9 * l[f] - 9 * u[f] + 3 * c[f],
							m = 3 * l[f] - 3 * h[f];
						if (0 != g) {
							var y = Math.pow(p, 2) - 4 * m * g;
							if (!(y < 0)) {
								var v = (-p + Math.sqrt(y)) / (2 * g);
								0 < v && v < 1 && (0 == f && this.addX(d(v)), 1 == f && this.addY(d(v)));
								var _ = (-p - Math.sqrt(y)) / (2 * g);
								0 < _ && _ < 1 && (0 == f && this.addX(d(_)), 1 == f && this.addY(d(_)))
							}
						} else {
							if (0 == p) continue;
							var x = -m / p;
							0 < x && x < 1 && (0 == f && this.addX(d(x)), 1 == f && this.addY(d(x)))
						}
					}
				}, this.isPointInBox = function (t, e) {
					return this.x1 <= t && t <= this.x2 && this.y1 <= e && e <= this.y2
				}, this.addPoint(t, e), this.addPoint(i, n)
			}, o.Transform = function (t) {
				var e = this;
				this.Type = {}, this.Type.translate = function (t) {
					this.p = o.CreatePoint(t), this.apply = function (t) {
						t.translate(this.p.x || 0, this.p.y || 0)
					}, this.unapply = function (t) {
						t.translate(-1 * this.p.x || 0, -1 * this.p.y || 0)
					}, this.applyToPoint = function (t) {
						t.applyTransform([1, 0, 0, 1, this.p.x || 0, this.p.y || 0])
					}
				}, this.Type.rotate = function (t) {
					var e = o.ToNumberArray(t);
					this.angle = new o.Property("angle", e[0]), this.cx = e[1] || 0, this.cy = e[2] || 0, this.apply = function (t) {
						t.translate(this.cx, this.cy), t.rotate(this.angle.toRadians()), t.translate(-this.cx, -this.cy)
					}, this.unapply = function (t) {
						t.translate(this.cx, this.cy), t.rotate(-1 * this.angle.toRadians()), t.translate(-this.cx, -this.cy)
					}, this.applyToPoint = function (t) {
						var e = this.angle.toRadians();
						t.applyTransform([1, 0, 0, 1, this.p.x || 0, this.p.y || 0]), t.applyTransform([Math.cos(e), Math.sin(e), -Math.sin(e), Math.cos(e), 0, 0]), t.applyTransform([1, 0, 0, 1, -this.p.x || 0, -this.p.y || 0])
					}
				}, this.Type.scale = function (t) {
					this.p = o.CreatePoint(t), this.apply = function (t) {
						t.scale(this.p.x || 1, this.p.y || this.p.x || 1)
					}, this.unapply = function (t) {
						t.scale(1 / this.p.x || 1, 1 / this.p.y || this.p.x || 1)
					}, this.applyToPoint = function (t) {
						t.applyTransform([this.p.x || 0, 0, 0, this.p.y || 0, 0, 0])
					}
				}, this.Type.matrix = function (t) {
					this.m = o.ToNumberArray(t), this.apply = function (t) {
						t.transform(this.m[0], this.m[1], this.m[2], this.m[3], this.m[4], this.m[5])
					}, this.unapply = function (t) {
						var e = this.m[0], i = this.m[2], n = this.m[4], r = this.m[1], o = this.m[3], s = this.m[5],
							a = 0, h = 0, l = 1,
							u = 1 / (e * (o * l - s * h) - i * (r * l - s * a) + n * (r * h - o * a));
						t.transform(u * (o * l - s * h), u * (s * a - r * l), u * (n * h - i * l), u * (e * l - n * a), u * (i * s - n * o), u * (n * r - e * s))
					}, this.applyToPoint = function (t) {
						t.applyTransform(this.m)
					}
				}, this.Type.SkewBase = function (t) {
					this.base = e.Type.matrix, this.base(t), this.angle = new o.Property("angle", t)
				}, this.Type.SkewBase.prototype = new this.Type.matrix, this.Type.skewX = function (t) {
					this.base = e.Type.SkewBase, this.base(t), this.m = [1, 0, Math.tan(this.angle.toRadians()), 1, 0, 0]
				}, this.Type.skewX.prototype = new this.Type.SkewBase, this.Type.skewY = function (t) {
					this.base = e.Type.SkewBase, this.base(t), this.m = [1, Math.tan(this.angle.toRadians()), 0, 1, 0, 0]
				}, this.Type.skewY.prototype = new this.Type.SkewBase, this.transforms = [], this.apply = function (t) {
					for (var e = 0; e < this.transforms.length; e++) this.transforms[e].apply(t)
				}, this.unapply = function (t) {
					for (var e = this.transforms.length - 1; e >= 0; e--) this.transforms[e].unapply(t)
				}, this.applyToPoint = function (t) {
					for (var e = 0; e < this.transforms.length; e++) this.transforms[e].applyToPoint(t)
				};
				for (var i = o.trim(o.compressSpaces(t)).replace(/\)([a-zA-Z])/g, ") $1").replace(/\)(\s?,\s?)/g, ") ").split(/\s(?=[a-z])/), n = 0; n < i.length; n++) {
					var r = o.trim(i[n].split("(")[0]), s = i[n].split("(")[1].replace(")", ""), a = this.Type[r];
					if ("undefined" != typeof a) {
						var h = new a(s);
						h.type = r, this.transforms.push(h)
					}
				}
			}, o.AspectRatio = function (t, e, i, n, r, s, a, h, l, u) {
				e = o.compressSpaces(e), e = e.replace(/^defer\s/, "");
				var c = e.split(" ")[0] || "xMidYMid", f = e.split(" ")[1] || "meet", d = i / n, p = r / s,
					g = Math.min(d, p), m = Math.max(d, p);
				"meet" == f && (n *= g, s *= g), "slice" == f && (n *= m, s *= m), l = new o.Property("refX", l), u = new o.Property("refY", u), l.hasValue() && u.hasValue() ? t.translate(-g * l.toPixels("x"), -g * u.toPixels("y")) : (c.match(/^xMid/) && ("meet" == f && g == p || "slice" == f && m == p) && t.translate(i / 2 - n / 2, 0), c.match(/YMid$/) && ("meet" == f && g == d || "slice" == f && m == d) && t.translate(0, r / 2 - s / 2), c.match(/^xMax/) && ("meet" == f && g == p || "slice" == f && m == p) && t.translate(i - n, 0), c.match(/YMax$/) && ("meet" == f && g == d || "slice" == f && m == d) && t.translate(0, r - s)), "none" == c ? t.scale(d, p) : "meet" == f ? t.scale(g, g) : "slice" == f && t.scale(m, m), t.translate(null == a ? 0 : -a, null == h ? 0 : -h)
			}, o.Element = {}, o.EmptyProperty = new o.Property("EMPTY", ""), o.Element.ElementBase = function (t) {
				this.attributes = {}, this.styles = {}, this.stylesSpecificity = {}, this.children = [], this.attribute = function (t, e) {
					var i = this.attributes[t];
					return null != i ? i : (1 == e && (i = new o.Property(t, ""), this.attributes[t] = i), i || o.EmptyProperty)
				}, this.getHrefAttribute = function () {
					for (var t in this.attributes) if ("href" == t || t.match(/:href$/)) return this.attributes[t];
					return o.EmptyProperty
				}, this.style = function (t, e, i) {
					var n = this.styles[t];
					if (null != n) return n;
					var r = this.attribute(t);
					if (null != r && r.hasValue()) return this.styles[t] = r, r;
					if (1 != i) {
						var s = this.parent;
						if (null != s) {
							var a = s.style(t);
							if (null != a && a.hasValue()) return a
						}
					}
					return 1 == e && (n = new o.Property(t, ""), this.styles[t] = n), n || o.EmptyProperty
				}, this.render = function (t) {
					if ("none" != this.style("display").value && "hidden" != this.style("visibility").value) {
						if (t.save(), this.style("mask").hasValue()) {
							var e = this.style("mask").getDefinition();
							null != e && e.apply(t, this)
						} else if (this.style("filter").hasValue()) {
							var i = this.style("filter").getDefinition();
							null != i && i.apply(t, this)
						} else this.setContext(t), this.renderChildren(t), this.clearContext(t);
						t.restore()
					}
				}, this.setContext = function (t) {
				}, this.clearContext = function (t) {
				}, this.renderChildren = function (t) {
					for (var e = 0; e < this.children.length; e++) this.children[e].render(t)
				}, this.addChild = function (t, e) {
					var i = t;
					e && (i = o.CreateElement(t)), i.parent = this, "title" != i.type && this.children.push(i)
				}, this.addStylesFromStyleDefinition = function () {
					for (var e in o.Styles) if ("@" != e[0] && r(t, e)) {
						var i = o.Styles[e], n = o.StylesSpecificity[e];
						if (null != i) for (var s in i) {
							var a = this.stylesSpecificity[s];
							"undefined" == typeof a && (a = "000"), n > a && (this.styles[s] = i[s], this.stylesSpecificity[s] = n)
						}
					}
				};
				var e = new RegExp("^[A-Z-]+$"), i = function (t) {
					return e.test(t) ? t.toLowerCase() : t
				};
				if (null != t && 1 == t.nodeType) {
					for (var n = 0; n < t.attributes.length; n++) {
						var s = t.attributes[n], a = i(s.nodeName);
						this.attributes[a] = new o.Property(a, s.value)
					}
					if (this.addStylesFromStyleDefinition(), this.attribute("style").hasValue()) for (var h = this.attribute("style").value.split(";"), n = 0; n < h.length; n++) if ("" != o.trim(h[n])) {
						var l = h[n].split(":"), u = o.trim(l[0]), c = o.trim(l[1]);
						this.styles[u] = new o.Property(u, c)
					}
					this.attribute("id").hasValue() && null == o.Definitions[this.attribute("id").value] && (o.Definitions[this.attribute("id").value] = this);
					for (var n = 0; n < t.childNodes.length; n++) {
						var f = t.childNodes[n];
						if (1 == f.nodeType && this.addChild(f, !0), this.captureTextNodes && (3 == f.nodeType || 4 == f.nodeType)) {
							var d = f.value || f.text || f.textContent || "";
							"" != o.compressSpaces(d) && this.addChild(new o.Element.tspan(f), !1)
						}
					}
				}
			}, o.Element.RenderedElementBase = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.setContext = function (t) {
					if (this.style("fill").isUrlDefinition()) {
						var e = this.style("fill").getFillStyleDefinition(this, this.style("fill-opacity"));
						null != e && (t.fillStyle = e)
					} else if (this.style("fill").hasValue()) {
						var i = this.style("fill");
						"currentColor" == i.value && (i.value = this.style("color").value), "inherit" != i.value && (t.fillStyle = "none" == i.value ? "rgba(0,0,0,0)" : i.value)
					}
					if (this.style("fill-opacity").hasValue()) {
						var i = new o.Property("fill", t.fillStyle);
						i = i.addOpacity(this.style("fill-opacity")), t.fillStyle = i.value
					}
					if (this.style("stroke").isUrlDefinition()) {
						var e = this.style("stroke").getFillStyleDefinition(this, this.style("stroke-opacity"));
						null != e && (t.strokeStyle = e)
					} else if (this.style("stroke").hasValue()) {
						var n = this.style("stroke");
						"currentColor" == n.value && (n.value = this.style("color").value), "inherit" != n.value && (t.strokeStyle = "none" == n.value ? "rgba(0,0,0,0)" : n.value)
					}
					if (this.style("stroke-opacity").hasValue()) {
						var n = new o.Property("stroke", t.strokeStyle);
						n = n.addOpacity(this.style("stroke-opacity")), t.strokeStyle = n.value
					}
					if (this.style("stroke-width").hasValue()) {
						var r = this.style("stroke-width").toPixels();
						t.lineWidth = 0 == r ? .001 : r
					}
					if (this.style("stroke-linecap").hasValue() && (t.lineCap = this.style("stroke-linecap").value), this.style("stroke-linejoin").hasValue() && (t.lineJoin = this.style("stroke-linejoin").value), this.style("stroke-miterlimit").hasValue() && (t.miterLimit = this.style("stroke-miterlimit").value), this.style("stroke-dasharray").hasValue() && "none" != this.style("stroke-dasharray").value) {
						var s = o.ToNumberArray(this.style("stroke-dasharray").value);
						"undefined" != typeof t.setLineDash ? t.setLineDash(s) : "undefined" != typeof t.webkitLineDash ? t.webkitLineDash = s : "undefined" == typeof t.mozDash || 1 == s.length && 0 == s[0] || (t.mozDash = s);
						var a = this.style("stroke-dashoffset").numValueOrDefault(1);
						"undefined" != typeof t.lineDashOffset ? t.lineDashOffset = a : "undefined" != typeof t.webkitLineDashOffset ? t.webkitLineDashOffset = a : "undefined" != typeof t.mozDashOffset && (t.mozDashOffset = a)
					}
					if ("undefined" != typeof t.font && (t.font = o.Font.CreateFont(this.style("font-style").value, this.style("font-variant").value, this.style("font-weight").value, this.style("font-size").hasValue() ? this.style("font-size").toPixels() + "px" : "", this.style("font-family").value).toString()), this.style("transform", !1, !0).hasValue()) {
						var h = new o.Transform(this.style("transform", !1, !0).value);
						h.apply(t)
					}
					if (this.style("clip-path", !1, !0).hasValue()) {
						var l = this.style("clip-path", !1, !0).getDefinition();
						null != l && l.apply(t)
					}
					this.style("opacity").hasValue() && (t.globalAlpha = this.style("opacity").numValue())
				}
			}, o.Element.RenderedElementBase.prototype = new o.Element.ElementBase, o.Element.PathElementBase = function (t) {
				this.base = o.Element.RenderedElementBase, this.base(t), this.path = function (t) {
					return null != t && t.beginPath(), new o.BoundingBox
				}, this.renderChildren = function (t) {
					this.path(t), o.Mouse.checkPath(this, t), "" != t.fillStyle && ("inherit" != this.style("fill-rule").valueOrDefault("inherit") ? t.fill(this.style("fill-rule").value) : t.fill()), "" != t.strokeStyle && t.stroke();
					var e = this.getMarkers();
					if (null != e) {
						if (this.style("marker-start").isUrlDefinition()) {
							var i = this.style("marker-start").getDefinition();
							i.render(t, e[0][0], e[0][1])
						}
						if (this.style("marker-mid").isUrlDefinition()) for (var i = this.style("marker-mid").getDefinition(), n = 1; n < e.length - 1; n++) i.render(t, e[n][0], e[n][1]);
						if (this.style("marker-end").isUrlDefinition()) {
							var i = this.style("marker-end").getDefinition();
							i.render(t, e[e.length - 1][0], e[e.length - 1][1])
						}
					}
				}, this.getBoundingBox = function () {
					return this.path()
				}, this.getMarkers = function () {
					return null
				}
			}, o.Element.PathElementBase.prototype = new o.Element.RenderedElementBase, o.Element.svg = function (t) {
				this.base = o.Element.RenderedElementBase, this.base(t), this.baseClearContext = this.clearContext, this.clearContext = function (t) {
					this.baseClearContext(t), o.ViewPort.RemoveCurrent()
				}, this.baseSetContext = this.setContext, this.setContext = function (t) {
					t.strokeStyle = "rgba(0,0,0,0)", t.lineCap = "butt", t.lineJoin = "miter", t.miterLimit = 4, "undefined" != typeof t.font && "undefined" != typeof window.getComputedStyle && (t.font = window.getComputedStyle(t.canvas).getPropertyValue("font")), this.baseSetContext(t), this.attribute("x").hasValue() || (this.attribute("x", !0).value = 0), this.attribute("y").hasValue() || (this.attribute("y", !0).value = 0), t.translate(this.attribute("x").toPixels("x"), this.attribute("y").toPixels("y"));
					var e = o.ViewPort.width(), i = o.ViewPort.height();
					if (this.attribute("width").hasValue() || (this.attribute("width", !0).value = "100%"), this.attribute("height").hasValue() || (this.attribute("height", !0).value = "100%"), "undefined" == typeof this.root) {
						e = this.attribute("width").toPixels("x"), i = this.attribute("height").toPixels("y");
						var n = 0, r = 0;
						this.attribute("refX").hasValue() && this.attribute("refY").hasValue() && (n = -this.attribute("refX").toPixels("x"), r = -this.attribute("refY").toPixels("y")), "visible" != this.attribute("overflow").valueOrDefault("hidden") && (t.beginPath(), t.moveTo(n, r), t.lineTo(e, r), t.lineTo(e, i), t.lineTo(n, i), t.closePath(), t.clip())
					}
					if (o.ViewPort.SetCurrent(e, i), this.attribute("viewBox").hasValue()) {
						var s = o.ToNumberArray(this.attribute("viewBox").value), a = s[0], h = s[1];
						e = s[2], i = s[3], o.AspectRatio(t, this.attribute("preserveAspectRatio").value, o.ViewPort.width(), e, o.ViewPort.height(), i, a, h, this.attribute("refX").value, this.attribute("refY").value), o.ViewPort.RemoveCurrent(), o.ViewPort.SetCurrent(s[2], s[3])
					}
				}
			}, o.Element.svg.prototype = new o.Element.RenderedElementBase, o.Element.rect = function (t) {
				this.base = o.Element.PathElementBase, this.base(t), this.path = function (t) {
					var e = this.attribute("x").toPixels("x"), i = this.attribute("y").toPixels("y"),
						n = this.attribute("width").toPixels("x"), r = this.attribute("height").toPixels("y"),
						s = this.attribute("rx").toPixels("x"), a = this.attribute("ry").toPixels("y");
					return this.attribute("rx").hasValue() && !this.attribute("ry").hasValue() && (a = s), this.attribute("ry").hasValue() && !this.attribute("rx").hasValue() && (s = a), s = Math.min(s, n / 2), a = Math.min(a, r / 2), null != t && (t.beginPath(), t.moveTo(e + s, i), t.lineTo(e + n - s, i), t.quadraticCurveTo(e + n, i, e + n, i + a), t.lineTo(e + n, i + r - a), t.quadraticCurveTo(e + n, i + r, e + n - s, i + r), t.lineTo(e + s, i + r), t.quadraticCurveTo(e, i + r, e, i + r - a), t.lineTo(e, i + a), t.quadraticCurveTo(e, i, e + s, i), t.closePath()), new o.BoundingBox(e, i, e + n, i + r)
				}
			}, o.Element.rect.prototype = new o.Element.PathElementBase, o.Element.circle = function (t) {
				this.base = o.Element.PathElementBase, this.base(t), this.path = function (t) {
					var e = this.attribute("cx").toPixels("x"), i = this.attribute("cy").toPixels("y"),
						n = this.attribute("r").toPixels();
					return null != t && (t.beginPath(), t.arc(e, i, n, 0, 2 * Math.PI, !0), t.closePath()), new o.BoundingBox(e - n, i - n, e + n, i + n)
				}
			}, o.Element.circle.prototype = new o.Element.PathElementBase, o.Element.ellipse = function (t) {
				this.base = o.Element.PathElementBase, this.base(t), this.path = function (t) {
					var e = 4 * ((Math.sqrt(2) - 1) / 3), i = this.attribute("rx").toPixels("x"),
						n = this.attribute("ry").toPixels("y"), r = this.attribute("cx").toPixels("x"),
						s = this.attribute("cy").toPixels("y");
					return null != t && (t.beginPath(), t.moveTo(r, s - n), t.bezierCurveTo(r + e * i, s - n, r + i, s - e * n, r + i, s), t.bezierCurveTo(r + i, s + e * n, r + e * i, s + n, r, s + n), t.bezierCurveTo(r - e * i, s + n, r - i, s + e * n, r - i, s), t.bezierCurveTo(r - i, s - e * n, r - e * i, s - n, r, s - n), t.closePath()), new o.BoundingBox(r - i, s - n, r + i, s + n)
				}
			}, o.Element.ellipse.prototype = new o.Element.PathElementBase, o.Element.line = function (t) {
				this.base = o.Element.PathElementBase, this.base(t), this.getPoints = function () {
					return [new o.Point(this.attribute("x1").toPixels("x"), this.attribute("y1").toPixels("y")), new o.Point(this.attribute("x2").toPixels("x"), this.attribute("y2").toPixels("y"))]
				}, this.path = function (t) {
					var e = this.getPoints();
					return null != t && (t.beginPath(), t.moveTo(e[0].x, e[0].y), t.lineTo(e[1].x, e[1].y)), new o.BoundingBox(e[0].x, e[0].y, e[1].x, e[1].y)
				}, this.getMarkers = function () {
					var t = this.getPoints(), e = t[0].angleTo(t[1]);
					return [[t[0], e], [t[1], e]]
				}
			}, o.Element.line.prototype = new o.Element.PathElementBase, o.Element.polyline = function (t) {
				this.base = o.Element.PathElementBase, this.base(t), this.points = o.CreatePath(this.attribute("points").value), this.path = function (t) {
					var e = new o.BoundingBox(this.points[0].x, this.points[0].y);
					null != t && (t.beginPath(), t.moveTo(this.points[0].x, this.points[0].y));
					for (var i = 1; i < this.points.length; i++) e.addPoint(this.points[i].x, this.points[i].y), null != t && t.lineTo(this.points[i].x, this.points[i].y);
					return e
				}, this.getMarkers = function () {
					for (var t = [], e = 0; e < this.points.length - 1; e++) t.push([this.points[e], this.points[e].angleTo(this.points[e + 1])]);
					return t.length > 0 && t.push([this.points[this.points.length - 1], t[t.length - 1][1]]), t
				}
			}, o.Element.polyline.prototype = new o.Element.PathElementBase, o.Element.polygon = function (t) {
				this.base = o.Element.polyline, this.base(t), this.basePath = this.path, this.path = function (t) {
					var e = this.basePath(t);
					return null != t && (t.lineTo(this.points[0].x, this.points[0].y), t.closePath()), e
				}
			}, o.Element.polygon.prototype = new o.Element.polyline, o.Element.path = function (t) {
				this.base = o.Element.PathElementBase, this.base(t);
				var e = this.attribute("d").value;
				e = e.replace(/,/gm, " ");
				for (var i = 0; i < 2; i++) e = e.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm, "$1 $2");
				e = e.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm, "$1 $2"), e = e.replace(/([0-9])([+\-])/gm, "$1 $2");
				for (var i = 0; i < 2; i++) e = e.replace(/(\.[0-9]*)(\.)/gm, "$1 $2");
				e = e.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm, "$1 $3 $4 "), e = o.compressSpaces(e), e = o.trim(e), this.PathParser = new function (t) {
					this.tokens = t.split(" "), this.reset = function () {
						this.i = -1, this.command = "", this.previousCommand = "", this.start = new o.Point(0, 0), this.control = new o.Point(0, 0), this.current = new o.Point(0, 0), this.points = [], this.angles = []
					}, this.isEnd = function () {
						return this.i >= this.tokens.length - 1
					}, this.isCommandOrEnd = function () {
						return !!this.isEnd() || null != this.tokens[this.i + 1].match(/^[A-Za-z]$/)
					}, this.isRelativeCommand = function () {
						switch (this.command) {
							case"m":
							case"l":
							case"h":
							case"v":
							case"c":
							case"s":
							case"q":
							case"t":
							case"a":
							case"z":
								return !0
						}
						return !1
					}, this.getToken = function () {
						return this.i++, this.tokens[this.i]
					}, this.getScalar = function () {
						return parseFloat(this.getToken())
					}, this.nextCommand = function () {
						this.previousCommand = this.command, this.command = this.getToken()
					}, this.getPoint = function () {
						var t = new o.Point(this.getScalar(), this.getScalar());
						return this.makeAbsolute(t)
					}, this.getAsControlPoint = function () {
						var t = this.getPoint();
						return this.control = t, t
					}, this.getAsCurrentPoint = function () {
						var t = this.getPoint();
						return this.current = t, t
					}, this.getReflectedControlPoint = function () {
						if ("c" != this.previousCommand.toLowerCase() && "s" != this.previousCommand.toLowerCase() && "q" != this.previousCommand.toLowerCase() && "t" != this.previousCommand.toLowerCase()) return this.current;
						var t = new o.Point(2 * this.current.x - this.control.x, 2 * this.current.y - this.control.y);
						return t
					}, this.makeAbsolute = function (t) {
						return this.isRelativeCommand() && (t.x += this.current.x, t.y += this.current.y), t
					}, this.addMarker = function (t, e, i) {
						null != i && this.angles.length > 0 && null == this.angles[this.angles.length - 1] && (this.angles[this.angles.length - 1] = this.points[this.points.length - 1].angleTo(i)), this.addMarkerAngle(t, null == e ? null : e.angleTo(t))
					}, this.addMarkerAngle = function (t, e) {
						this.points.push(t), this.angles.push(e)
					}, this.getMarkerPoints = function () {
						return this.points
					}, this.getMarkerAngles = function () {
						for (var t = 0; t < this.angles.length; t++) if (null == this.angles[t]) for (var e = t + 1; e < this.angles.length; e++) if (null != this.angles[e]) {
							this.angles[t] = this.angles[e];
							break
						}
						return this.angles
					}
				}(e), this.path = function (t) {
					var e = this.PathParser;
					e.reset();
					var i = new o.BoundingBox;
					for (null != t && t.beginPath(); !e.isEnd();) switch (e.nextCommand(), e.command) {
						case"M":
						case"m":
							var n = e.getAsCurrentPoint();
							for (e.addMarker(n), i.addPoint(n.x, n.y), null != t && t.moveTo(n.x, n.y), e.start = e.current; !e.isCommandOrEnd();) {
								var n = e.getAsCurrentPoint();
								e.addMarker(n, e.start), i.addPoint(n.x, n.y), null != t && t.lineTo(n.x, n.y)
							}
							break;
						case"L":
						case"l":
							for (; !e.isCommandOrEnd();) {
								var r = e.current, n = e.getAsCurrentPoint();
								e.addMarker(n, r), i.addPoint(n.x, n.y), null != t && t.lineTo(n.x, n.y)
							}
							break;
						case"H":
						case"h":
							for (; !e.isCommandOrEnd();) {
								var s = new o.Point((e.isRelativeCommand() ? e.current.x : 0) + e.getScalar(), e.current.y);
								e.addMarker(s, e.current), e.current = s, i.addPoint(e.current.x, e.current.y), null != t && t.lineTo(e.current.x, e.current.y)
							}
							break;
						case"V":
						case"v":
							for (; !e.isCommandOrEnd();) {
								var s = new o.Point(e.current.x, (e.isRelativeCommand() ? e.current.y : 0) + e.getScalar());
								e.addMarker(s, e.current), e.current = s, i.addPoint(e.current.x, e.current.y), null != t && t.lineTo(e.current.x, e.current.y)
							}
							break;
						case"C":
						case"c":
							for (; !e.isCommandOrEnd();) {
								var a = e.current, h = e.getPoint(), l = e.getAsControlPoint(),
									u = e.getAsCurrentPoint();
								e.addMarker(u, l, h), i.addBezierCurve(a.x, a.y, h.x, h.y, l.x, l.y, u.x, u.y), null != t && t.bezierCurveTo(h.x, h.y, l.x, l.y, u.x, u.y)
							}
							break;
						case"S":
						case"s":
							for (; !e.isCommandOrEnd();) {
								var a = e.current, h = e.getReflectedControlPoint(), l = e.getAsControlPoint(),
									u = e.getAsCurrentPoint();
								e.addMarker(u, l, h), i.addBezierCurve(a.x, a.y, h.x, h.y, l.x, l.y, u.x, u.y), null != t && t.bezierCurveTo(h.x, h.y, l.x, l.y, u.x, u.y)
							}
							break;
						case"Q":
						case"q":
							for (; !e.isCommandOrEnd();) {
								var a = e.current, l = e.getAsControlPoint(), u = e.getAsCurrentPoint();
								e.addMarker(u, l, l), i.addQuadraticCurve(a.x, a.y, l.x, l.y, u.x, u.y), null != t && t.quadraticCurveTo(l.x, l.y, u.x, u.y)
							}
							break;
						case"T":
						case"t":
							for (; !e.isCommandOrEnd();) {
								var a = e.current, l = e.getReflectedControlPoint();
								e.control = l;
								var u = e.getAsCurrentPoint();
								e.addMarker(u, l, l), i.addQuadraticCurve(a.x, a.y, l.x, l.y, u.x, u.y), null != t && t.quadraticCurveTo(l.x, l.y, u.x, u.y)
							}
							break;
						case"A":
						case"a":
							for (; !e.isCommandOrEnd();) {
								var a = e.current, c = e.getScalar(), f = e.getScalar(),
									d = e.getScalar() * (Math.PI / 180), p = e.getScalar(), g = e.getScalar(),
									u = e.getAsCurrentPoint(),
									m = new o.Point(Math.cos(d) * (a.x - u.x) / 2 + Math.sin(d) * (a.y - u.y) / 2, -Math.sin(d) * (a.x - u.x) / 2 + Math.cos(d) * (a.y - u.y) / 2),
									y = Math.pow(m.x, 2) / Math.pow(c, 2) + Math.pow(m.y, 2) / Math.pow(f, 2);
								y > 1 && (c *= Math.sqrt(y), f *= Math.sqrt(y));
								var v = (p == g ? -1 : 1) * Math.sqrt((Math.pow(c, 2) * Math.pow(f, 2) - Math.pow(c, 2) * Math.pow(m.y, 2) - Math.pow(f, 2) * Math.pow(m.x, 2)) / (Math.pow(c, 2) * Math.pow(m.y, 2) + Math.pow(f, 2) * Math.pow(m.x, 2)));
								isNaN(v) && (v = 0);
								var _ = new o.Point(v * c * m.y / f, v * -f * m.x / c),
									x = new o.Point((a.x + u.x) / 2 + Math.cos(d) * _.x - Math.sin(d) * _.y, (a.y + u.y) / 2 + Math.sin(d) * _.x + Math.cos(d) * _.y),
									b = function (t) {
										return Math.sqrt(Math.pow(t[0], 2) + Math.pow(t[1], 2))
									}, w = function (t, e) {
										return (t[0] * e[0] + t[1] * e[1]) / (b(t) * b(e))
									}, T = function (t, e) {
										return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(w(t, e))
									}, C = T([1, 0], [(m.x - _.x) / c, (m.y - _.y) / f]),
									E = [(m.x - _.x) / c, (m.y - _.y) / f], M = [(-m.x - _.x) / c, (-m.y - _.y) / f],
									P = T(E, M);
								w(E, M) <= -1 && (P = Math.PI), w(E, M) >= 1 && (P = 0);
								var S = 1 - g ? 1 : -1, I = C + S * (P / 2),
									R = new o.Point(x.x + c * Math.cos(I), x.y + f * Math.sin(I));
								if (e.addMarkerAngle(R, I - S * Math.PI / 2), e.addMarkerAngle(u, I - S * Math.PI), i.addPoint(u.x, u.y), null != t) {
									var w = c > f ? c : f, A = c > f ? 1 : c / f, k = c > f ? f / c : 1;
									t.translate(x.x, x.y), t.rotate(d), t.scale(A, k), t.arc(0, 0, w, C, C + P, 1 - g), t.scale(1 / A, 1 / k), t.rotate(-d), t.translate(-x.x, -x.y)
								}
							}
							break;
						case"Z":
						case"z":
							null != t && t.closePath(), e.current = e.start
					}
					return i
				}, this.getMarkers = function () {
					for (var t = this.PathParser.getMarkerPoints(), e = this.PathParser.getMarkerAngles(), i = [], n = 0; n < t.length; n++) i.push([t[n], e[n]]);
					return i
				}
			}, o.Element.path.prototype = new o.Element.PathElementBase, o.Element.pattern = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.createPattern = function (t, e) {
					var i = this.attribute("width").toPixels("x", !0), n = this.attribute("height").toPixels("y", !0),
						r = new o.Element.svg;
					r.attributes.viewBox = new o.Property("viewBox", this.attribute("viewBox").value), r.attributes.width = new o.Property("width", i + "px"), r.attributes.height = new o.Property("height", n + "px"), r.attributes.transform = new o.Property("transform", this.attribute("patternTransform").value), r.children = this.children;
					var s = document.createElement("canvas");
					s.width = i, s.height = n;
					var a = s.getContext("2d");
					this.attribute("x").hasValue() && this.attribute("y").hasValue() && a.translate(this.attribute("x").toPixels("x", !0), this.attribute("y").toPixels("y", !0));
					for (var h = -1; h <= 1; h++) for (var l = -1; l <= 1; l++) a.save(), r.attributes.x = new o.Property("x", h * s.width), r.attributes.y = new o.Property("y", l * s.height), r.render(a), a.restore();
					var u = t.createPattern(s, "repeat");
					return u
				}
			}, o.Element.pattern.prototype = new o.Element.ElementBase, o.Element.marker = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.baseRender = this.render, this.render = function (t, e, i) {
					t.translate(e.x, e.y), "auto" == this.attribute("orient").valueOrDefault("auto") && t.rotate(i), "strokeWidth" == this.attribute("markerUnits").valueOrDefault("strokeWidth") && t.scale(t.lineWidth, t.lineWidth), t.save();
					var n = new o.Element.svg;
					n.attributes.viewBox = new o.Property("viewBox", this.attribute("viewBox").value), n.attributes.refX = new o.Property("refX", this.attribute("refX").value), n.attributes.refY = new o.Property("refY", this.attribute("refY").value), n.attributes.width = new o.Property("width", this.attribute("markerWidth").value), n.attributes.height = new o.Property("height", this.attribute("markerHeight").value), n.attributes.fill = new o.Property("fill", this.attribute("fill").valueOrDefault("black")), n.attributes.stroke = new o.Property("stroke", this.attribute("stroke").valueOrDefault("none")), n.children = this.children, n.render(t), t.restore(), "strokeWidth" == this.attribute("markerUnits").valueOrDefault("strokeWidth") && t.scale(1 / t.lineWidth, 1 / t.lineWidth), "auto" == this.attribute("orient").valueOrDefault("auto") && t.rotate(-i), t.translate(-e.x, -e.y)
				}
			}, o.Element.marker.prototype = new o.Element.ElementBase, o.Element.defs = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.render = function (t) {
				}
			}, o.Element.defs.prototype = new o.Element.ElementBase, o.Element.GradientBase = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.stops = [];
				for (var e = 0; e < this.children.length; e++) {
					var i = this.children[e];
					"stop" == i.type && this.stops.push(i)
				}
				this.getGradient = function () {
				}, this.gradientUnits = function () {
					return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")
				}, this.attributesToInherit = ["gradientUnits"], this.inheritStopContainer = function (t) {
					for (var e = 0; e < this.attributesToInherit.length; e++) {
						var i = this.attributesToInherit[e];
						!this.attribute(i).hasValue() && t.attribute(i).hasValue() && (this.attribute(i, !0).value = t.attribute(i).value)
					}
				}, this.createGradient = function (t, e, i) {
					var n = this;
					this.getHrefAttribute().hasValue() && (n = this.getHrefAttribute().getDefinition(), this.inheritStopContainer(n));
					var r = function (t) {
						if (i.hasValue()) {
							var e = new o.Property("color", t);
							return e.addOpacity(i).value
						}
						return t
					}, s = this.getGradient(t, e);
					if (null == s) return r(n.stops[n.stops.length - 1].color);
					for (var a = 0; a < n.stops.length; a++) s.addColorStop(n.stops[a].offset, r(n.stops[a].color));
					if (this.attribute("gradientTransform").hasValue()) {
						var h = o.ViewPort.viewPorts[0], l = new o.Element.rect;
						l.attributes.x = new o.Property("x", -o.MAX_VIRTUAL_PIXELS / 3), l.attributes.y = new o.Property("y", -o.MAX_VIRTUAL_PIXELS / 3), l.attributes.width = new o.Property("width", o.MAX_VIRTUAL_PIXELS), l.attributes.height = new o.Property("height", o.MAX_VIRTUAL_PIXELS);
						var u = new o.Element.g;
						u.attributes.transform = new o.Property("transform", this.attribute("gradientTransform").value), u.children = [l];
						var c = new o.Element.svg;
						c.attributes.x = new o.Property("x", 0), c.attributes.y = new o.Property("y", 0), c.attributes.width = new o.Property("width", h.width), c.attributes.height = new o.Property("height", h.height), c.children = [u];
						var f = document.createElement("canvas");
						f.width = h.width, f.height = h.height;
						var d = f.getContext("2d");
						return d.fillStyle = s, c.render(d), d.createPattern(f, "no-repeat")
					}
					return s
				}
			}, o.Element.GradientBase.prototype = new o.Element.ElementBase, o.Element.linearGradient = function (t) {
				this.base = o.Element.GradientBase, this.base(t), this.attributesToInherit.push("x1"), this.attributesToInherit.push("y1"), this.attributesToInherit.push("x2"), this.attributesToInherit.push("y2"), this.getGradient = function (t, e) {
					var i = "objectBoundingBox" == this.gradientUnits() ? e.getBoundingBox() : null;
					this.attribute("x1").hasValue() || this.attribute("y1").hasValue() || this.attribute("x2").hasValue() || this.attribute("y2").hasValue() || (this.attribute("x1", !0).value = 0, this.attribute("y1", !0).value = 0, this.attribute("x2", !0).value = 1, this.attribute("y2", !0).value = 0);
					var n = "objectBoundingBox" == this.gradientUnits() ? i.x() + i.width() * this.attribute("x1").numValue() : this.attribute("x1").toPixels("x"),
						r = "objectBoundingBox" == this.gradientUnits() ? i.y() + i.height() * this.attribute("y1").numValue() : this.attribute("y1").toPixels("y"),
						o = "objectBoundingBox" == this.gradientUnits() ? i.x() + i.width() * this.attribute("x2").numValue() : this.attribute("x2").toPixels("x"),
						s = "objectBoundingBox" == this.gradientUnits() ? i.y() + i.height() * this.attribute("y2").numValue() : this.attribute("y2").toPixels("y");
					return n == o && r == s ? null : t.createLinearGradient(n, r, o, s)
				}
			}, o.Element.linearGradient.prototype = new o.Element.GradientBase, o.Element.radialGradient = function (t) {
				this.base = o.Element.GradientBase, this.base(t), this.attributesToInherit.push("cx"), this.attributesToInherit.push("cy"), this.attributesToInherit.push("r"), this.attributesToInherit.push("fx"), this.attributesToInherit.push("fy"), this.getGradient = function (t, e) {
					var i = e.getBoundingBox();
					this.attribute("cx").hasValue() || (this.attribute("cx", !0).value = "50%"), this.attribute("cy").hasValue() || (this.attribute("cy", !0).value = "50%"), this.attribute("r").hasValue() || (this.attribute("r", !0).value = "50%");
					var n = "objectBoundingBox" == this.gradientUnits() ? i.x() + i.width() * this.attribute("cx").numValue() : this.attribute("cx").toPixels("x"),
						r = "objectBoundingBox" == this.gradientUnits() ? i.y() + i.height() * this.attribute("cy").numValue() : this.attribute("cy").toPixels("y"),
						o = n, s = r;
					this.attribute("fx").hasValue() && (o = "objectBoundingBox" == this.gradientUnits() ? i.x() + i.width() * this.attribute("fx").numValue() : this.attribute("fx").toPixels("x")), this.attribute("fy").hasValue() && (s = "objectBoundingBox" == this.gradientUnits() ? i.y() + i.height() * this.attribute("fy").numValue() : this.attribute("fy").toPixels("y"));
					var a = "objectBoundingBox" == this.gradientUnits() ? (i.width() + i.height()) / 2 * this.attribute("r").numValue() : this.attribute("r").toPixels();
					return t.createRadialGradient(o, s, 0, n, r, a)
				}
			}, o.Element.radialGradient.prototype = new o.Element.GradientBase, o.Element.stop = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.offset = this.attribute("offset").numValue(), this.offset < 0 && (this.offset = 0), this.offset > 1 && (this.offset = 1);
				var e = this.style("stop-color", !0);
				"" === e.value && (e.value = "#000"), this.style("stop-opacity").hasValue() && (e = e.addOpacity(this.style("stop-opacity"))), this.color = e.value
			}, o.Element.stop.prototype = new o.Element.ElementBase, o.Element.AnimateBase = function (t) {
				this.base = o.Element.ElementBase, this.base(t), o.Animations.push(this), this.duration = 0, this.begin = this.attribute("begin").toMilliseconds(), this.maxDuration = this.begin + this.attribute("dur").toMilliseconds(), this.getProperty = function () {
					var t = this.attribute("attributeType").value, e = this.attribute("attributeName").value;
					return "CSS" == t ? this.parent.style(e, !0) : this.parent.attribute(e, !0)
				}, this.initialValue = null, this.initialUnits = "", this.removed = !1, this.calcValue = function () {
					return ""
				}, this.update = function (t) {
					if (null == this.initialValue && (this.initialValue = this.getProperty().value, this.initialUnits = this.getProperty().getUnits()), this.duration > this.maxDuration) {
						if ("indefinite" == this.attribute("repeatCount").value || "indefinite" == this.attribute("repeatDur").value) this.duration = 0; else if ("freeze" != this.attribute("fill").valueOrDefault("remove") || this.frozen) {
							if ("remove" == this.attribute("fill").valueOrDefault("remove") && !this.removed) return this.removed = !0, this.getProperty().value = this.parent.animationFrozen ? this.parent.animationFrozenValue : this.initialValue, !0
						} else this.frozen = !0, this.parent.animationFrozen = !0, this.parent.animationFrozenValue = this.getProperty().value;
						return !1
					}
					this.duration = this.duration + t;
					var e = !1;
					if (this.begin < this.duration) {
						var i = this.calcValue();
						if (this.attribute("type").hasValue()) {
							var n = this.attribute("type").value;
							i = n + "(" + i + ")"
						}
						this.getProperty().value = i, e = !0
					}
					return e
				}, this.from = this.attribute("from"), this.to = this.attribute("to"), this.values = this.attribute("values"), this.values.hasValue() && (this.values.value = this.values.value.split(";")), this.progress = function () {
					var t = {progress: (this.duration - this.begin) / (this.maxDuration - this.begin)};
					if (this.values.hasValue()) {
						var e = t.progress * (this.values.value.length - 1), i = Math.floor(e), n = Math.ceil(e);
						t.from = new o.Property("from", parseFloat(this.values.value[i])), t.to = new o.Property("to", parseFloat(this.values.value[n])), t.progress = (e - i) / (n - i)
					} else t.from = this.from, t.to = this.to;
					return t
				}
			}, o.Element.AnimateBase.prototype = new o.Element.ElementBase, o.Element.animate = function (t) {
				this.base = o.Element.AnimateBase, this.base(t), this.calcValue = function () {
					var t = this.progress(), e = t.from.numValue() + (t.to.numValue() - t.from.numValue()) * t.progress;
					return e + this.initialUnits
				}
			}, o.Element.animate.prototype = new o.Element.AnimateBase, o.Element.animateColor = function (e) {
				this.base = o.Element.AnimateBase, this.base(e), this.calcValue = function () {
					var e = this.progress(), i = new t(e.from.value), n = new t(e.to.value);
					if (i.ok && n.ok) {
						var r = i.r + (n.r - i.r) * e.progress, o = i.g + (n.g - i.g) * e.progress,
							s = i.b + (n.b - i.b) * e.progress;
						return "rgb(" + parseInt(r, 10) + "," + parseInt(o, 10) + "," + parseInt(s, 10) + ")"
					}
					return this.attribute("from").value
				}
			}, o.Element.animateColor.prototype = new o.Element.AnimateBase, o.Element.animateTransform = function (t) {
				this.base = o.Element.AnimateBase, this.base(t), this.calcValue = function () {
					for (var t = this.progress(), e = o.ToNumberArray(t.from.value), i = o.ToNumberArray(t.to.value), n = "", r = 0; r < e.length; r++) n += e[r] + (i[r] - e[r]) * t.progress + " ";
					return n
				}
			}, o.Element.animateTransform.prototype = new o.Element.animate, o.Element.font = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.horizAdvX = this.attribute("horiz-adv-x").numValue(), this.isRTL = !1, this.isArabic = !1, this.fontFace = null, this.missingGlyph = null, this.glyphs = [];
				for (var e = 0; e < this.children.length; e++) {
					var i = this.children[e];
					"font-face" == i.type ? (this.fontFace = i, i.style("font-family").hasValue() && (o.Definitions[i.style("font-family").value] = this)) : "missing-glyph" == i.type ? this.missingGlyph = i : "glyph" == i.type && ("" != i.arabicForm ? (this.isRTL = !0, this.isArabic = !0, "undefined" == typeof this.glyphs[i.unicode] && (this.glyphs[i.unicode] = []), this.glyphs[i.unicode][i.arabicForm] = i) : this.glyphs[i.unicode] = i)
				}
			}, o.Element.font.prototype = new o.Element.ElementBase, o.Element.fontface = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.ascent = this.attribute("ascent").value, this.descent = this.attribute("descent").value, this.unitsPerEm = this.attribute("units-per-em").numValue()
			}, o.Element.fontface.prototype = new o.Element.ElementBase, o.Element.missingglyph = function (t) {
				this.base = o.Element.path, this.base(t), this.horizAdvX = 0
			}, o.Element.missingglyph.prototype = new o.Element.path, o.Element.glyph = function (t) {
				this.base = o.Element.path, this.base(t), this.horizAdvX = this.attribute("horiz-adv-x").numValue(), this.unicode = this.attribute("unicode").value, this.arabicForm = this.attribute("arabic-form").value
			}, o.Element.glyph.prototype = new o.Element.path, o.Element.text = function (t) {
				this.captureTextNodes = !0, this.base = o.Element.RenderedElementBase, this.base(t), this.baseSetContext = this.setContext, this.setContext = function (t) {
					this.baseSetContext(t);
					var e = this.style("dominant-baseline").toTextBaseline();
					null == e && (e = this.style("alignment-baseline").toTextBaseline()), null != e && (t.textBaseline = e)
				}, this.getBoundingBox = function () {
					var t = this.attribute("x").toPixels("x"), e = this.attribute("y").toPixels("y"),
						i = this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize);
					return new o.BoundingBox(t, e - i, t + Math.floor(2 * i / 3) * this.children[0].getText().length, e)
				}, this.renderChildren = function (t) {
					this.x = this.attribute("x").toPixels("x"), this.y = this.attribute("y").toPixels("y"), this.attribute("dx").hasValue() && (this.x += this.attribute("dx").toPixels("x")), this.attribute("dy").hasValue() && (this.y += this.attribute("dy").toPixels("y")), this.x += this.getAnchorDelta(t, this, 0);
					for (var e = 0; e < this.children.length; e++) this.renderChild(t, this, this, e)
				}, this.getAnchorDelta = function (t, e, i) {
					var n = this.style("text-anchor").valueOrDefault("start");
					if ("start" != n) {
						for (var r = 0, o = i; o < e.children.length; o++) {
							var s = e.children[o];
							if (o > i && s.attribute("x").hasValue()) break;
							r += s.measureTextRecursive(t)
						}
						return -1 * ("end" == n ? r : r / 2)
					}
					return 0
				}, this.renderChild = function (t, e, i, n) {
					var r = i.children[n];
					r.attribute("x").hasValue() ? (r.x = r.attribute("x").toPixels("x") + e.getAnchorDelta(t, i, n), r.attribute("dx").hasValue() && (r.x += r.attribute("dx").toPixels("x"))) : (r.attribute("dx").hasValue() && (e.x += r.attribute("dx").toPixels("x")), r.x = e.x), e.x = r.x + r.measureText(t), r.attribute("y").hasValue() ? (r.y = r.attribute("y").toPixels("y"), r.attribute("dy").hasValue() && (r.y += r.attribute("dy").toPixels("y"))) : (r.attribute("dy").hasValue() && (e.y += r.attribute("dy").toPixels("y")), r.y = e.y), e.y = r.y, r.render(t);
					for (var n = 0; n < r.children.length; n++) e.renderChild(t, e, r, n)
				}
			}, o.Element.text.prototype = new o.Element.RenderedElementBase, o.Element.TextElementBase = function (t) {
				this.base = o.Element.RenderedElementBase, this.base(t), this.getGlyph = function (t, e, i) {
					var n = e[i], r = null;
					if (t.isArabic) {
						var o = "isolated";
						(0 == i || " " == e[i - 1]) && i < e.length - 2 && " " != e[i + 1] && (o = "terminal"), i > 0 && " " != e[i - 1] && i < e.length - 2 && " " != e[i + 1] && (o = "medial"), i > 0 && " " != e[i - 1] && (i == e.length - 1 || " " == e[i + 1]) && (o = "initial"), "undefined" != typeof t.glyphs[n] && (r = t.glyphs[n][o], null == r && "glyph" == t.glyphs[n].type && (r = t.glyphs[n]))
					} else r = t.glyphs[n];
					return null == r && (r = t.missingGlyph), r
				}, this.renderChildren = function (t) {
					var e = this.parent.style("font-family").getDefinition();
					if (null == e) "" != t.fillStyle && t.fillText(this.getText(), this.x, this.y), "" != t.strokeStyle && t.strokeText(this.getText(), this.x, this.y); else {
						var i = this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize),
							n = this.parent.style("font-style").valueOrDefault(o.Font.Parse(o.ctx.font).fontStyle),
							r = this.getText();
						e.isRTL && (r = r.split("").reverse().join(""));
						for (var s = o.ToNumberArray(this.parent.attribute("dx").value), a = 0; a < r.length; a++) {
							var h = this.getGlyph(e, r, a), l = i / e.fontFace.unitsPerEm;
							t.translate(this.x, this.y), t.scale(l, -l);
							var u = t.lineWidth;
							t.lineWidth = t.lineWidth * e.fontFace.unitsPerEm / i, "italic" == n && t.transform(1, 0, .4, 1, 0, 0), h.render(t), "italic" == n && t.transform(1, 0, -.4, 1, 0, 0), t.lineWidth = u, t.scale(1 / l, -1 / l), t.translate(-this.x, -this.y), this.x += i * (h.horizAdvX || e.horizAdvX) / e.fontFace.unitsPerEm, "undefined" == typeof s[a] || isNaN(s[a]) || (this.x += s[a])
						}
					}
				}, this.getText = function () {
				}, this.measureTextRecursive = function (t) {
					for (var e = this.measureText(t), i = 0; i < this.children.length; i++) e += this.children[i].measureTextRecursive(t);
					return e
				}, this.measureText = function (t) {
					var e = this.parent.style("font-family").getDefinition();
					if (null != e) {
						var i = this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize),
							n = 0, r = this.getText();
						e.isRTL && (r = r.split("").reverse().join(""));
						for (var s = o.ToNumberArray(this.parent.attribute("dx").value), a = 0; a < r.length; a++) {
							var h = this.getGlyph(e, r, a);
							n += (h.horizAdvX || e.horizAdvX) * i / e.fontFace.unitsPerEm, "undefined" == typeof s[a] || isNaN(s[a]) || (n += s[a])
						}
						return n
					}
					var l = this.getText();
					if (!t.measureText) return 10 * l.length;
					t.save(), this.setContext(t);
					var u = t.measureText(l).width;
					return t.restore(), u
				}
			}, o.Element.TextElementBase.prototype = new o.Element.RenderedElementBase, o.Element.tspan = function (t) {
				this.captureTextNodes = !0, this.base = o.Element.TextElementBase, this.base(t), this.text = t.value || t.text || t.textContent || "", this.getText = function () {
					return this.children.length > 0 ? "" : this.text
				}
			}, o.Element.tspan.prototype = new o.Element.TextElementBase, o.Element.tref = function (t) {
				this.base = o.Element.TextElementBase, this.base(t), this.getText = function () {
					var t = this.getHrefAttribute().getDefinition();
					if (null != t) return t.children[0].getText()
				}
			}, o.Element.tref.prototype = new o.Element.TextElementBase, o.Element.a = function (t) {
				this.base = o.Element.TextElementBase, this.base(t), this.hasText = t.childNodes.length > 0;
				for (var e = 0; e < t.childNodes.length; e++) 3 != t.childNodes[e].nodeType && (this.hasText = !1);
				this.text = this.hasText ? t.childNodes[0].value : "", this.getText = function () {
					return this.text
				}, this.baseRenderChildren = this.renderChildren, this.renderChildren = function (t) {
					if (this.hasText) {
						this.baseRenderChildren(t);
						var e = new o.Property("fontSize", o.Font.Parse(o.ctx.font).fontSize);
						o.Mouse.checkBoundingBox(this, new o.BoundingBox(this.x, this.y - e.toPixels("y"), this.x + this.measureText(t), this.y))
					} else if (this.children.length > 0) {
						var i = new o.Element.g;
						i.children = this.children, i.parent = this, i.render(t)
					}
				}, this.onclick = function () {
					window.open(this.getHrefAttribute().value)
				}, this.onmousemove = function () {
					o.ctx.canvas.style.cursor = "pointer"
				}
			}, o.Element.a.prototype = new o.Element.TextElementBase, o.Element.image = function (t) {
				this.base = o.Element.RenderedElementBase, this.base(t);
				var e = this.getHrefAttribute().value;
				if ("" != e) {
					var i = e.match(/\.svg$/);
					if (o.Images.push(this), this.loaded = !1, i) this.img = o.ajax(e), this.loaded = !0; else {
						this.img = document.createElement("img"), 1 == o.opts.useCORS && (this.img.crossOrigin = "Anonymous");
						var n = this;
						this.img.onload = function () {
							n.loaded = !0
						}, this.img.onerror = function () {
							o.log('ERROR: image "' + e + '" not found'), n.loaded = !0
						}, this.img.src = e
					}
					this.renderChildren = function (t) {
						var e = this.attribute("x").toPixels("x"), n = this.attribute("y").toPixels("y"),
							r = this.attribute("width").toPixels("x"), s = this.attribute("height").toPixels("y");
						0 != r && 0 != s && (t.save(), i ? t.drawSvg(this.img, e, n, r, s) : (t.translate(e, n), o.AspectRatio(t, this.attribute("preserveAspectRatio").value, r, this.img.width, s, this.img.height, 0, 0), t.drawImage(this.img, 0, 0)), t.restore())
					}, this.getBoundingBox = function () {
						var t = this.attribute("x").toPixels("x"), e = this.attribute("y").toPixels("y"),
							i = this.attribute("width").toPixels("x"), n = this.attribute("height").toPixels("y");
						return new o.BoundingBox(t, e, t + i, e + n)
					}
				}
			}, o.Element.image.prototype = new o.Element.RenderedElementBase, o.Element.g = function (t) {
				this.base = o.Element.RenderedElementBase, this.base(t), this.getBoundingBox = function () {
					for (var t = new o.BoundingBox, e = 0; e < this.children.length; e++) t.addBoundingBox(this.children[e].getBoundingBox());
					return t
				}
			}, o.Element.g.prototype = new o.Element.RenderedElementBase, o.Element.symbol = function (t) {
				this.base = o.Element.RenderedElementBase, this.base(t), this.render = function (t) {
				}
			}, o.Element.symbol.prototype = new o.Element.RenderedElementBase, o.Element.style = function (t) {
				this.base = o.Element.ElementBase, this.base(t);
				for (var e = "", n = 0; n < t.childNodes.length; n++) e += t.childNodes[n].data;
				e = e.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm, ""), e = o.compressSpaces(e);
				for (var r = e.split("}"), n = 0; n < r.length; n++) if ("" != o.trim(r[n])) for (var s = r[n].split("{"), a = s[0].split(","), h = s[1].split(";"), l = 0; l < a.length; l++) {
					var u = o.trim(a[l]);
					if ("" != u) {
						for (var c = o.Styles[u] || {}, f = 0; f < h.length; f++) {
							var d = h[f].indexOf(":"), p = h[f].substr(0, d), g = h[f].substr(d + 1, h[f].length - d);
							null != p && null != g && (c[o.trim(p)] = new o.Property(o.trim(p), o.trim(g)))
						}
						if (o.Styles[u] = c, o.StylesSpecificity[u] = i(u), "@font-face" == u) for (var m = c["font-family"].value.replace(/"/g, ""), y = c.src.value.split(","), v = 0; v < y.length; v++) if (y[v].indexOf('format("svg")') > 0) for (var _ = y[v].indexOf("url"), x = y[v].indexOf(")", _), b = y[v].substr(_ + 5, x - _ - 6), w = o.parseXml(o.ajax(b)), T = w.getElementsByTagName("font"), C = 0; C < T.length; C++) {
							var E = o.CreateElement(T[C]);
							o.Definitions[m] = E
						}
					}
				}
			}, o.Element.style.prototype = new o.Element.ElementBase, o.Element.use = function (t) {
				this.base = o.Element.RenderedElementBase, this.base(t), this.baseSetContext = this.setContext, this.setContext = function (t) {
					this.baseSetContext(t), this.attribute("x").hasValue() && t.translate(this.attribute("x").toPixels("x"), 0), this.attribute("y").hasValue() && t.translate(0, this.attribute("y").toPixels("y"))
				};
				var e = this.getHrefAttribute().getDefinition();
				this.path = function (t) {
					null != e && e.path(t)
				}, this.getBoundingBox = function () {
					if (null != e) return e.getBoundingBox()
				}, this.renderChildren = function (t) {
					if (null != e) {
						var i = e;
						"symbol" == e.type && (i = new o.Element.svg, i.type = "svg", i.attributes.viewBox = new o.Property("viewBox", e.attribute("viewBox").value), i.attributes.preserveAspectRatio = new o.Property("preserveAspectRatio", e.attribute("preserveAspectRatio").value), i.attributes.overflow = new o.Property("overflow", e.attribute("overflow").value), i.children = e.children), "svg" == i.type && (this.attribute("width").hasValue() && (i.attributes.width = new o.Property("width", this.attribute("width").value)), this.attribute("height").hasValue() && (i.attributes.height = new o.Property("height", this.attribute("height").value)));
						var n = i.parent;
						i.parent = null, i.render(t), i.parent = n
					}
				}
			}, o.Element.use.prototype = new o.Element.RenderedElementBase, o.Element.mask = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.apply = function (t, e) {
					var i = this.attribute("x").toPixels("x"), n = this.attribute("y").toPixels("y"),
						r = this.attribute("width").toPixels("x"), s = this.attribute("height").toPixels("y");
					if (0 == r && 0 == s) {
						for (var a = new o.BoundingBox, h = 0; h < this.children.length; h++) a.addBoundingBox(this.children[h].getBoundingBox());
						var i = Math.floor(a.x1), n = Math.floor(a.y1), r = Math.floor(a.width()),
							s = Math.floor(a.height())
					}
					var l = e.attribute("mask").value;
					e.attribute("mask").value = "";
					var u = document.createElement("canvas");
					u.width = i + r, u.height = n + s;
					var c = u.getContext("2d");
					this.renderChildren(c);
					var f = document.createElement("canvas");
					f.width = i + r, f.height = n + s;
					var d = f.getContext("2d");
					e.render(d), d.globalCompositeOperation = "destination-in", d.fillStyle = c.createPattern(u, "no-repeat"), d.fillRect(0, 0, i + r, n + s), t.fillStyle = d.createPattern(f, "no-repeat"), t.fillRect(0, 0, i + r, n + s), e.attribute("mask").value = l
				}, this.render = function (t) {
				}
			}, o.Element.mask.prototype = new o.Element.ElementBase, o.Element.clipPath = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.apply = function (t) {
					var e = CanvasRenderingContext2D.prototype.beginPath;
					CanvasRenderingContext2D.prototype.beginPath = function () {
					};
					var i = CanvasRenderingContext2D.prototype.closePath;
					CanvasRenderingContext2D.prototype.closePath = function () {
					}, e.call(t);
					for (var n = 0; n < this.children.length; n++) {
						var r = this.children[n];
						if ("undefined" != typeof r.path) {
							var s = null;
							r.style("transform", !1, !0).hasValue() && (s = new o.Transform(r.style("transform", !1, !0).value), s.apply(t)), r.path(t), CanvasRenderingContext2D.prototype.closePath = i, s && s.unapply(t)
						}
					}
					i.call(t), t.clip(), CanvasRenderingContext2D.prototype.beginPath = e, CanvasRenderingContext2D.prototype.closePath = i
				}, this.render = function (t) {
				}
			}, o.Element.clipPath.prototype = new o.Element.ElementBase, o.Element.filter = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.apply = function (t, e) {
					var i = e.getBoundingBox(), n = Math.floor(i.x1), r = Math.floor(i.y1), o = Math.floor(i.width()),
						s = Math.floor(i.height()), a = e.style("filter").value;
					e.style("filter").value = "";
					for (var h = 0, l = 0, u = 0; u < this.children.length; u++) {
						var c = this.children[u].extraFilterDistance || 0;
						h = Math.max(h, c), l = Math.max(l, c)
					}
					var f = document.createElement("canvas");
					f.width = o + 2 * h, f.height = s + 2 * l;
					var d = f.getContext("2d");
					d.translate(-n + h, -r + l), e.render(d);
					for (var u = 0; u < this.children.length; u++) "function" == typeof this.children[u].apply && this.children[u].apply(d, 0, 0, o + 2 * h, s + 2 * l);
					t.drawImage(f, 0, 0, o + 2 * h, s + 2 * l, n - h, r - l, o + 2 * h, s + 2 * l), e.style("filter", !0).value = a
				}, this.render = function (t) {
				}
			}, o.Element.filter.prototype = new o.Element.ElementBase, o.Element.feMorphology = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.apply = function (t, e, i, n, r) {
				}
			}, o.Element.feMorphology.prototype = new o.Element.ElementBase, o.Element.feComposite = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.apply = function (t, e, i, n, r) {
				}
			}, o.Element.feComposite.prototype = new o.Element.ElementBase, o.Element.feColorMatrix = function (t) {
				function e(t, e, i, n, r, o) {
					return t[i * n * 4 + 4 * e + o]
				}

				function i(t, e, i, n, r, o, s) {
					t[i * n * 4 + 4 * e + o] = s
				}

				function n(t, e) {
					var i = r[t];
					return i * (i < 0 ? e - 255 : e)
				}

				this.base = o.Element.ElementBase, this.base(t);
				var r = o.ToNumberArray(this.attribute("values").value);
				switch (this.attribute("type").valueOrDefault("matrix")) {
					case"saturate":
						var s = r[0];
						r = [.213 + .787 * s, .715 - .715 * s, .072 - .072 * s, 0, 0, .213 - .213 * s, .715 + .285 * s, .072 - .072 * s, 0, 0, .213 - .213 * s, .715 - .715 * s, .072 + .928 * s, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1];
						break;
					case"hueRotate":
						var a = r[0] * Math.PI / 180, h = function (t, e, i) {
							return t + Math.cos(a) * e + Math.sin(a) * i
						};
						r = [h(.213, .787, -.213), h(.715, -.715, -.715), h(.072, -.072, .928), 0, 0, h(.213, -.213, .143), h(.715, .285, .14), h(.072, -.072, -.283), 0, 0, h(.213, -.213, -.787), h(.715, -.715, .715), h(.072, .928, .072), 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1];
						break;
					case"luminanceToAlpha":
						r = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, .2125, .7154, .0721, 0, 0, 0, 0, 0, 0, 1]
				}
				this.apply = function (t, r, o, s, a) {
					for (var h = t.getImageData(0, 0, s, a), o = 0; o < a; o++) for (var r = 0; r < s; r++) {
						var l = e(h.data, r, o, s, a, 0), u = e(h.data, r, o, s, a, 1), c = e(h.data, r, o, s, a, 2),
							f = e(h.data, r, o, s, a, 3);
						i(h.data, r, o, s, a, 0, n(0, l) + n(1, u) + n(2, c) + n(3, f) + n(4, 1)), i(h.data, r, o, s, a, 1, n(5, l) + n(6, u) + n(7, c) + n(8, f) + n(9, 1)), i(h.data, r, o, s, a, 2, n(10, l) + n(11, u) + n(12, c) + n(13, f) + n(14, 1)), i(h.data, r, o, s, a, 3, n(15, l) + n(16, u) + n(17, c) + n(18, f) + n(19, 1))
					}
					t.clearRect(0, 0, s, a), t.putImageData(h, 0, 0)
				}
			}, o.Element.feColorMatrix.prototype = new o.Element.ElementBase, o.Element.feGaussianBlur = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.blurRadius = Math.floor(this.attribute("stdDeviation").numValue()), this.extraFilterDistance = this.blurRadius, this.apply = function (t, i, n, r, s) {
					return "undefined" == typeof e.canvasRGBA ? void o.log("ERROR: StackBlur.js must be included for blur to work") : (t.canvas.id = o.UniqueId(), t.canvas.style.display = "none", document.body.appendChild(t.canvas), e.canvasRGBA(t.canvas.id, i, n, r, s, this.blurRadius), void document.body.removeChild(t.canvas))
				}
			}, o.Element.feGaussianBlur.prototype = new o.Element.ElementBase, o.Element.title = function (t) {
			}, o.Element.title.prototype = new o.Element.ElementBase, o.Element.desc = function (t) {
			},o.Element.desc.prototype = new o.Element.ElementBase,o.Element.MISSING = function (t) {
				o.log("ERROR: Element '" + t.nodeName + "' not yet implemented.")
			},o.Element.MISSING.prototype = new o.Element.ElementBase,o.CreateElement = function (t) {
				var e = t.nodeName.replace(/^[^:]+:/, "");
				e = e.replace(/\-/g, "");
				var i = null;
				return i = "undefined" != typeof o.Element[e] ? new o.Element[e](t) : new o.Element.MISSING(t), i.type = t.nodeName, i
			},o.load = function (t, e) {
				o.loadXml(t, o.ajax(e))
			},o.loadXml = function (t, e) {
				o.loadXmlDoc(t, o.parseXml(e))
			},o.loadXmlDoc = function (t, e) {
				o.init(t);
				var i = function (e) {
					for (var i = t.canvas; i;) e.x -= i.offsetLeft, e.y -= i.offsetTop, i = i.offsetParent;
					return window.scrollX && (e.x += window.scrollX), window.scrollY && (e.y += window.scrollY), e
				};
				1 != o.opts.ignoreMouse && (t.canvas.onclick = function (t) {
					var e = i(new o.Point(null != t ? t.clientX : event.clientX, null != t ? t.clientY : event.clientY));
					o.Mouse.onclick(e.x, e.y)
				}, t.canvas.onmousemove = function (t) {
					var e = i(new o.Point(null != t ? t.clientX : event.clientX, null != t ? t.clientY : event.clientY));
					o.Mouse.onmousemove(e.x, e.y)
				});
				var n = o.CreateElement(e.documentElement);
				n.root = !0, n.addStylesFromStyleDefinition();
				var r = !0, s = function () {
					o.ViewPort.Clear(), t.canvas.parentNode && o.ViewPort.SetCurrent(t.canvas.parentNode.clientWidth, t.canvas.parentNode.clientHeight), 1 != o.opts.ignoreDimensions && (n.style("width").hasValue() && (t.canvas.width = n.style("width").toPixels("x"), t.canvas.style.width = t.canvas.width + "px"), n.style("height").hasValue() && (t.canvas.height = n.style("height").toPixels("y"), t.canvas.style.height = t.canvas.height + "px"));
					var i = t.canvas.clientWidth || t.canvas.width, s = t.canvas.clientHeight || t.canvas.height;
					if (1 == o.opts.ignoreDimensions && n.style("width").hasValue() && n.style("height").hasValue() && (i = n.style("width").toPixels("x"), s = n.style("height").toPixels("y")), o.ViewPort.SetCurrent(i, s), null != o.opts.offsetX && (n.attribute("x", !0).value = o.opts.offsetX), null != o.opts.offsetY && (n.attribute("y", !0).value = o.opts.offsetY), null != o.opts.scaleWidth || null != o.opts.scaleHeight) {
						var a = null, h = null, l = o.ToNumberArray(n.attribute("viewBox").value);
						null != o.opts.scaleWidth && (n.attribute("width").hasValue() ? a = n.attribute("width").toPixels("x") / o.opts.scaleWidth : isNaN(l[2]) || (a = l[2] / o.opts.scaleWidth)), null != o.opts.scaleHeight && (n.attribute("height").hasValue() ? h = n.attribute("height").toPixels("y") / o.opts.scaleHeight : isNaN(l[3]) || (h = l[3] / o.opts.scaleHeight)), null == a && (a = h), null == h && (h = a), n.attribute("width", !0).value = o.opts.scaleWidth, n.attribute("height", !0).value = o.opts.scaleHeight, n.style("transform", !0, !0).value += " scale(" + 1 / a + "," + 1 / h + ")"
					}
					1 != o.opts.ignoreClear && t.clearRect(0, 0, i, s), n.render(t), r && (r = !1, "function" == typeof o.opts.renderCallback && o.opts.renderCallback(e))
				}, a = !0;
				o.ImagesLoaded() && (a = !1, s()), o.intervalID = setInterval(function () {
					var t = !1;
					if (a && o.ImagesLoaded() && (a = !1, t = !0), 1 != o.opts.ignoreMouse && (t |= o.Mouse.hasEvents()), 1 != o.opts.ignoreAnimation) for (var e = 0; e < o.Animations.length; e++) t |= o.Animations[e].update(1e3 / o.FRAMERATE);
					"function" == typeof o.opts.forceRedraw && 1 == o.opts.forceRedraw() && (t = !0), t && (s(), o.Mouse.runEvents())
				}, 1e3 / o.FRAMERATE)
			},o.stop = function () {
				o.intervalID && clearInterval(o.intervalID)
			},o.Mouse = new function () {
				this.events = [], this.hasEvents = function () {
					return 0 != this.events.length
				}, this.onclick = function (t, e) {
					this.events.push({
						type: "onclick", x: t, y: e, run: function (t) {
							t.onclick && t.onclick()
						}
					})
				}, this.onmousemove = function (t, e) {
					this.events.push({
						type: "onmousemove", x: t, y: e, run: function (t) {
							t.onmousemove && t.onmousemove()
						}
					})
				}, this.eventElements = [], this.checkPath = function (t, e) {
					for (var i = 0; i < this.events.length; i++) {
						var n = this.events[i];
						e.isPointInPath && e.isPointInPath(n.x, n.y) && (this.eventElements[i] = t)
					}
				}, this.checkBoundingBox = function (t, e) {
					for (var i = 0; i < this.events.length; i++) {
						var n = this.events[i];
						e.isPointInBox(n.x, n.y) && (this.eventElements[i] = t)
					}
				}, this.runEvents = function () {
					o.ctx.canvas.style.cursor = "";
					for (var t = 0; t < this.events.length; t++) for (var e = this.events[t], i = this.eventElements[t]; i;) e.run(i), i = i.parent;
					this.events = [], this.eventElements = []
				}
			},o
		}

		var r, o = function d(t, e, i) {
			if (null != t || null != e || null != i) {
				"string" == typeof t && (t = document.getElementById(t)), null != t.svg && t.svg.stop();
				var r = n(i || {});
				1 == t.childNodes.length && "OBJECT" == t.childNodes[0].nodeName || (t.svg = r);
				var o = t.getContext("2d");
				"undefined" != typeof e.documentElement ? r.loadXmlDoc(o, e) : "<" == e.substr(0, 1) ? r.loadXml(o, e) : r.load(o, e)
			} else for (var s = document.querySelectorAll("svg"), a = 0; a < s.length; a++) {
				var h = s[a], l = document.createElement("canvas");
				l.width = h.clientWidth, l.height = h.clientHeight, h.parentNode.insertBefore(l, h), h.parentNode.removeChild(h);
				var u = document.createElement("div");
				u.appendChild(h), d(l, u.innerHTML)
			}
		};
		"undefined" != typeof Element.prototype.matches ? r = function (t, e) {
			return t.matches(e)
		} : "undefined" != typeof Element.prototype.webkitMatchesSelector ? r = function (t, e) {
			return t.webkitMatchesSelector(e)
		} : "undefined" != typeof Element.prototype.mozMatchesSelector ? r = function (t, e) {
			return t.mozMatchesSelector(e)
		} : "undefined" != typeof Element.prototype.msMatchesSelector ? r = function (t, e) {
			return t.msMatchesSelector(e)
		} : "undefined" != typeof Element.prototype.oMatchesSelector ? r = function (t, e) {
			return t.oMatchesSelector(e)
		} : ("function" != typeof jQuery && "function" != typeof Zepto || (r = function (t, e) {
			return $(t).is(e)
		}), "undefined" == typeof r && (r = Sizzle.matchesSelector));
		var s = /(\[[^\]]+\])/g, a = /(#[^\s\+>~\.\[:]+)/g, h = /(\.[^\s\+>~\.\[:]+)/g,
			l = /(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi, u = /(:[\w-]+\([^\)]*\))/gi,
			c = /(:[^\s\+>~\.\[:]+)/g, f = /([^\s\+>~\.\[:]+)/g;
		return "undefined" != typeof CanvasRenderingContext2D && (CanvasRenderingContext2D.prototype.drawSvg = function (t, e, i, n, r, s) {
			var a = {
				ignoreMouse: !0,
				ignoreAnimation: !0,
				ignoreDimensions: !0,
				ignoreClear: !0,
				offsetX: e,
				offsetY: i,
				scaleWidth: n,
				scaleHeight: r
			};
			for (var h in s) s.hasOwnProperty(h) && (a[h] = s[h]);
			o(this.canvas, t, a)
		}), o
	})
}, function (t, e, i) {
	var n;
	!function (r) {
		function o(t) {
			this.ok = !1, "#" == t.charAt(0) && (t = t.substr(1, 6)), t = t.replace(/ /g, ""), t = t.toLowerCase();
			var e = {
				aliceblue: "f0f8ff",
				antiquewhite: "faebd7",
				aqua: "00ffff",
				aquamarine: "7fffd4",
				azure: "f0ffff",
				beige: "f5f5dc",
				bisque: "ffe4c4",
				black: "000000",
				blanchedalmond: "ffebcd",
				blue: "0000ff",
				blueviolet: "8a2be2",
				brown: "a52a2a",
				burlywood: "deb887",
				cadetblue: "5f9ea0",
				chartreuse: "7fff00",
				chocolate: "d2691e",
				coral: "ff7f50",
				cornflowerblue: "6495ed",
				cornsilk: "fff8dc",
				crimson: "dc143c",
				cyan: "00ffff",
				darkblue: "00008b",
				darkcyan: "008b8b",
				darkgoldenrod: "b8860b",
				darkgray: "a9a9a9",
				darkgreen: "006400",
				darkkhaki: "bdb76b",
				darkmagenta: "8b008b",
				darkolivegreen: "556b2f",
				darkorange: "ff8c00",
				darkorchid: "9932cc",
				darkred: "8b0000",
				darksalmon: "e9967a",
				darkseagreen: "8fbc8f",
				darkslateblue: "483d8b",
				darkslategray: "2f4f4f",
				darkturquoise: "00ced1",
				darkviolet: "9400d3",
				deeppink: "ff1493",
				deepskyblue: "00bfff",
				dimgray: "696969",
				dodgerblue: "1e90ff",
				feldspar: "d19275",
				firebrick: "b22222",
				floralwhite: "fffaf0",
				forestgreen: "228b22",
				fuchsia: "ff00ff",
				gainsboro: "dcdcdc",
				ghostwhite: "f8f8ff",
				gold: "ffd700",
				goldenrod: "daa520",
				gray: "808080",
				green: "008000",
				greenyellow: "adff2f",
				honeydew: "f0fff0",
				hotpink: "ff69b4",
				indianred: "cd5c5c",
				indigo: "4b0082",
				ivory: "fffff0",
				khaki: "f0e68c",
				lavender: "e6e6fa",
				lavenderblush: "fff0f5",
				lawngreen: "7cfc00",
				lemonchiffon: "fffacd",
				lightblue: "add8e6",
				lightcoral: "f08080",
				lightcyan: "e0ffff",
				lightgoldenrodyellow: "fafad2",
				lightgrey: "d3d3d3",
				lightgreen: "90ee90",
				lightpink: "ffb6c1",
				lightsalmon: "ffa07a",
				lightseagreen: "20b2aa",
				lightskyblue: "87cefa",
				lightslateblue: "8470ff",
				lightslategray: "778899",
				lightsteelblue: "b0c4de",
				lightyellow: "ffffe0",
				lime: "00ff00",
				limegreen: "32cd32",
				linen: "faf0e6",
				magenta: "ff00ff",
				maroon: "800000",
				mediumaquamarine: "66cdaa",
				mediumblue: "0000cd",
				mediumorchid: "ba55d3",
				mediumpurple: "9370d8",
				mediumseagreen: "3cb371",
				mediumslateblue: "7b68ee",
				mediumspringgreen: "00fa9a",
				mediumturquoise: "48d1cc",
				mediumvioletred: "c71585",
				midnightblue: "191970",
				mintcream: "f5fffa",
				mistyrose: "ffe4e1",
				moccasin: "ffe4b5",
				navajowhite: "ffdead",
				navy: "000080",
				oldlace: "fdf5e6",
				olive: "808000",
				olivedrab: "6b8e23",
				orange: "ffa500",
				orangered: "ff4500",
				orchid: "da70d6",
				palegoldenrod: "eee8aa",
				palegreen: "98fb98",
				paleturquoise: "afeeee",
				palevioletred: "d87093",
				papayawhip: "ffefd5",
				peachpuff: "ffdab9",
				peru: "cd853f",
				pink: "ffc0cb",
				plum: "dda0dd",
				powderblue: "b0e0e6",
				purple: "800080",
				red: "ff0000",
				rosybrown: "bc8f8f",
				royalblue: "4169e1",
				saddlebrown: "8b4513",
				salmon: "fa8072",
				sandybrown: "f4a460",
				seagreen: "2e8b57",
				seashell: "fff5ee",
				sienna: "a0522d",
				silver: "c0c0c0",
				skyblue: "87ceeb",
				slateblue: "6a5acd",
				slategray: "708090",
				snow: "fffafa",
				springgreen: "00ff7f",
				steelblue: "4682b4",
				tan: "d2b48c",
				teal: "008080",
				thistle: "d8bfd8",
				tomato: "ff6347",
				turquoise: "40e0d0",
				violet: "ee82ee",
				violetred: "d02090",
				wheat: "f5deb3",
				white: "ffffff",
				whitesmoke: "f5f5f5",
				yellow: "ffff00",
				yellowgreen: "9acd32"
			};
			for (var i in e) t == i && (t = e[i]);
			for (var n = [{
				re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,
				example: ["rgb(123, 234, 45)", "rgb(255,234,245)"],
				process: function (t) {
					return [parseInt(t[1]), parseInt(t[2]), parseInt(t[3])]
				}
			}, {
				re: /^(\w{2})(\w{2})(\w{2})$/, example: ["#00ff00", "336699"], process: function (t) {
					return [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)]
				}
			}, {
				re: /^(\w{1})(\w{1})(\w{1})$/, example: ["#fb0", "f0f"], process: function (t) {
					return [parseInt(t[1] + t[1], 16), parseInt(t[2] + t[2], 16), parseInt(t[3] + t[3], 16)]
				}
			}], r = 0; r < n.length; r++) {
				var s, a = n[r].re, h = n[r].process, l = a.exec(t);
				l && (s = h(l), this.r = s[0], this.g = s[1], this.b = s[2], this.ok = !0)
			}
			this.r = this.r < 0 || isNaN(this.r) ? 0 : this.r > 255 ? 255 : this.r, this.g = this.g < 0 || isNaN(this.g) ? 0 : this.g > 255 ? 255 : this.g, this.b = this.b < 0 || isNaN(this.b) ? 0 : this.b > 255 ? 255 : this.b, this.toRGB = function () {
				return "rgb(" + this.r + ", " + this.g + ", " + this.b + ")"
			}, this.toHex = function () {
				var t = this.r.toString(16), e = this.g.toString(16), i = this.b.toString(16);
				return 1 == t.length && (t = "0" + t), 1 == e.length && (e = "0" + e), 1 == i.length && (i = "0" + i), "#" + t + e + i
			}, this.getHelpXML = function () {
				for (var t = new Array, i = 0; i < n.length; i++) for (var r = n[i].example, s = 0; s < r.length; s++) t[t.length] = r[s];
				for (var a in e) t[t.length] = a;
				var h = document.createElement("ul");
				h.setAttribute("id", "rgbcolor-examples");
				for (var i = 0; i < t.length; i++) try {
					var l = document.createElement("li"), u = new o(t[i]), c = document.createElement("div");
					c.style.cssText = "margin: 3px; border: 1px solid black; background:" + u.toHex() + "; color:" + u.toHex(), c.appendChild(document.createTextNode("test"));
					var f = document.createTextNode(" " + t[i] + " -> " + u.toRGB() + " -> " + u.toHex());
					l.appendChild(c), l.appendChild(f), h.appendChild(l)
				} catch (d) {
				}
				return h
			}
		}

		n = function () {
			return o
		}.call(e, i, e, t), !(void 0 !== n && (t.exports = n)), r.RGBColor = o
	}("undefined" != typeof window ? window : void 0)
}, function (t, e, i) {
	var n;
	!function (r) {
		function o(t) {
			for (var e = t.data, i = t.width * t.height * 4, n = 0; n < i; n += 4) {
				var r = e[n + 3] / 255;
				e[n] *= r, e[n + 1] *= r, e[n + 2] *= r
			}
		}

		function s(t) {
			for (var e = t.data, i = t.width * t.height * 4, n = 0; n < i; n += 4) {
				var r = e[n + 3];
				0 != r && (r = 255 / r, e[n] *= r, e[n + 1] *= r, e[n + 2] *= r)
			}
		}

		function a(t, e, i, n) {
			var r = document.getElementById(t), o = r.naturalWidth, s = r.naturalHeight, a = document.getElementById(e);
			a.style.width = o + "px", a.style.height = s + "px", a.width = o, a.height = s;
			var u = a.getContext("2d");
			u.clearRect(0, 0, o, s), u.drawImage(r, 0, 0), isNaN(i) || i < 1 || (n ? h(e, 0, 0, o, s, i) : l(e, 0, 0, o, s, i))
		}

		function h(t, e, i, n, r, a) {
			if (!(isNaN(a) || a < 1)) {
				a |= 0;
				var h, l = document.getElementById(t), d = l.getContext("2d");
				try {
					try {
						h = d.getImageData(e, i, n, r)
					} catch (p) {
						try {
							netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"), h = d.getImageData(e, i, n, r)
						} catch (p) {
							throw void 0, new Error("unable to access local image data: " + p)
						}
					}
				} catch (p) {
					throw void 0, new Error("unable to access image data: " + p)
				}
				o(h);
				var g, m, y, v, _, x, b, w, T, C, E, M, P, S, I, R, A, k, O, L, D, B, N, F, z = h.data, H = a + a + 1,
					j = n - 1, U = r - 1, V = a + 1, X = V * (V + 1) / 2, W = new u, G = W;
				for (y = 1; y < H; y++) if (G = G.next = new u, y == V) var Y = G;
				G.next = W;
				var q = null, Q = null;
				b = x = 0;
				var J = c[a], Z = f[a];
				for (m = 0; m < r; m++) {
					for (R = A = k = O = w = T = C = E = 0, M = V * (L = z[x]), P = V * (D = z[x + 1]), S = V * (B = z[x + 2]), I = V * (N = z[x + 3]), w += X * L, T += X * D, C += X * B, E += X * N, G = W, y = 0; y < V; y++) G.r = L, G.g = D, G.b = B, G.a = N, G = G.next;
					for (y = 1; y < V; y++) v = x + ((j < y ? j : y) << 2), w += (G.r = L = z[v]) * (F = V - y), T += (G.g = D = z[v + 1]) * F, C += (G.b = B = z[v + 2]) * F, E += (G.a = N = z[v + 3]) * F, R += L, A += D, k += B, O += N, G = G.next;
					for (q = W, Q = Y, g = 0; g < n; g++) z[x] = w * J >> Z, z[x + 1] = T * J >> Z, z[x + 2] = C * J >> Z, z[x + 3] = E * J >> Z, w -= M, T -= P, C -= S, E -= I, M -= q.r, P -= q.g, S -= q.b, I -= q.a, v = b + ((v = g + a + 1) < j ? v : j) << 2, R += q.r = z[v], A += q.g = z[v + 1], k += q.b = z[v + 2], O += q.a = z[v + 3], w += R, T += A, C += k, E += O, q = q.next, M += L = Q.r, P += D = Q.g, S += B = Q.b, I += N = Q.a, R -= L, A -= D, k -= B, O -= N, Q = Q.next, x += 4;
					b += n
				}
				for (g = 0; g < n; g++) {
					for (A = k = O = R = T = C = E = w = 0, x = g << 2, M = V * (L = z[x]), P = V * (D = z[x + 1]), S = V * (B = z[x + 2]), I = V * (N = z[x + 3]), w += X * L, T += X * D, C += X * B, E += X * N, G = W, y = 0; y < V; y++) G.r = L, G.g = D, G.b = B, G.a = N, G = G.next;
					for (_ = n, y = 1; y <= a; y++) x = _ + g << 2, w += (G.r = L = z[x]) * (F = V - y), T += (G.g = D = z[x + 1]) * F, C += (G.b = B = z[x + 2]) * F, E += (G.a = N = z[x + 3]) * F, R += L, A += D, k += B, O += N, G = G.next, y < U && (_ += n);
					for (x = g, q = W, Q = Y, m = 0; m < r; m++) v = x << 2, z[v] = w * J >> Z, z[v + 1] = T * J >> Z, z[v + 2] = C * J >> Z, z[v + 3] = E * J >> Z, w -= M, T -= P, C -= S, E -= I, M -= q.r, P -= q.g, S -= q.b, I -= q.a, v = g + ((v = m + V) < U ? v : U) * n << 2, w += R += q.r = z[v], T += A += q.g = z[v + 1], C += k += q.b = z[v + 2], E += O += q.a = z[v + 3], q = q.next, M += L = Q.r, P += D = Q.g, S += B = Q.b, I += N = Q.a, R -= L, A -= D, k -= B, O -= N, Q = Q.next, x += n
				}
				s(h), d.putImageData(h, e, i)
			}
		}

		function l(t, e, i, n, r, o) {
			if (!(isNaN(o) || o < 1)) {
				o |= 0;
				var s, a = document.getElementById(t), h = a.getContext("2d");
				try {
					try {
						s = h.getImageData(e, i, n, r)
					} catch (l) {
						try {
							netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"), s = h.getImageData(e, i, n, r)
						} catch (l) {
							throw void 0, new Error("unable to access local image data: " + l)
						}
					}
				} catch (l) {
					throw void 0, new Error("unable to access image data: " + l)
				}
				var d, p, g, m, y, v, _, x, b, w, T, C, E, M, P, S, I, R, A, k, O = s.data, L = o + o + 1, D = n - 1,
					B = r - 1, N = o + 1, F = N * (N + 1) / 2, z = new u, H = z;
				for (g = 1; g < L; g++) if (H = H.next = new u, g == N) var j = H;
				H.next = z;
				var U = null, V = null;
				_ = v = 0;
				var X = c[o], W = f[o];
				for (p = 0; p < r; p++) {
					for (M = P = S = x = b = w = 0, T = N * (I = O[v]), C = N * (R = O[v + 1]), E = N * (A = O[v + 2]), x += F * I, b += F * R, w += F * A, H = z, g = 0; g < N; g++) H.r = I, H.g = R, H.b = A, H = H.next;
					for (g = 1; g < N; g++) m = v + ((D < g ? D : g) << 2), x += (H.r = I = O[m]) * (k = N - g), b += (H.g = R = O[m + 1]) * k, w += (H.b = A = O[m + 2]) * k, M += I, P += R, S += A, H = H.next;
					for (U = z, V = j, d = 0; d < n; d++) O[v] = x * X >> W, O[v + 1] = b * X >> W, O[v + 2] = w * X >> W, x -= T, b -= C, w -= E, T -= U.r, C -= U.g, E -= U.b, m = _ + ((m = d + o + 1) < D ? m : D) << 2, M += U.r = O[m], P += U.g = O[m + 1], S += U.b = O[m + 2], x += M, b += P, w += S, U = U.next, T += I = V.r, C += R = V.g, E += A = V.b, M -= I, P -= R, S -= A, V = V.next, v += 4;
					_ += n
				}
				for (d = 0; d < n; d++) {
					for (P = S = M = b = w = x = 0, v = d << 2, T = N * (I = O[v]), C = N * (R = O[v + 1]), E = N * (A = O[v + 2]), x += F * I, b += F * R, w += F * A, H = z, g = 0; g < N; g++) H.r = I, H.g = R, H.b = A, H = H.next;
					for (y = n, g = 1; g <= o; g++) v = y + d << 2, x += (H.r = I = O[v]) * (k = N - g), b += (H.g = R = O[v + 1]) * k, w += (H.b = A = O[v + 2]) * k, M += I, P += R, S += A, H = H.next, g < B && (y += n);
					for (v = d, U = z, V = j, p = 0; p < r; p++) m = v << 2, O[m] = x * X >> W, O[m + 1] = b * X >> W, O[m + 2] = w * X >> W, x -= T, b -= C, w -= E, T -= U.r, C -= U.g, E -= U.b, m = d + ((m = p + N) < B ? m : B) * n << 2, x += M += U.r = O[m], b += P += U.g = O[m + 1], w += S += U.b = O[m + 2], U = U.next, T += I = V.r, C += R = V.g, E += A = V.b, M -= I, P -= R, S -= A, V = V.next, v += n
				}
				h.putImageData(s, e, i)
			}
		}

		function u() {
			this.r = 0, this.g = 0, this.b = 0, this.a = 0, this.next = null
		}

		var c = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259],
			f = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24],
			d = {image: a, canvasRGBA: h, canvasRGB: l};
		n = function () {
			return d
		}.call(e, i, e, t), !(void 0 !== n && (t.exports = n)), r.stackBlur = d
	}("undefined" != typeof window ? window : void 0)
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(96), a = n(s), h = i(71), l = n(h), u = i(97), c = n(u), f = i(153), d = n(f),
		p = i(171), g = n(p), m = i(148), y = n(m), v = i(146), _ = n(v), x = i(143), b = n(x), w = i(210), T = n(w),
		C = i(181), E = i(149), M = i(154), P = i(227), S = n(P), I = (i(228), i(229)), R = function (t) {
			function e(i, n, r) {
				(0, o["default"])(this, e);
				var s = (0, a["default"])(this, t.call(this, i, n));
				return s._container = r, s._container.on(T["default"].CHANGE_SIZE, s.onContainerChanged, s), s.stage.on(b["default"].CLEAR_ALL, s.onClearAll, s), s._init(), s
			}

			return (0, c["default"])(e, t), (0, l["default"])(e, null, [{
				key: "UPDATE_W_TOOLTIP", get: function () {
					return "update_w_tooltip"
				}
			}, {
				key: "UPDATE_H_TOOLTIP", get: function () {
					return "update_h_tooltip"
				}
			}, {
				key: "ADD_W_TOOLTIP", get: function () {
					return "add_w_tooltip"
				}
			}, {
				key: "REMOVE_W_TOOLTIP", get: function () {
					return "remove_w_tooltip"
				}
			}, {
				key: "ADD_H_TOOLTIP", get: function () {
					return "add_h_tooltip"
				}
			}, {
				key: "REMOVE_H_TOOLTIP", get: function () {
					return "remove_h_tooltip"
				}
			}, {
				key: "EXIT_BUTTON_CLICK", get: function () {
					return "exit_button_click"
				}
			}, {
				key: "IMAGE_SIGN_READY", get: function () {
					return "imageSignReady"
				}
			}]), e.prototype.start = function () {
				t.prototype.start.call(this), this._addEvent(), this.displayObject && this._addExitButton(), this.screenFit(this.screenFitEnable)
			}, e.prototype.suspend = function () {
				return this._removeEvent(), this.displayObject && this._removeExitButton(), t.prototype.suspend.call(this)
			}, e.prototype.dispose = function () {
				this.stage.off(g["default"].BOUNDARY_CHANGE, this.onCropBoundaryChange, this), this.stage.off(b["default"].MOUSE_CHILDREN_CHANGE, this.onMouseChildrenChange, this), this.stage.off(b["default"].CLEAR_ALL, this.onClearAll, this)
			}, e.prototype.screenFit = function (t) {
				if (t) return void this.stage.magnify.autoScale(!0);
				if (null == this.displayObject) return void this.stage.magnify.autoScale(t);
				var e = M.TEMP_POINT_A;
				e.x = this.sprite.x, e.y = this.sprite.y;
				var i = this._container.toGlobal(e);
				this.stage.magnify.autoScale(!1, i.x, i.y)
			}, e.prototype.snapshot = function () {
				if (null == this.displayObject) return {};
				var t = this._positionType;
				return {
					positionType: t,
					w: this._w,
					h: this._h,
					displayObject: this.displayObject,
					textInfo: this._textInfo,
					signature: this._getSignatureType(),
					horizontalAlign: this.getHAlign(t.charAt(0)),
					verticalAlign: this.getVAlign(t.charAt(1)),
					offsetX: this.getHPosition(t.charAt(0), this._w, this.stage.magnify.border),
					offsetY: this.getVPosition(t.charAt(1), this._h, this.stage.magnify.border)
				}
			}, e.prototype.getVAlign = function (t) {
				var e = ["t", "c", "b"];
				return ["top", "middle", "bottom"][e.indexOf(t)]
			}, e.prototype.getHAlign = function (t) {
				var e = ["l", "c", "r"];
				return ["left", "center", "right"][e.indexOf(t)]
			}, e.prototype.getVPosition = function (t, e, i) {
				switch (t) {
					case"t":
						return e + .5 + i.top | 0;
					case"c":
						return 0;
					case"b":
						return e + .5 + i.bottom | 0
				}
			}, e.prototype.getHPosition = function (t, e, i) {
				switch (t) {
					case"l":
						return e + .5 + i.left | 0;
					case"c":
						return 0;
					case"r":
						return e + .5 + i.right | 0
				}
			}, e.prototype.reset = function (e) {
				var i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
				null != e && e.hasOwnProperty("displayObject") ? (this._positionType = e.positionType, this._w = e.w, this._h = e.h, this.displayObject = e.displayObject, this._textInfo = e.textInfo) : (1 == this._isImageChanged && this._initPosition(), this._initInfo()), this._isImageChanged = !1, t.prototype.reset.call(this, i)
			}, e.prototype.identity = function () {
				this._isImageChanged = !0
			}, e.prototype.clearDisplayObject = function () {
				this.displayObject && (this.sprite.parent && this.sprite.parent.removeChild(this.sprite), this.sprite.renderableObject = !1, this.sprite.texture = null)
			}, e.prototype.setImageSignature = function (t) {
				var i = this;
				if (this._textInfo = null, this.img.src = t, this.img.complete) {
					if (this.invalidate(this.img)) return void this.emitErrorEvent(this.img.src);
					this.displayObject = this.img, this.pushHistory()
				} else this.img.onload = function () {
					return i.invalidate(i.img) ? void i.emitErrorEvent(i.img.src) : (i.img.onload = null, i.displayObject = i.img, i.screenFitEnable = !1, i.pushHistory(), void i.emit(e.IMAGE_SIGN_READY))
				}
			}, e.prototype.invalidate = function (t) {
				return null == t || 0 == t.width || 0 == t.naturalWidth || 0 == t.height || 0 == t.naturalHeight
			}, e.prototype.emitErrorEvent = function (t) {
				this.stage.emit(b["default"].INVALID_IMAGE_SRC, {target: this, dataURL: t})
			}, e.prototype.setTextSignature = function (t) {
				this._textInfo = t, this.displayObject = this._signText.drawSign(t), this._updatePosition(this.sprite.x, this.sprite.y), this.pushHistory()
			}, e.prototype.alignSignature = function () {
				var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
				if (this._width = this._container.actualWidth, this._height = this._container.actualHeight, null != this.displayObject) {
					var e = void 0, i = void 0, n = void 0, r = void 0;
					if (null == t) i = {x: 0, y: 0}, n = {x: this._width, y: 0}, r = {
						x: 0,
						y: this._height
					}, e = 0, this.sprite.scale.x = this.sprite.scale.y = 1; else {
						this.stage.updateTransform();
						var o = this._container.worldTransform, s = (0, E.map)(t, function (t) {
							return o.applyInverse(t)
						}), a = this._container.parent.scale;
						i = s.lt, n = s.rt, r = s.lb, e = (0, C.getRadian)(i.x, i.y, n.x, n.y), this.sprite.scale.y = a.x * a.y
					}
					this._top.setTo(n.x - i.x, n.y - i.y), this._left.setTo(r.x - i.x, r.y - i.y);
					var h = (this._top.length, this._left.length, this.alignSignatureBetween(i, this._top, this._left, this._positionType, {
						x: this._w,
						y: this._h
					}, {x: this.sprite.width / 2, y: this.sprite.height / 2}));
					this.sprite.x = h[0], this.sprite.y = h[1], this.sprite.rotation = e
				}
			}, e.prototype.alignSignatureBetween = function (t, e, i, n, r, o) {
				var s = 0, a = 0, h = o.x, l = e.length - o.x, u = o.y, c = i.length - o.y;
				switch (n) {
					case"lt":
						e.len(Math.min(l, r.x + o.x)).add(i.len(Math.min(c, r.y + o.y)));
						break;
					case"lc":
						e.len(Math.min(l, r.x + o.x)).add(i.scale(.5));
						break;
					case"lb":
						e.len(Math.min(l, r.x + o.x)).add(i.len(Math.min(c, Math.max(u, i.length - r.y - o.y))));
						break;
					case"ct":
						e.scale(.5).add(i.len(Math.min(c, r.y + o.y)));
						break;
					case"cc":
						e.scale(.5).add(i.scale(.5));
						break;
					case"cb":
						e.scale(.5).add(i.len(Math.min(c, Math.max(u, i.length - r.y - o.y))));
						break;
					case"rt":
						e.len(Math.min(l, Math.max(h, e.length - r.x - o.x))).add(i.len(Math.min(c, r.y + o.y)));
						break;
					case"rc":
						e.len(Math.min(l, Math.max(h, e.length - r.x - o.x))).add(i.scale(.5));
						break;
					case"rb":
						e.len(Math.min(l, Math.max(h, e.length - r.x - o.x))).add(i.len(Math.min(c, Math.max(u, i.length - r.y - o.y))));
						break;
					default:
						void 0
				}
				return s = t.x + e.x, a = t.y + e.y, [s, a]
			}, e.prototype.exit = function () {
				this._initInfo()
			}, e.prototype._init = function () {
				this.sprite = new PIXI.Sprite, this.sprite.renderableObject = !1, this._isDown = !1, this._width = 0, this._height = 0, this._vLine = new PIXI.Graphics, this._hLine = new PIXI.Graphics, this._container.addChild(this._vLine), this._container.addChild(this._hLine), this._vExtraLine = new PIXI.Graphics, this._hExtraLine = new PIXI.Graphics, this._container.addChild(this._vExtraLine), this._container.addChild(this._hExtraLine), this._exitButton = new PIXI.Sprite, this._exitButton.interactive = !0, this._exitButton.buttonMode = !0, this._signText = new I(this.stage.options.canvasLimitSize), this._mouseDownHandler = this._onMouseDown.bind(this), this._mouseUpHandler = this._onMouseUp.bind(this), this._mouseMoveHandler = this._onMouseMove.bind(this), this._viewportChangeHandler = this._viewportChange.bind(this), this._exitButtonOverHandler = this._exitButtonOver.bind(this), this._exitButtonOutHandler = this._exitButtonOut.bind(this), this._exitButtonClickHandler = this._exitButtonClick.bind(this), this._exitPoint = new PIXI.Point(0, 0), this._wPoint = new PIXI.Point(0, 0), this._hPoint = new PIXI.Point(0, 0), this._exitPoint.isExist = !1, this._wPoint.isExist = !1, this._hPoint.isExist = !1, this._isImageChanged = !1, this.img = document.createElement("img"), this._exitButtonTexture = null, this._exitButtonOverTexture = null, this._initEvents(), this._initPosition(), this._initInfo(), this._createExitButton(), this._top = new S["default"], this._left = new S["default"]
			}, e.prototype._initEvents = function () {
				this._wTooltipEvent = {x: 0, y: 0, value: 0}, this._hTooltipEvent = {
					x: 0,
					y: 0,
					value: 0
				}, this.stage.on(g["default"].BOUNDARY_CHANGE, this.onCropBoundaryChange, this), this.stage.on(b["default"].MOUSE_CHILDREN_CHANGE, this.onMouseChildrenChange, this)
			}, e.prototype._initPosition = function () {
				this._positionType = this.options.positionType, this._w = this.options.w, this._h = this.options.h
			}, e.prototype._initInfo = function () {
				this.displayObject = null, this._textInfo = null
			}, e.prototype._setSnapArea = function () {
				var t = this._width / this.options.snapRangeRatio;
				return new PIXI.Rectangle(this._width / 2 - t / 2, this._height / 2 - t / 2, t, t)
			}, e.prototype._createExitButton = function () {
				var t = document.createElement("img"), e = this;
				t.onload = function () {
					e._exitButtonTexture = new PIXI.Texture(new PIXI.BaseTexture(t)), e._exitButton.texture = e._exitButtonTexture, e.stage.addChild(e._exitButton), e._exitButton.visible = !1
				}, t.src = this.options.exitBtnImageURL;
				var i = document.createElement("img");
				i.onload = function () {
					e._exitButtonOverTexture = new PIXI.Texture(new PIXI.BaseTexture(i))
				}, i.src = this.options.exitBtnMouseoverImageURL
			}, e.prototype._addEvent = function () {
				this.sprite.interactive = !0, this.sprite.on("mousedown", this._mouseDownHandler), this.sprite.on("mousemove", this._mouseMoveHandler), this.sprite.off("mousedown", this.onSpriteClick, this), document.addEventListener("mouseup", this._mouseUpHandler), this.stage.on(b["default"].VIEWPORT_MOTION_UPDATE, this._viewportChangeHandler), this._exitButton.on("mouseover", this._exitButtonOverHandler), this._exitButton.on("mouseout", this._exitButtonOutHandler), this._exitButton.on("click", this._exitButtonClickHandler), this.stage.magnify.on(_["default"].DRAG, this.onImageDrag, this), this.stage.motion.on(y["default"].UPDATE, this.onMotionUpdate, this), this.stage.motion.on(y["default"].COMPLETE, this.onMotionComplete, this)
			}, e.prototype._removeEvent = function () {
				this.sprite.on("mousedown", this.onSpriteClick, this), document.removeEventListener("mouseup", this._mouseUpHandler), this.stage.off(b["default"].VIEWPORT_MOTION_UPDATE, this._viewportChangeHandler), this._exitButton.off("mouseover", this._exitButtonOverHandler), this._exitButton.off("mouseout", this._exitButtonOutHandler), this._exitButton.off("click", this._exitButtonClickHandler), this.stage.magnify.off(_["default"].DRAG, this.onImageDrag, this), this.stage.motion.off(y["default"].UPDATE, this.onMotionUpdate, this), this.stage.motion.off(y["default"].COMPLETE, this.onMotionComplete, this)
			}, e.prototype._getSignatureType = function () {
				return this._textInfo && this._displayObject ? "text" : this._displayObject ? "image" : null
			}, e.prototype.onSpriteClick = function () {
				this._enterMenu = !0, this.stage.emit(b["default"].PHASE_CHANGE, {
					type: b["default"].PHASE_CHANGE,
					phase: "signature"
				})
			}, e.prototype.onMouseChildrenChange = function (t) {
				this._container && (this._container.mouseChildren = t.interactive)
			}, e.prototype.onCropBoundaryChange = function (t) {
				this.alignSignature(t.points)
			}, e.prototype._exitButtonClick = function () {
				this.emit(e.EXIT_BUTTON_CLICK), this.pushHistory()
			}, e.prototype._exitButtonOut = function () {
				this._exitButton.texture = this._exitButtonTexture
			}, e.prototype._exitButtonOver = function () {
				this._exitButton.texture = this._exitButtonOverTexture
			}, e.prototype._onMouseDown = function (t) {
				this._isDown = !0, this.sprite.data = t.data;
				var e = this.sprite.data.getLocalPosition(this._container);
				this.sprite.dx = e.x - this.sprite.position.x, this.sprite.dy = e.y - this.sprite.position.y, this.stage.magnify.enable = !1, this.stage.stickerContainer.mouseChildren = !1
			}, e.prototype._onMouseUp = function () {
				0 != this._isDown && (this._enterMenu = !1, this._isDown = !1, this.sprite.data = null, this._dropSprite(), this._removeWTooltip(), this._removeHTooltip(), this.stage.magnify.enable = !0, this.stage.stickerContainer.mouseChildren = !0, this.pushHistory())
			}, e.prototype._onMouseMove = function () {
				if (0 != this._isDown) {
					this._enterMenu = !1;
					var t = this.sprite.data.getLocalPosition(this._container), e = t.x - this.sprite.dx,
						i = t.y - this.sprite.dy;
					this._updatePosition(e, i), this._updateInfoByPosition(), this._updateLine(), this._updateTooltipPosition()
				}
			}, e.prototype.onImageDrag = function () {
				this._updateExitPosition()
			}, e.prototype.onMotionUpdate = function () {
				this._isDown && this._enterMenu, this._updateExitPosition()
			}, e.prototype.onMotionComplete = function (t) {
				this._enterMenu = !1
			}, e.prototype.onClearAll = function (t) {
				this.reset()
			}, e.prototype.onContainerChanged = function (t) {
				this.sprite.rotation = 0, this.alignSignature()
			}, e.prototype._viewportChange = function () {
				this._updateExitPosition()
			}, e.prototype._dropSprite = function () {
				var t = this.sprite.position.x, e = this.sprite.position.y;
				switch (this._positionType) {
					case"lc":
					case"rc":
						e = this._height / 2;
						break;
					case"ct":
					case"cb":
						t = this._width / 2;
						break;
					case"cc":
						t = this._width / 2, e = this._height / 2
				}
				this._updatePosition(t, e), this._hLine.clear(), this._vLine.clear(), this._hExtraLine.clear(), this._vExtraLine.clear()
			}, e.prototype._updatePosition = function (t, e) {
				var i = this.sprite.width / 2, n = this.sprite.height / 2;
				t < i && (t = i), t > this._width - i && (t = this._width - i), e < n && (e = n), e > this._height - n && (e = this._height - n), this.sprite.position.x = t,
					this.sprite.position.y = e, this._updateExitPosition()
			}, e.prototype._checkBoundary = function (t, e, i) {
				var n = this.sprite.width / 2, r = this.sprite.height / 2;
				i[0] < n && (i[0] = n), i[0] > t - n && (i[0] = t - n), i[1] < r && (i[1] = r), i[1] > e - r && (i[1] = e - r)
			}, e.prototype._updateExitPosition = function () {
				if (null != this.sprite.texture) {
					this._exitPoint.x = this.sprite.position.x - this.sprite.width / 2, this._exitPoint.y = this.sprite.position.y - this.sprite.height / 2, this.stage.root.updateTransform();
					var t = this._container.toGlobal(this._exitPoint);
					this._exitButton.position.x = t.x, this._exitButton.position.y = t.y - this._exitButton.height
				}
			}, e.prototype._updateTooltipPosition = function () {
				this._wPoint.x = this._hLine.xPos + this._hLine.width / 2, this._wPoint.y = this._hLine.yPos, this._hPoint.x = this._vLine.xPos, this._hPoint.y = this._vLine.yPos + this._vLine.height / 2, this._w < 0 ? this._removeWTooltip() : this._addWTooltip(), this._h < 0 ? this._removeHTooltip() : this._addHTooltip();
				var t = this._container.toGlobal(this._wPoint);
				this._wTooltipEvent.x = t.x, this._wTooltipEvent.y = t.y, this._wTooltipEvent.value = this._w, this.emit(e.UPDATE_W_TOOLTIP, this._wTooltipEvent);
				var i = this._container.toGlobal(this._hPoint);
				this._hTooltipEvent.x = i.x, this._hTooltipEvent.y = i.y, this._hTooltipEvent.value = this._h, this.emit(e.UPDATE_H_TOOLTIP, this._hTooltipEvent)
			}, e.prototype._getPositionType = function () {
				var t = this._setSnapArea(), e = "";
				e = this.sprite.position.x < t.x ? "l" : this.sprite.position.x > t.x + t.width ? "r" : "c";
				var i = "";
				return i = this.sprite.position.y < t.y ? "t" : this.sprite.position.y > t.y + t.height ? "b" : "c", e + i
			}, e.prototype._addExitButton = function () {
				1 != this._exitPoint.isExist && (this._exitPoint.isExist = !0, this._exitButton.visible = !0)
			}, e.prototype._removeExitButton = function () {
				0 != this._exitPoint.isExist && (this._exitPoint.isExist = !1, this._exitButton.visible = !1)
			}, e.prototype._addWTooltip = function () {
				1 != this._wPoint.isExist && (this._wPoint.isExist = !0, this.emit(e.ADD_W_TOOLTIP))
			}, e.prototype._removeWTooltip = function () {
				0 != this._wPoint.isExist && (this._wPoint.isExist = !1, this.emit(e.REMOVE_W_TOOLTIP))
			}, e.prototype._addHTooltip = function () {
				1 != this._hPoint.isExist && (this._hPoint.isExist = !0, this.emit(e.ADD_H_TOOLTIP))
			}, e.prototype._removeHTooltip = function () {
				0 != this._hPoint.isExist && (this._hPoint.isExist = !1, this.emit(e.REMOVE_H_TOOLTIP))
			}, e.prototype._updatePositionByInfo = function (t, e) {
				var i, n, r = this.sprite.width / 2, o = this.sprite.height / 2;
				switch (this._positionType) {
					case"lt":
						i = this._w + r, n = this._h + o;
						break;
					case"lc":
						i = this._w + r, n = e / 2;
						break;
					case"lb":
						i = this._w + r, n = e - (this._h + o);
						break;
					case"ct":
						i = t / 2, n = this._h + o;
						break;
					case"cc":
						i = t / 2, n = e / 2;
						break;
					case"cb":
						i = t / 2, n = e - (this._h + o);
						break;
					case"rt":
						i = t - (this._w + r), n = this._h + o;
						break;
					case"rc":
						i = t - (this._w + r), n = e / 2;
						break;
					case"rb":
						i = t - (this._w + r), n = e - (this._h + o)
				}
				return [i, n]
			}, e.prototype._updateInfoByPosition = function () {
				var t = {}, e = this.sprite.position, i = this.sprite.width / 2, n = this.sprite.height / 2;
				switch (t.type = this._getPositionType(), t.type) {
					case"lt":
						t.w = e.x - i, t.h = e.y - n;
						break;
					case"lc":
						t.w = e.x - i, t.h = -1;
						break;
					case"lb":
						t.w = e.x - i, t.h = this._height - (e.y + n);
						break;
					case"ct":
						t.w = -1, t.h = e.y - n;
						break;
					case"cc":
						t.w = -1, t.h = -1;
						break;
					case"cb":
						t.w = -1, t.h = this._height - (e.y + n);
						break;
					case"rt":
						t.w = this._width - (e.x + i), t.h = e.y - n;
						break;
					case"rc":
						t.w = this._width - (e.x + i), t.h = -1;
						break;
					case"rb":
						t.w = this._width - (e.x + i), t.h = this._height - (e.y + n)
				}
				this._positionType = t.type, this._w = t.w, this._h = t.h
			}, e.prototype._updateLine = function () {
				var t, e, i, n, r, o, s, a, h = this.sprite.width / 2, l = this.sprite.height / 2,
					u = {x: this.sprite.position.x - h, y: this.sprite.position.y - l},
					c = {x: this.sprite.position.x + h, y: this.sprite.position.y - l},
					f = {x: this.sprite.position.x - h, y: this.sprite.position.y + l},
					d = {x: this.sprite.position.x + h, y: this.sprite.position.y + l}, p = this.sprite;
				switch (this._positionType) {
					case"lt":
						i = {x: 0, y: u.y}, n = {x: u.x, y: u.y}, t = {x: u.x, y: 0}, e = {x: u.x, y: u.y};
						break;
					case"lc":
						i = {x: 0, y: p.position.y}, n = {x: u.x, y: p.position.y}, t = {
							x: p.position.x,
							y: 0
						}, e = {x: p.position.x, y: u.y}, r = {x: p.position.x, y: d.y}, o = {
							x: p.position.x,
							y: this._height
						};
						break;
					case"lb":
						i = {x: 0, y: f.y}, n = {x: f.x, y: f.y}, t = {x: f.x, y: f.y}, e = {x: f.x, y: this._height};
						break;
					case"ct":
						i = {x: 0, y: p.position.y}, n = {x: u.x, y: p.position.y}, t = {
							x: p.position.x,
							y: 0
						}, e = {x: p.position.x, y: u.y}, s = {x: c.x, y: p.position.y}, a = {
							x: this._width,
							y: p.position.y
						};
						break;
					case"cc":
						i = {x: 0, y: p.position.y}, n = {x: u.x, y: p.position.y}, t = {
							x: p.position.x,
							y: 0
						}, e = {x: p.position.x, y: u.y}, s = {x: c.x, y: p.position.y}, a = {
							x: this._width,
							y: p.position.y
						}, r = {x: p.position.x, y: d.y}, o = {x: p.position.x, y: this._height};
						break;
					case"cb":
						i = {x: 0, y: p.position.y}, n = {x: u.x, y: p.position.y}, t = {
							x: p.position.x,
							y: d.y
						}, e = {x: p.position.x, y: this._height}, s = {x: c.x, y: p.position.y}, a = {
							x: this._width,
							y: p.position.y
						};
						break;
					case"rt":
						i = {x: c.x, y: c.y}, n = {x: this._width, y: c.y}, t = {x: c.x, y: 0}, e = {x: c.x, y: c.y};
						break;
					case"rc":
						i = {x: c.x, y: p.position.y}, n = {x: this._width, y: p.position.y}, t = {
							x: p.position.x,
							y: 0
						}, e = {x: p.position.x, y: u.y}, r = {x: p.position.x, y: d.y}, o = {
							x: p.position.x,
							y: this._height
						};
						break;
					case"rb":
						i = {x: d.x, y: d.y}, n = {x: this._width, y: d.y}, t = {x: d.x, y: d.y}, e = {
							x: d.x,
							y: this._height
						}
				}
				this._drawLine(this._hLine, i, n), this._drawLine(this._vLine, t, e), this._drawLine(this._hExtraLine, s, a), this._drawLine(this._vExtraLine, r, o)
			}, e.prototype._drawLine = function (t, e, i) {
				t.clear(), e && i && (t.lineStyle(this.options.lineWidth * (1 / (this._container.scale.x * this.stage.root.scale.x)), this.options.lineColor, this.options.lineAlpha), t.moveTo(e.x, e.y), t.lineTo(i.x, i.y), t.xPos = e.x, t.yPos = e.y)
			}, (0, l["default"])(e, [{
				key: "screenFitEnable", get: function () {
					return this.stage.screenFitEnable
				}, set: function (t) {
					this.screenFit(t)
				}
			}, {
				key: "displayObject", get: function () {
					return this._displayObject
				}, set: function (t) {
					if (this.clearDisplayObject(), this._removeExitButton(), this._displayObject = t, this._displayObject && (this.sprite.texture = new PIXI.Texture(new PIXI.BaseTexture(t)), this.sprite.renderableObject = !0, this._container.addChildAt(this.sprite, 0), this.sprite.pivot.x = this.sprite.width / 2, this.sprite.pivot.y = this.sprite.height / 2, this.alignSignature(), this.running)) {
						this._addExitButton();
						var e = M.TEMP_POINT_A;
						e.x = this.sprite.x, e.y = this.sprite.y;
						var i = this._container.toGlobal(e);
						this.stage.magnify.moveTo(i.x, i.y)
					}
				}
			}, {
				key: "container", get: function () {
					return this._container
				}
			}, {
				key: "modified", get: function () {
					return null != this._displayObject
				}
			}]), e
		}(d["default"]);
	e["default"] = R
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(76), o = n(r), s = i(178), a = n(s), h = i(3), l = n(h), u = i(70), c = n(u), f = i(71), d = n(f),
		p = i(54), g = n(p), m = (Math.PI / 180, 180 / Math.PI), y = (0, g["default"])("props"), v = "xy",
		_ = function () {
			function t() {
				var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
					i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
				(0, c["default"])(this, t), this[y] = new Float32Array(2), this.setTo(e, i)
			}

			return t.prototype[l["default"]] = function () {
				return (0, a["default"])(this[y])
			}, t.prototype.values = function () {
				return (0, a["default"])(this)
			}, t.prototype.keys = function () {
				return (0, a["default"])(v)
			}, t.prototype.entries = o["default"].mark(function e() {
				var t, i, n, r, s;
				return o["default"].wrap(function (e) {
					for (; ;) switch (e.prev = e.next) {
						case 0:
							t = v, i = Array.isArray(t), n = 0, t = i ? t : (0, a["default"])(t);
						case 1:
							if (!i) {
								e.next = 7;
								break
							}
							if (!(n >= t.length)) {
								e.next = 4;
								break
							}
							return e.abrupt("break", 16);
						case 4:
							r = t[n++], e.next = 11;
							break;
						case 7:
							if (n = t.next(), !n.done) {
								e.next = 10;
								break
							}
							return e.abrupt("break", 16);
						case 10:
							r = n.value;
						case 11:
							return s = r, e.next = 14, [s, this[s]];
						case 14:
							e.next = 1;
							break;
						case 16:
						case"end":
							return e.stop()
					}
				}, e, this)
			}), t.prototype.setTo = function (t, e) {
				this.x = t, this.y = e
			}, t.prototype.dot = function (t) {
				return this.x * t.x + this.y * t.y
			}, t.prototype.len = function (t) {
				return this.length = t, this
			}, t.prototype.scale = function (t) {
				return this.x *= t, this.y *= t, this
			}, t.prototype.division = function (t) {
				return this.x /= t, this.y /= t, this
			}, t.prototype.add = function (t) {
				return this.x += t.x, this.y += t.y, this
			}, t.prototype.cross = function (t) {
				return {x: 0, y: 0, z: this.x * t.y - this.x * t.x}
			}, t.prototype.sub = function (t) {
				return this.x -= t.x, this.y -= t.y, this
			}, t.prototype.clone = function () {
				return new t(this.x, this.y)
			}, t.prototype.normalize = function () {
				return this.x /= this.length, this.y /= this.length, this
			}, (0, d["default"])(t, [{
				key: "x", get: function () {
					return this._x
				}, set: function (t) {
					this._x != t && (this._x = t, this._invaildate = !0, this[y][0] = t)
				}
			}, {
				key: "y", get: function () {
					return this._y
				}, set: function (t) {
					this._y != t && (this._y = t, this._invaildate = !0, this[y][1] = t)
				}
			}, {
				key: "length", get: function () {
					if (this._invaildate) {
						var t = this.x, e = this.y;
						this._length = Math.sqrt(t * t + e * e), this._invaildate = !1
					}
					return this._length
				}, set: function (t) {
					var e = this.length, i = t / e;
					this.scale(i)
				}
			}, {
				key: "angle", get: function () {
					return this.rad * m
				}
			}, {
				key: "rad", get: function () {
					return Math.atan2(this._y, this._x)
				}
			}]), t
		}();
	e["default"] = _
}, function (t, e) {
	"use strict";

	function i(t, e) {
		var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "0";
		return t.length >= e ? t : i(n + t, e, n)
	}

	function n() {
		var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "_";
		return function (e) {
			for (var i = arguments.length, n = Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++) n[r - 1] = arguments[r];
			return e.replace(new RegExp(t, "g"), function (t) {
				return n.shift()
			}) + n.join()
		}
	}

	e.__esModule = !0, e.zfill = i, e.makePrintf = n;
	var r = e.printf = n();
	e.log = function (t) {
		for (var e = arguments.length, i = Array(e > 1 ? e - 1 : 0), n = 1; n < e; n++) i[n - 1] = arguments[n];
		void 0
	}
}, function (t, e, i) {
	(function (t) {
		"use strict";

		function e(t) {
			return t && t.__esModule ? t : {"default": t}
		}

		var n = i(2), r = e(n);
		!function () {
			var e = {left: 10, top: 5, right: 10, bottom: 5}, i = 10, n = function (t) {
				this.limitWH = t || 8e3
			};
			if (n.prototype = {
					constructor: n, init: function (t) {
						this.option = t, this.canvas = document.createElement("canvas"), this.ctx = this.canvas.getContext("2d")
					}, clear: function () {
						this.option = this.canvas = this.ctx = null
					}, findTextRect: function (t, e, n, r, o) {
						t.width = e.width + 2 * r, t.height = e.height + 2 * r;
						var s, a, h, l, u, c = t.getContext("2d"), f = t.width, d = t.height;
						if (c.textBaseline = "top", c.font = (n.italic ? "Italic " : "") + (n.bold ? "Bold " : "") + n.fontSize + "px " + n.font, c.fillText(n.text, r, r), s = c.getImageData(0, 0, f, d).data, !o.l) {
							if (a = this.checkLimit(s, f, d, "left"), 0 == a) return this.findTextRect(t, e, n, r + i, o);
							o.l = a - r
						}
						if (!o.r) {
							if (h = this.checkLimit(s, f, d, "right"), h == f) return this.findTextRect(t, e, n, r + i, o);
							o.r = h - (e.width + r)
						}
						if (!o.t) {
							if (l = this.checkLimit(s, f, d, "top"), 0 == l) return this.findTextRect(t, e, n, r + i, o);
							o.t = l - r
						}
						if (!o.b) {
							if (u = this.checkLimit(s, f, d, "bottom"), u == d) return this.findTextRect(t, e, n, r + i, o);
							o.b = u - (e.height + r)
						}
						return o
					}, checkLimit: function (t, e, i, n) {
						var r, o, s;
						switch (n) {
							case"left":
								for (r = 0; r < e; r++) {
									for (o = 0; o < i; o++) if (t[4 * (o * e + r) + 3] > 0) {
										s = r - 1;
										break
									}
									if (0 == isNaN(s)) break
								}
								break;
							case"right":
								for (r = e - 1; r >= 0; r--) {
									for (o = 0; o < i; o++) if (t[4 * (o * e + r) + 3] > 0) {
										s = r + 1;
										break
									}
									if (0 == isNaN(s)) break
								}
								break;
							case"top":
								for (o = 0; o < i; o++) {
									for (r = 0; r < e; r++) if (t[4 * (o * e + r) + 3] > 0) {
										s = o - 1;
										break
									}
									if (0 == isNaN(s)) break
								}
								break;
							case"bottom":
								for (o = i - 1; o >= 0; o--) {
									for (r = 0; r < e; r++) if (t[4 * (o * e + r) + 3] > 0) {
										s = o + 1;
										break
									}
									if (0 == isNaN(s)) break
								}
						}
						return s
					}, drawSign: function (t) {
						var n, o, s, a, h, l, u = this.option = t || t;
						return u.textPadding && "object" === (0, r["default"])(u.textPadding) || (u.textPadding = e), this.canvas = h = this.canvas || document.createElement("canvas"), this.ctx = l = this.ctx || this.canvas.getContext("2d"), "" == u.text ? (h.width = h.height = 1, h.rect = {
							l: 0,
							t: 0,
							r: 0,
							b: 0
						}, h) : (n = (u.italic ? "Italic " : "") + (u.bold ? "Bold " : "") + u.fontSize + "px " + u.font, l.save(), s = this.getTextHeight(u.font, u.text, u.fontSize, u.bold, u.italic, u.scale), a = this.findTextRect(h, s, u, i, {
							l: null,
							t: null,
							r: null,
							b: null
						}), l.textBaseline = "top", l.font = n, o = s.width - a.l + a.r, l.restore(), h.width = o + u.textPadding.left + u.textPadding.right, h.height = s.height - a.t + a.b + u.textPadding.top + u.textPadding.bottom, l.save(), l.globalAlpha = u.bgAlpha, l.fillStyle = u.bgColor, l.fillRect(0, 0, h.width, h.height), l.globalAlpha = u.textAlpha, l.fillStyle = u.textColor, l.textBaseline = "top", l.font = (u.italic ? "Italic " : "") + (u.bold ? "Bold " : "") + u.fontSize + "px " + u.font, l.fillText(u.text, u.textPadding.left - a.l, u.textPadding.top - a.t), l.restore(), h.rect = a, h)
					}, getTextHeight: function (t, e, i, n, r, o) {
						var s = document.createElement("span");
						s.innerText = e, s.style.fontFamily = t, s.style.fontSize = i + "px", s.style.fontWeight = n ? "bold" : "normal", s.style.fontStyle = r ? "italic" : "normal", s.style.whiteSpace = "pre";
						var a = document.createElement("div");
						a.setAttribute("style", "display: inline-block; width: 1px; height: 0px;");
						var h = document.createElement("div");
						h.style.whiteSpace = "pre", h.appendChild(s), h.appendChild(a);
						var l = document.body;
						l.appendChild(h);
						try {
							var u = {};
							a.style.verticalAlign = "baseline", u.ascent = a.offsetTop - s.offsetTop, a.style.verticalAlign = "bottom", u.height = a.offsetTop - s.offsetTop, u.width = s.offsetWidth, u.descent = u.height - u.ascent
						} finally {
							h.parentNode.removeChild(h)
						}
						return o || (o = {
							x: 1,
							y: 1
						}), u.width * o.x > this.limitWH && (u.width = this.limitWH / o.x), u.height * o.y > this.limitWH && (u.height = this.limitWH / o.y), u
					}
				}, void 0 !== (0, r["default"])(t) && void 0 !== (0, r["default"])(t.exports)) t.exports = n; else {
				var o = usenamespace("editor.filter");
				o.SignText = n
			}
		}()
	}).call(e, i(158)(t))
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(96), a = n(s), h = i(71), l = n(h), u = i(97), c = n(u), f = i(153), d = n(f),
		p = i(210), g = n(p), m = i(143), y = n(m), v = i(231), _ = n(v), x = i(154), b = i(181), w = i(149),
		T = i(148), C = n(T), E = i(146), M = n(E), P = i(171), S = n(P), I = i(217), R = i(215), A = i(211),
		k = function (t) {
			function e(i, n, r) {
				(0, o["default"])(this, e);
				var s = (0, a["default"])(this, t.call(this, i, n));
				return s._container = r, s._container.on(g["default"].CHANGE_SIZE, s.onContainerChange, s), s.stage.on(y["default"].MOUSE_CHILDREN_CHANGE, s.onMouseChildrenChange, s), A.Mouse.renderer = n.renderer, s.textMain = new _["default"](n, r, i), s.textMain.initialize(), s._textSelEvt = s.onTextSelect.bind(s), s._textDeselEvt = s.onTextDeSelect.bind(s), s._textDelEvt = s.onTextDeleted.bind(s), s._textReqInputEvt = s.onTextReqInput.bind(s), s.addEvents(), s.stage.on(y["default"].VIEWPORT_MOTION_UPDATE, s.onViewportChange, s), s.stage.on(y["default"].VIEWPORT_MOTION_COMPLETE, s.onViewportChange, s), s.stage.on(y["default"].MOUSE_CHILDREN_CHANGE, s.onMouseChildrenChange, s), s.stage.on(y["default"].CLEAR_ALL, s.onClearAll, s), s.stage.sticker ? (0, a["default"])(s) : (s.stage.on(y["default"].BITMAPDATA_UPDATE, s.onUpdateBitmapDataComplete, s), s.stage.on(S["default"].CROP_COMPLETE, s.onCropComplete, s), s)
			}

			return (0, c["default"])(e, t), (0, l["default"])(e, null, [{
				key: "SELECT", get: function () {
					return "selText"
				}
			}, {
				key: "DESELECT_TEXT", get: function () {
					return "deselText"
				}
			}, {
				key: "DELETED", get: function () {
					return "deleted"
				}
			}, {
				key: "ACTIVE_INPUT", get: function () {
					return "activeInput"
				}
			}]), e.prototype.start = function () {
				t.prototype.start.call(this), this.stage.magnify.on(M["default"].DRAG, this.onImageDrag, this), this.stage.motion.on(C["default"].UPDATE, this.onMotionUpdate, this)
			}, e.prototype.suspend = function () {
				return this.stage.magnify.off(M["default"].DRAG, this.onImageDrag, this), this.stage.motion.off(C["default"].UPDATE, this.onMotionUpdate, this), this.textMain.releaseTarget(), t.prototype.suspend.call(this)
			}, e.prototype.reset = function (e) {
				var i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
				this.textMain.releaseTarget(), this.textMain.clear(), this.textMain.restore(e), t.prototype.reset.call(this, i)
			}, e.prototype.snapshot = function () {
				return this.textMain.snapshot
			}, e.prototype.dispose = function () {
				this.removeEvents(), this._container.off(g["default"].CHANGE_SIZE, this.onContainerChange, this), this._container = null, this.stage.off(y["default"].VIEWPORT_MOTION_UPDATE, this.onViewportChange, this), this.stage.off(y["default"].VIEWPORT_MOTION_COMPLETE, this.onViewportChange, this), this.stage.off(y["default"].MOUSE_CHILDREN_CHANGE, this.onMouseChildrenChange, this), this.stage.off(y["default"].BITMAPDATA_UPDATE, this.onUpdateBitmapDataComplete, this), this.stage.off(S["default"].CROP_COMPLETE, this.onCropComplete, this), this.stage.off(y["default"].CLEAR_ALL, this.onClearAll, this)
			}, e.prototype["delete"] = function () {
				this.textMain.textDelete()
			}, e.prototype.setText = function (t) {
				var e = this.stage.croppedWidth / this.stage.resizedWidth, i = this.textMain.createText(t, e),
					n = this.stage.viewportToLocal(this._container),
					r = (0, b.rotate)(n.width / 2, n.height / 2, n.radian), o = n.origin.x + r.x, s = n.origin.y + r.y,
					a = 0 != n.radian ? (0, b.rotate)(this.options.horizontalGap, this.options.verticalGap, n.radian) : {
						x: this.options.horizontalGap,
						y: this.options.verticalGap
					}, h = this.evalEmptyLocation(this.textMain.texts, o, s, o, s, I.ToolControl.imageRect, a),
					l = this._container.scale.x < 0 ? -1 : 1, u = this._container.scale.y < 0 ? -1 : 1;
				i.x = h.x, i.y = h.y, i.scale.x *= l, i.scale.y *= u, i.rotation = n.radian, this.textMain.setTarget(i), this.pushHistory()
			}, e.prototype.evalEmptyLocation = function (t, e, i, n, r, o, s) {
				var a = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 1;
				if (!(0, b.hitTestWithBoundary)(n, r, o)) return {x: e, y: i};
				var h = (0, w.every)(t, function (t) {
					return Math.abs(n - t.x) > 1 || Math.abs(r - t.y) > 1
				});
				if (h) return {x: n, y: r};
				if (n += s.x, r += s.y, !(0, b.hitTestWithBoundary)(n, r, o)) {
					var l = (0, b.rotate)(s.x, s.y, Math.PI / 2);
					n = e + l.x * a, r = i + l.y * a++
				}
				return this.evalEmptyLocation(t, e, i, n, r, o, s, a)
			}, e.prototype.updateText = function (t, e) {
				this.textMain.updateText(t, e), this.pushHistory()
			}, e.prototype.addEvents = function () {
				this.textMain.on(_["default"].SELECT, this._textSelEvt), this.textMain.on(_["default"].DESELECT, this._textDeselEvt), this.textMain.on(_["default"].DELETED, this._textDelEvt), this.textMain.on(_["default"].REQ_INPUT, this._textReqInputEvt), this.textMain.on(R.TransformTool.CONTROL_UP, this.onControlUp, this)
			}, e.prototype.removeEvents = function () {
				this.textMain.off(_["default"].SELECT, this._textSelEvt), this.textMain.off(_["default"].DESELECT, this._textDeselEvt), this.textMain.off(_["default"].DELETED, this._textDelEvt), this.textMain.off(_["default"].REQ_INPUT, this._textReqInputEvt), this.textMain.off(R.TransformTool.CONTROL_UP, this.onControlUp, this)
			}, e.prototype.screenFit = function (t) {
				if (t) return void this.stage.magnify.autoScale(t);
				var e = null;
				if (null == e) return void(1 != this.stage.magnify.scale && this.stage.magnify.autoScale(t));
				var i = x.TEMP_POINT_A;
				i.x = e.x, i.y = e.y;
				var n = this._container.toGlobal(i);
				this.stage.magnify.autoScale(!1, n.x, n.y)
			}, e.prototype.update = function () {
				this.textMain.updateTransformTool(), this.textMain.transformTool.drawCenter(), this.textMain.transformTool.updatePrevTargetLt()
			}, e.prototype.onContainerChange = function (t) {
			}, e.prototype.onControlUp = function (t) {
			}, e.prototype.onMouseChildrenChange = function (t) {
				this._container.mouseChildren = t.interactive
			}, e.prototype.onTextSelect = function (t) {
				this.emit("selText", t), this.running || this.stage.emit(y["default"].PHASE_CHANGE, {
					type: y["default"].PHASE_CHANGE,
					phase: "text"
				})
			}, e.prototype.onTextDeSelect = function (t) {
				this.emit("deselText")
			}, e.prototype.onTextDeleted = function (t) {
				this.emit(e.DELETED)
			}, e.prototype.onTextReqInput = function (t) {
				this.emit("activeInput", t)
			}, e.prototype.onControlUp = function (t) {
				this.pushHistory()
			}, e.prototype.onViewportChange = function (t) {
				this.update()
			}, e.prototype.onImageDrag = function () {
				this.update()
			}, e.prototype.onMotionUpdate = function () {
				this.update()
			}, e.prototype.onMouseChildrenChange = function (t) {
				this._container && (this._container.mouseChildren = t.interactive)
			}, e.prototype.onUpdateBitmapDataComplete = function (t) {
				if (this._container) {
					var e = I.ToolControl.mouseBoundary = this.stage.imageToLocal(this._container),
						i = I.ToolControl.imageRect, n = {
							origin: e.tl,
							width: (0, b.getDistance)(e.tl.x, e.tl.y, e.tr.x, e.tr.y),
							height: (0, b.getDistance)(e.tl.x, e.tl.y, e.bl.x, e.bl.y),
							radian: (0, b.getRadian)(e.tl.x, e.tl.y, e.tr.x, e.tr.y)
						};
					this._container.scale.x < 0 ? n = this._container.scale.y < 0 ? {
						origin: e.br,
						width: (0, b.getDistance)(e.br.x, e.br.y, e.bl.x, e.bl.y),
						height: (0, b.getDistance)(e.br.x, e.br.y, e.tr.x, e.tr.y),
						radian: (0, b.getRadian)(e.br.x, e.br.y, e.bl.x, e.bl.y)
					} : {
						origin: e.tr,
						width: (0, b.getDistance)(e.tr.x, e.tr.y, e.tl.x, e.tl.y),
						height: (0, b.getDistance)(e.tr.x, e.tr.y, e.br.x, e.br.y),
						radian: (0, b.getRadian)(e.tr.x, e.tr.y, e.tl.x, e.tl.y)
					} : this._container.scale.y < 0 && (n = {
						origin: e.bl,
						width: (0, b.getDistance)(e.bl.x, e.bl.y, e.br.x, e.br.y),
						height: (0, b.getDistance)(e.bl.x, e.bl.y, e.tl.x, e.tl.y),
						radian: (0, b.getRadian)(e.bl.x, e.bl.y, e.br.x, e.br.y)
					}), i.origin.x = n.origin.x, i.origin.y = n.origin.y, i.width = n.width, i.height = n.height, i.radian = n.radian, I.ToolControl.imageRect = I.ToolControl.imageRect, this._container.clipRectPoints = I.ToolControl.mouseBoundary
				}
			}, e.prototype.onCropComplete = function (t) {
				this.stage.updateTransform(), this.onUpdateBitmapDataComplete()
			}, e.prototype.onClearAll = function (t) {
				this.reset()
			}, (0, l["default"])(e, [{
				key: "modified", get: function () {
					return this.textMain.modified
				}
			}, {
				key: "lastText", get: function () {
					return this.textMain.lastText
				}
			}, {
				key: "screenFitEnable", get: function () {
					return this.stage.screenFitEnable
				}, set: function (t) {
					this.screenFit(t)
				}
			}]), e
		}(d["default"]);
	e["default"] = k
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(232), o = n(r), s = i(116), a = n(s), h = i(70), l = n(h), u = i(96), c = n(u), f = i(71), d = n(f),
		p = i(97), g = n(p), m = i(214), y = i(215), v = i(217), _ = i(236), x = i(229), b = n(x), w = i(154),
		T = i(227), C = n(T), E = i(237), M = n(E), P = function (t) {
			function e(i, n) {
				var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {useSnap: !0, snapAngle: 5};
				(0, l["default"])(this, e);
				var o = (0, c["default"])(this, t.call(this));
				return o.stageLayer = i, o.textLayer = n, o.options = r, o.idCnt = 0, o.texts = {}, o.isEditing = !1, o.addDebug(), o
			}

			return (0, g["default"])(e, t), (0, d["default"])(e, null, [{
				key: "SELECT", get: function () {
					return "select"
				}
			}, {
				key: "DESELECT", get: function () {
					return "deselect"
				}
			}, {
				key: "DELETED", get: function () {
					return "deleted"
				}
			}, {
				key: "REQ_INPUT", get: function () {
					return "requestInput"
				}
			}, {
				key: "TEXT_MARGIN", get: function () {
					return {bottom: 5, left: 10, right: 10, top: 5}
				}
			}]), e.prototype.initialize = function () {
				this.textLayer.updateTransform(), this.options.deleteButtonOffsetY = 0, this.transformTool = new y.TransformTool(this.stageLayer, this.textLayer, this.options), this.transformTool.on(y.TransformTool.CONTROL_UP, this.onControlUp, this)
			}, e.prototype.textDelete = function () {
				this.transformTool.target && this.onTextDeleteClick(this.transformTool.target)
			}, e.prototype.createText = function (t) {
				var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, n = this.addText(t, null, i);
				return n.pivot.x = n.width / 2, n.pivot.y = n.height / 2, this.emit(e.SELECT, {
					id: n.ID,
					option: t,
					scale: n.scaleForOrigin
				}), n
			}, e.prototype.setTarget = function (t) {
				this.transformTool.activeTarget(t), this.transformTool.draw()
			}, e.prototype.addText = function (t, e, i) {
				t.textPadding || (t.textPadding = {left: 0, top: 0, right: 0, bottom: 0});
				var n = new b["default"](this.stageLayer.options.canvasLimitSize),
					r = new m.VectorContainer(this.stageLayer.options.canvasLimitSize);
				if (r.ID = this.idCnt, r.signText = n, e && e.transform) {
					var o = e.transform;
					r.x = o.x, r.y = o.y, r.scale.x = o.scaleX, r.scale.y = o.scaleY, r.rotation = o.rotation
				}
				return this.addEvents(r), this.applyText(r, t, e, i ? {
					x: i,
					y: i
				} : null), this.textLayer.addChild(r), this.texts[this.idCnt] = r, this.idCnt++, r
			}, e.prototype.updateText = function (t, e) {
				var i = this.texts[t];
				i && ("" == e.text && (e.text = i.option.text), this.applyText(i, e, null, i.scaleForOrigin), i.visible = !0, this.isEditing = !1, this.checkBound(i))
			}, e.prototype.addEvents = function (t) {
				t._textDownListener = this.onTextDown.bind(this), t._textDeselectListener = this.onDeselect.bind(this), t._textDBClickListener = this.onDBClick.bind(this), t._textDeleteListener = this.onTextDeleteClick.bind(this), t.on("mousedown", t._textDownListener), t.on(y.TransformTool.DELETE, t._textDeleteListener), t.on(y.TransformTool.DESELECT, t._textDeselectListener), t.on(y.TransformTool.DBCLICK, t._textDBClickListener)
			}, e.prototype.removeEvents = function (t) {
				t.off("mousedown", t._textDownListener), t.off(y.TransformTool.DELETE, t._textDeleteListener), t.off(y.TransformTool.DESELECT, t._textDeselectListener), t.off(y.TransformTool.DBCLICK, t._textDBClickListener), t._textDownListener = null, t._textDeselectListener = null, t._textDBClickListener = null, t._textDeleteListener = null
			}, e.prototype.checkBound = function (t) {
				var e = v.ToolControl.mouseBoundary, i = Math.cos(t.rotation), n = Math.sin(t.rotation),
					r = new PIXI.Matrix, o = void 0, s = void 0, a = void 0, h = void 0, l = void 0, u = void 0, c = void 0,
					f = void 0, d = void 0, p = void 0, g = new C["default"](t.width / 2, t.height / 2);
				r.set(t.scale.x * i, t.scale.x * n, t.scale.y * -n, t.scale.y * i, t.x, t.y), o = new M["default"]({
					x: 0,
					y: 0
				}, {x: t.width, y: 0}, {x: t.width, y: t.height}, {
					x: 0,
					y: t.height
				}), s = this.textLayer.scale.x < 0 ? this.textLayer.scale.y < 0 ? new M["default"](r.applyInverse(e.br), r.applyInverse(e.bl), r.applyInverse(e.tl), r.applyInverse(e.tr)) : new M["default"](r.applyInverse(e.tr), r.applyInverse(e.tl), r.applyInverse(e.bl), r.applyInverse(e.br)) : this.textLayer.scale.y < 0 ? new M["default"](r.applyInverse(e.bl), r.applyInverse(e.br), r.applyInverse(e.tr), r.applyInverse(e.tl)) : new M["default"](r.applyInverse(e.tl), r.applyInverse(e.tr), r.applyInverse(e.br), r.applyInverse(e.bl)), this.checkBoxCollision(o, s) || (h = [g.clone().sub(s._tlv), g.clone().sub(s._trv), g.clone().sub(s._brv), g.clone().sub(s._blv)], a = [new C["default"](s._a.y, (-s._a.x)).normalize(), new C["default"](s._b.y, (-s._b.x)).normalize(), new C["default"](s._c.y, (-s._c.x)).normalize(), new C["default"](s._d.y, (-s._d.x)).normalize()], l = this.checkLength(a, h), u = l.index, u < 0 || (p = s._basevs[u], c = h[u].clone().add(a[u].scale(-l.len)), c.length > p.length ? c = p.clone() : (0 !== c.x && 0 !== p.x && c.x / Math.abs(c.x) !== p.x / Math.abs(p.x) || 0 !== c.y && 0 !== p.y && c.y / Math.abs(c.y) !== p.y / Math.abs(p.y)) && (c = new C["default"]), f = s._boundvs[u].clone().add(c), d = r.apply(new PIXI.Point(f.x - g.x, f.y - g.y)), t.x = d.x, t.y = d.y))
			}, e.prototype.checkBoxCollision = function (t, e) {
				var i = void 0, n = void 0;
				return !(!t.AABB(e) || (i = t.clone(), n = e.clone(), i.setPoints(n.transform.applyInverse(i._tl), n.transform.applyInverse(i._tr), n.transform.applyInverse(i._br), n.transform.applyInverse(i._bl)), n.setPoints({
					x: 0,
					y: 0
				}, {x: n._width, y: 0}, {x: n._width, y: n._height}, {x: 0, y: n._height}), !n.AABB(i)))
			}, e.prototype.checkLength = function (t, e) {
				for (var i, n = 1 / 0, r = -1, o = 0; o < t.length; o++) i = t[o].dot(e[o]), i > 0 && i < n && (n = i, r = o);
				return {index: r, len: n}
			}, e.prototype.checkInner = function (t, e) {
				for (var i, n = 0; n < e.length; n++) if (i = t[n], i.cross(e[n] > 0)) return !1;
				return !0
			}, e.prototype.restore = function (t) {
				if (t) {
					this.texts = {}, this.idCnt = 0;
					for (var e = 0; e < t.length; e++) {
						var i = t[e], n = this.addText(i.option, i), r = i.transform;
						n.x = r.x, n.y = r.y, n.scale.x = r.scaleX, n.scale.y = r.scaleY, n.pivot.x = r.pivotX, n.pivot.y = r.pivotY, n.rotation = r.rotation, n.childIndex = i.childIndex, n.originW = r.originW, n.originH = r.originH, n.image.scale.x = r.childScaleX, n.image.scale.y = r.childScaleY, n.childIndex = i.childIndex
					}
				}
			}, e.prototype.updateTransformTool = function () {
				this.transformTool.updateGraphics()
			}, e.prototype.applyText = function (t, i, n, r) {
				var o = (0, a["default"])(i, {}), s = void 0, h = void 0, l = i.text.split("\n"), u = 0, c = 0,
					f = .4 * i.fontSize, d = [], p = 0, g = "", m = void 0, y = void 0, v = 0, x = void 0, b = void 0,
					w = void 0;
				this.textLayer.scale.x < 0 ? -1 : 1, this.textLayer.scale.y < 0 ? -1 : 1;
				o.scale = t.scaleForOrigin, o.text = "", s = t.signText.drawSign(o), x = {w: s.width, h: s.height};
				for (var T = 0; T < l.length; T++) {
					y = o.text = l[T], v = 0;
					var C = /[^(---a-zA-Z0-9)]/gi;
					C.test(y) && (g = y.match(C)), o.text.length > 1 ? (b = o.text.charAt(0), w = o.text.charAt(o.text.length - 1), o.text = (" " == b ? "" + b : b + "") + o.text.substr(1, o.text.length - 2) + (" " == w ? w + "" : "" + w), s = t.signText.drawSign(o), o.text = l[T], p = s.height, m = s.rect, s.rect = m, s.rect.h = p, s.rect.w = s.width - x.w) : (g.length != o.text.length && "" != o.text || (o.text += "", s = t.signText.drawSign(o), p = s.height, m = s.rect), o.text = l[T], s = t.signText.drawSign(o), p || (p = s.height, m = s.rect), s.rect = m, s.rect.h = p, s.rect.w = s.width), d.push((0, a["default"])(s.rect, {})), c += s.rect.h, s.rect.w > u && (u = s.rect.w), m = null, p = 0
				}
				c += f * (l.length - 1), h = {
					mainRect: {
						x: e.TEXT_MARGIN.left,
						y: e.TEXT_MARGIN.top,
						w: u + e.TEXT_MARGIN.left + e.TEXT_MARGIN.right,
						h: c + e.TEXT_MARGIN.top + e.TEXT_MARGIN.bottom
					}, rects: d, gap: f
				}, i.text = l.join("\n");
				var E = _.SVGCreator.createText(i, h, this.idCnt), M = void 0;
				M = n ? n : {
					x: 0,
					y: 0,
					width: h.mainRect.w,
					height: h.mainRect.h
				}, t.option = i, t.setSVG(E, M.x, M.y, M.width, M.height), r && (M.width *= r.x, M.height *= r.y, t.drawSvg(0, 0, M.width, M.height))
			}, e.prototype.show = function () {
				for (var t in this.texts) this.texts[t].visible = !0;
				this.transformTool.show()
			}, e.prototype.hide = function () {
				for (var t in this.texts) this.texts[t].visible = !1;
				this.transformTool.hide()
			}, e.prototype.deleteText = function (t) {
				if (null !== t) {
					var e = this.transformTool.selectedControl;
					e && e.isMouseDown && e.onMouseUp(), this.removeEvents(t), delete this.texts[t.ID], this.textLayer.removeChild(t), this.transformTool.releaseTarget(), t.signText.clear(), t.signText = null, t.option = null, t["delete"]()
				}
			}, e.prototype.addDebug = function () {
				window.document.addEventListener("keyup", this.onKeyUp.bind(this))
			}, e.prototype.onTextDown = function (t) {
				1 != this.isEditing && (t.stopPropagation(), this.downTarget = t.target, this.downMouseX = t.data.global.x, this.downMouseY = t.data.global.y, this.textLayer.setChildIndex(t.target, this.textLayer.children.length - 1), this.transformTool.setTarget(t), this.emit(e.SELECT, {
					id: this.downTarget.ID,
					option: this.downTarget.option
				}))
			}, e.prototype.onDeselect = function (t) {
				this.emit(e.DESELECT)
			}, e.prototype.releaseTarget = function () {
				this.transformTool && this.transformTool.releaseTarget()
			}, e.prototype.clear = function () {
				var t = (0, a["default"])({}, this.texts);
				for (var e in t) this.deleteText(t[e])
			}, e.prototype.onControlUp = function (t) {
				this.emit(t.type, t)
			}, e.prototype.onDBClick = function (t) {
				var i = t.target, n = this.stageLayer.magnify.scale, r = void 0, o = new PIXI.Matrix, s = void 0,
					a = void 0, h = {x: 1, y: 1};
				i.updateTransform(), r = i.worldTransform.apply({
					x: i.width / 2 * i.scaleSignX,
					y: i.height / 2 * i.scaleSignY
				}), s = i.scaleForOrigin, a = i.parent, s.x = Math.abs(s.x), s.y = Math.abs(s.y), h.x *= Math.abs(a.scale.x * n), h.y *= Math.abs(a.scale.y * n), r = {
					x: r.x - i.width / 2 * h.x,
					y: r.y - i.height / 2 * h.y
				}, this.emit(e.REQ_INPUT, {
					id: i.ID,
					option: i.option,
					scale: {x: s.x * h.x, y: s.y * h.y},
					position: r,
					transform: o
				}), i.visible = !1, this.isEditing = !0, this.releaseTarget()
			}, e.prototype.onTextDeleteClick = function (t) {
				this.deleteText(t), this.emit(e.DELETED, t)
			}, e.prototype.onKeyUp = function (t) {
				switch (t.keyCode) {
					case 27:
						break;
					case 32:
						break;
					case 49:
						break;
					case 50:
						break;
					case 51:
						break;
					case 52:
						break;
					case 53:
						break;
					case 54:
				}
			}, e.prototype.resize = function () {
			}, (0, d["default"])(e, [{
				key: "snapshot", get: function () {
					var t = [];
					for (var e in this.texts) {
						var i = this.texts[e], n = i.snapshot;
						n.option = i.option, n.childIndex = this.textLayer.getChildIndex(i), t.push(n)
					}
					return t.sort(function (t, e) {
						return t.childIndex < e.childIndex ? -1 : t.childIndex > e.childIndex ? 1 : 0
					}), t
				}
			}, {
				key: "lastText", get: function () {
					for (var t = this.textLayer.children, e = t.length; e--;) if ((0, w.indexOf)(this.texts, t[e])) return t[e];
					return null
				}
			}, {
				key: "modified", get: function () {
					return (0, o["default"])(this.texts).length > 0
				}
			}]), e
		}(PIXI.utils.EventEmitter);
	e["default"] = P
}, function (t, e, i) {
	t.exports = {"default": i(233), __esModule: !0}
}, function (t, e, i) {
	i(234), t.exports = i(13).Object.keys
}, function (t, e, i) {
	var n = i(48), r = i(32);
	i(235)("keys", function () {
		return function (t) {
			return r(n(t))
		}
	})
}, function (t, e, i) {
	var n = i(11), r = i(13), o = i(22);
	t.exports = function (t, e) {
		var i = (r.Object || {})[t] || Object[t], s = {};
		s[t] = e(i), n(n.S + n.F * o(function () {
			i(1)
		}), "Object", s)
	}
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0, e.SVGCreator = void 0;
	var r = i(70), o = n(r);
	e.SVGCreator = function () {
		function t() {
			(0, o["default"])(this, t)
		}

		return t.createText = function (e, i, n) {
			for (var r = e.text.split("\n"), o = "", s = 0, a = void 0, h = 0; h < r.length; h++) a = -i.rects[h].t + (0 == h ? 0 : i.rects[h - 1].h + i.gap), o += t.getTextElement(r[h], e, {
				x: -i.rects[h].l + i.mainRect.x,
				y: s + a + i.mainRect.y
			}), s += a + i.rects[h].t;
			var l = '<svg width="' + i.mainRect.w + '" height="' + i.mainRect.h + '" id="' + n + '"><rect width="100%" height="100%" fill="' + e.bgColor + '" fill-opacity="' + e.bgAlpha + '"></rect>' + o + "</svg>";
			return l
		}, t.getTextElement = function (t, e, i) {
			return '<text opacity="' + e.textAlpha + '" dominant-baseline="text-before-edge" text-anchor="start" font-family="' + e.font + '" font-size="' + e.fontSize + '" fill="' + e.textColor + '" x="' + i.x + '" y="' + i.y + '" font-weight="' + (e.bold ? "bold" : "normal") + '" font-style="' + (e.italic ? "italic" : "normal") + '"><![CDATA[' + t + "]]></text>"
		}, t
	}()
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(71), a = n(s), h = i(227), l = n(h), u = function () {
		function t(e, i, n, r, s) {
			(0, o["default"])(this, t), this.setPoints(e, i, n, r), s && this.setTransform(s)
		}

		return t.prototype.setPoints = function (t, e, i, n) {
			this._tl = t, this._tr = e, this._br = i, this._bl = n, this._minx = Math.min(this._tl.x, this._tr.x, this._br.x, this._bl.x), this._maxx = Math.max(this._tl.x, this._tr.x, this._br.x, this._bl.x),
				this._miny = Math.min(this._tl.y, this._tr.y, this._br.y, this._bl.y), this._maxy = Math.max(this._tl.y, this._tr.y, this._br.y, this._bl.y), this.setVec()
		}, t.prototype.setVec = function () {
			this._tlv = new l["default"](this._tl.x, this._tl.y), this._trv = new l["default"](this._tr.x, this._tr.y), this._brv = new l["default"](this._br.x, this._br.y), this._blv = new l["default"](this._bl.x, this._bl.y), this._boundvs = [this._tlv, this._trv, this._brv, this._blv], this._a = this._trv.clone().sub(this._tlv), this._b = this._brv.clone().sub(this._trv), this._c = this._blv.clone().sub(this._brv), this._d = this._tlv.clone().sub(this._blv), this._basevs = [this._a, this._b, this._c, this._d], this._width = this._a.length, this._height = this._b.length
		}, t.prototype.setTransform = function (t) {
			this._transform = t
		}, t.prototype.updateTransform = function (t) {
			t ? this._transform = t : this.calcTransform()
		}, t.prototype.calcTransform = function () {
			var t = this._a.rad, e = Math.cos(t), i = Math.sin(t);
			this._transform || (this._transform = new PIXI.Matrix), this._transform.set(e, i, -i, e, this._tl.x, this._tl.y)
		}, t.prototype.clone = function () {
			return new t(this._tl, this._tr, this._br, this._bl, this._transform)
		}, t.prototype.AABB = function (t) {
			return this._maxx > t._minx && this._minx < t._maxx && this._maxy > t._miny && this._miny < t._maxy
		}, t.prototype.OBB = function (t) {
		}, (0, a["default"])(t, [{
			key: "transform", get: function () {
				return this._transform ? this._transform : (this.calcTransform(), this._transform)
			}
		}]), t
	}();
	e["default"] = u
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(96), a = n(s), h = i(97), l = n(h), u = i(153), c = n(u), f = i(154),
		d = function (t) {
			function e(i, n) {
				return (0, o["default"])(this, e), (0, a["default"])(this, t.call(this, i, n))
			}

			return (0, l["default"])(e, t), e.prototype.start = function () {
				this.stage.interactive = !0, (0, f.addEvents)(this.stage, ["mousedown", this.onMouseDown, this]), this.stage.magnify.autoScale(!1)
			}, e.prototype.fitToScreen = function () {
			}, e.prototype.screenFitDisable = function () {
				this.stage.magnify.autoScale(!1)
			}, e.prototype.suspend = function () {
				(0, f.removeEvents)(this.stage, ["mousedown", this.onMouseDown, this]), document.body.removeEventListener("mouseup", this._onMouseUp)
			}, e.prototype.onMouseDown = function (t) {
				var e = t.data.global.x, i = t.data.global.y;
				this.stage.magnify.moveTo(e, i), this._onMouseUp = this._onMouseUp || this.onMouseUp.bind(this), document.body.addEventListener("mouseup", this._onMouseUp)
			}, e.prototype.onMouseMove = function (t) {
			}, e.prototype.rotate = function (t) {
				var e = this.stage.viewport, i = t.x - (e.x + e.width / 2), n = t.y - (e.y + e.height / 2),
					r = Math.atan2(n, i);
				this.stage.root.rotation = r, this.stage.root.updateTransform();
				var t = {x: e.x + 100, y: e.y + 100}, o = this.container.worldTransform.applyInverse(t);
				this.stage.signature.sprite.x = o.x, this.stage.signature.sprite.y = o.y, this.stage.signature.sprite.rotation = -r, void 0
			}, e.prototype.onMouseUp = function (t) {
			}, e
		}(c["default"]);
	e["default"] = d
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(71), a = n(s), h = i(172), l = n(h), u = i(177), c = n(u), f = i(154), d = i(222),
		p = i(240), g = (i(162), function () {
			function t(e) {
				(0, o["default"])(this, t), this._init(e)
			}

			return t.prototype.oomCallback = function () {
				void 0
			}, t.prototype.assertion = function (t) {
				return null == t && (this.oomCallback(), !0)
			}, t.prototype.initWithSize = function (t, e) {
				return [this._offContext.canvas, this._orgContext.canvas, this._tempContext.canvas].forEach(function (i) {
					i.width = t, i.height = e
				}), this._worldTransform.canvasWidth = t, this._worldTransform.canvasHeight = e, this
			}, t.prototype.initWithImage = function (t) {
				return this.initWithSize(t.width || t.naturalWidth, t.height || t.naturalHeight), this.draw(t), this
			}, t.prototype.initWithSource = function (t) {
				return this.clear(), this.initWithSize(t.width || t.naturalWidth, t.height || t.naturalHeight), this._sourceImage = t, this
			}, t.prototype.clear = function () {
				this._clearCache(), this._emptyPool(), this._filterAppliedData = null, this._transformedImageData = null
			}, t.prototype.dispose = function () {
				this.clear(), this._updatedImageData = this._filterAppliedData = this._transformedImageData = null
			}, t.prototype.draw = function (t) {
				var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
				return this._sourceImage = null, this._drawToCanvas(this._orgContext, t, e), this
			}, t.prototype.setCanvasSize = function (t, e) {
				var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
				i = i || this.canvas, t == i.width && e == i.height || (i.width = t, i.height = e, i.dispatchEvent(this._event))
			}, t.prototype.imageProcess = function (t, e, i) {
				var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null;
				+new Date;
				n = n || this._tempContext;
				var r = this.processTransform(t, e, n);
				if (!this.assertion(r)) {
					var o = i.length, s = r.width, a = r.height, h = (0, f.createImageData)(n, s, a), l = [r, h];
					if (!this.assertion(h)) {
						for (var u = 0; u < o; u++) i[u] && i[u].applyFilter(l[0], l[1], 0, 0, s, a) && l.push(l.shift());
						return n.putImageData(l[0], 0, 0), n
					}
				}
			}, t.prototype.processTransform = function (t, e, i) {
				var n = {w: this.sourceWidth, h: this.sourceHeight}, r = this._worldTransform,
					o = (i.canvas, this.applyCropTransform(this.source, i, t, r, n));
				return this.applyResizeTransform(o, i, e, r, n)
			}, t.prototype.processFilters = function (t, e, i, n, r, o) {
				function s(t, r) {
					var o = 1 / e.length * 100;
					n((t / r + i) * o, 100, e[i].name)
				}

				function a() {
					var t = 1 / e.length * 100;
					n((1 + i) * t, 100, e[i].name), setTimeout(h, 10)
				}

				function h() {
					l.processFilters(t, e, i + 1, n, r, o)
				}

				if (i >= e.length) return o.putImageData(t[0], 0, 0), void r(o);
				var l = this, u = t[0].width, c = t[0].height;
				e[i].applyFilterAsync(t[0], t[1], 0, 0, u, c, s, a) ? t.push(t.shift()) : a(100, 100)
			}, t.prototype.imageProcessASync = function (t, e, i, n, r) {
				var o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : null;
				this._asyncStart = +new Date, o = o || this._tempContext;
				var s = [];
				return setTimeout(this.asyncApplyTransform, 10, o, s, i, n, r, t, e), o
			}, t.prototype.asyncApplyTransform = function (t, e, i, n, r, o, s) {
				var a = this.processTransform(o, s, t);
				if (0 != i.length && this.getChangedFilter(i)) {
					void 0;
					var h = (0, f.createImageData)(t, t.canvas.width, t.canvas.height);
					if (this.assertion(a)) return;
					if (this.assertion(h)) return;
					e.push(a), e.push(h), setTimeout(this.asyncApplyFilters, 10, e, i, n, r, t)
				} else void 0, t.putImageData(a, 0, 0), r(t)
			}, t.prototype.asyncApplyFilters = function (t, e, i, n, r) {
				this.processFilters(t, e, 0, i, n, r)
			}, t.prototype.getChangedFilter = function (t) {
				return !t.every(function (t) {
					return !t.changed
				})
			}, t.prototype.update = function () {
				var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
					e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
					i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
				this.updateTransform_deprecated(), t ? this.updateFiltersAsync(null, e, i) : (this.updateFilters(null), this.updateCanvas())
			}, t.prototype.updateTransform_deprecated = function () {
				this._boundary.w = this.sourceWidth, this._boundary.h = this.sourceHeight, this._worldTransform.identity(), this._concatMatrix(this._transforms, this._worldTransform, this._boundary);
				var t = this._boundary.w, e = this._boundary.h;
				c["default"].TEMP.setBy(this._worldTransform.matrix), this._concatMatrix(this._resizeTransforms, this._worldTransform, this._boundary), this.setCanvasSize(this._boundary.w, this._boundary.h, this._tempContext.canvas), (0, d.resizeImage)(this.source, this._tempContext, t, e, this.resizeRatio, c["default"].TEMP.raw), this._transformedImageData = (0, f.getImageData)(this._tempContext, 0, 0, this._tempContext.canvas.width, this._tempContext.canvas.height), this.assertion(this._transformedImageData) || (this._filterAppliedData = null, this.transformedWidth == this.canvas.width && this.transformedHeight == this.canvas.height || (this._clearCache(), this._emptyPool()))
			}, t.prototype.updateTransform = function () {
				var t = this._boundary, e = this._worldTransform, i = this._tempContext, n = this.source,
					r = this.transforms, o = this.resizeTransforms;
				t.w = this.sourceWidth, t.h = this.sourceHeight;
				var s = this.applyCropTransform(n, i, r, e, t), a = this.applyResizeTransform(s, i, o, e, t);
				this.isCanvasSizeChanged(a) && (this._clearCache(), this._emptyPool(), i.canvas.dispatchEvent(this._event)), this._transformedImageData = a, this._filterAppliedData = null
			}, t.prototype.isCanvasSizeChanged = function (t) {
				return t.width != this.transformedWidth || t.height != this.transformedHeight
			}, t.prototype.applyCropTransform = function (t, e, i, n, r) {
				return n.identity(), this._concatMatrix(i, n, r), e.canvas.width = r.w, e.canvas.height = r.h, (0, d.transformImage)(t, e, n.matrix.raw), (0, f.getImageData)(e, 0, 0, e.canvas.width, e.canvas.height)
			}, t.prototype.applyResizeTransform = function (t, e, i, n, r) {
				this._concatMatrix(i, n, r);
				var o = r.w != t.width || r.h != t.height;
				if (!o) return t;
				e.canvas.width = r.w, e.canvas.height = r.h;
				var s = (0, f.createImageData)(e, e.canvas.width, e.canvas.height),
					a = {src: t.data, dest: s.data, width: t.width, height: t.height, toWidth: s.width, toHeight: s.height};
				return (0, p.resizeBuffer)(a, function (t, e) {
					return "complete"
				}), s
			}, t.prototype.updateFilters = function () {
				var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
				this._filterAppliedData = this.applyFilters(this._filters, t)
			}, t.prototype.applyFilters = function (t) {
				var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, i = t.length;
				if (0 == i) return null;
				for (var n = void 0, r = void 0, o = e ? t.indexOf(e) : 0, s = this._getCacheImage(o - 1), a = s.width, h = s.height; o < i; o++) if (n = t[o]) {
					if (r = this._cache[o] || this._allocImageData(), this.assertion(r)) return;
					n.applyFilter(s, r, 0, 0, a, h) ? (this._cache[o] = r, s = r, r = null) : (this._freeImageData(r), this._cache[o] = null)
				}
				return s
			}, t.prototype.updateFiltersAsync = function (t, e, i) {
				if (!this._filters || 0 == this._filters.length) return void i();
				var n = Math.max(this._filters.indexOf(t), 0);
				this.applyFiltersAsync(n, this._getCacheImage(n - 1), e, i)
			}, t.prototype.applyFiltersAsync = function (t, e, i, n) {
				function r(e, n) {
					var r = 1 / l._filters.length * 100;
					i((e / n + t) * r, 100, l._filters[t].name)
				}

				function o() {
					l._debug && void 0;
					1 / l._filters.length * 100;
					l.applyFiltersAsync(t + 1, e, i, n)
				}

				if (t >= this._filters.length) return this._filterAppliedData = e, void n();
				var s = this._filters[t];
				if (!s) return void this.applyFiltersAsync(t + 1, i, n);
				var a = +new Date, h = "  " + t + ". " + s.name + " : source-" + e.__instanceID + ", ", l = this,
					u = e.width, c = e.height, f = this._cache[t] || this._allocImageData();
				s.applyFilterAsync(e, f, 0, 0, u, c, r, o) ? (this._cache[t] = f, e = f, f = null) : (this._freeImageData(f), this._cache[t] = null, o())
			}, t.prototype.updateCanvas = function () {
				this.setCanvasSize(this.transformedWidth, this.transformedHeight), this._updatedImageData = this.drawTo(this._filterAppliedData || this._transformedImageData, this._offContext)
			}, t.prototype.drawTo = function (t, e) {
				return e.putImageData(t, 0, 0, 0, 0, t.width, t.height), t
			}, t.prototype.applyBitmapFilter = function (t) {
				var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
					i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
					n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
					r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0;
				n = n || this.width, r = r || this.height;
				var o = this._allocImageData();
				t.applyFilter(this._transformedImageData, o, e, i, n, r), this._offContext.putImageData(o, 0, 0), this._freeImageData(o)
			}, t.prototype.getPixel = function (t, e) {
				var i = this._updatedImageData, n = i.data, r = 4 * (e * i.width + t);
				return n[r] << 16 | n[r + 1] << 8 | n[r + 2]
			}, t.prototype.setPixel = function (t, e, i) {
				var n = this._updatedImageData, r = n.data, o = 4 * (e * n.width + t), s = i >> 16 & 255, a = i >> 8 & 255,
					h = 255 & i;
				r[o] = s, r[o + 1] = a, r[o + 2] = h
			}, t.prototype.getPixelv = function (t, e) {
				var i = this._updatedImageData, n = i.data, r = 4 * (e * i.width + t);
				return new Uint8Array([n[r], n[r + 1], n[r + 2]])
			}, t.prototype.setPixelv = function (t, e, i) {
				var n = this._updatedImageData, r = n.data, o = 4 * (e * n.width + t);
				r[o] = i[0], r[o + 1] = i[1], r[o + 2] = i[2]
			}, t.prototype.fillRect = function (t, e, i, n, r) {
				for (var o = Math.max(0, Math.min(t + i, this.width)), s = Math.max(0, Math.min(e + n, this.height)), a = r >> 16 & 255, h = r >> 8 & 255, l = 255 & r, u = 0, c = 0, f = this._updatedImageData, d = f.width, p = f.data, g = e; g < s; g++) {
					u = 4 * g * d;
					for (var m = t; m < o; m++) c = u + 4 * m, p[c] = a, p[c + 1] = h, p[c + 2] = l
				}
			}, t.prototype.clone = function () {
				return (new t).initWithImage(this)
			}, t.prototype._init = function (t) {
				this.resizeRatio = .5, this._debug = !1, this._imageDataID = 0, this._transformDataID = 0, this._offContext = this._makeCanvasContext(t), this._orgContext = this._makeCanvasContext(), this._tempContext = this._makeCanvasContext(), this._transformedImageData = null, this._filterAppliedData = null, this._transforms = [], this._resizeTransforms = [], this._filters = [], this._pool = [], this._cache = [], this._worldTransform = new l["default"], this._boundary = {
					w: 0,
					h: 0
				}, this._event = document.createEvent("CustomEvent"), this._event.initCustomEvent("change", !1, !1, void 0), this.asyncApplyTransform = this.asyncApplyTransform.bind(this), this.asyncApplyFilters = this.asyncApplyFilters.bind(this)
			}, t.prototype._makeCanvasContext = function (t) {
				t = t || document.createElement("canvas");
				var e = null;
				if (t && (e = t.getContext("2d")), null == e) throw new Error("CanvasRenderingContext2D    .  Canvas    ");
				return e
			}, t.prototype._drawToCanvas = function (e, i) {
				var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
				null != n ? e.setTransform(n[0], n[1], n[2], n[3], n[4], n[5]) : e.setTransform(1, 0, 0, 1, 0, 0), i instanceof t && (i = i.canvas), this.bitmapDrawable = i, e.drawImage(i, 0, 0)
			}, t.prototype._concatMatrix = function (t, e, i) {
				for (var n, r = t.length, o = e.matrix, s = 0; s < r; s++) n = t[s], n.onConcat ? n.onConcat(i, n) : n.canvasWidth != -1 && (i.w = n.canvasWidth, i.h = n.canvasHeight), n.cacheWidth = i.w, n.cacheHeight = i.h, e.scaleX *= n.scaleX, e.scaleY *= n.scaleY, n.matrix.dirty && o.preppend(n.matrix);
				e._changed = !1
			}, t.prototype._getCacheImage = function () {
				var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
				if (t < 0) return this._transformedImageData;
				var e = this._cache[t];
				return e ? e : this._getCacheImage(t - 1)
			}, t.prototype._allocImageData = function () {
				var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, e = void 0;
				if (0 == this._pool.length) {
					if (e = (0, f.createImageData)(this._offContext, this.transformedWidth, this.transformedHeight), this.assertion(e)) return null;
					this._pool.push(e)
				}
				return e = this._pool.pop(), t && e.data.set(t.data), e
			}, t.prototype._freeImageData = function (t) {
				var e = this;
				null != t && (t instanceof Array ? t.forEach(function (t) {
					t && e._pool.push(t)
				}) : this._pool.push(t))
			}, t.prototype._emptyPool = function () {
				this._pool.length = 0
			}, t.prototype._clearCache = function () {
				this._freeImageData(this._cache), this._cache.length = 0
			}, (0, a["default"])(t, [{
				key: "transforms", get: function () {
					return this._transforms
				}, set: function (t) {
					this._transforms = t
				}
			}, {
				key: "resizeTransforms", get: function () {
					return this._resizeTransforms
				}
			}, {
				key: "transformedImageData", get: function () {
					return this._transformedImageData
				}
			}, {
				key: "filters", get: function () {
					return this._filters
				}, set: function (t) {
					this._filters = t || [], this._clearCache()
				}
			}, {
				key: "showOriginal", get: function () {
					return this._showOriginal || !1
				}, set: function (t) {
					if (this._showOriginal != t) {
						this._showOriginal = t;
						var e = t ? this._transformedImageData : this._filterAppliedData || this._transformedImageData;
						this.drawTo(e, this._offContext)
					}
				}
			}, {
				key: "width", get: function () {
					return this.canvas.width || this.canvas.naturalWidth
				}
			}, {
				key: "height", get: function () {
					return this.canvas.height || this.canvas.naturalHeight
				}
			}, {
				key: "canvas", get: function () {
					return this._offContext.canvas
				}
			}, {
				key: "originalCanvas", get: function () {
					return this._orgContext.canvas
				}
			}, {
				key: "source", get: function () {
					return this._sourceImage || this.originalCanvas
				}
			}, {
				key: "sourceWidth", get: function () {
					return this.source ? this.source.width || this.source.naturalWidth : 0
				}
			}, {
				key: "sourceHeight", get: function () {
					return this.source ? this.source.height || this.source.naturalHeight : 0
				}
			}, {
				key: "transformedWidth", get: function () {
					return this._transformedImageData ? this._transformedImageData.width : this.sourceWidth
				}
			}, {
				key: "transformedHeight", get: function () {
					return this._transformedImageData ? this._transformedImageData.height : this.sourceHeight
				}
			}, {
				key: "image", get: function () {
					var t = document.createElement("img");
					return t.src = this.canvas.toDataURL("image/png"), t
				}
			}, {
				key: "worldTransform", get: function () {
					return this._worldTransform
				}
			}]), t
		}());
	e["default"] = g
}, function (t, e, i) {
	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	var r, o, s, a, a, h = i(241), l = n(h), u = i(243), c = n(u), f = i(232), d = n(f), p = i(245), g = n(p),
		m = i(116), y = n(m), v = i(2), _ = n(v);
	!function (i) {
		if ("object" === (0, _["default"])(e) && "undefined" != typeof t) t.exports = i(); else {
			o = [], r = i, s = "function" == typeof r ? r.apply(e, o) : r, !(void 0 !== s && (t.exports = s))
		}
	}(function () {
		return function t(e, i, n) {
			function r(s, h) {
				if (!i[s]) {
					if (!e[s]) {
						var l = "function" == typeof a && a;
						if (!h && l) return a(s, !0);
						if (o) return o(s, !0);
						var u = new Error("Cannot find module '" + s + "'");
						throw u.code = "MODULE_NOT_FOUND", u
					}
					var c = i[s] = {exports: {}};
					e[s][0].call(c.exports, function (t) {
						var i = e[s][1][t];
						return r(i ? i : t)
					}, c, c.exports, t, e, i, n)
				}
				return i[s].exports
			}

			for (var o = "function" == typeof a && a, s = 0; s < n.length; s++) r(n[s]);
			return r
		}({
			1: [function (t, e, i) {
				"use strict";
				e.exports = function () {
					return document.createElement("canvas")
				}
			}, {}], 2: [function (t, e, i) {
				"use strict";
				var n = 1;
				e.exports = function () {
					return n++
				}
			}, {}], 3: [function (t, e, i) {
				"use strict";

				function n(t) {
					this.create = t, this.available = [], this.acquired = {}, this.lastId = 1, this.timeoutId = 0
				}

				var r = 2e3, o = 500;
				n.prototype.acquire = function () {
					var t, e = this;
					return 0 !== this.available.length ? t = this.available.pop() : (t = this.create(), t.id = this.lastId++, t.release = function () {
						e.release(t)
					}), this.acquired[t.id] = t, t
				}, n.prototype.release = function (t) {
					delete this.acquired[t.id], t.lastUsed = Date.now(), this.available.push(t), 0 === this.timeoutId && (this.timeoutId = setTimeout(this.gc.bind(this), o))
				}, n.prototype.gc = function () {
					var t = Date.now();
					this.available = this.available.filter(function (e) {
						return !(t - e.lastUsed > r) || (e.destroy(), !1)
					}), 0 !== this.available.length ? this.timeoutId = setTimeout(this.gc.bind(this), o) : this.timeoutId = 0
				}, e.exports = n
			}, {}], 4: [function (t, e, i) {
				"use strict";

				function n(t) {
					return t < 0 ? 0 : t > 255 ? 255 : t
				}

				function r(t) {
					return Math.round(t * ((1 << u) - 1))
				}

				function o(t, e, i, n, o) {
					var s, a, h, l, u, f, d, p, g, m, y, v, _, x, b, w, T, C = c[t].filter, E = 1 / n,
						M = Math.min(1, n), P = c[t].win / M, S = Math.floor(2 * (P + 1)),
						I = new Int16Array((S + 2) * i), R = 0;
					for (s = 0; s < i; s++) {
						for (a = (s + .5) * E + o, h = Math.max(0, Math.floor(a - P)), l = Math.min(e - 1, Math.ceil(a + P)), u = l - h + 1, f = new Float32Array(u), d = new Int16Array(u), p = 0, g = h, m = 0; g <= l; g++, m++) y = C((g + .5 - a) * M), p += y, f[m] = y;
						for (v = 0, m = 0; m < f.length; m++) _ = f[m] / p, v += _, d[m] = r(_);
						for (d[i >> 1] += r(1 - v), x = 0; x < d.length && 0 === d[x];) x++;
						if (x < d.length) {
							for (b = d.length - 1; b > 0 && 0 === d[b];) b--;
							w = h + x, T = b - x + 1, I[R++] = w, I[R++] = T, I.set(d.subarray(x, b + 1), R), R += T
						} else I[R++] = 0, I[R++] = 0
					}
					return I
				}

				function s(t, e, i, r, o, s) {
					var a, h, l, u, c, f, d, p, g, m, y, v = 0, _ = 0;
					for (g = 0; g < r; g++) {
						for (c = 0, m = 0; m < o; m++) {
							for (f = s[c++], d = s[c++], p = v + 4 * f | 0, a = h = l = u = 0; d > 0; d--) y = s[c++], u = u + y * t[p + 3] | 0, l = l + y * t[p + 2] | 0, h = h + y * t[p + 1] | 0, a = a + y * t[p] | 0, p = p + 4 | 0;
							e[_ + 3] = n(u + 8192 >> 14), e[_ + 2] = n(l + 8192 >> 14), e[_ + 1] = n(h + 8192 >> 14), e[_] = n(a + 8192 >> 14), _ = _ + 4 * r | 0
						}
						_ = 4 * (g + 1) | 0, v = (g + 1) * i * 4 | 0
					}
				}

				function a(t, e, i, r, o, s) {
					var a, h, l, u, c, f, d, p, g, m, y, v = 0, _ = 0;
					for (g = 0; g < r; g++) {
						for (c = 0, m = 0; m < o; m++) {
							for (f = s[c++], d = s[c++], p = v + 4 * f | 0, a = h = l = u = 0; d > 0; d--) y = s[c++], u = u + y * t[p + 3] | 0, l = l + y * t[p + 2] | 0, h = h + y * t[p + 1] | 0, a = a + y * t[p] | 0, p = p + 4 | 0;
							e[_ + 3] = n(u + 8192 >> 14), e[_ + 2] = n(l + 8192 >> 14), e[_ + 1] = n(h + 8192 >> 14), e[_] = n(a + 8192 >> 14), _ = _ + 4 * r | 0
						}
						_ = 4 * (g + 1) | 0, v = (g + 1) * i * 4 | 0
					}
				}

				function h(t, e, i) {
					for (var n = 3, r = e * i * 4 | 0; n < r;) t[n] = 255, n = n + 4 | 0
				}

				function l(t) {
					var e = t.src, i = t.width, n = t.height, r = t.toWidth, l = t.toHeight,
						u = t.scaleX || t.toWidth / t.width, c = t.scaleY || t.toHeight / t.height, f = t.offsetX || 0,
						d = t.offsetY || 0, p = t.dest || new Uint8Array(r * l * 4),
						g = "undefined" == typeof t.quality ? 3 : t.quality, m = t.alpha || !1;
					if (i < 1 || n < 1 || r < 1 || l < 1) return [];
					var y = o(g, i, r, u, f), v = o(g, n, l, c, d), _ = new Uint8Array(r * n * 4);
					return s(e, _, i, n, r, y), a(_, p, n, r, l, v), m || h(p, r, l), p
				}

				var u = 14, c = [{
					win: .5, filter: function (t) {
						return t >= -.5 && t < .5 ? 1 : 0
					}
				}, {
					win: 1, filter: function (t) {
						if (t <= -1 || t >= 1) return 0;
						if (t > -1.1920929e-7 && t < 1.1920929e-7) return 1;
						var e = t * Math.PI;
						return Math.sin(e) / e * (.54 + .46 * Math.cos(e / 1))
					}
				}, {
					win: 2, filter: function (t) {
						if (t <= -2 || t >= 2) return 0;
						if (t > -1.1920929e-7 && t < 1.1920929e-7) return 1;
						var e = t * Math.PI;
						return Math.sin(e) / e * Math.sin(e / 2) / (e / 2)
					}
				}, {
					win: 3, filter: function (t) {
						if (t <= -3 || t >= 3) return 0;
						if (t > -1.1920929e-7 && t < 1.1920929e-7) return 1;
						var e = t * Math.PI;
						return Math.sin(e) / e * Math.sin(e / 3) / (e / 3)
					}
				}];
				e.exports = l
			}, {}], 5: [function (t, e, i) {
				"use strict";

				function n(t, e, i) {
					for (var n, r, o, s, a, h = e * i, l = new Uint16Array(h), u = 0; u < h; u++) n = t[4 * u], r = t[4 * u + 1], o = t[4 * u + 2], a = n >= r && n >= o ? n : r >= o && r >= n ? r : o, s = n <= r && n <= o ? n : r <= o && r <= n ? r : o, l[u] = 257 * (a + s) >> 1;
					return l
				}

				function r(t, e, i, r, s, a) {
					var h, l, u, c, f, d, p, g, m, y, v, _, x;
					if (!(0 === r || s < .5)) {
						s > 2 && (s = 2);
						var b = n(t, e, i), w = new Uint16Array(b);
						o(w, e, i, s);
						for (var T = r / 100 * 4096 + .5 | 0, C = 257 * a | 0, E = e * i, M = 0; M < E; M++) _ = 2 * (b[M] - w[M]), Math.abs(_) >= C && (x = 4 * M, h = t[x], l = t[x + 1], u = t[x + 2], g = h >= l && h >= u ? h : l >= h && l >= u ? l : u, p = h <= l && h <= u ? h : l <= h && l <= u ? l : u, d = 257 * (g + p) >> 1, p === g ? c = f = 0 : (f = d <= 32767 ? 4095 * (g - p) / (g + p) | 0 : 4095 * (g - p) / (510 - g - p) | 0, c = h === g ? 65535 * (l - u) / (6 * (g - p)) | 0 : l === g ? 21845 + (65535 * (u - h) / (6 * (g - p)) | 0) : 43690 + (65535 * (h - l) / (6 * (g - p)) | 0)), d += T * _ + 2048 >> 12, d > 65535 ? d = 65535 : d < 0 && (d = 0), 0 === f ? h = l = u = d >> 8 : (y = d <= 32767 ? d * (4096 + f) + 2048 >> 12 : d + ((65535 - d) * f + 2048 >> 12), m = 2 * d - y >> 8, y >>= 8, v = c + 21845 & 65535, h = v >= 43690 ? m : v >= 32767 ? m + (6 * (y - m) * (43690 - v) + 32768 >> 16) : v >= 10922 ? y : m + (6 * (y - m) * v + 32768 >> 16), v = 65535 & c, l = v >= 43690 ? m : v >= 32767 ? m + (6 * (y - m) * (43690 - v) + 32768 >> 16) : v >= 10922 ? y : m + (6 * (y - m) * v + 32768 >> 16), v = c - 21845 & 65535, u = v >= 43690 ? m : v >= 32767 ? m + (6 * (y - m) * (43690 - v) + 32768 >> 16) : v >= 10922 ? y : m + (6 * (y - m) * v + 32768 >> 16)), t[x] = h, t[x + 1] = l, t[x + 2] = u)
					}
				}

				var o = t("glur/mono16");
				e.exports = r, e.exports.lightness = n
			}, {"glur/mono16": 11}], 6: [function (t, e, i) {
				"use strict";

				function n(t) {
					var e = Math.round(t);
					return Math.abs(t - e) < o ? e : Math.floor(t)
				}

				function r(t) {
					var e = Math.round(t);
					return Math.abs(t - e) < o ? e : Math.ceil(t)
				}

				var o = 1e-5;
				e.exports.createRegions = function (t) {
					var e, i, o, s, a, h, l, u = t.toWidth / t.width, c = t.toHeight / t.height,
						f = n(t.srcTileSize * u) - 2 * t.destTileBorder,
						d = n(t.srcTileSize * c) - 2 * t.destTileBorder, p = [];
					for (s = 0; s < t.toHeight; s += d) for (o = 0; o < t.toWidth; o += f) e = o - t.destTileBorder, e < 0 && (e = 0), a = o + f + t.destTileBorder - e, e + a >= t.toWidth && (a = t.toWidth - e), i = s - t.destTileBorder, i < 0 && (i = 0), h = s + d + t.destTileBorder - i, i + h >= t.toHeight && (h = t.toHeight - i), l = {
						toX: e,
						toY: i,
						toWidth: a,
						toHeight: h,
						toInnerX: o,
						toInnerY: s,
						toInnerWidth: f,
						toInnerHeight: d,
						offsetX: e / u - n(e / u),
						offsetY: i / c - n(i / c),
						scaleX: u,
						scaleY: c,
						x: n(e / u),
						y: n(i / c),
						width: r(a / u),
						height: r(h / c)
					}, p.push(l);
					return p
				}, e.exports.eachLimit = function (t, e, i, n) {
					function r(e) {
						if (!a) {
							if (e) return a = !0, void n(e);
							s++, s === t.length ? n() : o < t.length && i(t[o++], r)
						}
					}

					0 === t.length && n();
					for (var o = 0, s = 0, a = !1; o < e && o < t.length;) i(t[o++], r)
				}
			}, {}], 7: [function (t, e, i) {
				"use strict";
				e.exports = function (e) {
					var i = t("./resize_array"), n = t("./unsharp");
					e.onmessage = function (t) {
						var r = t.data;
						r.dest = new Uint8Array(r.toWidth * r.toHeight * 4), i(r), r.unsharpAmount && n(r.dest, r.toWidth, r.toHeight, r.unsharpAmount, r.unsharpRadius, r.unsharpThreshold), e.postMessage({output: r.dest}, [r.dest.buffer])
					}
				}
			}, {"./resize_array": 4, "./unsharp": 5}], 8: [function (t, e, i) {
				"use strict";

				function n(t, e, i, n) {
					var f = e.getContext("2d", {alpha: Boolean(i.alpha)}), d = l();
					d.width = Math.min(u, t.width), d.height = Math.min(u, t.height);
					var p = d.getContext("2d", {alpha: Boolean(i.alpha)});
					p.globalCompositeOperation = "copy";
					var g = s({
						width: t.naturalWidth || t.width,
						height: t.naturalHeight || t.height,
						srcTileSize: u,
						toWidth: e.width,
						toHeight: e.height,
						destTileBorder: Math.ceil(Math.max(c, 2.5 * i.unsharpRadius | 0))
					});
					return a(g, 1, function (e, n) {
						p.drawImage(t, e.x, e.y, e.width, e.height, 0, 0, e.width, e.height);
						var s = p.getImageData(0, 0, e.width, e.height), a = f.createImageData(e.toWidth, e.toHeight),
							h = {
								src: s.data,
								dest: a.data,
								width: e.width,
								height: e.height,
								toWidth: e.toWidth,
								toHeight: e.toHeight,
								scaleX: e.scaleX,
								scaleY: e.scaleY,
								offsetX: e.offsetX,
								offsetY: e.offsetY,
								quality: i.quality,
								alpha: i.alpha,
								unsharpAmount: i.unsharpAmount,
								unsharpRadius: i.unsharpRadius,
								unsharpThreshold: i.unsharpThreshold
							};
						r(h), i.unsharpAmount && o(h.dest, h.toWidth, h.toHeight, h.unsharpAmount, h.unsharpRadius, h.unsharpThreshold), f.putImageData(a, e.toX, e.toY, e.toInnerX - e.toX, e.toInnerY - e.toY, e.toInnerWidth, e.toInnerHeight), n()
					}, n), h()
				}

				var r = t("./js/resize_array"), o = t("./js/unsharp"), s = t("./js/utils").createRegions,
					a = t("./js/utils").eachLimit, h = t("./js/generate_id"), l = t("./js/create_canvas"), u = 1024,
					c = 3;
				e.exports = n, e.exports.terminate = function () {
				}
			}, {
				"./js/create_canvas": 1,
				"./js/generate_id": 2,
				"./js/resize_array": 4,
				"./js/unsharp": 5,
				"./js/utils": 6
			}], 9: [function (t, e, i) {
				"use strict";

				function n(t, e, i, n) {
					var r = e.getContext("2d", {alpha: Boolean(i.alpha)}), o = u();
					o.width = Math.min(f, t.naturalWidth || t.width), o.height = Math.min(f, t.naturalHeight || t.height);
					var s = o.getContext("2d", {alpha: Boolean(i.alpha)});
					s.globalCompositeOperation = "copy";
					var c = a({
						width: t.naturalWidth || t.width,
						height: t.naturalHeight || t.height,
						srcTileSize: f,
						toWidth: e.width,
						toHeight: e.height,
						destTileBorder: Math.ceil(Math.max(d, 2.5 * i.unsharpRadius | 0))
					}), g = 1;
					"undefined" != typeof navigator && (g = navigator.hardwareConcurrency || 1);
					var v = i._id || l();
					return y[v] = !0, h(c, g, function (e, n) {
						s.drawImage(t, e.x, e.y, e.width, e.height, 0, 0, e.width, e.height);
						var o = s.getImageData(0, 0, e.width, e.height), a = {
							src: o.data,
							width: e.width,
							height: e.height,
							toWidth: e.toWidth,
							toHeight: e.toHeight,
							scaleX: e.scaleX,
							scaleY: e.scaleY,
							offsetX: e.offsetX,
							offsetY: e.offsetY,
							quality: i.quality,
							alpha: i.alpha,
							unsharpAmount: i.unsharpAmount,
							unsharpRadius: i.unsharpRadius,
							unsharpThreshold: i.unsharpThreshold
						}, h = m.acquire();
						h.value.onmessage = function (t) {
							var i, o, s, a, l;
							if (h.release(), !y[v]) return void n(!0);
							if (t.data.err) return void n(t.data.err);
							if (s = r.createImageData(e.toWidth, e.toHeight), a = t.data.output, l = s.data, l.set) l.set(a); else for (i = 0, o = a.length; i < o; i++) l[i] = a[i];
							p ? r.putImageData(s, e.toX, e.toY, e.toInnerX - e.toX, e.toInnerY - e.toY, e.toInnerWidth + 1e-5, e.toInnerHeight + 1e-5) : r.putImageData(s, e.toX, e.toY, e.toInnerX - e.toX, e.toInnerY - e.toY, e.toInnerWidth, e.toInnerHeight), n()
						}, h.value.postMessage(a, [a.src.buffer])
					}, function (t) {
						y[v] && (delete y[v], n(t))
					}), v
				}

				function r(t) {
					y[t] && delete y[t]
				}

				var o = t("webworkify"), s = t("./js/worker.js"), a = t("./js/utils").createRegions,
					h = t("./js/utils").eachLimit, l = t("./js/generate_id"), u = t("./js/create_canvas"),
					c = t("./js/pool"), f = 1024, d = 3, p = !1;
				try {
					p = navigator.userAgent.indexOf("Safari") !== -1
				} catch (g) {
				}
				var m = new c(function () {
					return {
						value: o(s), destroy: function () {
							if (this.value.terminate(), "undefined" != typeof window) {
								var t = window.URL || window.webkitURL || window.mozURL || window.msURL;
								t && t.revokeObjectURL && this.value.objectURL && t.revokeObjectURL(this.value.objectURL)
							}
						}
					}
				}), y = {};
				e.exports = n, e.exports.terminate = r
			}, {
				"./js/create_canvas": 1,
				"./js/generate_id": 2,
				"./js/pool": 3,
				"./js/utils": 6,
				"./js/worker.js": 7,
				webworkify: 13
			}], 10: [function (t, e, i) {
				"use strict";

				function n(t) {
					try {
						(window.console.error || window.console.log).call(window.console, t)
					} catch (e) {
					}
				}

				function r(t) {
					var e = t.getError();
					if (e !== t.NO_ERROR) throw new Error("gl error " + e)
				}

				function o(t) {
					return t.getContext("webgl") || t.getContext("experimental-webgl")
				}

				function s(t, e, i) {
					var r = t.createShader(e);
					return t.shaderSource(r, i), t.compileShader(r), t.getShaderParameter(r, t.COMPILE_STATUS) ? r : (n("Shader compile error: " + t.getShaderInfoLog(r) + ". Source: `" + i + "`"), t.deleteShader(r), null)
				}

				function a(t, e, i) {
					var o = t.createProgram();
					return t.attachShader(o, e), t.attachShader(o, i), t.linkProgram(o), t.getProgramParameter(o, t.LINK_STATUS) || (n("Program linking error: " + t.getProgramInfoLog(o)), t.deleteProgram(o)), r(t), o
				}

				function h(t, e, i, n, o) {
					var s = t.getAttribLocation(e, i);
					t.bindBuffer(t.ARRAY_BUFFER, t.createBuffer()), t.bufferData(t.ARRAY_BUFFER, new Float32Array(n), t.STATIC_DRAW), t.enableVertexAttribArray(s), t.vertexAttribPointer(s, o.elementSize, t.FLOAT, !1, 0, 0), r(t)
				}

				function l(t, e, i, n) {
					var r = t.getUniformLocation(e, i);
					t.uniform1i(r, n)
				}

				function u(t, e, i, n, r) {
					var o = t.getUniformLocation(e, i);
					t.uniform2f(o, n, r)
				}

				function c(t, e, i) {
					var n = t.createTexture();
					return t.activeTexture(t.TEXTURE0 + e), t.bindTexture(t.TEXTURE_2D, n), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, t.NEAREST), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, t.NEAREST), t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL, !0), t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, t.RGBA, t.UNSIGNED_BYTE, i), r(t), n
				}

				function f(t, e, i, n) {
					var o = t.createTexture();
					return t.activeTexture(t.TEXTURE0 + e), t.bindTexture(t.TEXTURE_2D, o), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, t.NEAREST), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, t.NEAREST), t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, i, n, 0, t.RGBA, t.UNSIGNED_BYTE, null), r(t), o
				}

				function d(t, e, i, n) {
					var o = f(t, e, i, n), s = t.getParameter(t.FRAMEBUFFER_BINDING), a = t.createFramebuffer();
					return t.bindFramebuffer(t.FRAMEBUFFER, a), t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, o, 0), r(t), {
						fbo: a,
						texture: o,
						oldFbo: s
					}
				}

				function p(t, e, i, n) {
					var r = t, o = t + i, s = e, a = e + n;
					return [r, s, o, s, r, a, r, a, o, s, o, a]
				}

				function g(t) {
					function e(t) {
						return t.toFixed(20)
					}

					for (var i = b["#fsh-lanczos1d-optimized-tpl"], n = t.direction, r = t.texW / t.destW, o = t.texH / t.destH, s = "horizontal" === n ? r : o, a = 3, h = w[a].filter, l = w[a].win, u = "horizontal" === n, c = 1 / t.texW, f = 1 / t.texH, d = u ? c : f, p = 2 * Math.ceil(l * s), g = "float total = 0.0;\ngl_FragColor = vec4(0.0);\n", m = 0; m < p + 1; m++) {
						var y = m - p / 2, v = y / s, _ = h(v), x = d * y, T = u ? x : 0, C = u ? 0 : x;
						g += "addPoint(vec2(" + e(T) + ", " + e(C) + "), " + e(_) + ", total);\n"
					}
					g += "gl_FragColor /= vec4(total);";
					var E = i.replace("__CODE__", g);
					return E
				}

				function m(t, e) {
					var i = s(t, t.VERTEX_SHADER, b["#vsh-basic"]), n = s(t, t.FRAGMENT_SHADER, g(e));
					return a(t, i, n)
				}

				function y(t, e, i, n, o, s, a, c, f) {
					var g = {direction: s, texW: i, texH: n, destW: a, destH: c}, y = m(t, g);
					t.useProgram(y), l(t, y, "u_image", e), u(t, y, "u_resolution", a, c), h(t, y, "a_texCoord", [0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1], {elementSize: 2}), h(t, y, "a_position", f ? p(0, c, a, -c) : p(0, 0, a, c), {elementSize: 2}), t.viewport(0, 0, a, c);
					var v = d(t, o, a, c);
					return t.viewport(0, 0, a, c), t.drawArrays(t.TRIANGLES, 0, 6), t.bindFramebuffer(t.FRAMEBUFFER, v.oldFbo), r(t), v
				}

				function v(t, e, i) {
					var n = t.naturalWidth || t.width, r = t.naturalHeight || t.height, o = e.canvas.width,
						s = e.canvas.height, a = 0, h = 1, l = 2;
					c(e, a, t), y(e, a, n, r, h, "horizontal", o, r, !1);
					var u = y(e, h, o, r, l, "vertical", o, s, !0);
					e.flush();
					var f = e.createFramebuffer();
					e.bindFramebuffer(e.FRAMEBUFFER, f), e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, u.texture, 0);
					var d = e.checkFramebufferStatus(e.FRAMEBUFFER);
					if (d !== e.FRAMEBUFFER_COMPLETE) throw new Error("Bad framebuffer status: " + d);
					i.alpha || (e.clearColor(1, 1, 1, 1), e.colorMask(!1, !1, !1, !0), e.clear(e.COLOR_BUFFER_BIT));
					var p = new Uint8Array(o * s * 4);
					e.readPixels(0, 0, o, s, e.RGBA, e.UNSIGNED_BYTE, p);
					var g = "undefined" == typeof i.unsharpAmount ? 0 : 0 | i.unsharpAmount,
						m = "undefined" == typeof i.unsharpRadius ? 0 : i.unsharpRadius,
						v = "undefined" == typeof i.unsharpThreshold ? 0 : 0 | i.unsharpThreshold;
					return g && _(p, o, s, g, m, v), p
				}

				var _ = t("./js/unsharp"), x = t("./js/generate_id"), b = {};
				b["#vsh-basic"] = "precision highp float;\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform vec2 u_resolution;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n   vec2 clipSpace = a_position / u_resolution * 2.0 - 1.0;\n\n   gl_Position = vec4(clipSpace, 0, 1);\n   v_texCoord = a_texCoord;\n}\n", b["#fsh-lanczos1d-optimized-tpl"] = "precision highp float;\n\nvarying vec2 v_texCoord;\n\nuniform sampler2D u_image;\n\n#define addPoint(offset, kv, total)   {vec2 pos = v_texCoord + offset; gl_FragColor += texture2D(u_image, pos) * kv; total += kv; }\n\nvoid main()\n{\n__CODE__\n}\n";
				var w = [{
					win: .5, filter: function (t) {
						return t >= -.5 && t < .5 ? 1 : 0
					}
				}, {
					win: 1, filter: function (t) {
						if (t <= -1 || t >= 1) return 0;
						if (t > -1.1920929e-7 && t < 1.1920929e-7) return 1;
						var e = t * Math.PI;
						return Math.sin(e) / e * (.54 + .46 * Math.cos(e / 1))
					}
				}, {
					win: 2, filter: function (t) {
						if (t <= -2 || t >= 2) return 0;
						if (t > -1.1920929e-7 && t < 1.1920929e-7) return 1;
						var e = t * Math.PI;
						return Math.sin(e) / e * Math.sin(e / 2) / (e / 2)
					}
				}, {
					win: 3, filter: function (t) {
						if (t <= -3 || t >= 3) return 0;
						if (t > -1.1920929e-7 && t < 1.1920929e-7) return 1;
						var e = t * Math.PI;
						return Math.sin(e) / e * Math.sin(e / 3) / (e / 3)
					}
				}];
				e.exports = function (t, e, i, r) {
					var s, a;
					try {
						a = document.createElement("canvas"), a.id = "pica-webgl-temporarry-canvas", a.height = e.height, a.width = e.width, document.body.appendChild(a), s = o(a);
						var h = v(t, s, i);
						s.finish(), document.body.removeChild(a);
						var l = e.getContext("2d"), u = l.createImageData(e.width, e.height);
						u.data.set(h), l.putImageData(u, 0, 0), r(null, h)
					} catch (c) {
						n(c), s.finish(), document.body.removeChild(a),
							r(c)
					}
					return x()
				}, e.exports.terminate = function () {
				}
			}, {"./js/generate_id": 2, "./js/unsharp": 5}], 11: [function (t, e, i) {
				function n(t) {
					t < .5 && (t = .5);
					var e = Math.exp(.527076) / t, i = Math.exp(-e), n = Math.exp(-2 * e),
						r = (1 - i) * (1 - i) / (1 + 2 * e * i - n);
					return s = r, a = r * (e - 1) * i, h = r * (e + 1) * i, l = -r * n, u = 2 * i, c = -n, f = (s + a) / (1 - u - c), d = (h + l) / (1 - u - c), new Float32Array([s, a, h, l, u, c, f, d])
				}

				function r(t, e, i, n, r, o) {
					var s, a, h, l, u, c, f, d, p, g, m, y, v, _;
					for (p = 0; p < o; p++) {
						for (c = p * r, f = p, d = 0, s = t[c], u = s * n[6], l = u, m = n[0], y = n[1], v = n[4], _ = n[5], g = 0; g < r; g++) a = t[c], h = a * m + s * y + l * v + u * _, u = l, l = h, s = a, i[d] = l, d++, c++;
						for (c--, d--, f += o * (r - 1), s = t[c], u = s * n[7], l = u, a = s, m = n[2], y = n[3], g = r - 1; g >= 0; g--) h = a * m + s * y + l * v + u * _, u = l, l = h, s = a, a = t[c], e[f] = i[d] + l, c--, d--, f -= o
					}
				}

				function o(t, e, i, o) {
					if (o) {
						var s = new Uint16Array(t.length), a = new Float32Array(Math.max(e, i)), h = n(o);
						r(t, s, a, h, e, i, o), r(s, t, a, h, i, e, o)
					}
				}

				var s, a, h, l, u, c, f, d;
				e.exports = o
			}, {}], 12: [function (t, e, i) {
				"use strict";

				function n(t) {
					if (null === t || void 0 === t) throw new TypeError("Object.assign cannot be called with null or undefined");
					return Object(t)
				}

				function r() {
					try {
						if (!y["default"]) return !1;
						var t = new String("abc");
						if (t[5] = "de", "5" === (0, g["default"])(t)[0]) return !1;
						for (var e = {}, i = 0; i < 10; i++) e["_" + String.fromCharCode(i)] = i;
						var n = (0, g["default"])(e).map(function (t) {
							return e[t]
						});
						if ("0123456789" !== n.join("")) return !1;
						var r = {};
						return "abcdefghijklmnopqrst".split("").forEach(function (t) {
							r[t] = t
						}), "abcdefghijklmnopqrst" === (0, d["default"])((0, y["default"])({}, r)).join("")
					} catch (o) {
						return !1
					}
				}

				var o = Object.prototype.hasOwnProperty, s = Object.prototype.propertyIsEnumerable;
				e.exports = r() ? y["default"] : function (t, e) {
					for (var i, r, a = n(t), h = 1; h < arguments.length; h++) {
						i = Object(arguments[h]);
						for (var l in i) o.call(i, l) && (a[l] = i[l]);
						if (c["default"]) {
							r = (0, c["default"])(i);
							for (var u = 0; u < r.length; u++) s.call(i, r[u]) && (a[r[u]] = i[r[u]])
						}
					}
					return a
				}
			}, {}], 13: [function (t, e, i) {
				var n = arguments[3], r = arguments[4], o = arguments[5], s = l["default"];
				e.exports = function (t, e) {
					function i(t) {
						y[t] = !0;
						for (var e in r[t][1]) {
							var n = r[t][1][e];
							y[n] || i(n)
						}
					}

					for (var a, h = (0, d["default"])(o), l = 0, u = h.length; l < u; l++) {
						var c = h[l], f = o[c].exports;
						if (f === t || f && f["default"] === t) {
							a = c;
							break
						}
					}
					if (!a) {
						a = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);
						for (var p = {}, l = 0, u = h.length; l < u; l++) {
							var c = h[l];
							p[c] = c
						}
						r[a] = [Function(["require", "module", "exports"], "(" + t + ")(self)"), p]
					}
					var g = Math.floor(Math.pow(16, 8) * Math.random()).toString(16), m = {};
					m[a] = a, r[g] = [Function(["require"], "var f = require(" + s(a) + ");(f.default ? f.default : f)(self);"), m];
					var y = {};
					i(g);
					var v = "(" + n + ")({" + (0, d["default"])(y).map(function (t) {
							return s(t) + ":[" + r[t][0] + "," + s(r[t][1]) + "]"
						}).join(",") + "},{},[" + s(g) + "])",
						_ = window.URL || window.webkitURL || window.mozURL || window.msURL,
						x = new Blob([v], {type: "text/javascript"});
					if (e && e.bare) return x;
					var b = _.createObjectURL(x), w = new Worker(b);
					return w.objectURL = b, w
				}
			}, {}], "/": [function (t, e, i) {
				"use strict";

				function n(t) {
					return Object.prototype.toString.call(t)
				}

				function r(t) {
					return "[object Function]" === n(t)
				}

				function o(t, e, n, s) {
					if (r(n) && (s = n, n = {}), isNaN(n) || (n = {
							quality: n,
							alpha: !1
						}), f || (i.WEBGL = !1), f && i.WEBGL) {
						i.debug("Resize canvas with WebGL");
						var a = g(t, e, n, function (r) {
							r ? (i.debug("WebGL resize failed, do fallback and cancel next attempts"), i.debug(r), f = !1, o(t, e, v({}, n, {_id: a}), s)) : s()
						});
						return a
					}
					return h || (i.WW = !1), h && i.WW ? (i.debug("Resize buffer in WebWorker"), p(t, e, n, s)) : (i.debug("Resize buffer sync (freeze event loop)"), d(t, e, n, s))
				}

				function s(t, e) {
					var i = {
						src: t.src,
						dest: t.dest,
						width: 0 | t.width,
						height: 0 | t.height,
						toWidth: 0 | t.toWidth,
						toHeight: 0 | t.toHeight,
						quality: t.quality,
						alpha: t.alpha,
						unsharpAmount: t.unsharpAmount,
						unsharpRadius: t.unsharpRadius,
						unsharpThreshold: t.unsharpThreshold
					};
					i.dest = m(i), i.unsharpAmount && y(i.dest, i.toWidth, i.toHeight, i.unsharpAmount, i.unsharpRadius, i.unsharpThreshold), e(null, i.dest)
				}

				function a(t) {
					d.terminate(t), p.terminate(t), g.terminate(t)
				}

				var h = "undefined" != typeof window && "Worker" in window;
				if (h) try {
					var l = t("webworkify")(function () {
					});
					l.terminate()
				} catch (u) {
					h = !1
				}
				var c, f = !1;
				try {
					"undefined" != typeof document && "undefined" != typeof window && window.WebGLRenderingContext && (c = document.createElement("canvas"), (c.getContext("webgl") || c.getContext("experimental-webgl")) && (f = !0))
				} catch (u) {
				} finally {
					c = null
				}
				var d = t("./lib/resize_js"), p = t("./lib/resize_js_ww"), g = t("./lib/resize_webgl"),
					m = t("./lib/js/resize_array"), y = t("./lib/js/unsharp"), v = t("object-assign");
				i.resizeCanvas = o, i.resizeBuffer = s, i.terminate = a, i.WW = h, i.WEBGL = !1, i.debug = function () {
				}
			}, {
				"./lib/js/resize_array": 4,
				"./lib/js/unsharp": 5,
				"./lib/resize_js": 8,
				"./lib/resize_js_ww": 9,
				"./lib/resize_webgl": 10,
				"object-assign": 12,
				webworkify: 13
			}]
		}, {}, [])("/")
	})
}, function (t, e, i) {
	t.exports = {"default": i(242), __esModule: !0}
}, function (t, e, i) {
	var n = i(13), r = n.JSON || (n.JSON = {stringify: JSON.stringify});
	t.exports = function (t) {
		return r.stringify.apply(r, arguments)
	}
}, function (t, e, i) {
	t.exports = {"default": i(244), __esModule: !0}
}, function (t, e, i) {
	i(56), t.exports = i(13).Object.getOwnPropertySymbols
}, function (t, e, i) {
	t.exports = {"default": i(246), __esModule: !0}
}, function (t, e, i) {
	i(247);
	var n = i(13).Object;
	t.exports = function (t) {
		return n.getOwnPropertyNames(t)
	}
}, function (t, e, i) {
	i(235)("getOwnPropertyNames", function () {
		return i(64).f
	})
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(71), a = n(s), h = i(96), l = n(h), u = i(97), c = n(u), f = function (t) {
		function e(i) {
			var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
				r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 2631720;
			(0, o["default"])(this, e);
			var s = (0, l["default"])(this, t.call(this));
			return s._init(i, n, r), s.parent = new PIXI.Container, s.startRender(), s
		}

		return (0, c["default"])(e, t), e.prototype.update = function () {
			this.ticker.update()
		}, e.prototype.dispose = function () {
			this.ticker.remove(this._onRender, this), this.ticker.stop(), this.removeAllListeners()
		}, e.prototype.changeStageSize = function (t, e) {
			this.renderer.resize(t, e), this.onRender()
		}, e.prototype.startRender = function () {
			this.ticker.add(this._onRender, this)
		}, e.prototype.stopRender = function () {
			this.ticker.remove(this._onRender, this)
		}, e.prototype._init = function (t, e, i) {
			this._ticker = PIXI.ticker.shared, this._bindEventListeners(), this._initRenderer(t, e, i)
		}, e.prototype._bindEventListeners = function () {
			this._onRequestRender = this.onRequestRender.bind(this), this._onRender = this.onRender.bind(this), this.on(e.REQ_RENDER, this._onRequestRender)
		}, e.prototype._initRenderer = function (t, e, i) {
			e ? this._renderer = PIXI.autoDetectRenderer(t.width, t.height, {
				view: t,
				autoResize: !1,
				backgroundColor: i
			}) : this._renderer = new PIXI.CanvasRenderer(t.width, t.height, {
				view: t,
				autoResize: !1,
				backgroundColor: i
			}), this._renderGL = this._renderer instanceof PIXI.WebGLRenderer
		}, e.prototype.onRequestRender = function (t) {
			this.update()
		}, e.prototype.onRender = function () {
			this._renderer.render(this)
		}, (0, a["default"])(e, [{
			key: "renderer", get: function () {
				return this._renderer
			}
		}, {
			key: "canvas", get: function () {
				return this._renderer.view
			}
		}, {
			key: "renderGL", get: function () {
				return this._renderGL
			}
		}, {
			key: "stageWidth", get: function () {
				return this.canvas.width
			}
		}, {
			key: "stageHeight", get: function () {
				return this.canvas.height
			}
		}, {
			key: "ticker", get: function () {
				return this._ticker
			}
		}]), e
	}(PIXI.Container);
	e["default"] = f
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(71), a = n(s), h = function () {
		function t() {
			(0, o["default"])(this, t), this._list = [], this.clear()
		}

		return t.prototype.undo = function () {
			return this.undoable ? this._list[--this.$p] : null
		}, t.prototype.redo = function () {
			arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
			return this.redoable ? this._list[++this.$p] : null
		}, t.prototype.push = function (t) {
			this._list.length = ++this.$p, this._list.push(t)
		}, t.prototype.clear = function () {
			this._list.length = 0, this.$p = -1
		}, t.prototype.getPrevHistory = function () {
			return this._list[this.$p]
		}, (0, a["default"])(t, [{
			key: "numStack", get: function () {
				return this._list.length
			}
		}, {
			key: "undoable", get: function () {
				return this.$p - 1 >= 0
			}
		}, {
			key: "redoable", get: function () {
				return this.$p + 1 < this.numStack
			}
		}]), t
	}();
	e["default"] = h
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(71), a = n(s), h = i(96), l = n(h), u = i(97), c = n(u), f = i(153), d = n(f),
		p = i(210), g = n(p), m = i(154), y = i(146), v = (n(y), i(251)), _ = n(v), x = i(142), b = n(x),
		w = function (t) {
			function e(i, n, r) {
				(0, o["default"])(this, e);
				var s = (0, l["default"])(this, t.call(this, i, n));
				return s.frame = new _["default"](r), s.frame.initialize(i.imgPath), s._container = r, s._container.on(g["default"].CHANGE_SIZE, s.onContainerChange, s), s.stage.on(b["default"].PHOTOFRAME_DISABLE, s.onPhotoFrameDisable, s), s.stage.on("clearAll", s.onClearAll, s), s
			}

			return (0, c["default"])(e, t), e.prototype.start = function () {
				t.prototype.start.call(this)
			}, e.prototype.suspend = function () {
				return t.prototype.suspend.call(this)
			}, e.prototype.reset = function (e) {
				var i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
				e && e.hasOwnProperty("index") ? (this.currentFrameIndex = e.index || 0, this._backupIndex = e.backup || 0) : (this.currentFrameIndex = 0, this._backupIndex = 0), t.prototype.reset.call(this, i)
			}, e.prototype.snapshot = function () {
				return this.modified ? {index: this.currentFrameIndex, backup: this._backupIndex} : {}
			}, e.prototype.dispose = function () {
				this.stage.off(b["default"].PHOTOFRAME_DISABLE, this.onPhotoFrameDisable, this), this.stage.off("clearAll", this.onClearAll, this), this._container && this._container.off(g["default"].CHANGE_SIZE, this.onContainerChange, this)
			}, e.prototype.addFrame = function (t) {
				t != this.currentFrameIndex && (this.currentFrameIndex = t, this.pushHistory())
			}, e.prototype.onContainerChange = function (t) {
				this.modified && this.frame.applyFrame(this.frame.frameNum)
			}, e.prototype.onClearAll = function (t) {
				this.reset()
			}, e.prototype.onPhotoFrameDisable = function (t) {
				if (this.modified || this._backupIndex) if (t.visible) this.currentFrameIndex = this._backupIndex || 0; else {
					var e = this.currentFrameIndex;
					this.currentFrameIndex = 0, this._backupIndex = e
				}
			}, (0, a["default"])(e, [{
				key: "modified", get: function () {
					return this.frame.modified
				}
			}, {
				key: "source", get: function () {
					return this.frame.source
				}
			}, {
				key: "currentFrameIndex", get: function () {
					return this.frame.frameNum
				}, set: function (t) {
					this._backupIndex = t, this.frame.visible = !0, this.frame.applyFrame(t), this.stage.magnify.border = (0, m.clone)(this.frame.border), this.stage.emit(b["default"].BORDER_CHANGED, {
						type: b["default"].BORDER_CHANGED,
						target: this
					})
				}
			}, {
				key: "border", get: function () {
					return this.frame.border
				}
			}]), e
		}(d["default"]);
	e["default"] = w
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(70), o = n(r), s = i(71), a = n(s), h = i(252), l = n(h), u = (i(154), function () {
		function t(e) {
			(0, o["default"])(this, t), this.container = e, this.frameNum = 0, this.suffixImageStrs = ["_1_left_top.png", "_2_center_top.png", "_3_right_top.png", "_4_left_middle.png", "_5_right_middle.png", "_6_left_bottom.png", "_7_center_bottom.png", "_8_right_bottom.png"]
		}

		return t.prototype.initialize = function () {
			var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
			this.canvas = this.canvas || document.createElement("canvas"), this.ctx = this.canvas.getContext("2d"), this.view = new PIXI.Sprite, this.drawPoint = {
				left: 0,
				right: 0,
				top: 0,
				bottom: 0
			}, t = t || "img/frame.png", this.loadImg(t, function (t) {
				this.bgImage = t, this.start()
			}.bind(this))
		}, t.prototype.applyFrame = function (t) {
			switch (this.frameNum = t, this.frameNum) {
				case 1:
					this.drawPoint = {left: 11, top: 11, right: 11, bottom: 11};
					break;
				case 2:
					this.drawPoint = {left: 8, top: 8, right: 8, bottom: 8};
					break;
				case 3:
					this.drawPoint = {left: 12, top: 12, right: 12, bottom: 12};
					break;
				case 4:
					this.drawPoint = {left: 12, top: 12, right: 12, bottom: 12};
					break;
				case 5:
					this.drawPoint = {left: 20, top: 20, right: 20, bottom: 20};
					break;
				case 6:
					this.drawPoint = {left: 18, top: 18, right: 18, bottom: 69};
					break;
				default:
					return this.displayObject = null, void(this.ctx.canvas.width = this.ctx.canvas.width)
			}
			this.canvas.width = this.drawPoint.left + this.drawPoint.right + this.container.actualWidth, this.canvas.height = this.drawPoint.top + this.drawPoint.bottom + this.container.actualHeight, this.setFrame(), this.start()
		}, t.prototype.start = function () {
			this.displayObject = this.canvas
		}, t.prototype.loadImg = function (t, e) {
			var i = document.createElement("img");
			i.crossOrigin = "Anonymous", i.onload = function (t) {
				e(i)
			}.bind(this), i.src = t
		}, t.prototype.setFrame = function () {
			this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height), this.setBg()
		}, t.prototype.drawImagePos = function (t, e, i, n) {
			var r = l["default"].frames[e].frame;
			t.drawImage(this.bgImage, r.x, r.y, r.w, r.h, i, n, r.w, r.h)
		}, t.prototype.getPosAtFrame = function (t, e) {
			var i, n = l["default"].frames[t].frame, r = this.container.actualWidth, o = this.container.actualHeight;
			switch (e) {
				case"lt":
					i = {x: 0, y: 0, w: n.w, h: n.h};
					break;
				case"rt":
					i = {x: this.drawPoint.left + r + this.drawPoint.right - n.w, y: 0, w: n.w, h: n.h};
					break;
				case"lb":
					i = {x: 0, y: this.drawPoint.top + o + this.drawPoint.bottom - n.h, w: n.w, h: n.h};
					break;
				case"rb":
					i = {
						x: this.drawPoint.left + r + this.drawPoint.right - n.w,
						y: this.drawPoint.top + o + this.drawPoint.bottom - n.h,
						w: n.w,
						h: n.h
					}
			}
			return i
		}, t.prototype.repeatDraw = function (t, e, i) {
			var n = 0;
			switch (i) {
				case"x":
					for (; n < e.w;) n + t.width <= e.w ? this.ctx.drawImage(t, e.x + n, e.y) : this.ctx.drawImage(t, 0, 0, e.w - n, t.height, e.x + n, e.y, e.w - n, t.height), n += t.width;
					break;
				case"y":
					for (; n < e.h;) n + t.height <= e.h ? this.ctx.drawImage(t, e.x, e.y + n) : this.ctx.drawImage(t, 0, 0, t.width, e.h - n, e.x, e.y + n, t.width, e.h - n), n += t.height
			}
		}, t.prototype.setBg = function () {
			var t, e, i = "0" + this.frameNum,
				n = [this.getPosAtFrame(i + this.suffixImageStrs[0], "lt"), this.getPosAtFrame(i + this.suffixImageStrs[2], "rt"), this.getPosAtFrame(i + this.suffixImageStrs[5], "lb"), this.getPosAtFrame(i + this.suffixImageStrs[7], "rb")],
				r = this.container.actualWidth, o = this.container.actualHeight;
			this.offCanvas = this.offCanvas || document.createElement("canvas"), this.offCtx = this.offCtx || this.offCanvas.getContext("2d"), this.drawImagePos(this.ctx, i + this.suffixImageStrs[0], 0, 0), t = l["default"].frames[i + this.suffixImageStrs[1]].frame, this.offCanvas.width = t.w, this.offCanvas.height = t.h, this.drawImagePos(this.offCtx, i + this.suffixImageStrs[1], 0, 0), e = {
				x: n[0].w,
				y: 0,
				w: r - (n[0].w - this.drawPoint.left) - (n[1].w - this.drawPoint.right),
				h: this.offCanvas.height
			}, this.repeatDraw(this.offCanvas, e, "x"), this.drawImagePos(this.ctx, i + this.suffixImageStrs[2], n[1].x, n[1].y), t = l["default"].frames[i + this.suffixImageStrs[3]].frame, this.offCanvas.width = t.w, this.offCanvas.height = t.h, this.drawImagePos(this.offCtx, i + this.suffixImageStrs[3], 0, 0), e = {
				x: 0,
				y: n[0].h,
				w: this.offCanvas.width,
				h: o - (n[0].h - this.drawPoint.top) - (n[2].h - this.drawPoint.bottom)
			}, this.repeatDraw(this.offCanvas, e, "y"), t = l["default"].frames[i + this.suffixImageStrs[4]].frame, this.offCanvas.width = t.w, this.offCanvas.height = t.h, this.drawImagePos(this.offCtx, i + this.suffixImageStrs[4], 0, 0), e = {
				x: n[0].w + r - (n[0].w - this.drawPoint.left) - (this.offCanvas.width - this.drawPoint.right),
				y: n[1].h,
				w: this.offCanvas.width,
				h: o - (n[1].h - this.drawPoint.top) - (n[3].h - this.drawPoint.bottom)
			}, this.repeatDraw(this.offCanvas, e, "y"), this.drawImagePos(this.ctx, i + this.suffixImageStrs[5], n[2].x, n[2].y), t = l["default"].frames[i + this.suffixImageStrs[6]].frame, this.offCanvas.width = t.w, this.offCanvas.height = t.h, this.drawImagePos(this.offCtx, i + this.suffixImageStrs[6], 0, 0), e = {
				x: n[2].w,
				y: n[0].h + o - (n[0].h - this.drawPoint.top) - (this.offCanvas.height - this.drawPoint.bottom),
				w: r - (n[2].w - this.drawPoint.left) - (n[3].w - this.drawPoint.right),
				h: this.offCanvas.height
			}, this.repeatDraw(this.offCanvas, e, "x"), this.drawImagePos(this.ctx, i + this.suffixImageStrs[7], n[3].x, n[3].y)
		}, t.prototype.clearDisplayObject = function () {
			this.displayObject && (this.view.parent && this.view.parent.removeChild(this.view), this.view.renderableObject = !1, this.view.texture = null)
		}, (0, a["default"])(t, [{
			key: "displayObject", get: function () {
				return this._displayObject
			}, set: function (t) {
				this.clearDisplayObject(), this._displayObject = t, this._displayObject && (this.view.texture = new PIXI.Texture(new PIXI.BaseTexture(t)), this.view.renderableObject = !0, this.view.x = -this.drawPoint.left, this.view.y = -this.drawPoint.top, this.view.interactive = !1, this.container.addChild(this.view))
			}
		}, {
			key: "visible", get: function () {
				return this.view.visible
			}, set: function (t) {
				this.view.visible = t
			}
		}, {
			key: "modified", get: function () {
				return this.frameNum >= 1 && this.frameNum <= 6
			}
		}, {
			key: "border", get: function () {
				return this.modified ? this.drawPoint : {top: 0, left: 0, right: 0, bottom: 0}
			}
		}, {
			key: "source", get: function () {
				return this.ctx.canvas
			}
		}]), t
	}());
	e["default"] = u
}, function (t, e) {
	"use strict";
	e.__esModule = !0, e["default"] = {
		frames: {
			"01_1_left_top.png": {
				frame: {x: 241, y: 127, w: 11, h: 11},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 11, h: 11},
				sourceSize: {w: 11, h: 11}
			},
			"01_2_center_top.png": {
				frame: {x: 251, y: 108, w: 1, h: 11},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 1, h: 11},
				sourceSize: {w: 1, h: 11}
			},
			"01_3_right_top.png": {
				frame: {x: 239, y: 91, w: 11, h: 11},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 11, h: 11},
				sourceSize: {w: 11, h: 11}
			},
			"01_4_left_middle.png": {
				frame: {x: 121, y: 132, w: 11, h: 1},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 11, h: 1},
				sourceSize: {w: 11, h: 1}
			},
			"01_5_right_middle.png": {
				frame: {x: 121, y: 134, w: 11, h: 1},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 11, h: 1},
				sourceSize: {w: 11, h: 1}
			},
			"01_6_left_bottom.png": {
				frame: {x: 239, y: 103, w: 11, h: 11},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 11, h: 11},
				sourceSize: {w: 11, h: 11}
			},
			"01_7_center_bottom.png": {
				frame: {x: 249, y: 77, w: 1, h: 11},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 1, h: 11},
				sourceSize: {w: 1, h: 11}
			},
			"01_8_right_bottom.png": {
				frame: {x: 239, y: 115, w: 11, h: 11},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 11, h: 11},
				sourceSize: {w: 11, h: 11}
			},
			"02_1_left_top.png": {
				frame: {x: 33, y: 82, w: 8, h: 8},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 8, h: 8},
				sourceSize: {w: 8, h: 8}
			},
			"02_2_center_top.png": {
				frame: {x: 33, y: 109, w: 1, h: 8},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 1, h: 8},
				sourceSize: {w: 1, h: 8}
			},
			"02_3_right_top.png": {
				frame: {x: 33, y: 100, w: 8, h: 8},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 8, h: 8},
				sourceSize: {w: 8, h: 8}
			},
			"02_4_left_middle.png": {
				frame: {x: 33, y: 118, w: 8, h: 1},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 8, h: 1},
				sourceSize: {w: 8, h: 1}
			},
			"02_5_right_middle.png": {
				frame: {x: 33, y: 120, w: 8, h: 1},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 8, h: 1},
				sourceSize: {w: 8, h: 1}
			},
			"02_6_left_bottom.png": {
				frame: {x: 33, y: 91, w: 8, h: 8},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 8, h: 8},
				sourceSize: {w: 8, h: 8}
			},
			"02_7_center_bottom.png": {
				frame: {x: 35, y: 109, w: 1, h: 8},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 1, h: 8},
				sourceSize: {w: 1, h: 8}
			},
			"02_8_right_bottom.png": {
				frame: {x: 33, y: 73, w: 8, h: 8},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 8, h: 8},
				sourceSize: {w: 8, h: 8}
			},
			"03_1_left_top.png": {
				frame: {x: 77, y: 126, w: 21, h: 21},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 21, h: 21},
				sourceSize: {w: 21, h: 21}
			},
			"03_2_center_top.png": {
				frame: {x: 249, y: 55, w: 1, h: 21},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 1, h: 21},
				sourceSize: {w: 1, h: 21}
			},
			"03_3_right_top.png": {
				frame: {x: 33, y: 126, w: 21, h: 21},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 21, h: 21},
				sourceSize: {w: 21, h: 21}
			},
			"03_4_left_middle.png": {
				frame: {x: 99, y: 132, w: 21, h: 1},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 21, h: 1},
				sourceSize: {w: 21, h: 1}
			},
			"03_5_right_middle.png": {
				frame: {x: 99, y: 134, w: 21, h: 1},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 21, h: 1},
				sourceSize: {w: 21, h: 1}
			},
			"03_6_left_bottom.png": {
				frame: {x: 198, y: 127, w: 21, h: 21},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 21, h: 21},
				sourceSize: {w: 21, h: 21}
			},
			"03_7_center_bottom.png": {
				frame: {x: 253, y: 108, w: 1, h: 21},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 1, h: 21},
				sourceSize: {w: 1, h: 21}
			},
			"03_8_right_bottom.png": {
				frame: {x: 55, y: 126, w: 21, h: 21},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 21, h: 21},
				sourceSize: {w: 21, h: 21}
			},
			"04_1_left_top.png": {
				frame: {x: 149, y: 2, w: 52, h: 52},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 52, h: 52},
				sourceSize: {w: 52, h: 52}
			},
			"04_2_center_top.png": {
				frame: {x: 251, y: 55, w: 1, h: 52},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 1, h: 52},
				sourceSize: {w: 1, h: 52}
			},
			"04_3_right_top.png": {
				frame: {x: 43, y: 2, w: 52, h: 52},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 52, h: 52},
				sourceSize: {w: 52, h: 52}
			},
			"04_4_left_middle.png": {
				frame: {x: 99, y: 143, w: 52, h: 1},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 52, h: 1},
				sourceSize: {w: 52, h: 1}
			},
			"04_5_right_middle.png": {
				frame: {x: 99, y: 145, w: 52, h: 1},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 52, h: 1},
				sourceSize: {w: 52, h: 1}
			},
			"04_6_left_bottom.png": {
				frame: {x: 96, y: 2, w: 52, h: 52},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 52, h: 52},
				sourceSize: {w: 52, h: 52}
			},
			"04_7_center_bottom.png": {
				frame: {x: 253, y: 55, w: 1, h: 52},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 1, h: 52},
				sourceSize: {w: 1, h: 52}
			},
			"04_8_right_bottom.png": {
				frame: {x: 202, y: 2, w: 52, h: 52},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 52, h: 52},
				sourceSize: {w: 52, h: 52}
			},
			"05_1_left_top.png": {
				frame: {x: 213, y: 55, w: 35, h: 35},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 35, h: 35},
				sourceSize: {w: 35, h: 35}
			},
			"05_2_center_top.png": {
				frame: {x: 2, y: 114, w: 30, h: 35},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 30, h: 35},
				sourceSize: {w: 30, h: 35}
			},
			"05_3_right_top.png": {
				frame: {x: 141, y: 55, w: 35, h: 35},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 35, h: 35},
				sourceSize: {w: 35, h: 35}
			},
			"05_4_left_middle.png": {
				frame: {x: 172, y: 91, w: 35, h: 30},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 35, h: 30},
				sourceSize: {w: 35, h: 30}
			},
			"05_5_right_middle.png": {
				frame: {x: 136, y: 91, w: 35, h: 30},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 35, h: 30},
				sourceSize: {w: 35, h: 30}
			},
			"05_6_left_bottom.png": {
				frame: {x: 105, y: 55, w: 35, h: 35},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 35, h: 35},
				sourceSize: {w: 35, h: 35}
			},
			"05_7_center_bottom.png": {
				frame: {x: 208, y: 91, w: 30, h: 35},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 30, h: 35},
				sourceSize: {w: 30, h: 35}
			},
			"05_8_right_bottom.png": {
				frame: {x: 177, y: 55, w: 35, h: 35},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 35, h: 35},
				sourceSize: {w: 35, h: 35}
			},
			"06_1_left_top.png": {
				frame: {x: 167, y: 122, w: 30, h: 20},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 30, h: 20},
				sourceSize: {w: 30, h: 20}
			},
			"06_2_center_top.png": {
				frame: {x: 220, y: 127, w: 20, h: 20},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 20, h: 20},
				sourceSize: {w: 20, h: 20}
			},
			"06_3_right_top.png": {
				frame: {x: 136, y: 122, w: 30, h: 20},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 30, h: 20},
				sourceSize: {w: 30, h: 20}
			},
			"06_4_left_middle.png": {
				frame: {x: 2, y: 73, w: 30, h: 40},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 30, h: 40},
				sourceSize: {w: 30, h: 40}
			},
			"06_5_right_middle.png": {
				frame: {x: 105, y: 91, w: 30, h: 40},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 30, h: 40},
				sourceSize: {w: 30, h: 40}
			},
			"06_6_left_bottom.png": {
				frame: {x: 43, y: 55, w: 30, h: 70},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 30, h: 70},
				sourceSize: {w: 30, h: 70}
			},
			"06_7_center_bottom.png": {
				frame: {x: 2, y: 2, w: 40, h: 70},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 40, h: 70},
				sourceSize: {w: 40, h: 70}
			},
			"06_8_right_bottom.png": {
				frame: {x: 74, y: 55, w: 30, h: 70},
				rotated: !1,
				trimmed: !1,
				spriteSourceSize: {x: 0, y: 0, w: 30, h: 70},
				sourceSize: {w: 30, h: 70}
			}
		},
		meta: {
			app: "Adobe Flash Professional",
			version: "15.0.1.179",
			image: "frame.png",
			format: "RGBA8888",
			size: {w: 256, h: 256},
			scale: "1"
		}
	}
}, function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	e.__esModule = !0;
	var r = i(80), o = n(r), s = i(116), a = n(s), h = i(70), l = n(h), u = i(71), c = n(u), f = i(239), d = n(f),
		p = i(149), g = i(210), m = n(g), y = i(145), v = (n(y), i(221)), _ = n(v), x = i(214), b = i(177), w = n(b),
		T = i(229), C = n(T), E = i(231), M = n(E), P = i(251), S = n(P), I = i(236), R = i(154), A = i(222),
		k = i(172), O = n(k), L = i(200), D = (i(228), i(206)), B = i(157), N = i(165), F = i(169).AutoAdjustment,
		z = i(208), H = void 0, j = function () {
			function t(e) {
				(0, l["default"])(this, t), this.options = e, H = (0, L.makeLoadImage)(this.options.crossOrigin), this._init(), this._initEvent()
			}

			return t.prototype._init = function () {
				this.bitmapdata = new d["default"], this._colorTransform = new B, this._sharpen = new N, this._autolevel = new F, this._foodie = new D, this._mosaic = new z(this.bitmapdata.worldTransform), this.bitmapdata.filters = [this._autolevel, this._foodie, this._sharpen, this._mosaic, this._colorTransform], this.canvas = document.createElement("canvas"), this.context = this.canvas.getContext("2d"), this.signatureContainer = new m["default"], this.signatureContainer.interactive = !1, this.stickerContainer = new m["default"], this.stickerContainer.interactive = !1, this.signature = new PIXI.Sprite, this.signature.renderableObject = !0, this.photoFrame = new S["default"](this.signatureContainer), this.photoFrame.initialize(this.options.photoFrame.imgPath), this.restoreComplete = null
			}, t.prototype._initEvent = function () {
				this.setImageByElement = this.setImageByElement.bind(this), this.renderCanvas = this.renderCanvas.bind(this)
			}, t.prototype.initWithColorTable = function (t) {
				this._colorTables = t
			}, t.prototype.updateOriginalSize = function (t, e) {
				this._originalWidth = t, this._originalHeight = e, this.signatureContainer.updateSize(t, e)
			}, t.prototype.clear = function () {
				this._ready = !1, this.restoreComplete = null, this.bitmapdata.clear(), this.photoFrame.applyFrame(0), this.clearFilter(), this.clearContainer()
			}, t.prototype.clearFilter = function () {
				var t = this._colorTransform;
				t.brightness = 0, t.contrast = 1, t.saturation = 1, t.hue = 0, t.kelvin = 0, this._sharpen.sharpen = 0, this._autolevel.enabled = !1, this._mosaic.areas = null, this._foodie.colorTable = null, this._foodie.value = 0
			}, t.prototype.clearContainer = function () {
				[this.signatureContainer, this.stickerContainer].forEach(function (t) {
					for (var e = t.children.length; e--;) t.removeChildAt(e);
					t.scale.x = t.scale.y = 1, t.x = t.y = 0, t.pivot.x = t.pivot.y = 0, t.rotation = 0
				}), this.signature.parent && this.signature.parent.removeChild(this.signature), this.photoFrame.applyFrame(0)
			}, t.prototype.toDataURL = function () {
				var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "image/jpeg",
					e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : .92;
				return this.bitmapdata.canvas.toDataURL(t, e)
			}, t.prototype.setImageByDataURL = function (t) {
				return this.clear(), this._ready = !1, H(t).then(this.setImageByElement)
			}, t.prototype.setImageByElement = function (t) {
				return this._ready = !0, this.bitmapdata.initWithSource(t), this
			}, t.prototype.restore = function (t) {
				var e = this;
				return this.snapshot = t, this.bitmapdata.updateTransform(), this.restoreCrop(t), this.restoreResize(t), (0, p.each)(t, function (t, i) {
					return e.applyFilter(i, t)
				}), (0, p.each)(t, function (t, i) {
					return e.drawObject(i, t)
				}), this.getAllStickerLoaded().then(this.renderCanvas)
			}, t.prototype.renderCanvas = function () {
				this.bitmapdata.updateFilters(), this.bitmapdata.updateCanvas(), this.stickerContainer.children.sort(function (t, e) {
					return t.childIndex < e.childIndex ? -1 : Number(t.childIndex > e.childIndex)
				});
				var t = this.bitmapdata.canvas.getContext("2d");
				this.drawRenderableObjects(t), this.drawPhotoframe(t)
			}, t.prototype.restoreCrop = function (t) {
				t.crop = t.crop || {}, t.crop.transform = t.crop.transform || new O["default"];
				var e = (new O["default"]).setTo(t.crop.transform), i = !1;
				if (e.canvasWidth = e.canvasWidth == -1 ? this.originalWidth : e.canvasWidth, e.canvasHeight = e.canvasHeight == -1 ? this.originalHeight : e.canvasHeight, t.crop.transform.canvasWidth = e.canvasWidth, t.crop.transform.canvasHeight = e.canvasHeight, t.crop.hasOwnProperty("externalRotation") && t.crop.externalRotation % 360) {
					var n = new O["default"], r = (360 + (t.crop.externalRotation || 0) % 360) % 360;
					i = (r / 90 | 0) % 2, e.rotate(r * Math.PI / 180, e.canvasWidth, e.canvasHeight, i), t.crop.transform.canvasWidth = e.canvasWidth, t.crop.transform.canvasHeight = e.canvasHeight, n.canvasWidth = this.sourceWidth, n.canvasHeight = this.sourceHeight, this.applyExternalRotation(t.crop.externalRotation, n), this.bitmapdata.transforms.push(n), this.bitmapdata.updateTransform(), this.bitmapdata.transforms.length = 0, this.signatureContainer.updateSize(this.croppedWidth, this.croppedHeight)
				}
				this.restoreWorldTransform(e, i), this.restoreContainer(e)
			}, t.prototype.restoreResize = function (t) {
				if (t.resize && t.resize.width) {
					var e = Math.min(1, t.resize.width / this.croppedWidth);
					this.signatureContainer.updateSize(t.resize.width, this.croppedHeight * e | 0)
				}
			}, t.prototype.restoreWorldTransform = function (t) {
				var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], i = this.bitmapdata.worldTransform,
					n = e ? [this.sourceHeight, this.sourceWidth] : [this.sourceWidth, this.sourceHeight], r = n[0],
					o = n[1], s = Math.max(r / this.croppedWidth, o / this.croppedHeight), a = this.croppedWidth * s | 0,
					h = this.croppedHeight * s | 0, l = r - a >> 1 | 0, u = o - h >> 1 | 0, c = (new O["default"]).setTo(t);
				c.scaleX *= s, c.scaleY *= s, i.setTo(c), i.evaluateMatrix(), i.matrix.append(new w["default"](1, 0, 0, 1, l, u)), i.scaleX *= s, i.scaleY *= s, i._changed = !1
			}, t.prototype.restoreContainer = function (t) {
				var e = this.stickerContainer;
				e.updateSize(this.originalWidth, this.originalHeight), e.scale.x = t.scaleX || 1, e.scale.y = t.scaleY || 1, e.x = t.x || 0, e.y = t.y || 0, e.rotation = t.radian || 0, e.pivot.x = t.offsetX || 0, e.pivot.y = t.offsetY || 0
			}, t.prototype.applyExternalRotation = function (t) {
				var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
				if (0 != t) {
					this._externalRotateAngle = t;
					var i = [0, 0, 0, 1, 1, 1, 1, 0];
					t = (360 + t % 360) % 360;
					var n = t / 90 % 4 | 0;
					if (e.offsetX = e.canvasWidth * i[2 * n], e.offsetY = e.canvasHeight * i[2 * n + 1], e.radian += t * Math.PI / 180, n % 2) {
						var r = e.canvasWidth;
						e.canvasWidth = e.canvasHeight, e.canvasHeight = r
					}
				}
			}, t.prototype.drawRenderableObjects = function (t) {
				var e = this;
				t.save(), t.setTransform(1, 0, 0, 1, 0, 0);
				var i = [this.croppedWidth, this.croppedHeight, this.resizedWidth, this.resizedHeight];
				[this.stickerContainer, this.signatureContainer].forEach(function (n, r) {
					if (0 != n.children.length) {
						var o = e.canvas.width = i[2 * r], s = e.canvas.height = i[2 * r + 1];
						e.context.setTransform(1, 0, 0, 1, 0, 0), e.context.clearRect(0, 0, o, s), (0, R.makeDrawCallbackInClosure)(e.context, null).call(e, n), e.resizeAndDrawImage(e.canvas, t, o, s)
					}
				}), t.restore()
			}, t.prototype.drawPhotoframe = function (t) {
				t.save(), t.setTransform(1, 0, 0, 1, 0, 0);
				var e = this.photoFrame.source;
				this.resizeAndDrawImage(e, t, e.width, e.height), t.restore()
			}, t.prototype.resizeAndDrawImage = function (t, e, i, n) {
				var r = arguments.length > 4 && void 0 !== arguments[4] && arguments[4],
					o = r ? this.sourceWidth : this.bitmapdata.width, s = r ? this.sourceHeight : this.bitmapdata.height,
					a = Math.min(i / o, n / s), h = o * a + .5 | 0, l = s * a + .5 | 0, u = [1, 0, 0, 1, 0, 0];
				h == i ? u[5] = l - n >> 1 | 0 : u[4] = h - i >> 1 | 0, (0, A.resizeImage)(t, e, h, l, .5, u)
			}, t.prototype.applyFilter = function (t, e) {
				switch (t) {
					case"filter":
						null == this._colorTables && void 0, this._foodie.colorTable = this._colorTables[e.index], this._foodie.value = e.values[e.index];
						break;
					case"adjust":
						var i = this._colorTransform;
						i.brightness = e.brightness || 0, i.contrast = e.contrast || 1, i.saturation = "undefined" == typeof e.saturation ? 1 : e.saturation, i.hue = e.hue || 0, i.kelvin = e.kelvin || 0, this._sharpen.sharpen = e.sharpen || 0, this._autolevel.enabled = e.autolevel || !1;
						break;
					case"mosaic":
						this._mosaic.areas = e.areas.map(function (t) {
							return (0, a["default"])({}, t)
						})
				}
			}, t.prototype.drawObject = function (t, e) {
				if (null != e && e.modified) switch (t) {
					case"photoFrame":
						this.photoFrame.applyFrame(e.index || 0);
						break;
					case"signature":
						if (null == e.displayObject) return;
						this.restoreSignature(e);
						break;
					case"sticker":
						if (!e.length) return;
						this.restoreSticker(e);
						break;
					case"text":
						if (!e.length) return;
						this.restoreText(e)
				}
			}, t.prototype.restoreSignature = function (t) {
				this.signature.texture = new PIXI.Texture(new PIXI.BaseTexture(t.displayObject)), this.signature.pivot.x = this.signature.width / 2, this.signature.pivot.y = this.signature.height / 2, this.signature.rotation = 0;
				var e = this._alignSignature({
					width: this.resizedWidth,
					height: this.resizedHeight
				}, {width: this.signature.width >> 1, height: this.signature.height >> 1}, t.positionType, t);
				this.signature.x = e.x, this.signature.y = e.y, this.signatureContainer.addChild(this.signature)
			}, t.prototype.restoreSticker = function (t) {
				var e = this;
				t.forEach(function (t) {
					var i = t.transform, n = t.pngSource ? new _["default"] : new x.VectorContainer;
					n.on(x.VectorContainer.LOAD_COMPLETE, e.onLoadComplete, e), n.childScaleX = i.childScaleX, n.childScaleY = i.childScaleY, n.childIndex = t.childIndex, n.load(t.url, i.x, i.y, t.width, t.height), n.x = i.x, n.y = i.y, n.scale.x = i.scaleX, n.scale.y = i.scaleY, n.rotation = i.rotation, n.pivot.x = i.pivotX, n.pivot.y = i.pivotY, n._restored = !0, n.renderableObject = !0, e.stickerContainer.addChild(n)
				})
			}, t.prototype.restoreText = function (t) {
				var e = this;
				t.forEach(function (t) {
					var i = e.createText(t.option, t), n = t.transform;
					i.x = n.x, i.y = n.y, i.scale.x = n.scaleX, i.scale.y = n.scaleY, i.pivot.x = n.pivotX, i.pivot.y = n.pivotY, i.rotation = n.rotation, i.childIndex = t.childIndex, i.originW = n.originW, i.originH = n.originH, i.image.scale.x = n.childScaleX, i.image.scale.y = n.childScaleY, i.childIndex = t.childIndex, i.renderableObject = !0, e.stickerContainer.addChild(i);
				})
			}, t.prototype.getAllStickerLoaded = function () {
				var t = this, e = this.stickerContainer.children.map(function (e) {
					return t.getSingleStickerLoaded(e)
				});
				return o["default"].all(e)
			}, t.prototype.getSingleStickerLoaded = function (t) {
				return new o["default"](function (e, i) {
					t instanceof _["default"] && !t.complete || e(t), t.once(x.VectorContainer.LOAD_COMPLETE, function (t) {
						return e(t.target)
					})
				})
			}, t.prototype.onLoadComplete = function (t) {
				if (t) {
					var e = t.target;
					e.image.scale.x = e.childScaleX, e.image.scale.y = e.childScaleY, e.off(x.VectorContainer.LOAD_COMPLETE, this.onLoadComplete, this)
				}
			}, t.prototype._alignSignature = function (t, e, i, n) {
				var r = void 0, o = void 0, s = e.width, a = e.height;
				switch (i) {
					case"lt":
						r = n.w + s, o = n.h + a;
						break;
					case"lc":
						r = n.w + s, o = t.height / 2;
						break;
					case"lb":
						r = n.w + s, o = t.height - (n.h + a);
						break;
					case"ct":
						r = t.width / 2, o = n.h + a;
						break;
					case"cc":
						r = t.width / 2, o = t.height / 2;
						break;
					case"cb":
						r = t.width / 2, o = t.height - (n.h + a);
						break;
					case"rt":
						r = t.width - (n.w + s), o = n.h + a;
						break;
					case"rc":
						r = t.width - (n.w + s), o = t.height / 2;
						break;
					case"rb":
						r = t.width - (n.w + s), o = t.height - (n.h + a)
				}
				return this._hitTest(r, o, t, e)
			}, t.prototype._hitTest = function (t, e, i, n) {
				var r = n.width, o = n.height;
				return t = Math.max(r, Math.min(i.width - r, t)), e = Math.max(o, Math.min(i.height - o, e)), {x: t, y: e}
			}, t.prototype.createText = function (t, e, i) {
				t.textPadding || (t.textPadding = {left: 0, top: 0, right: 0, bottom: 0});
				var n = new C["default"](this.options.canvasLimitSize),
					r = new x.VectorContainer(this.options.canvasLimitSize);
				if (r.signText = n, e && e.transform) {
					var o = e.transform;
					r.x = o.x, r.y = o.y, r.scale.x = o.scaleX, r.scale.y = o.scaleY, r.rotation = o.rotation
				}
				return this.applyText(r, t, e, i ? {x: i, y: i} : null), r
			}, t.prototype.applyText = function (t, e, i, n) {
				var r = (0, a["default"])(e, {}), o = void 0, s = void 0, h = e.text.split("\n"), l = 0, u = 0,
					c = .4 * e.fontSize, f = [], d = 0, p = "", g = void 0, m = void 0, y = 0, v = void 0, _ = void 0,
					x = void 0;
				r.scale = t.scaleForOrigin, r.text = "", o = t.signText.drawSign(r), v = {w: o.width, h: o.height};
				for (var b = 0; b < h.length; b++) {
					m = r.text = h[b], y = 0;
					var w = /[^(---a-zA-Z0-9)]/gi;
					w.test(m) && (p = m.match(w)), r.text.length > 1 ? (_ = r.text.charAt(0), x = r.text.charAt(r.text.length - 1), r.text = (" " == _ ? "" + _ : _ + "") + r.text.substr(1, r.text.length - 2) + (" " == x ? x + "" : "" + x), o = t.signText.drawSign(r), r.text = h[b], d = o.height, g = o.rect, o.rect = g, o.rect.h = d, o.rect.w = o.width - v.w) : (p.length != r.text.length && "" != r.text || (r.text += "", o = t.signText.drawSign(r), d = o.height, g = o.rect), r.text = h[b], o = t.signText.drawSign(r), d || (d = o.height, g = o.rect), o.rect = g, o.rect.h = d, o.rect.w = o.width), f.push((0, a["default"])(o.rect, {})), u += o.rect.h, o.rect.w > l && (l = o.rect.w), g = null, d = 0
				}
				u += c * (h.length - 1), s = {
					mainRect: {
						x: M["default"].TEXT_MARGIN.left,
						y: M["default"].TEXT_MARGIN.top,
						w: l + M["default"].TEXT_MARGIN.left + M["default"].TEXT_MARGIN.right,
						h: u + M["default"].TEXT_MARGIN.top + M["default"].TEXT_MARGIN.bottom
					}, rects: f, gap: c
				}, e.text = h.join("\n");
				var T = I.SVGCreator.createText(e, s, 0), C = void 0;
				C = i ? i : {
					x: 0,
					y: 0,
					width: s.mainRect.w,
					height: s.mainRect.h
				}, t.option = e, t.setSVG(T, C.x, C.y, C.width, C.height), n && (C.width *= n.x, C.height *= n.y, t.drawSvg(0, 0, C.width, C.height))
			}, (0, c["default"])(t, [{
				key: "source", get: function () {
					return this.bitmapdata.source
				}
			}, {
				key: "originalWidth", get: function () {
					return this._originalWidth || this.signatureContainer.actualWidth
				}
			}, {
				key: "originalHeight", get: function () {
					return this._originalHeight || this.signatureContainer.actualHeight
				}
			}, {
				key: "sourceWidth", get: function () {
					return this._ready ? this.bitmapdata.sourceWidth : 0
				}
			}, {
				key: "sourceHeight", get: function () {
					return this._ready ? this.bitmapdata.sourceHeight : 0
				}
			}, {
				key: "croppedWidth", get: function () {
					return this.snapshot && this.snapshot.crop ? this.snapshot.crop.transform.canvasWidth : this.originalWidth
				}
			}, {
				key: "croppedHeight", get: function () {
					return this.snapshot && this.snapshot.crop ? this.snapshot.crop.transform.canvasHeight : this.originalHeight
				}
			}, {
				key: "resizedWidth", get: function () {
					return this.snapshot && this.snapshot.resize ? this.snapshot.resize.width <= 0 ? this.croppedWidth : this.snapshot.resize.width : this.croppedWidth
				}
			}, {
				key: "resizedHeight", get: function () {
					if (!this.snapshot || !this.snapshot.resize) return this.croppedHeight;
					if (this.snapshot.resize.width <= 0) return this.croppedHeight;
					var t = this.snapshot.resize.width, e = Math.min(1, t / this.croppedWidth);
					return e * this.croppedHeight | 0
				}
			}]), t
		}();
	e["default"] = j
}, function (t, e, i) {
	var n, r, o;
	!function (s) {
		r = [i(113)], n = s, o = "function" == typeof n ? n.apply(e, r) : n, !(void 0 !== o && (t.exports = o))
	}(function (t) {
		function e(e, i) {
			var n = i.times, r = e.timeout;
			return function (o, s, a) {
				function h() {
					t.ajax(l).retry({times: n - 1, timeout: i.timeout}).pipe(u.resolve, u.reject)
				}

				var l = this, u = new t.Deferred, c = e.getResponseHeader("Retry-After");
				return n > 1 && (!e.statusCodes || t.inArray(o.status, e.statusCodes) > -1) ? (c && (r = isNaN(c) ? new Date(c).getTime() - t.now() : 1e3 * parseInt(c, 10), (isNaN(r) || r < 0) && (r = e.timeout)), void 0 !== r ? setTimeout(h, r) : h()) : u.rejectWith(this, arguments), u
			}
		}

		t.ajaxPrefilter(function (t, i, n) {
			n.retry = function (t) {
				return t.timeout && (this.timeout = t.timeout), t.statusCodes && (this.statusCodes = t.statusCodes), this.pipe(null, e(this, t))
			}
		})
	})
}, function (t, e, i) {
	var n, r, o;
	!function (i, s) {
		r = [], n = s, o = "function" == typeof n ? n.apply(e, r) : n, !(void 0 !== o && (t.exports = o))
	}(this, function () {
		return function t(e, i, n) {
			function r(t) {
				var e = t.split(/[:;,]/), i = e[1], n = "base64" == e[2] ? atob : decodeURIComponent, r = n(e.pop()),
					o = r.length, s = 0, a = new Uint8Array(o);
				for (s; s < o; ++s) a[s] = r.charCodeAt(s);
				return new g([a], {type: i})
			}

			function o(t, e) {
				if ("download" in d) return d.href = t, d.setAttribute("download", m), d.className = "download-js-link", d.innerHTML = "downloading...", d.style.display = "none", document.body.appendChild(d), setTimeout(function () {
					d.click(), document.body.removeChild(d), e === !0 && setTimeout(function () {
						h.URL.revokeObjectURL(d.href)
					}, 250)
				}, 66), !0;
				if (/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent)) return /^data:/.test(t) && (t = "data:" + t.replace(/^data:([\w\/\-\+]+)/, l)), window.open(t) || confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.") && (location.href = t), !0;
				var i = document.createElement("iframe");
				document.body.appendChild(i), !e && /^data:/.test(t) && (t = "data:" + t.replace(/^data:([\w\/\-\+]+)/, l)), i.src = t, setTimeout(function () {
					document.body.removeChild(i)
				}, 333)
			}

			var s, a, h = window, l = "application/octet-stream", u = n || l, c = e, f = !i && !n && c,
				d = document.createElement("a"), p = function (t) {
					return String(t)
				}, g = h.Blob || h.MozBlob || h.WebKitBlob || p, m = i || "download";
			if (g = g.call ? g.bind(h) : Blob, "true" === String(this) && (c = [c, u], u = c[0], c = c[1]), f && f.length < 2048 && (m = f.split("/").pop().split("?")[0], d.href = f, d.href.indexOf(f) !== -1)) {
				var y = new XMLHttpRequest;
				return y.open("GET", f, !0), y.responseType = "blob", y.onload = function (e) {
					t(e.target.response, m, l)
				}, setTimeout(function () {
					y.send()
				}, 0), y
			}
			if (/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)) {
				if (!(c.length > 2096103.424 && g !== p)) return navigator.msSaveBlob ? navigator.msSaveBlob(r(c), m) : o(c);
				c = r(c), u = c.type || l
			} else if (/([\x80-\xff])/.test(c)) {
				var v = 0, _ = new Uint8Array(c.length), x = _.length;
				for (v; v < x; ++v) _[v] = c.charCodeAt(v);
				c = new g([_], {type: u})
			}
			if (s = c instanceof g ? c : new g([c], {type: u}), navigator.msSaveBlob) return navigator.msSaveBlob(s, m);
			if (h.URL) o(h.URL.createObjectURL(s), !0); else {
				if ("string" == typeof s || s.constructor === p) try {
					return o("data:" + u + ";base64," + h.btoa(s))
				} catch (b) {
					return o("data:" + u + "," + encodeURIComponent(s))
				}
				a = new FileReader, a.onload = function (t) {
					o(this.result)
				}, a.readAsDataURL(s)
			}
			return !0
		}
	})
}, , , function (t, e, i) {
	"use strict";

	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	var r = i(2), o = n(r);
	!function () {
		var e = "undefined" != typeof e ? e : {};
		e.ready = function (t, e) {
			var i, n;
			if ("function" == typeof t) return i = "readystatechange", "complete" === document.readyState ? void t(e) : void(document.addEventListener ? (n = function () {
				document.removeEventListener(i, n, !1), t(e)
			}, document.addEventListener(i, n, !1)) : document.attachEvent && (i = "on" + i, n = function () {
				document.detachEvent(i, n), t(e)
			}, document.attachEvent(i, n)))
		}, e.css = function (t) {
			var e = document.head || document.getElementsByTagName("head")[0], i = document.createElement("style");
			i.setAttribute("type", "text/css"), i.styleSheet ? i.styleSheet.cssText = t : i.appendChild(document.createTextNode(t)), e.appendChild(i)
		}, e.TagWire = function () {
			function t(t) {
				t && w(t, st)
			}

			function i(t, e, i, n) {
				var o = [];
				n.opt.evfns = [], n.ready && n.ready({
					target: t,
					data: e,
					name: i,
					type: J.ready
				}), r(t, e, i, o, n), w(o, function (t) {
					try {
						t.f(t.t, t.v, t.c)
					} catch (e) {
						I(e.message, t.s)
					}
				}), w(n.opt.evfns, function (t) {
					d(t.t, t.v, t.c, n, J.finish)
				}), n.finish && n.finish({
					target: t,
					data: e,
					name: i,
					type: J.finish
				}), n.asyncNum || setTimeout(function () {
					w(n.evcmp, function (t) {
						d(t.t, t.v, t.c, n, J.complete)
					}), n.complete && n.complete(n.event)
				}, 1)
			}

			function n(t, e, n, r) {
				r.asyncNum++, setTimeout(function () {
					r.opt = {async: !0}, r.asyncNum--, i(t, e, n, r)
				}, 1)
			}

			function r(t, e, i, r, a) {
				var h, l, f, d;
				a.skipReg && a.skipReg.test(i) || (e instanceof Array ? (h = s, l = !0) : null !== e && "object" === ("undefined" == typeof e ? "undefined" : (0, o["default"])(e)) ? (h = u, l = !0) : (h = c, l = !1), f = i + G + q.asc, d = a.opt.async, a.opt.async = null, w(t, function (t) {
					N(t, Y.blk) || (l && !d && N(t, f) ? n(t, e, i, a) : h(t, e, i, r, a))
				}))
			}

			function s(t, e, i, n, o) {
				var s, l, u, f;
				return N(t, i) ? (s = i + G + q.list, l = e.length, u = function (t) {
					d(t, e, i, o, J.ready) !== !1 && (c(t, l, i, n, o), N(t, s) && f(t), w(z(t, s), f), N(t, Y.arr) && a(t, e, i, n, o)), g(t, e, i, o)
				}, f = function (t) {
					h(t, e, i, n, o)
				}, void w(t, u)) : void w(z(t, i), function (t) {
					r(t, e, i, n, o)
				})
			}

			function a(t, e, i, n, r) {
				var o, s = e.length;
				for (o = 0; o < s; o++) c(t, e[o], i + G + o, n, r)
			}

			function h(t, e, i, n, r) {
				var o = H(t, Q.sct);
				o.length && l(t, o, e, i, n, r), c(t, e, Y.lida, n, r, !0)
			}

			function l(t, e, i, n, o, s) {
				var a, h, l, u, f, p = i.length - 1, m = N(t, Y.rev), y = N(t, Y.td), v = N(t, Y.bu),
					_ = y ? Y.td : v ? Y.bu : null, b = v ? e[e.length - 1] : j(t, Y.itm), T = function (e) {
						var i, p, m, y = e._tw_varsName;
						void 0 === l && (l = e._tw_tlen), p = u ? "boolean" == typeof e._tw_itemType ? Boolean(u[y]) : u[y] : null, !M(y) && u.hasOwnProperty(y) && e._tw_itemType !== p || (m = x(e._tw_template), i = h + f * a + 1, c(m, f, Y.idn, o, s), c(m, i, Y.idx, o, s), c(m, l + i, Y.tidx, o, s), d(m, u, n, s, J.ready) !== !1 && (r(m, u, Y.itm, o, s), c(m, u, Y.itda, o, s, !0), m._remove || (t.insertBefore(m, b), e._tw_tlen++)), g(m, u, n, s))
					};
				for (n = n + G + q.itm, b || (b = e[e.length - 1]), b = b.nextSibling, v ? (a = -1, h = p) : (a = 1, h = 0), w(H(t, Y.nw), it), f = 0; f <= p; f++) u = i[m ? p - f : f], w(e, T);
				_ || w(z(t, Y.od), function (e) {
					t.removeChild(e)
				}), t.className.replace(Z.fix, function (e, i) {
					var n = H(t, Y.itm), r = n.length;
					return i = Number(i), i < r && w(n, function (e, n) {
						v ? n >= i && t.removeChild(e) : n < r - i && t.removeChild(e)
					}), e
				})
			}

			function u(t, e, i, n, o) {
				var s, a, h, l = i === Y.itm;
				if (l || d(t, e, i, o, J.ready) !== !1) for (h in e) e.hasOwnProperty(h) && h !== X && (s = e[h], "object" === C(s) ? (a = t, (N(a, h) || (a = z(t, h)).length) && r(a, s, h, n, o)) : r(t, s, h, n, o));
				l || g(t, e, i, o), N(t, Y.obda, !0) && c(t, e, Y.obda, n, o, !0), s = e.global, s && (d(t, s, X, o, J.ready) !== !1 && r(t, s, X, n, o), g(t, s, X, o))
			}

			function c(t, e, i, n, r, o) {
				var s, a = t, h = function (t, o) {
					return Z.hyp.test(o) || lt ? m(a, e, i, o, n, r) : (s = e, (G + o).replace(Z.tail, l)), t
				}, l = function (t) {
					var e = m(a, s, i, t.substr(1), null, r);
					return void 0 !== e && (s = e), ""
				};
				N(t, i + G, !0) && t.className.replace(f(i), h), o || w(z(t, i + G, !0), function (t) {
					a = t, a.className.replace(f(i), h)
				})
			}

			function f(t) {
				return tt[Q.resf + t] || A(Q.resf + t, new RegExp("(?:^|\\s)" + W + t + G + "(?!" + Q.skip + "|" + J.all + ")(\\S+)", "g"))
			}

			function d(t, e, i, n, r, o) {
				var s = null, a = t, h = function (t, r) {
					return s !== !1 && (Z.hyp.test(r) || lt ? s = m(a, e, i, r, null, n) : (G + r).replace(Z.tail, l)), t
				}, l = function (t) {
					return m(a, e, i, t.substr(1), null, n) === !1 && (s = !1), ""
				};
				return i = i + G + r, N(t, i + G, !0) && t.className.replace(p(i), h), o || w(z(t, i + G, !0), function (t) {
					a = t, a.className.replace(p(i), h)
				}), s
			}

			function p(t) {
				return tt[Q.ree + t] || A(Q.ree + t, new RegExp("(?:^|\\s)" + W + t + G + "(?!" + Q.skip + ")(\\S+)", "g"))
			}

			function g(t, e, i, n) {
				n.opt.evfns.push({t: t, v: e, c: i}), n.evcmp.push({t: t, v: e, c: i})
			}

			function m(t, e, i, n, r, o) {
				var s = O[n], a = $[n];
				if (s) try {
					return a ? a(t, e, i) : s(t, e, i, o)
				} catch (h) {
					I(h.message, n)
				} else if (a) if (r) r.push({t: t, v: e, c: i, s: n, f: a}); else try {
					return a(t, e, i)
				} catch (h) {
					I(h.message, n)
				} else b(t, e, n)
			}

			function y(t) {
				t || (t = document.body), w(z(t, Y.cpt), _), w(z(t, Y.tmp), v)
			}

			function v(t) {
				var e, i = document.createElement("script"), n = t.className;
				F(t, Y.tmp, !1), F(t, Y.od, !1), F(t, Y.itm, !0), F(t, Y.nw, !0), i.setAttribute("type", Q.sct), n && (e = Z.ityp.exec(n), e && (i._tw_itemType = t.getAttribute("data-" + q.ityp), "true" === i._tw_itemType ? i._tw_itemType = !0 : "false" === i._tw_itemType && (i._tw_itemType = !1), i._tw_varsName = e[0].replace(G + q.ityp, "").substr(1))), i._tw_tlen = 0, i._tw_template = t, t._tw_targetScr = i, t.parentNode.replaceChild(i, t)
			}

			function _(t) {
				var e, i;
				F(t, Y.cln, !0), F(t, Y.cpt, !1), i = x(t), i.style.display = "", e = t.previousSibling, e && e.type === Q.scc || (e = document.createElement("script"), e.setAttribute("type", Q.scc), t.parentNode.insertBefore(e, t)), e._tw_template = i
			}

			function x(t) {
				var e, i, n = t.cloneNode(!0), r = n.getElementsByTagName("script");
				return w(t.getElementsByTagName("script"), function (t, n) {
					e = t._tw_template, e && (i = r[n], i._tw_template = e, void 0 !== t._tw_itemType && (i._tw_itemType = t._tw_itemType), void 0 !== t._tw_varsName && (i._tw_varsName = t._tw_varsName), void 0 !== t._tw_tlen && (i._tw_tlen = 0))
				}), n
			}

			function b(t, e, i) {
				if (!M(e)) {
					var n = i.replace(Z.rbl, ""), r = i !== n;
					"boolean" == typeof t[n] ? t[n] = r ? !E(e) : E(e) : (void 0 !== t[n] || null !== t.getAttribute(n) || Z.hyp.test(n)) && t.setAttribute(n, e)
				}
			}

			function w(t, e) {
				var i, n;
				if (t && e) {
					if (void 0 === t.length || t.getAttribute) return e(t);
					for (i = 0, n = t.length; i < n; i++) if (e(t[i], i) === !1) return !1
				}
			}

			function T(t, e) {
				var i;
				if (t && e) for (i in t) if (t.hasOwnProperty(i) && e(t[i], i) === !1) return !1
			}

			function C(t) {
				return null === t ? "null" : t instanceof Array ? "array" : "undefined" == typeof t ? "undefined" : (0, o["default"])(t)
			}

			function E(t) {
				switch (C(t)) {
					case"array":
						return Boolean(t.length);
					case"object":
						return Boolean(t);
					default:
						return !Z.fls.test(t)
				}
			}

			function M(t) {
				return null === t || void 0 === t
			}

			function P() {
				var t = window.console;
				t && t.log && ("function" == typeof t.log.apply ? t.log.apply(t, arguments) : t.log(R(arguments)))
			}

			function S() {
				var t = window.console;
				t && "function" == typeof t.error ? t.error.apply(t, arguments) : P(R(arguments))
			}

			function I(t, e) {
				throw S("[TagWire.tail." + e + "]  " + t + "."), new Error("TagWire rendering was aborted because of [TagWire.tail." + e + "] error.")
			}

			function R(t, e) {
				var i = "";
				return e = e || " ", w(t, function (t) {
					i += (i ? e : "") + t
				}), i
			}

			function A(t, e) {
				return ++et && (tt[t] = e)
			}

			var k, O, L, D, B, N, F, z, H, j, U, V, X = "global", W = "_", G = "-", Y = {
				tmp: "template",
				rev: "reverse",
				td: "topdown",
				bu: "bottomup",
				tidx: "tidx",
				idx: "idx",
				idn: "i",
				fix: "fix",
				arr: "array",
				itm: "item",
				nw: "new",
				od: "old",
				rndr: "render",
				blk: "block",
				cpt: "capture",
				cln: "clone",
				hidn: "hidden",
				obda: "objdata",
				itda: "itemdata",
				lida: "listdata"
			}, q = {list: "list", ityp: "itemtype", asc: "async", itm: "item"}, Q = {
				sct: "text/tw-template",
				scc: "text/tw-capture",
				catp: "data|aria",
				skip: "\\d+(?=" + G + ")",
				cls: "c_",
				resf: "s_",
				rep: "r_",
				ree: "e_",
				hid: "_tw_"
			}, J = {all: "", ready: "ready", finish: "finish", complete: "complete"}, Z = {
				fe: /^\s+/,
				ityp: new RegExp("\\S*" + G + q.ityp),
				hyp: new RegExp("^(?:" + Q.catp + ")-\\S+"),
				fls: /^\s*(?:false|0|null|undefined|)\s*$/,
				rbl: /^_/,
				tail: new RegExp(G + "+[^\\" + G + "]+", "g"),
				fix: new RegExp(W + Y.fix + "(\\d+)"),
				amp: /&amp;/g,
				lt: /&lt;/g,
				gt: /&gt;/g
			}, K = {}, $ = {}, tt = {}, et = 0, it = function (t) {
				F(t, Y.nw, !1), F(t, Y.od, !0)
			}, nt = function (t, e) {
				return $[e] = t, t
			}, rt = function (t, e) {
				return delete $[e], t
			}, ot = function (t) {
				F(t, Y.hidn, !1)
			}, st = function (t) {
				N(t, Y.hidn) && ot(t), w(z(t, Y.hidn), ot)
			}, at = document.createElement("span"), ht = "" === at.textContent, lt = "-" !== G;
			return T(J, function (t) {
				J.all += (J.all ? "|" : "") + t
			}), T(q, function (t) {
				Q.skip += (Q.skip ? "|" : "") + t
			}), Z.ev = new RegExp(W + "([^\\" + G + "]+)" + G + "(?:" + J.all + ")"), function () {
				var t;
				at.classList ? (D = function (t, e, i) {
					return i ? t.className.indexOf(e) !== -1 : t.classList && t.classList.contains(e)
				}, B = function (t, e, i) {
					i ? t.classList.add(e) : t.classList.remove(e)
				}) : (D = function (t, e, i) {
					var n;
					return i ? t.className.indexOf(e) !== -1 : (n = tt[e] || A(e, new RegExp("(?:^|\\s)" + e + "(?:\\s|$)")), n.test(t.className))
				}, B = function (t, e, i) {
					var n, r = t.className;
					i ? N(t, e) || (t.className = r ? r + " " + e : e) : (n = tt[e] || A(e, new RegExp("(?:^|\\s+)" + e + "(?=\\s|$)")), t.className = r.replace(n, "").replace(Z.fe, ""))
				}), N = function (t, e, i) {
					return D(t, W + e, i)
				}, F = function (t, e, i) {
					B(t, W + e, i)
				}, document.querySelectorAll ? (L = function (t, e) {
					return t.querySelectorAll("." + e)
				}, z = function (t, e, i) {
					var n;
					return n = e.indexOf("text/") ? i ? "[class*=" + W + e + "]" : "." + W + e : 'script[type="' + e + '"]', t.querySelectorAll(n)
				}, t = 0, H = function (e, i, n) {
					var r, o, s = !e.id;
					return s && (t = t ? ++t : 1, e.id = Q.hid + t), r = i.indexOf("text/") ? n ? "#" + e.id + ">[class*=" + W + i + "]" : "#" + e.id + ">." + W + i : "#" + e.id + '>script[type="' + i + '"]', o = e.querySelectorAll(r), s && (e.id = "", t--), o
				}, j = function (t, e, i) {
					var n = H(t, e, i), r = n.length;
					return r ? n[r - 1] : null
				}, U = function (t) {
					return t.attributes
				}) : (L = function (t, e) {
					var i = [], n = t.getElementsByTagName("*");
					return w(n, function (t) {
						D(t, e) && i.push(t)
					}), i
				}, z = function (t, e, i) {
					var n, r = [], o = !e.indexOf("text/"), s = t.getElementsByTagName(o ? "script" : "*");
					return n = o ? function (t) {
						t.type === e && r.push(t)
					} : function (t) {
						N(t, e, i) && r.push(t)
					}, w(s, n), r
				}, H = function (t, e, i) {
					var n, r = [];
					return n = e.indexOf("text/") ? function (t) {
						N(t, e, i) && r.push(t)
					} : function (t) {
						t.type === e && r.push(t)
					}, w(t.children, n), r
				}, j = function (t, e, i) {
					var n = t.children, r = n.length;
					if (r) {
						var o, s;
						for (o = r - 1; o >= 0; o--) if (s = n[o], N(s, e, i)) return s
					}
					return null
				}, Z.attl = /(?: )([^\s]+?)=(?:([\'\"]).*?\2|[^ ]+)/g, U = function (t) {
					var e = [], i = t.cloneNode().outerHTML;
					return i.replace(Z.attl, function (i, n) {
						var r = t.getAttributeNode(n).nodeValue;
						return "object" !== ("undefined" == typeof r ? "undefined" : (0, o["default"])(r)) && e.push(n), i
					}), e
				}), V = "object" === ("undefined" == typeof HTMLElement ? "undefined" : (0, o["default"])(HTMLElement)) ? function (t) {
					return t instanceof HTMLElement
				} : function (t) {
					return !!t.nodeName
				}
			}(), k = {
				tail: $, render: function (e, r, o) {
					var s, a, h, l, u, c;
					if (et > 500 && (et = 0, tt = {}), s = "object" === C(r), e && 0 !== e.length && (o || r && s)) {
						switch (w(e, y), h = !1, l = {opt: {}, evcmp: []}, C(o)) {
							case"boolean":
								h = o, o = Y.rndr;
								break;
							case"undefined":
								o = Y.rndr;
								break;
							case"object":
								h = Boolean(o.async), s && o.select && (c = r, r = {}, w(o.select.split(" "), function (t) {
									u = c[t], void 0 !== u && (r[t] = u)
								})), o.skip && (l.skipReg = new RegExp(o.skip.replace(/ +/g, "|"))), l.complete = o.complete, l.ready = o.ready, l.finish = o.finish, o = o.varsName || Y.rndr
						}
						return s && o === Y.rndr ? a = r : (a = {}, a[o] = r), l.asyncNum = 0, l.event = {
							target: e,
							data: a,
							name: o,
							type: J.complete
						}, h ? n(e, a, Y.rndr, l) : i(e, a, Y.rndr, l), t(e), r
					}
				}, callTail: function (t, e, i, n) {
					w(e, function (e) {
						m(e, i, n, t)
					})
				}, innerTail: function (t, e, i) {
					if (!i && "function" == typeof O[t]) throw new Error('[TagWire.innerTail] "' + t + '" is already in use.');
					O[t] = e
				}, addTails: function (t) {
					T(t, nt)
				}, removeTails: function (t) {
					T(t, rt)
				}, initTemplate: function (t) {
					w(t, y)
				}, cloneNode: function (t) {
					var e = null;
					return w(t, function (t) {
						return e = x(t), !1
					}), e
				}, plugin: function (t, e) {
					var i = "undefined" == typeof e ? "undefined" : (0, o["default"])(e);
					return !(!t && "string" !== t) && ("boolean" === i && e ? (K[t] = !0, !0) : "function" === i ? (K[t] = e, !1) : (e = K[t], e === !0 || "function" == typeof e && e()))
				}, ready: function (t) {
					e.ready(y, t)
				}, checkBoolean: E, each: w, oeach: T, typeOf: C, isEmpty: M, log: P, error: S
			}, O = {
				attr: function (t, e, i) {
					var n, r, o;
					"string" != typeof i || M(e) || (n = "#" + i + "#", r = tt[Q.rep + i] || A(Q.rep + i, new RegExp(n, "g")), w(U(t), function (i) {
						i = i.name || i, o = t.getAttribute(i), "string" == typeof o && o.indexOf(n) !== -1 && t.setAttribute(i, o.replace(r, e))
					}))
				}, insert: function (t, e, i) {
					var n, r, o, s;
					"string" != typeof i || M(e) || (n = "#" + i + "#", r = tt[Q.rep + i] || A(Q.rep + i, new RegExp(n, "g")), at.innerHTML = e, s = at.innerHTML.replace(Z.amp, "&").replace(Z.lt, "<").replace(Z.gt, ">"), at.innerHTML = "", w(t.childNodes, function (t) {
						"#text" === t.nodeName && (o = t.nodeValue, o.indexOf(n) !== -1 && (t.nodeValue = o.replace(r, s)))
					}))
				}, replace: function (t, e, i) {
					var n, r;
					"string" != typeof i || M(e) || (n = "#" + i + "#", r = tt[Q.rep + i] || A(Q.rep + i, new RegExp(n, "g")), t.innerHTML = t.innerHTML.replace(r, e))
				}, text: ht ? function (t, e) {
					M(e) || (t.textContent = e)
				} : function (t, e) {
					M(e) || (t.innerText = e)
				}, html: function (t, e) {
					M(e) || (t.innerHTML = e)
				}, val: function (t, e) {
					M(e) || (t.value = e)
				}, data: function (t, e, i) {
					"string" != typeof i || M(e) || t.setAttribute("data-" + i, e)
				}, dt: function (t, e, i) {
					"string" != typeof i || M(e) || (t.attrData || (t.attrData = {}), t.attrData[i] = e)
				}, show: function (t, e) {
					t.style.display = E(e) ? "" : "none"
				}, hide: function (t, e) {
					O.show(t, !E(e))
				}, keep: function (t, e) {
					E(e) || (t.parentNode ? t.parentNode.removeChild(t) : (t.innerHTML = "", t._remove = !0))
				}, remove: function (t, e) {
					O.keep(t, !E(e))
				}, setClass: function (t, e, i) {
					B(t, i, E(e))
				}, _setClass: function (t, e, i) {
					B(t, i, !E(e))
				}, addClass: function (t, e) {
					"string" == typeof e && B(t, e, !0)
				}, removeClass: function (t, e) {
					"string" == typeof e && B(t, e, !1)
				}, restore: function (t, e) {
					var i = t.previousSibling;
					i && i.type === Q.scc && E(e) && t.parentNode.replaceChild(x(i._tw_template), t)
				}, _restore: function (t, e) {
					O.restore(t, !E(e))
				}, restoreAttr: function (t, e) {
					var i, n = t.previousSibling;
					n && n.type === Q.scc && E(e) && (i = n._tw_template, w(U(i), function (e) {
						e = e.name, t.setAttribute(e, i.getAttribute(e))
					}))
				}, _restoreAttr: function (t, e) {
					O.restoreAttr(t, !E(e))
				}, restoreText: function (t, e) {
					var i, n, r = t.previousSibling;
					r && r.type === Q.scc && E(e) && (i = [], n = 0, w(t.childNodes, function (t) {
						"#text" === t.nodeName && i.push(t)
					}), w(r._tw_template.childNodes, function (t) {
						"#text" === t.nodeName && (i[n++].nodeValue = t.nodeValue)
					}))
				}, _restoreText: function (t, e) {
					O.restoreText(t, !E(e))
				}, restoreHtml: function (t, e) {
					var i = t.previousSibling;
					i && i.type === Q.scc && E(e) && (t.innerHTML = i._tw_template.innerHTML)
				}, _restoreHtml: function (t, e) {
					O.restoreHtml(t, !E(e))
				}, restoreChild: function (t, e) {
					var i, n, r = E(e);
					w(H(t, Q.scc), function (t) {
						i = t.nextSibling, n = !i || !N(i, Y.cln), n && r && t.parentNode.insertBefore(x(t._tw_template), t.nextSibling)
					})
				}, _restoreChild: function (t, e) {
					O.restoreChild(t, !E(e))
				}, render: function (t, e) {
					return k.render(t, e), !1
				}, log: function (t, e, i) {
					P("[TagWire:" + W + i + G + "log]", "\n - target :", t, "\n - value :", e)
				}
			}, k
		}(), "undefined" != typeof t && t.exports ? t.exports = e.TagWire : window.TagWire = window.TagWire || e.TagWire, function i() {
			function t(t, e) {
				var i = n.fn;
				void 0 === i[t] && (i[t] = e)
			}

			var e = window.TagWire, n = window.jQuery;
			if (e) return n ? (e.plugin("jQuery", !0), e.innerTail("data", function (t, e, i) {
				n(t).data(i, e)
			}, !0), n.fn.tagwire = function (t, i) {
				return e.render(this, t, i), this
			}, t("render", n.fn.tagwire), t("callTail", function (t, i, n) {
				return e.callTail(this, t, i, n), this
			}), t("initTemplate", function () {
				return e.initTemplate(this), this
			}), t("copyNode", function () {
				return n(e.cloneNode(this))
			}), t("loadAndRender", function (t, i) {
				var r, o, s, a = this;
				return r = {
					dataType: "json", success: function (t) {
						"function" == typeof o && o(t), e.render(a, t, i)
					}, error: function (t) {
						"function" == typeof s && s(t), e.error('[TagWire:loadAndRender]  JSON Parse Error : "' + r.url + '"\n\n', t.responseText)
					}
				}, "string" == typeof t ? r.url = t : (o = t.success, s = t.error, r = n.extend({}, t, r)), n.ajax(r), this
			}), !0) : (e.plugin("jQuery", i), !1)
		}()
	}()
}, , , , function (t, e, i) {
	function n(t) {
		return t && t.__esModule ? t : {"default": t}
	}

	var r, o, s, a = i(2), h = n(a);
	!function (n) {
		o = [i(113)], r = n, s = "function" == typeof r ? r.apply(e, o) : r, !(void 0 !== s && (t.exports = s))
	}(function (t) {
		"use strict";

		function e(e, i, n) {
			return this._schema = e, this._options = {}, this._callbacks = {}, this.set(t.extend({}, i, n || {}), !0), this
		}

		function i(n, r) {
			this._name = i.pluginName, this.el = n, this.$el = t(n), this.ui = {}, this._selected = 0, this._isEnable = !0, this._keyModes = {}, this.options = new e(u, l, r);
			var o = this;
			this.options.on("filter", function (t) {
				return o._itemsSelector = "." + o.options.get("listClass") + " " + t, t
			}), this.options.on("autoScroll", function (t) {
				return o._setScrolledElem(t), t
			}), this._itemsSelector = "." + this.options.get("listClass") + " " + this.options.get("filter"), this._setScrolledElem(this.options.get("autoScroll")), this._init()
		}

		var n = t.fn.outerHeight ? "outerHeight" : "height";
		t.fn.jquery || t.fn.zepto || (t.fn.zepto = !0);
		var r = function (t, e, i) {
			var n, r, o, s = null, a = 0;
			i = i || {};
			var h = function () {
				a = i.leading === !1 ? 0 : new Date, s = null, o = t.apply(n, r)
			};
			return function () {
				var l = new Date;
				a || i.leading !== !1 || (a = l);
				var u = e - (l - a);
				return n = this, r = arguments, u <= 0 ? (clearTimeout(s), s = null, a = l, o = t.apply(n, r)) : s || i.trailing === !1 || (s = setTimeout(h, u)), o
			}
		}, o = Array.prototype.indexOf || function (t) {
			for (var e = 0, i = this.length; e < i; e++) if (this[e] === t) return e;
			return -1
		}, s = function (t, e) {
			return t instanceof Array && o.call(t, e) >= 0
		}, a = t(window.document);
		e.isCorrectType = function (t, e) {
			var i = "undefined" == typeof t ? "undefined" : (0, h["default"])(t), n = null === t && e.nullable;
			return e.type instanceof Array ? s(e.type, i) || n : i === e.type || n
		}, e.prototype.set = function (i, n) {
			var r, o;
			for (r in i) {
				var a = i[r], h = this._schema[r];
				if (void 0 !== h) {
					if (h.unchangeable && !n) throw new Error('Option "' + r + '" could be setted once at the begining.');
					if (!e.isCorrectType(a, h)) {
						var l = 'Option "' + r + '" must be ' + (h.type instanceof Array ? h.type.join(", ") : h.type) + (h.nullable ? " or null." : ".");
						throw new TypeError(l)
					}
					if (h.values && !s(h.values, a)) throw new RangeError('Option "' + r + '" only could be in these values: "' + h.values.join('", "') + '".')
				}
			}
			for (r in i) (o = this._callbacks[r]) && (i[r] = o.call(this, i[r]));
			this._options = t.extend(this._options, i)
		}, e.prototype.get = function (e) {
			return e ? this._options[e] : t.extend({}, this._options)
		}, e.prototype.on = function (t, e) {
			this._callbacks[t] = e
		}, e.prototype.off = function (t) {
			this._callbacks[t] && delete this._callbacks[t]
		};
		var l = {
			filter: "> *",
			multi: !0,
			mouseMode: "standard",
			focusBlur: !1,
			selectionBlur: !1,
			handle: null,
			textSelection: !1,
			focusOnHover: !1,
			keyboard: !1,
			keyboardMode: "select",
			autoScroll: !0,
			loop: !1,
			preventInputs: !0,
			listClass: "j-selectable",
			focusClass: "j-focused",
			selectedClass: "j-selected",
			disabledClass: "j-disabled",
			create: null,
			before: null,
			focusLost: null,
			select: null,
			unselect: null,
			unselectAll: null,
			stop: null,
			destroy: null
		}, u = {
			filter: {type: "string"},
			multi: {type: "boolean"},
			mouseMode: {type: "string", values: ["standard", "mouseup", "toggle"]},
			focusBlur: {type: "boolean"},
			selectionBlur: {type: "boolean"},
			handle: {type: "string", nullable: !0},
			textSelection: {type: "boolean"},
			focusOnHover: {type: "boolean"},
			keyboard: {type: "boolean"},
			keyboardMode: {type: "string", values: ["select", "toggle"]},
			autoScroll: {type: ["boolean", "string"]},
			loop: {type: "boolean"},
			preventInputs: {type: "boolean"},
			listClass: {type: "string", unchangeable: !0},
			focusClass: {type: "string", unchangeable: !0},
			selectedClass: {type: "string", unchangeable: !0},
			disabledClass: {type: "string", unchangeable: !0},
			create: {type: "function", nullable: !0},
			before: {type: "function", nullable: !0},
			focusLost: {type: "function", nullable: !0},
			select: {type: "function", nullable: !0},
			unselect: {type: "function", nullable: !0},
			unselectAll: {type: "function", nullable: !0},
			stop: {type: "function", nullable: !0},
			destroy: {type: "function", nullable: !0}
		};
		i.pluginName = "selectonic", i.keyCode = {
			DOWN: 40,
			UP: 38,
			SHIFT: 16,
			END: 35,
			HOME: 36,
			PAGE_DOWN: 34,
			PAGE_UP: 33,
			A: 65,
			SPACE: 32,
			ENTER: 13
		}, i.getDataObject = function (e) {
			return t(e).data("plugin_" + i.pluginName)
		}, i.prototype._init = function () {
			this.$el.addClass(this.options.get("listClass")), this._bindEvents(), this.$el.data("plugin_" + i.pluginName, this), this._trigger("create")
		}, i.prototype._setScrolledElem = function (e) {
			var i;
			if (null === e || !1 === e) return void delete this._scrolledElem;
			if ("string" == typeof e) {
				if (i = t(e), !(i.length > 0)) throw new Error('There are no elements that matches to selector - "' + e + '"');
				return void(this._scrolledElem = i[0])
			}
			this._scrolledElem = this.el
		}, i.prototype._cancel = function (e, i) {
			if (!i.wasCancelled) {
				i.isCancellation = this._isPrevented = !0;
				var n = this;
				t.each(t(i.changedItems), function (r, o) {
					i.prevItemsStates[r] ? n._select(e, i, t(o), !0) : n._unselect(e, i, t(o), !0)
				}), i.prevFocus && this._setFocus(i.prevFocus), delete i.isCancellation, i.wasCancelled = !0
			}
		}, i.prototype._bindEvents = function () {
			var t = this, e = this._name;
			this._mouseEvent = function (e) {
				t._isEnable && 1 === e.which && t._mouseHandler.call(t, e)
			}, this._keyboardEvent = function (e) {
				t.options.get("keyboard") && t._isEnable && t._keyHandler.call(t, e)
			}, this._selectstartEvent = function () {
				if (!t.options.get("textSelection")) return !1
			}, this._mousemoveEvent = r(function (e) {
				t._isEnable && t.options && t.options.get("focusOnHover") && t._mousemoveHandler.call(t, e)
			}, 20), a.on("keydown." + e, this._keyboardEvent), a.on("keyup." + e, this._keyboardEvent), a.on("mousemove." + e, this._mousemoveEvent), a.on("click." + e, this._mouseEvent), a.on("mousedown." + e, this._mouseEvent), a.on("mouseup." + e, this._mouseEvent), this.$el.on("selectstart." + e, this._selectstartEvent)
		}, i.prototype._unbindEvents = function () {
			var t = this._name;
			a.off("keydown." + t, this._keyboardEvent), a.off("keyup." + t, this._keyboardEvent), a.off("mousemove." + t, this._mousemoveEvent), a.off("click." + t, this._mouseEvent), a.off("mousedown." + t, this._mouseEvent), a.off("mouseup." + t, this._mouseEvent), this.$el.off("selectstart." + t, this._selectstartEvent)
		}, i.prototype._getTarget = function (e) {
			for (var i, n, r, o = e.target, s = this.options.get("handle"); null !== o && o !== this.el;) i = t(o), i.context = window.document, i.is(this._itemsSelector) && (n = o), s && i.is(s) && (r = o), o = o.parentNode;
			return s && o && r ? n : !s && o ? n : null
		}, i.prototype._getItems = function (e, i, n) {
			var r;
			switch (i) {
				case"next":
				case"prev":
					for (var o = n.jquery ? n : t(n), s = t.fn[i]; ;) {
						if (o = s.call(o), 0 === o.length) break;
						if (o.context = window.document, o.is(this._itemsSelector)) return o
					}
					return null;
				case"pageup":
				case"pagedown":
					return this._getNextPageElem(e, i, n);
				case"first":
					return r = e.allItems ? e.allItems : this.$el.find(this.options.get("filter")), e.allItems = r, r.first();
				case"last":
					return r = e.allItems ? e.allItems : this.$el.find(this.options.get("filter")), e.allItems = r, r.last();
				default:
					return r = e.allItems ? e.allItems : this.$el.find(this.options.get("filter")), e.allItems = r, void 0 !== i && t.isNumeric(i) ? r.eq(i) : r
			}
		}, i.prototype._getNextPageElem = function (e, i, r) {
			var o, s, a, h, l, u = e.isShiftPageRange, c = this._scrolledElem || this.el, f = c.clientHeight,
				d = t(window)[n](), p = t(r), g = f > d, m = g ? d : f, y = p[n](), v = y, _ = y,
				x = "pageup" === i ? "prev" : "next";
			for (u && (x = "pageup" === i ? -1 : 1, h = this._getItems(e), e.rangeStart = a = h.index(r)); ;) {
				if (u ? (a += x, l = a >= 0 ? h.eq(a) : null, o = l && l.length > 0 ? l : null) : o = this._getItems(e, x, p), !o && p[0] === r) break;
				if (!o) return u && (e.rangeEnd = a - x), p;
				if (s = o[n](), _ += s, _ > m) return v + s > m ? (u && (e.rangeEnd = a), o) : (u && (e.rangeEnd = a - x), p);
				v = s, p = o
			}
			return null
		}, i.prototype._trigger = function (t, e, i) {
			var n, r = this.options.get(t);
			if (r) {
				if ("create" === t || "destroy" === t) return r.call(this.$el);
				switch (n = {}, i.target && (n.target = i.target), this.ui.focus && (n.focus = this.ui.focus), t) {
					case"select":
						n.items = i.selected;
						break;
					case"unselectAll":
					case"unselect":
						n.items = i.unselected;
						break;
					case"stop":
						i.wasCancelled || (n.items = i.changedItems)
				}
				r.call(this.$el, e || null, n)
			}
		}, i.prototype._controller = function (t, e) {
			var i;
			return e.changedItems = [], e.prevItemsStates = [], delete this._isPrevented, this._trigger("before", t, e), this._isPrevented ? (this._cancel(t, e), void this._stop(t, e)) : (e.wasSelected = this._selected > 0, e.target && void 0 === e.isTargetWasSelected && (e.isTargetWasSelected = this._getIsSelected(e.target)), e.isRangeSelect && e.isTargetWasSelected && e.target === this.ui.focus || (e.isRangeSelect ? this._perfomRangeSelect(t, e) : e.isMultiSelect ? (i = e.isTargetWasSelected ? this._unselect : this._select, i.call(this, t, e, e.items)) : e.target && !e.items && "mouseover" === t.type || (e.target && e.items ? (this._selected && 1 === this._selected && this._getIsSelected(this.ui.focus) ? this._unselect(t, e, this.ui.focus, e.isTargetWasSelected) : this._selected && this._unselectAll(t, e), this._select(t, e, e.items, e.isTargetWasSelected)) : !e.target && this._selected > 0 && this.options.get("selectionBlur") && this._unselectAll(t, e))), !this._selected && e.wasSelected && this._trigger("unselectAll", t, e), e.prevFocus = this.ui.focus ? this.ui.focus : null, !e.target && this.options.get("focusBlur") ? this._blur(t, e) : e.target && !e.wasCancelled && this._setFocus(e.target), void this._stop(t, e))
		}, i.prototype._perfomRangeSelect = function (t, e) {
			var i, n, r, o, s, a, h, l = e.rangeStart < e.rangeEnd, u = this._getItems(e),
				c = l ? e.rangeStart : e.rangeEnd, f = l ? e.rangeEnd : e.rangeStart;
			e.isNewSolidSelection ? (n = u.slice(0, c), n = n.add(u.slice(f + 1)), this._unselect(t, e, n), this._select(t, e, e.items)) : this.ui.solidInitialElem && !e.isTargetWasSelected && (r = e.items.index(this.ui.solidInitialElem)) >= 0 ? (r = l ? e.rangeStart + r : e.rangeEnd + r, o = r < e.rangeStart, s = e.rangeStart < r, a = r < e.rangeEnd, h = e.rangeEnd < r, (!a && o || !h && s) && (n = s ? u.slice(c, r) : u.slice(r + 1, f + 1), n.length > 0 && this._unselect(t, e, n)), (h && !s || a && !o) && (n = h ? u.slice(c, r) : u.slice(r + 1, f + 1), n.length > 0 && this._select(t, e, n))) : (i = e.isTargetWasSelected ? this._unselect : this._select, i.call(this, t, e, e.items))
		}, i.prototype._changeItemsStates = function (e, i, n) {
			var r = i > 0, o = [], s = this;
			t(e).each(function (e, a) {
				var h = s._getIsSelected(a), l = r ? !h : h, u = a === n.target && n.isTargetWasSelected;
				(!u || r || n.isMultiSelect || n.isRangeSelect) && (l && (n.isCancellation || (o.push(a), n.prevItemsStates.push(h)), s._selected += i), t(a).toggleClass(s.options.get("selectedClass"), r))
			}), n.isCancellation || (n[r ? "selected" : "unselected"] = t(o), n.changedItems = n.changedItems.concat(o))
		}, i.prototype._select = function (t, e, i, n) {
			this._changeItemsStates(i, 1, e), n || this._trigger("select", t, e),
			this._isPrevented && !e.isCancellation && this._cancel(t, e)
		}, i.prototype._unselect = function (t, e, i, n) {
			this._changeItemsStates(i, -1, e), n || this._trigger("unselect", t, e), this._isPrevented && !e.isCancellation && this._cancel(t, e)
		}, i.prototype._unselectAll = function (t, e) {
			var i, n;
			this._selected && 0 !== this._selected && (n = this._getItems(e), i = e.target && e.isTargetWasSelected && 1 === this._selected, this._unselect(t, e, n, i))
		}, i.prototype._multiSelect = function (e) {
			return e.isMultiSelect = !0, t(e.target)
		}, i.prototype._rangeSelect = function (e) {
			if (e.isRangeSelect = !0, e.target === this.ui.focus) return t(e.target);
			var i = e.allItems ? e.allItems : this._getItems(e), n = i.index(e.target), r = i.index(this.ui.focus),
				o = n < r ? i.slice(n, r) : i.slice(r, n);
			return o.push(n < r ? i[r] : i[n]), e.allItems = i, e.rangeStart = r, e.rangeEnd = n, o
		}, i.prototype._getIsSelected = function (e) {
			var i = this.options.get();
			return t(e).length <= 1 ? t(e).hasClass(i.selectedClass) : t.map(t(e), function (e) {
				return t(e).hasClass(i.selectedClass)
			})
		}, i.prototype._blur = function (e, i, n) {
			!n && this.ui.focus && this._trigger("focusLost", e, i), this.ui.focus && (t(this.ui.focus).removeClass(this.options.get("focusClass")), delete this.ui.focus)
		}, i.prototype._setFocus = function (e) {
			if (e) return this.ui.focus && t(this.ui.focus).removeClass(this.options.get("focusClass")), this.ui.focus = e, t(this.ui.focus).addClass(this.options.get("focusClass")), this.ui.focus
		}, i.prototype._stop = function (t, e) {
			this._trigger("stop", t, e), this._isPrevented && this._cancel(t, e)
		}, i.prototype._checkIfElem = function (e) {
			var i;
			return !(!e || !(e.jquery || e.zepto || e.nodeType)) && (e = e.jquery || e.zepto ? e : t(e), i = e.filter(this._itemsSelector), i.length > 0 ? i : null)
		}, i.prototype._checkIfSelector = function (t) {
			var e;
			return !(!t || "string" != typeof t) && (e = this.$el.find(t).filter(this._itemsSelector), e.jquery && e.length > 0 ? e : null)
		}, i.prototype._keyHandler = function (e) {
			if (this.options.get("keyboard") && !(this.options.get("preventInputs") && "INPUT" === e.target.tagName || "TEXTAREA" === e.target.tagName)) {
				var n, r, o, s, a = e.which, h = {};
				if ("keyup" === e.type) return void(a === i.keyCode.SHIFT && (delete this._shiftModeAction, delete this._keyModes.shift));
				if (a === i.keyCode.A && this._isMulti(e) && this.options.get("multi")) n = this._getItems(h), r = !0; else switch (a) {
					case i.keyCode.DOWN:
						o = "next", n = this._findNextTarget("next", h);
						break;
					case i.keyCode.UP:
						o = "prev", n = this._findNextTarget("prev", h);
						break;
					case i.keyCode.HOME:
						o = "prev", n = this._getItems(h, "first");
						break;
					case i.keyCode.END:
						o = "next", n = this._getItems(h, "last");
						break;
					case i.keyCode.PAGE_DOWN:
					case i.keyCode.PAGE_UP:
						var l = a === i.keyCode.PAGE_DOWN;
						o = l ? "next" : "prev", s = l ? "pagedown" : "pageup", h.isShiftPageRange = this.options.get("multi") && e.shiftKey && !r, n = this._findNextTarget(s, h);
						break;
					case i.keyCode.SPACE:
						n = t(this.ui.focus);
						break;
					case i.keyCode.ENTER:
						this.options.get("multi") || (n = t(this.ui.focus))
				}
				o && e.preventDefault(), n && n.length > 0 ? (h.target = n[0], h.items = n, "toggle" === this.options.get("keyboardMode") ? (a === i.keyCode.SPACE || a === i.keyCode.ENTER && !this.options.get("multi") || delete h.items, this.options.get("multi") && (h.isMultiSelect = !0), delete this.ui.solidInitialElem) : this.ui.focus && this.options.get("multi") && e.shiftKey && !r ? (a === i.keyCode.END || a === i.keyCode.HOME || a === i.keyCode.PAGE_UP || a === i.keyCode.PAGE_DOWN ? this._rangeVariator(h) : this._multiVariator(h, a, o, n), this.ui.solidInitialElem || h.target === this.ui.focus || (this.ui.solidInitialElem = this.ui.focus, h.isNewSolidSelection = !0), this._shiftModeAction || (this._shiftModeAction = "select"), this._keyModes.shift || (this._keyModes.shift = a)) : delete this.ui.solidInitialElem, this._controller(e, h), this.scroll()) : (h.prevItemsStates = [], this._trigger("before", e, h), this._trigger("stop", e, h))
			}
		}, i.prototype._rangeVariator = function (t) {
			var e = void 0 === t.isFocusSelected ? this._getIsSelected(this.ui.focus) : t.isFocusSelected,
				i = t.isTargetWasSelected = this._getIsSelected(t.target);
			e || i ? (t.items = this._rangeSelect(t), i && (t.items = t.rangeStart < t.rangeEnd ? t.items.slice(0, t.items.length - 1) : t.items.slice(1))) : (t.target = t.items = this.ui.focus, t.isMultiSelect = !0)
		}, i.prototype._multiVariator = function (t, e, i, n) {
			var r, o = void 0 === t.isFocusSelected ? this._getIsSelected(this.ui.focus) : t.isFocusSelected,
				s = this._getIsSelected(t.target), a = this._getItems(t, i, n), h = this._getIsSelected(a);
			if (this._keyModes.shift && this._keyModes.shift !== e && (this._keyModes.shift = this._shiftModeAction = null), this._keyModes.shift && "select" === this._shiftModeAction && s) {
				for (; this._getIsSelected(t.items) && t.items.length > 0;) r = t.items, t.items = this._getItems(t, i, t.items);
				t.target = t.items ? t.items : r
			} else s && o && !h ? (this._keyModes.shift = this._shiftModeAction = null, t.items = this.ui.focus) : o && s ? (t.items = this.ui.focus, this._shiftModeAction || (this._shiftModeAction = "unselect")) : o || (t.target = t.items = this.ui.focus);
			t.isMultiSelect = !0
		}, i.prototype._findNextTarget = function (t, e) {
			var i = "next" === t || "pagedown" === t ? "first" : "last",
				n = this.ui.focus ? this._getItems(e, t, this.ui.focus) : this._getItems(e, i);
			return null !== n && 0 !== n.length || !this.options.get("loop") || (n = this._getItems(e, i)), n
		}, i.prototype._refreshBoxScroll = function (e) {
			var i = t(e), r = e === window, o = r ? i[n]() : e.clientHeight, s = i.scrollTop(),
				a = r ? 0 : i.offset().top, h = t(this.ui.focus), l = h[n](),
				u = r ? h.offset().top : h.offset().top - a + s;
			u < s ? i.scrollTop(u) : u + l > s + o && i.scrollTop(u + l - o)
		}, i.prototype._isRange = function (t) {
			return t.shiftKey || t.shiftKey && t.ctrlKey || t.shiftKey && t.metaKey
		}, i.prototype._isMulti = function (t) {
			return t.ctrlKey || t.metaKey
		}, i.prototype._mouseHandler = function (e) {
			var i = this.options.get(), n = e.type, r = this._isMulti(e), o = this._isRange(e), s = {};
			if ("mouseup" === i.mouseMode) {
				if (s.target = this._getTarget(e), "click" === n || s.target && "mousedown" === n) return
			} else {
				if ("click" === n && !this._mousedownOnItem) return;
				if ("mousedown" !== n && "click" !== n) return;
				if (s.target = this._getTarget(e), "mousedown" === n && s.target && (!i.multi || !r && !o || "standard" !== i.mouseMode)) return void(this._mousedownOnItem = s.target);
				if (delete this._mousedownOnItem, !s.target && "click" === n) return
			}
			i.multi && s.target && (o && this.ui.focus ? s.items = this._rangeSelect(s) : (r || "toggle" === i.mouseMode) && (s.items = this._multiSelect(s))), s.target && !s.items && (s.items = t(s.target)), delete this.ui.solidInitialElem, this._controller(e, s)
		}, i.prototype._mousemoveHandler = function (t) {
			if (!this._isFocusOnHoverPrevented) {
				var e = {}, i = this._getTarget(t);
				i ? (delete this.ui.solidInitialElem, this._isHovered = !0, i !== this.ui.focus && (e.target = i, this._controller(t, e))) : this._isHovered && (this._isHovered = !1, this._controller(t, e))
			}
		}, i.prototype._preventMouseMove = function () {
			var t = this;
			this._isFocusOnHoverPrevented = !0, this._focusHoverTimeout && (clearTimeout(this._focusHoverTimeout), delete this._focusHoverTimeout), this._focusHoverTimeout = setTimeout(function () {
				delete t._isFocusOnHoverPrevented, delete t._focusHoverTimeout
			}, 250)
		}, i._callPublicMethod = function (e) {
			var n, r, o = i.getDataObject(this);
			if (null === o || void 0 === o) throw new Error("Element " + this[0] + " has no plugin " + i.pluginName);
			if (o[e] && t.isFunction(o[e]) && (n = o[e]), n && t.isFunction(n) && "_" !== e.charAt(0)) return r = Array.prototype.slice.call(arguments), r.shift(), n.apply(o, r);
			throw new Error('Plugin "' + i.pluginName + '" has no method "' + e + '"')
		}, i.prototype.isEnabled = function () {
			return this._isEnable
		}, i.prototype.option = function (e, i) {
			var n = arguments.length;
			if (n > 0 && "string" == typeof e) {
				if (n > 1) {
					var r = {};
					return r[e] = i, this.options.set(r), this.$el
				}
				return this.options.get(e)
			}
			if (n > 0 && t.isPlainObject(e)) return this.options.set(e), this.$el;
			if (0 === n) return this.options.get();
			throw new Error('Format of "option" could be: "option" or "option","name" or "option","name",val or "option",{}')
		}, i.prototype.destroy = function () {
			this._trigger("destroy"), this._unbindEvents(), this._focusHoverTimeout && clearTimeout(this._focusHoverTimeout), this.ui.focus && (t(this.ui.focus).removeClass(this.options.get("focusClass")), delete this.ui.focus), this._selected > 0 && this.getSelected().removeClass(this.options.get("selectedClass")), this.$el.removeClass(this.options.get("disabledClass")), this.$el.removeClass(this.options.get("listClass")), this.options.off(), delete this.options, delete this._scrolledElem, delete this.ui.solidInitialElem, this.$el.removeData("plugin_" + i.pluginName), this.$el = null
		}, i.prototype.unselect = function (t) {
			return this.select(t, !0)
		}, i.prototype.select = function (e, i) {
			var n, r;
			if (i === !0 && void 0 === e) r = {
				isTargetWasSelected: !0,
				isMultiSelect: !0
			}, r.items = this._getItems(r); else if (r = {
					isTargetWasSelected: !!i,
					isMultiSelect: !0
				}, void 0 !== e && t.isNumeric(e)) r.items = this._getItems(r, e); else {
				if (n = this._checkIfElem(e), n === !1 && (n = this._checkIfSelector(e)), n === !1) throw new Error('You shold pass DOM element or selector to "select" method.');
				r.items = null === n ? null : n.addClass ? n : t(n)
			}
			return delete this.ui.solidInitialElem, this._controller(null, r), this.$el
		}, i.prototype.blur = function () {
			return this._controller(null, {target: null}), this.$el
		}, i.prototype.getSelected = function (t) {
			var e, i = this._getItems({}).filter("." + this.options.get("selectedClass"));
			if (t) {
				e = [];
				for (var n = 0; n < i.length; n++) e.push(i[n].id || null);
				return e && e.length > 0 ? e : null
			}
			return i
		}, i.prototype.getSelectedId = function () {
			return this.getSelected(!0)
		}, i.prototype.focus = function (e) {
			var i;
			if (arguments.length > 0) {
				if (i = t.isNumeric(e) ? this._getItems({}, e) : (i = this._checkIfElem(e)) === !1 ? this._checkIfSelector(e) : i, i && (i.jquery || i.zepto)) this._setFocus(i[0]); else if (i === !1) throw new Error("You shold pass DOM element or CSS selector to set focus or nothing to get it.");
				return this.$el
			}
			return this.ui.focus ? this.ui.focus : null
		}, i.prototype.scroll = function () {
			this._preventMouseMove(), this.ui.focus && (this._scrolledElem && this._refreshBoxScroll(this._scrolledElem), this._refreshBoxScroll(window))
		}, i.prototype.enable = function () {
			return this._isEnable = !0, this.$el.removeClass(this.options.get("disabledClass")), this.$el
		}, i.prototype.disable = function () {
			return this._isEnable = !1, this._isHovered = !1, this.$el.addClass(this.options.get("disabledClass")), this.$el
		}, i.prototype.cancel = function () {
			return this._isPrevented = !0, this.$el
		}, i.prototype.refresh = function () {
			var e = this.ui.focus;
			return e && !t(e).is(":visible") && delete this.ui.focus, this._selected = this.getSelected().length, this.$el
		}, t.fn[i.pluginName] = function (t) {
			return t && t.charAt ? i._callPublicMethod.apply(this, arguments) : this.each(function (e, n) {
				i.getDataObject(n) || new i(n, t)
			})
		}, t.fn[i.pluginName].defaults = l
	})
}, , , , , , , , , , , , function (t, e, i) {
	var n;
	!function () {
		function r(t, e, i) {
			return t.call.apply(t.bind, arguments)
		}

		function o(t, e, i) {
			if (!t) throw Error();
			if (2 < arguments.length) {
				var n = Array.prototype.slice.call(arguments, 2);
				return function () {
					var i = Array.prototype.slice.call(arguments);
					return Array.prototype.unshift.apply(i, n), t.apply(e, i)
				}
			}
			return function () {
				return t.apply(e, arguments)
			}
		}

		function s(t, e, i) {
			return s = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? r : o, s.apply(null, arguments)
		}

		function a(t, e) {
			this.a = t, this.o = e || t, this.c = this.o.document
		}

		function h(t, e, i, n) {
			if (e = t.c.createElement(e), i) for (var r in i) i.hasOwnProperty(r) && ("style" == r ? e.style.cssText = i[r] : e.setAttribute(r, i[r]));
			return n && e.appendChild(t.c.createTextNode(n)), e
		}

		function l(t, e, i) {
			t = t.c.getElementsByTagName(e)[0], t || (t = document.documentElement), t.insertBefore(i, t.lastChild)
		}

		function u(t) {
			t.parentNode && t.parentNode.removeChild(t)
		}

		function c(t, e, i) {
			e = e || [], i = i || [];
			for (var n = t.className.split(/\s+/), r = 0; r < e.length; r += 1) {
				for (var o = !1, s = 0; s < n.length; s += 1) if (e[r] === n[s]) {
					o = !0;
					break
				}
				o || n.push(e[r])
			}
			for (e = [], r = 0; r < n.length; r += 1) {
				for (o = !1, s = 0; s < i.length; s += 1) if (n[r] === i[s]) {
					o = !0;
					break
				}
				o || e.push(n[r])
			}
			t.className = e.join(" ").replace(/\s+/g, " ").replace(/^\s+|\s+$/, "")
		}

		function f(t, e) {
			for (var i = t.className.split(/\s+/), n = 0, r = i.length; n < r; n++) if (i[n] == e) return !0;
			return !1
		}

		function d(t) {
			return t.o.location.hostname || t.a.location.hostname
		}

		function p(t, e, i) {
			function n() {
				a && r && o && (a(s), a = null)
			}

			e = h(t, "link", {rel: "stylesheet", href: e, media: "all"});
			var r = !1, o = !0, s = null, a = i || null;
			ot ? (e.onload = function () {
				r = !0, n()
			}, e.onerror = function () {
				r = !0, s = Error("Stylesheet failed to load"), n()
			}) : setTimeout(function () {
				r = !0, n()
			}, 0), l(t, "head", e)
		}

		function g(t, e, i, n) {
			var r = t.c.getElementsByTagName("head")[0];
			if (r) {
				var o = h(t, "script", {src: e}), s = !1;
				return o.onload = o.onreadystatechange = function () {
					s || this.readyState && "loaded" != this.readyState && "complete" != this.readyState || (s = !0, i && i(null), o.onload = o.onreadystatechange = null, "HEAD" == o.parentNode.tagName && r.removeChild(o))
				}, r.appendChild(o), setTimeout(function () {
					s || (s = !0, i && i(Error("Script load timeout")))
				}, n || 5e3), o
			}
			return null
		}

		function m() {
			this.a = 0, this.c = null
		}

		function y(t) {
			return t.a++, function () {
				t.a--, _(t)
			}
		}

		function v(t, e) {
			t.c = e, _(t)
		}

		function _(t) {
			0 == t.a && t.c && (t.c(), t.c = null)
		}

		function x(t) {
			this.a = t || "-"
		}

		function b(t, e) {
			this.c = t, this.f = 4, this.a = "n";
			var i = (e || "n4").match(/^([nio])([1-9])$/i);
			i && (this.a = i[1], this.f = parseInt(i[2], 10))
		}

		function w(t) {
			return E(t) + " " + (t.f + "00") + " 300px " + T(t.c)
		}

		function T(t) {
			var e = [];
			t = t.split(/,\s*/);
			for (var i = 0; i < t.length; i++) {
				var n = t[i].replace(/['"]/g, "");
				-1 != n.indexOf(" ") || /^\d/.test(n) ? e.push("'" + n + "'") : e.push(n)
			}
			return e.join(",")
		}

		function C(t) {
			return t.a + t.f
		}

		function E(t) {
			var e = "normal";
			return "o" === t.a ? e = "oblique" : "i" === t.a && (e = "italic"), e
		}

		function M(t) {
			var e = 4, i = "n", n = null;
			return t && ((n = t.match(/(normal|oblique|italic)/i)) && n[1] && (i = n[1].substr(0, 1).toLowerCase()), (n = t.match(/([1-9]00|normal|bold)/i)) && n[1] && (/bold/i.test(n[1]) ? e = 7 : /[1-9]00/.test(n[1]) && (e = parseInt(n[1].substr(0, 1), 10)))), i + e
		}

		function P(t, e) {
			this.c = t, this.f = t.o.document.documentElement, this.h = e, this.a = new x("-"), this.j = !1 !== e.events, this.g = !1 !== e.classes
		}

		function S(t) {
			t.g && c(t.f, [t.a.c("wf", "loading")]), R(t, "loading")
		}

		function I(t) {
			if (t.g) {
				var e = f(t.f, t.a.c("wf", "active")), i = [], n = [t.a.c("wf", "loading")];
				e || i.push(t.a.c("wf", "inactive")), c(t.f, i, n)
			}
			R(t, "inactive")
		}

		function R(t, e, i) {
			t.j && t.h[e] && (i ? t.h[e](i.c, C(i)) : t.h[e]())
		}

		function A() {
			this.c = {}
		}

		function k(t, e, i) {
			var n, r = [];
			for (n in e) if (e.hasOwnProperty(n)) {
				var o = t.c[n];
				o && r.push(o(e[n], i))
			}
			return r
		}

		function O(t, e) {
			this.c = t, this.f = e, this.a = h(this.c, "span", {"aria-hidden": "true"}, this.f)
		}

		function L(t) {
			l(t.c, "body", t.a)
		}

		function D(t) {
			return "display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:" + T(t.c) + ";" + ("font-style:" + E(t) + ";font-weight:" + (t.f + "00") + ";")
		}

		function B(t, e, i, n, r, o) {
			this.g = t, this.j = e, this.a = n, this.c = i, this.f = r || 3e3, this.h = o || void 0
		}

		function N(t, e, i, n, r, o, s) {
			this.v = t, this.B = e, this.c = i, this.a = n, this.s = s || "BESbswy", this.f = {}, this.w = r || 3e3, this.u = o || null, this.m = this.j = this.h = this.g = null, this.g = new O(this.c, this.s), this.h = new O(this.c, this.s), this.j = new O(this.c, this.s), this.m = new O(this.c, this.s), t = new b(this.a.c + ",serif", C(this.a)), t = D(t), this.g.a.style.cssText = t, t = new b(this.a.c + ",sans-serif", C(this.a)), t = D(t), this.h.a.style.cssText = t, t = new b("serif", C(this.a)), t = D(t), this.j.a.style.cssText = t, t = new b("sans-serif", C(this.a)), t = D(t), this.m.a.style.cssText = t, L(this.g), L(this.h), L(this.j), L(this.m)
		}

		function F() {
			if (null === at) {
				var t = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);
				at = !!t && (536 > parseInt(t[1], 10) || 536 === parseInt(t[1], 10) && 11 >= parseInt(t[2], 10))
			}
			return at
		}

		function z(t, e, i) {
			for (var n in st) if (st.hasOwnProperty(n) && e === t.f[st[n]] && i === t.f[st[n]]) return !0;
			return !1
		}

		function H(t) {
			var e, i = t.g.a.offsetWidth, n = t.h.a.offsetWidth;
			(e = i === t.f.serif && n === t.f["sans-serif"]) || (e = F() && z(t, i, n)), e ? rt() - t.A >= t.w ? F() && z(t, i, n) && (null === t.u || t.u.hasOwnProperty(t.a.c)) ? U(t, t.v) : U(t, t.B) : j(t) : U(t, t.v)
		}

		function j(t) {
			setTimeout(s(function () {
				H(this)
			}, t), 50)
		}

		function U(t, e) {
			setTimeout(s(function () {
				u(this.g.a), u(this.h.a), u(this.j.a), u(this.m.a), e(this.a)
			}, t), 0)
		}

		function V(t, e, i) {
			this.c = t, this.a = e, this.f = 0, this.m = this.j = !1, this.s = i
		}

		function X(t) {
			0 == --t.f && t.j && (t.m ? (t = t.a, t.g && c(t.f, [t.a.c("wf", "active")], [t.a.c("wf", "loading"), t.a.c("wf", "inactive")]), R(t, "active")) : I(t.a))
		}

		function W(t) {
			this.j = t, this.a = new A, this.h = 0, this.f = this.g = !0
		}

		function G(t, e, i, n, r) {
			var o = 0 == --t.h;
			(t.f || t.g) && setTimeout(function () {
				var t = r || null, a = n || null || {};
				if (0 === i.length && o) I(e.a); else {
					e.f += i.length, o && (e.j = o);
					var h, l = [];
					for (h = 0; h < i.length; h++) {
						var u = i[h], f = a[u.c], d = e.a, p = u;
						if (d.g && c(d.f, [d.a.c("wf", p.c, C(p).toString(), "loading")]), R(d, "fontloading", p), d = null, null === ht) if (window.FontFace) {
							var p = /Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),
								g = /OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent) && /Apple/.exec(window.navigator.vendor);
							ht = p ? 42 < parseInt(p[1], 10) : !g
						} else ht = !1;
						d = ht ? new B(s(e.g, e), s(e.h, e), e.c, u, e.s, f) : new N(s(e.g, e), s(e.h, e), e.c, u, e.s, t, f), l.push(d)
					}
					for (h = 0; h < l.length; h++) l[h].start()
				}
			}, 0)
		}

		function Y(t, e, i) {
			var n = [], r = i.timeout;
			S(e);
			var n = k(t.a, i, t.c), o = new V(t.c, e, r);
			for (t.h = n.length, e = 0, i = n.length; e < i; e++) n[e].load(function (e, i, n) {
				G(t, o, e, i, n)
			})
		}

		function q(t, e) {
			this.c = t, this.a = e
		}

		function Q(t, e) {
			this.c = t, this.a = e
		}

		function J(t, e) {
			t ? this.c = t : this.c = lt, this.a = [], this.f = [], this.g = e || ""
		}

		function Z(t, e) {
			for (var i = e.length, n = 0; n < i; n++) {
				var r = e[n].split(":");
				3 == r.length && t.f.push(r.pop());
				var o = "";
				2 == r.length && "" != r[1] && (o = ":"), t.a.push(r.join(o))
			}
		}

		function K(t) {
			if (0 == t.a.length) throw Error("No fonts to load!");
			if (-1 != t.c.indexOf("kit=")) return t.c;
			for (var e = t.a.length, i = [], n = 0; n < e; n++) i.push(t.a[n].replace(/ /g, "+"));
			return e = t.c + "?family=" + i.join("%7C"), 0 < t.f.length && (e += "&subset=" + t.f.join(",")), 0 < t.g.length && (e += "&text=" + encodeURIComponent(t.g)), e
		}

		function $(t) {
			this.f = t, this.a = [], this.c = {}
		}

		function tt(t) {
			for (var e = t.f.length, i = 0; i < e; i++) {
				var n = t.f[i].split(":"), r = n[0].replace(/\+/g, " "), o = ["n4"];
				if (2 <= n.length) {
					var s, a = n[1];
					if (s = [], a) for (var a = a.split(","), h = a.length, l = 0; l < h; l++) {
						var u;
						if (u = a[l], u.match(/^[\w-]+$/)) {
							var c = dt.exec(u.toLowerCase());
							if (null == c) u = ""; else {
								if (u = c[2], u = null == u || "" == u ? "n" : ft[u], c = c[1], null == c || "" == c) c = "4"; else var f = ct[c],
									c = f ? f : isNaN(c) ? "4" : c.substr(0, 1);
								u = [u, c].join("")
							}
						} else u = "";
						u && s.push(u)
					}
					0 < s.length && (o = s), 3 == n.length && (n = n[2], s = [], n = n ? n.split(",") : s, 0 < n.length && (n = ut[n[0]]) && (t.c[r] = n))
				}
				for (t.c[r] || (n = ut[r]) && (t.c[r] = n), n = 0; n < o.length; n += 1) t.a.push(new b(r, o[n]))
			}
		}

		function et(t, e) {
			this.c = t, this.a = e
		}

		function it(t, e) {
			this.c = t, this.a = e
		}

		function nt(t, e) {
			this.c = t, this.f = e, this.a = []
		}

		var rt = Date.now || function () {
			return +new Date
		}, ot = !!window.FontFace;
		x.prototype.c = function (t) {
			for (var e = [], i = 0; i < arguments.length; i++) e.push(arguments[i].replace(/[\W_]+/g, "").toLowerCase());
			return e.join(this.a)
		}, B.prototype.start = function () {
			var t = this.c.o.document, e = this, i = rt(), n = new Promise(function (n, r) {
				function o() {
					rt() - i >= e.f ? r() : t.fonts.load(w(e.a), e.h).then(function (t) {
						1 <= t.length ? n() : setTimeout(o, 25)
					}, function () {
						r()
					})
				}

				o()
			}), r = null, o = new Promise(function (t, i) {
				r = setTimeout(i, e.f)
			});
			Promise.race([o, n]).then(function () {
				r && (clearTimeout(r), r = null), e.g(e.a)
			}, function () {
				e.j(e.a)
			})
		};
		var st = {D: "serif", C: "sans-serif"}, at = null;
		N.prototype.start = function () {
			this.f.serif = this.j.a.offsetWidth, this.f["sans-serif"] = this.m.a.offsetWidth, this.A = rt(), H(this)
		};
		var ht = null;
		V.prototype.g = function (t) {
			var e = this.a;
			e.g && c(e.f, [e.a.c("wf", t.c, C(t).toString(), "active")], [e.a.c("wf", t.c, C(t).toString(), "loading"), e.a.c("wf", t.c, C(t).toString(), "inactive")]), R(e, "fontactive", t), this.m = !0, X(this)
		}, V.prototype.h = function (t) {
			var e = this.a;
			if (e.g) {
				var i = f(e.f, e.a.c("wf", t.c, C(t).toString(), "active")), n = [],
					r = [e.a.c("wf", t.c, C(t).toString(), "loading")];
				i || n.push(e.a.c("wf", t.c, C(t).toString(), "inactive")), c(e.f, n, r)
			}
			R(e, "fontinactive", t), X(this)
		}, W.prototype.load = function (t) {
			this.c = new a(this.j, t.context || this.j), this.g = !1 !== t.events, this.f = !1 !== t.classes, Y(this, new P(this.c, t), t)
		}, q.prototype.load = function (t) {
			function e() {
				if (o["__mti_fntLst" + n]) {
					var i, r = o["__mti_fntLst" + n](), s = [];
					if (r) for (var a = 0; a < r.length; a++) {
						var h = r[a].fontfamily;
						void 0 != r[a].fontStyle && void 0 != r[a].fontWeight ? (i = r[a].fontStyle + r[a].fontWeight, s.push(new b(h, i))) : s.push(new b(h))
					}
					t(s)
				} else setTimeout(function () {
					e()
				}, 50)
			}

			var i = this, n = i.a.projectId, r = i.a.version;
			if (n) {
				var o = i.c.o;
				g(this.c, (i.a.api || "https://fast.fonts.net/jsapi") + "/" + n + ".js" + (r ? "?v=" + r : ""), function (r) {
					r ? t([]) : (o["__MonotypeConfiguration__" + n] = function () {
						return i.a
					}, e())
				}).id = "__MonotypeAPIScript__" + n
			} else t([])
		}, Q.prototype.load = function (t) {
			var e, i, n = this.a.urls || [], r = this.a.families || [], o = this.a.testStrings || {}, s = new m;
			for (e = 0, i = n.length; e < i; e++) p(this.c, n[e], y(s));
			var a = [];
			for (e = 0, i = r.length; e < i; e++) if (n = r[e].split(":"), n[1]) for (var h = n[1].split(","), l = 0; l < h.length; l += 1) a.push(new b(n[0], h[l])); else a.push(new b(n[0]));
			v(s, function () {
				t(a, o)
			})
		};
		var lt = "https://fonts.googleapis.com/css",
			ut = {latin: "BESbswy", "latin-ext": "", cyrillic: "", greek: "", khmer: "", Hanuman: ""},
			ct = {
				thin: "1",
				extralight: "2",
				"extra-light": "2",
				ultralight: "2",
				"ultra-light": "2",
				light: "3",
				regular: "4",
				book: "4",
				medium: "5",
				"semi-bold": "6",
				semibold: "6",
				"demi-bold": "6",
				demibold: "6",
				bold: "7",
				"extra-bold": "8",
				extrabold: "8",
				"ultra-bold": "8",
				ultrabold: "8",
				black: "9",
				heavy: "9",
				l: "3",
				r: "4",
				b: "7"
			}, ft = {i: "i", italic: "i", n: "n", normal: "n"},
			dt = /^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,
			pt = {Arimo: !0, Cousine: !0, Tinos: !0};
		et.prototype.load = function (t) {
			var e = new m, i = this.c, n = new J(this.a.api, this.a.text), r = this.a.families;
			Z(n, r);
			var o = new $(r);
			tt(o), p(i, K(n), y(e)), v(e, function () {
				t(o.a, o.c, pt)
			})
		}, it.prototype.load = function (t) {
			var e = this.a.id, i = this.c.o;
			e ? g(this.c, (this.a.api || "https://use.typekit.net") + "/" + e + ".js", function (e) {
				if (e) t([]); else if (i.Typekit && i.Typekit.config && i.Typekit.config.fn) {
					e = i.Typekit.config.fn;
					for (var n = [], r = 0; r < e.length; r += 2) for (var o = e[r], s = e[r + 1], a = 0; a < s.length; a++) n.push(new b(o, s[a]));
					try {
						i.Typekit.load({events: !1, classes: !1, async: !0})
					} catch (h) {
					}
					t(n)
				}
			}, 2e3) : t([])
		}, nt.prototype.load = function (t) {
			var e = this.f.id, i = this.c.o, n = this;
			e ? (i.__webfontfontdeckmodule__ || (i.__webfontfontdeckmodule__ = {}), i.__webfontfontdeckmodule__[e] = function (e, i) {
				for (var r = 0, o = i.fonts.length; r < o; ++r) {
					var s = i.fonts[r];
					n.a.push(new b(s.name, M("font-weight:" + s.weight + ";font-style:" + s.style)))
				}
				t(n.a)
			}, g(this.c, (this.f.api || "https://f.fontdeck.com/s/css/js/") + d(this.c) + "/" + e + ".js", function (e) {
				e && t([])
			})) : t([])
		};
		var gt = new W(window);
		gt.a.c.custom = function (t, e) {
			return new Q(e, t)
		}, gt.a.c.fontdeck = function (t, e) {
			return new nt(e, t)
		}, gt.a.c.monotype = function (t, e) {
			return new q(e, t)
		}, gt.a.c.typekit = function (t, e) {
			return new it(e, t)
		}, gt.a.c.google = function (t, e) {
			return new et(e, t)
		};
		var mt = {load: s(gt.load, gt)};
		n = function () {
			return mt
		}.call(e, i, e, t), !(void 0 !== n && (t.exports = n))
	}()
}, , , , , , function (t, e, i) {
	"use strict";
	t.exports = i(281)() ? Map : i(282)
}, function (t, e) {
	"use strict";
	t.exports = function () {
		var t, e, i;
		if ("function" != typeof Map) return !1;
		try {
			t = new Map([["raz", "one"], ["dwa", "two"], ["trzy", "three"]])
		} catch (n) {
			return !1
		}
		return "[object Map]" === String(t) && (3 === t.size && ("function" == typeof t.clear && ("function" == typeof t["delete"] && ("function" == typeof t.entries && ("function" == typeof t.forEach && ("function" == typeof t.get && ("function" == typeof t.has && ("function" == typeof t.keys && ("function" == typeof t.set && ("function" == typeof t.values && (e = t.entries(), i = e.next(), i.done === !1 && (!!i.value && ("raz" === i.value[0] && "one" === i.value[1])))))))))))))
	}
}, function (t, e, i) {
	"use strict";
	var n, r = i(283), o = i(287), s = i(296), a = i(301), h = i(284), l = i(302), u = i(314), c = i(315), f = i(320),
		d = i(324), p = i(338), g = i(341), m = Function.prototype.call, y = Object.defineProperties,
		v = Object.getPrototypeOf;
	t.exports = n = function () {
		var t, e, i, r = arguments[0];
		if (!(this instanceof n)) throw new TypeError("Constructor requires 'new'");
		return i = g && s && Map !== n ? s(new Map, v(this)) : this, null != r && f(r), y(i, {
			__mapKeysData__: l("c", t = []),
			__mapValuesData__: l("c", e = [])
		}), r ? (d(r, function (i) {
			var n = h(i)[0];
			i = i[1], o.call(t, n) === -1 && (t.push(n), e.push(i))
		}, i), i) : i
	}, g && (s && s(n, Map), n.prototype = Object.create(Map.prototype, {constructor: l(n)})), u(y(n.prototype, {
		clear: l(function () {
			this.__mapKeysData__.length && (r.call(this.__mapKeysData__), r.call(this.__mapValuesData__), this.emit("_clear"))
		}), "delete": l(function (t) {
			var e = o.call(this.__mapKeysData__, t);
			return e !== -1 && (this.__mapKeysData__.splice(e, 1), this.__mapValuesData__.splice(e, 1), this.emit("_delete", e, t), !0)
		}), entries: l(function () {
			return new p(this, "key+value")
		}), forEach: l(function (t) {
			var e, i, n = arguments[1];
			for (a(t), e = this.entries(), i = e._next(); void 0 !== i;) m.call(t, n, this.__mapValuesData__[i], this.__mapKeysData__[i], this), i = e._next()
		}), get: l(function (t) {
			var e = o.call(this.__mapKeysData__, t);
			if (e !== -1) return this.__mapValuesData__[e]
		}), has: l(function (t) {
			return o.call(this.__mapKeysData__, t) !== -1
		}), keys: l(function () {
			return new p(this, "key")
		}), set: l(function (t, e) {
			var i, n = o.call(this.__mapKeysData__, t);
			return n === -1 && (n = this.__mapKeysData__.push(t) - 1, i = !0), this.__mapValuesData__[n] = e, i && this.emit("_add", n, t), this
		}), size: l.gs(function () {
			return this.__mapKeysData__.length
		}), values: l(function () {
			return new p(this, "value")
		}), toString: l(function () {
			return "[object Map]"
		})
	})), Object.defineProperty(n.prototype, c.iterator, l(function () {
		return this.entries()
	})), Object.defineProperty(n.prototype, c.toStringTag, l("c", "Map"))
}, function (t, e, i) {
	"use strict";
	var n = i(284);
	t.exports = function () {
		return n(this).length = 0, this
	}
}, function (t, e, i) {
	"use strict";
	var n = i(285);
	t.exports = function (t) {
		if (!n(t)) throw new TypeError("Cannot use null or undefined");
		return t
	}
}, function (t, e, i) {
	"use strict";
	var n = i(286)();
	t.exports = function (t) {
		return t !== n && null !== t
	}
}, function (t, e) {
	"use strict";
	t.exports = function () {
	}
}, function (t, e, i) {
	"use strict";
	var n = i(288), r = i(291), o = i(284), s = Array.prototype.indexOf, a = Object.prototype.hasOwnProperty,
		h = Math.abs, l = Math.floor;
	t.exports = function (t) {
		var e, i, u, c;
		if (!n(t)) return s.apply(this, arguments);
		for (i = r(o(this).length), u = arguments[1], u = isNaN(u) ? 0 : u >= 0 ? l(u) : r(this.length) - l(h(u)), e = u; e < i; ++e) if (a.call(this, e) && (c = this[e], n(c))) return e;
		return -1
	}
}, function (t, e, i) {
	"use strict";
	t.exports = i(289)() ? Number.isNaN : i(290)
}, function (t, e) {
	"use strict";
	t.exports = function () {
		var t = Number.isNaN;
		return "function" == typeof t && (!t({}) && t(NaN) && !t(34))
	}
}, function (t, e) {
	"use strict";
	t.exports = function (t) {
		return t !== t
	}
}, function (t, e, i) {
	"use strict";
	var n = i(292), r = Math.max;
	t.exports = function (t) {
		return r(0, n(t))
	}
}, function (t, e, i) {
	"use strict";
	var n = i(293), r = Math.abs, o = Math.floor;
	t.exports = function (t) {
		return isNaN(t) ? 0 : (t = Number(t), 0 !== t && isFinite(t) ? n(t) * o(r(t)) : t)
	}
}, function (t, e, i) {
	"use strict";
	t.exports = i(294)() ? Math.sign : i(295)
}, function (t, e) {
	"use strict";
	t.exports = function () {
		var t = Math.sign;
		return "function" == typeof t && (1 === t(10) && t(-20) === -1)
	}
}, function (t, e) {
	"use strict";
	t.exports = function (t) {
		return t = Number(t), isNaN(t) || 0 === t ? t : t > 0 ? 1 : -1
	}
}, function (t, e, i) {
	"use strict";
	t.exports = i(297)() ? Object.setPrototypeOf : i(298)
}, function (t, e) {
	"use strict";
	var i = Object.create, n = Object.getPrototypeOf, r = {};
	t.exports = function () {
		var t = Object.setPrototypeOf, e = arguments[0] || i;
		return "function" == typeof t && n(t(e(null), r)) === r
	}
}, function (t, e, i) {
	"use strict";
	var n, r = i(299), o = i(284), s = Object.prototype.isPrototypeOf, a = Object.defineProperty,
		h = {configurable: !0, enumerable: !1, writable: !0, value: void 0};
	n = function (t, e) {
		if (o(t), null === e || r(e)) return t;
		throw new TypeError("Prototype must be null or an object")
	}, t.exports = function (t) {
		var e, i;
		return t ? (2 === t.level ? t.set ? (i = t.set, e = function (t, e) {
			return i.call(n(t, e), e), t
		}) : e = function (t, e) {
			return n(t, e).__proto__ = e, t
		} : e = function r(t, e) {
			var i;
			return n(t, e), i = s.call(r.nullPolyfill, t), i && delete r.nullPolyfill.__proto__, null === e && (e = r.nullPolyfill), t.__proto__ = e, i && a(r.nullPolyfill, "__proto__", h), t
		}, Object.defineProperty(e, "level", {configurable: !1, enumerable: !1, writable: !1, value: t.level})) : null
	}(function () {
		var t, e = Object.create(null), i = {}, n = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__");
		if (n) {
			try {
				t = n.set, t.call(e, i)
			} catch (r) {
			}
			if (Object.getPrototypeOf(e) === i) return {set: t, level: 2}
		}
		return e.__proto__ = i, Object.getPrototypeOf(e) === i ? {level: 2} : (e = {}, e.__proto__ = i, Object.getPrototypeOf(e) === i && {level: 1})
	}()), i(300)
}, function (t, e, i) {
	"use strict";
	var n = i(285), r = {"function": !0, object: !0};
	t.exports = function (t) {
		return n(t) && r[typeof t] || !1
	}
}, function (t, e, i) {
	"use strict";
	var n, r = Object.create;
	i(297)() || (n = i(298)), t.exports = function () {
		var t, e, i;
		return n ? 1 !== n.level ? r : (t = {}, e = {}, i = {
			configurable: !1,
			enumerable: !1,
			writable: !0,
			value: void 0
		}, Object.getOwnPropertyNames(Object.prototype).forEach(function (t) {
			return "__proto__" === t ? void(e[t] = {
				configurable: !0,
				enumerable: !1,
				writable: !0,
				value: void 0
			}) : void(e[t] = i)
		}), Object.defineProperties(t, e), Object.defineProperty(n, "nullPolyfill", {
			configurable: !1,
			enumerable: !1,
			writable: !1,
			value: t
		}), function (e, i) {
			return r(null === e ? t : e, i)
		}) : r
	}()
}, function (t, e) {
	"use strict";
	t.exports = function (t) {
		if ("function" != typeof t) throw new TypeError(t + " is not a function");
		return t
	}
}, function (t, e, i) {
	"use strict";
	var n, r = i(303), o = i(309), s = i(310), a = i(311);
	n = t.exports = function (t, e) {
		var i, n, s, h, l;
		return arguments.length < 2 || "string" != typeof t ? (h = e, e = t, t = null) : h = arguments[2], null == t ? (i = s = !0, n = !1) : (i = a.call(t, "c"), n = a.call(t, "e"), s = a.call(t, "w")), l = {
			value: e,
			configurable: i,
			enumerable: n,
			writable: s
		}, h ? r(o(h), l) : l
	}, n.gs = function (t, e, i) {
		var n, h, l, u;
		return "string" != typeof t ? (l = i, i = e, e = t, t = null) : l = arguments[3], null == e ? e = void 0 : s(e) ? null == i ? i = void 0 : s(i) || (l = i, i = void 0) : (l = e, e = i = void 0), null == t ? (n = !0, h = !1) : (n = a.call(t, "c"), h = a.call(t, "e")), u = {
			get: e,
			set: i,
			configurable: n,
			enumerable: h
		}, l ? r(o(l), u) : u
	}
}, function (t, e, i) {
	"use strict";
	t.exports = i(304)() ? Object.assign : i(305)
}, function (t, e) {
	"use strict";
	t.exports = function () {
		var t, e = Object.assign;
		return "function" == typeof e && (t = {foo: "raz"}, e(t, {bar: "dwa"}, {trzy: "trzy"}), t.foo + t.bar + t.trzy === "razdwatrzy")
	}
}, function (t, e, i) {
	"use strict";
	var n = i(306), r = i(284), o = Math.max;
	t.exports = function (t, e) {
		var i, s, a, h = o(arguments.length, 2);
		for (t = Object(r(t)), a = function (n) {
			try {
				t[n] = e[n]
			} catch (r) {
				i || (i = r)
			}
		}, s = 1; s < h; ++s) e = arguments[s], n(e).forEach(a);
		if (void 0 !== i) throw i;
		return t
	}
}, function (t, e, i) {
	"use strict";
	t.exports = i(307)() ? Object.keys : i(308)
}, function (t, e) {
	"use strict";
	t.exports = function () {
		try {
			return Object.keys("primitive"), !0
		} catch (t) {
			return !1
		}
	}
}, function (t, e, i) {
	"use strict";
	var n = i(285), r = Object.keys;
	t.exports = function (t) {
		return r(n(t) ? Object(t) : t)
	}
}, function (t, e, i) {
	"use strict";
	var n = i(285), r = Array.prototype.forEach, o = Object.create, s = function (t, e) {
		var i;
		for (i in t) e[i] = t[i]
	};
	t.exports = function (t) {
		var e = o(null);
		return r.call(arguments, function (t) {
			n(t) && s(Object(t), e)
		}), e
	}
}, function (t, e) {
	"use strict";
	t.exports = function (t) {
		return "function" == typeof t
	}
}, function (t, e, i) {
	"use strict";
	t.exports = i(312)() ? String.prototype.contains : i(313)
}, function (t, e) {
	"use strict";
	var i = "razdwatrzy";
	t.exports = function () {
		return "function" == typeof i.contains && (i.contains("dwa") === !0 && i.contains("foo") === !1)
	}
}, function (t, e) {
	"use strict";
	var i = String.prototype.indexOf;
	t.exports = function (t) {
		return i.call(this, t, arguments[1]) > -1
	}
}, function (t, e, i) {
	"use strict";
	var n, r, o, s, a, h, l, u = i(302), c = i(301), f = Function.prototype.apply, d = Function.prototype.call,
		p = Object.create, g = Object.defineProperty, m = Object.defineProperties, y = Object.prototype.hasOwnProperty,
		v = {configurable: !0, enumerable: !1, writable: !0};
	n = function (t, e) {
		var i;
		return c(e), y.call(this, "__ee__") ? i = this.__ee__ : (i = v.value = p(null), g(this, "__ee__", v), v.value = null), i[t] ? "object" == typeof i[t] ? i[t].push(e) : i[t] = [i[t], e] : i[t] = e, this
	}, r = function (t, e) {
		var i, r;
		return c(e), r = this, n.call(this, t, i = function () {
			o.call(r, t, i), f.call(e, this, arguments)
		}), i.__eeOnceListener__ = e, this
	}, o = function (t, e) {
		var i, n, r, o;
		if (c(e), !y.call(this, "__ee__")) return this;
		if (i = this.__ee__, !i[t]) return this;
		if (n = i[t], "object" == typeof n) for (o = 0; r = n[o]; ++o) r !== e && r.__eeOnceListener__ !== e || (2 === n.length ? i[t] = n[o ? 0 : 1] : n.splice(o, 1)); else n !== e && n.__eeOnceListener__ !== e || delete i[t];
		return this
	}, s = function (t) {
		var e, i, n, r, o;
		if (y.call(this, "__ee__") && (r = this.__ee__[t])) if ("object" == typeof r) {
			for (i = arguments.length, o = new Array(i - 1), e = 1; e < i; ++e) o[e - 1] = arguments[e];
			for (r = r.slice(), e = 0; n = r[e]; ++e) f.call(n, this, o)
		} else switch (arguments.length) {
			case 1:
				d.call(r, this);
				break;
			case 2:
				d.call(r, this, arguments[1]);
				break;
			case 3:
				d.call(r, this, arguments[1], arguments[2]);
				break;
			default:
				for (i = arguments.length, o = new Array(i - 1), e = 1; e < i; ++e) o[e - 1] = arguments[e];
				f.call(r, this, o)
		}
	}, a = {on: n, once: r, off: o, emit: s}, h = {on: u(n), once: u(r), off: u(o), emit: u(s)}, l = m({}, h),
		t.exports = e = function (t) {
			return null == t ? p(l) : m(Object(t), h)
		}, e.methods = a
}, function (t, e, i) {
	"use strict";
	t.exports = i(316)() ? Symbol : i(317)
}, function (t, e) {
	"use strict";
	var i = {object: !0, symbol: !0};
	t.exports = function () {
		var t;
		if ("function" != typeof Symbol) return !1;
		t = Symbol("test symbol");
		try {
			String(t)
		} catch (e) {
			return !1
		}
		return !!i[typeof Symbol.iterator] && (!!i[typeof Symbol.toPrimitive] && !!i[typeof Symbol.toStringTag])
	}
}, function (t, e, i) {
	"use strict";
	var n, r, o, s, a = i(302), h = i(318), l = Object.create, u = Object.defineProperties, c = Object.defineProperty,
		f = Object.prototype, d = l(null);
	if ("function" == typeof Symbol) {
		n = Symbol;
		try {
			String(n()), s = !0
		} catch (p) {
		}
	}
	var g = function () {
		var t = l(null);
		return function (e) {
			for (var i, n, r = 0; t[e + (r || "")];) ++r;
			return e += r || "", t[e] = !0, i = "@@" + e, c(f, i, a.gs(null, function (t) {
				n || (n = !0, c(this, i, a(t)), n = !1)
			})), i
		}
	}();
	o = function (t) {
		if (this instanceof o) throw new TypeError("Symbol is not a constructor");
		return r(t)
	}, t.exports = r = function m(t) {
		var e;
		if (this instanceof m) throw new TypeError("Symbol is not a constructor");
		return s ? n(t) : (e = l(o.prototype), t = void 0 === t ? "" : String(t), u(e, {
			__description__: a("", t),
			__name__: a("", g(t))
		}))
	}, u(r, {
		"for": a(function (t) {
			return d[t] ? d[t] : d[t] = r(String(t))
		}),
		keyFor: a(function (t) {
			var e;
			h(t);
			for (e in d) if (d[e] === t) return e
		}),
		hasInstance: a("", n && n.hasInstance || r("hasInstance")),
		isConcatSpreadable: a("", n && n.isConcatSpreadable || r("isConcatSpreadable")),
		iterator: a("", n && n.iterator || r("iterator")),
		match: a("", n && n.match || r("match")),
		replace: a("", n && n.replace || r("replace")),
		search: a("", n && n.search || r("search")),
		species: a("", n && n.species || r("species")),
		split: a("", n && n.split || r("split")),
		toPrimitive: a("", n && n.toPrimitive || r("toPrimitive")),
		toStringTag: a("", n && n.toStringTag || r("toStringTag")),
		unscopables: a("", n && n.unscopables || r("unscopables"))
	}), u(o.prototype, {
		constructor: a(r), toString: a("", function () {
			return this.__name__
		})
	}), u(r.prototype, {
		toString: a(function () {
			return "Symbol (" + h(this).__description__ + ")"
		}), valueOf: a(function () {
			return h(this)
		})
	}), c(r.prototype, r.toPrimitive, a("", function () {
		var t = h(this);
		return "symbol" == typeof t ? t : t.toString()
	})), c(r.prototype, r.toStringTag, a("c", "Symbol")), c(o.prototype, r.toStringTag, a("c", r.prototype[r.toStringTag])), c(o.prototype, r.toPrimitive, a("c", r.prototype[r.toPrimitive]))
}, function (t, e, i) {
	"use strict";
	var n = i(319);
	t.exports = function (t) {
		if (!n(t)) throw new TypeError(t + " is not a symbol");
		return t
	}
}, function (t, e) {
	"use strict";
	t.exports = function (t) {
		return !!t && ("symbol" == typeof t || !!t.constructor && ("Symbol" === t.constructor.name && "Symbol" === t[t.constructor.toStringTag]))
	}
}, function (t, e, i) {
	"use strict";
	var n = i(321);
	t.exports = function (t) {
		if (!n(t)) throw new TypeError(t + " is not iterable");
		return t
	}
}, function (t, e, i) {
	"use strict";
	var n = i(322), r = i(323), o = i(315).iterator, s = Array.isArray;
	t.exports = function (t) {
		return null != t && (!!s(t) || (!!r(t) || (!!n(t) || "function" == typeof t[o])))
	}
}, function (t, e) {
	"use strict";
	var i = Object.prototype.toString, n = i.call(function () {
		return arguments
	}());
	t.exports = function (t) {
		return i.call(t) === n
	}
}, function (t, e) {
	"use strict";
	var i = Object.prototype.toString, n = i.call("");
	t.exports = function (t) {
		return "string" == typeof t || t && "object" == typeof t && (t instanceof String || i.call(t) === n) || !1
	}
}, function (t, e, i) {
	"use strict";
	var n = i(322), r = i(301), o = i(323), s = i(325), a = Array.isArray, h = Function.prototype.call,
		l = Array.prototype.some;
	t.exports = function (t, e) {
		var i, u, c, f, d, p, g, m, y = arguments[2];
		if (a(t) || n(t) ? i = "array" : o(t) ? i = "string" : t = s(t), r(e), c = function () {
				f = !0
			}, "array" === i) return void l.call(t, function (t) {
			if (h.call(e, y, t, c), f) return !0
		});
		if ("string" !== i) for (u = t.next(); !u.done;) {
			if (h.call(e, y, u.value, c), f) return;
			u = t.next()
		} else for (p = t.length, d = 0; d < p && (g = t[d], d + 1 < p && (m = g.charCodeAt(0), m >= 55296 && m <= 56319 && (g += t[++d])), h.call(e, y, g, c), !f); ++d) ;
	}
}, function (t, e, i) {
	"use strict";
	var n = i(322), r = i(323), o = i(326), s = i(337), a = i(320), h = i(315).iterator;
	t.exports = function (t) {
		return "function" == typeof a(t)[h] ? t[h]() : n(t) ? new o(t) : r(t) ? new s(t) : new o(t)
	}
}, function (t, e, i) {
	"use strict";
	var n, r = i(296), o = i(311), s = i(302), a = i(327), h = Object.defineProperty;
	n = t.exports = function (t, e) {
		return this instanceof n ? (a.call(this, t), e = e ? o.call(e, "key+value") ? "key+value" : o.call(e, "key") ? "key" : "value" : "value", void h(this, "__kind__", s("", e))) : new n(t, e)
	}, r && r(n, a), n.prototype = Object.create(a.prototype, {
		constructor: s(n), _resolve: s(function (t) {
			return "value" === this.__kind__ ? this.__list__[t] : "key+value" === this.__kind__ ? [t, this.__list__[t]] : t
		}), toString: s(function () {
			return "[object Array Iterator]"
		})
	})
}, function (t, e, i) {
	"use strict";
	var n, r = i(283), o = i(303), s = i(301), a = i(284), h = i(302), l = i(328), u = i(315),
		c = Object.defineProperty, f = Object.defineProperties;
	t.exports = n = function (t, e) {
		return this instanceof n ? (f(this, {
			__list__: h("w", a(t)),
			__context__: h("w", e),
			__nextIndex__: h("w", 0)
		}), void(e && (s(e.on), e.on("_add", this._onAdd), e.on("_delete", this._onDelete), e.on("_clear", this._onClear)))) : new n(t, e)
	}, f(n.prototype, o({
		constructor: h(n), _next: h(function () {
			var t;
			if (this.__list__) return this.__redo__ && (t = this.__redo__.shift(), void 0 !== t) ? t : this.__nextIndex__ < this.__list__.length ? this.__nextIndex__++ : void this._unBind()
		}), next: h(function () {
			return this._createResult(this._next())
		}), _createResult: h(function (t) {
			return void 0 === t ? {done: !0, value: void 0} : {done: !1, value: this._resolve(t)}
		}), _resolve: h(function (t) {
			return this.__list__[t]
		}), _unBind: h(function () {
			this.__list__ = null, delete this.__redo__, this.__context__ && (this.__context__.off("_add", this._onAdd), this.__context__.off("_delete", this._onDelete), this.__context__.off("_clear", this._onClear), this.__context__ = null)
		}), toString: h(function () {
			return "[object Iterator]"
		})
	}, l({
		_onAdd: h(function (t) {
			if (!(t >= this.__nextIndex__)) {
				if (++this.__nextIndex__, !this.__redo__) return void c(this, "__redo__", h("c", [t]));
				this.__redo__.forEach(function (e, i) {
					e >= t && (this.__redo__[i] = ++e)
				}, this), this.__redo__.push(t)
			}
		}), _onDelete: h(function (t) {
			var e;
			t >= this.__nextIndex__ || (--this.__nextIndex__, this.__redo__ && (e = this.__redo__.indexOf(t), e !== -1 && this.__redo__.splice(e, 1), this.__redo__.forEach(function (e, i) {
				e > t && (this.__redo__[i] = --e)
			}, this)))
		}), _onClear: h(function () {
			this.__redo__ && r.call(this.__redo__), this.__nextIndex__ = 0
		})
	}))), c(n.prototype, u.iterator, h(function () {
		return this
	})), c(n.prototype, u.toStringTag, h("", "Iterator"))
}, function (t, e, i) {
	"use strict";
	var n, r = i(329), o = i(309), s = i(301), a = i(334), h = i(301), l = i(284), u = Function.prototype.bind,
		c = Object.defineProperty, f = Object.prototype.hasOwnProperty;
	n = function (t, e, i) {
		var n, o = l(e) && h(e.value);
		return n = r(e), delete n.writable, delete n.value, n.get = function () {
			return !i.overwriteDefinition && f.call(this, t) ? o : (e.value = u.call(o, i.resolveContext ? i.resolveContext(this) : this), c(this, t, e), this[t])
		}, n
	}, t.exports = function (t) {
		var e = o(arguments[1]);
		return null != e.resolveContext && s(e.resolveContext), a(t, function (t, i) {
			return n(i, t, e)
		})
	}
}, function (t, e, i) {
	"use strict";
	var n = i(330), r = i(303), o = i(284);
	t.exports = function (t) {
		var e = Object(o(t)), i = arguments[1], s = Object(arguments[2]);
		if (e !== t && !i) return e;
		var a = {};
		return i ? n(i, function (e) {
			(s.ensure || e in t) && (a[e] = t[e])
		}) : r(a, t), a
	}
}, function (t, e, i) {
	"use strict";
	t.exports = i(331)() ? Array.from : i(332)
}, function (t, e) {
	"use strict";
	t.exports = function () {
		var t, e, i = Array.from;
		return "function" == typeof i && (t = ["raz", "dwa"], e = i(t), Boolean(e && e !== t && "dwa" === e[1]))
	}
}, function (t, e, i) {
	"use strict";
	var n = i(315).iterator, r = i(322), o = i(333), s = i(291), a = i(301), h = i(284), l = i(285), u = i(323),
		c = Array.isArray, f = Function.prototype.call,
		d = {configurable: !0, enumerable: !0, writable: !0, value: null}, p = Object.defineProperty;
	t.exports = function (t) {
		var e, i, g, m, y, v, _, x, b, w, T = arguments[1], C = arguments[2];
		if (t = Object(h(t)), l(T) && a(T), this && this !== Array && o(this)) e = this; else {
			if (!T) {
				if (r(t)) return y = t.length, 1 !== y ? Array.apply(null, t) : (m = new Array(1), m[0] = t[0], m);
				if (c(t)) {
					for (m = new Array(y = t.length), i = 0; i < y; ++i) m[i] = t[i];
					return m
				}
			}
			m = []
		}
		if (!c(t)) if (void 0 !== (b = t[n])) {
			for (_ = a(b).call(t), e && (m = new e), x = _.next(), i = 0; !x.done;) w = T ? f.call(T, C, x.value, i) : x.value, e ? (d.value = w, p(m, i, d)) : m[i] = w, x = _.next(), ++i;
			y = i
		} else if (u(t)) {
			for (y = t.length, e && (m = new e), i = 0, g = 0; i < y; ++i) w = t[i], i + 1 < y && (v = w.charCodeAt(0), v >= 55296 && v <= 56319 && (w += t[++i])), w = T ? f.call(T, C, w, g) : w, e ? (d.value = w, p(m, g, d)) : m[g] = w, ++g;
			y = g
		}
		if (void 0 === y) for (y = s(t.length), e && (m = new e(y)), i = 0; i < y; ++i) w = T ? f.call(T, C, t[i], i) : t[i], e ? (d.value = w, p(m, i, d)) : m[i] = w;
		return e && (d.value = null, m.length = y), m
	}
}, function (t, e, i) {
	"use strict";
	var n = Object.prototype.toString, r = n.call(i(286));
	t.exports = function (t) {
		return "function" == typeof t && n.call(t) === r
	}
}, function (t, e, i) {
	"use strict";
	var n = i(301), r = i(335), o = Function.prototype.call;
	t.exports = function (t, e) {
		var i = {}, s = arguments[2];
		return n(e), r(t, function (t, n, r, a) {
			i[n] = o.call(e, s, t, n, r, a)
		}), i
	}
}, function (t, e, i) {
	"use strict";
	t.exports = i(336)("forEach")
}, function (t, e, i) {
	"use strict";
	var n = i(301), r = i(284), o = Function.prototype.bind, s = Function.prototype.call, a = Object.keys,
		h = Object.prototype.propertyIsEnumerable;
	t.exports = function (t, e) {
		return function (i, l) {
			var u, c = arguments[2], f = arguments[3];
			return i = Object(r(i)), n(l), u = a(i), f && u.sort("function" == typeof f ? o.call(f, i) : void 0), "function" != typeof t && (t = u[t]), s.call(t, u, function (t, n) {
				return h.call(i, t) ? s.call(l, c, i[t], t, i, n) : e
			})
		}
	}
}, function (t, e, i) {
	"use strict";
	var n, r = i(296), o = i(302), s = i(327), a = Object.defineProperty;
	n = t.exports = function (t) {
		return this instanceof n ? (t = String(t), s.call(this, t), void a(this, "__length__", o("", t.length))) : new n(t)
	}, r && r(n, s), n.prototype = Object.create(s.prototype, {
		constructor: o(n), _next: o(function () {
			if (this.__list__) return this.__nextIndex__ < this.__length__ ? this.__nextIndex__++ : void this._unBind()
		}), _resolve: o(function (t) {
			var e, i = this.__list__[t];
			return this.__nextIndex__ === this.__length__ ? i : (e = i.charCodeAt(0), e >= 55296 && e <= 56319 ? i + this.__list__[this.__nextIndex__++] : i)
		}), toString: o(function () {
			return "[object String Iterator]"
		})
	})
}, function (t, e, i) {
	"use strict";
	var n, r = i(296), o = i(302), s = i(327), a = i(315).toStringTag, h = i(339), l = Object.defineProperties,
		u = s.prototype._unBind;
	n = t.exports = function (t, e) {
		return this instanceof n ? (s.call(this, t.__mapKeysData__, t), e && h[e] || (e = "key+value"), void l(this, {
			__kind__: o("", e),
			__values__: o("w", t.__mapValuesData__)
		})) : new n(t, e)
	}, r && r(n, s), n.prototype = Object.create(s.prototype, {
		constructor: o(n), _resolve: o(function (t) {
			return "value" === this.__kind__ ? this.__values__[t] : "key" === this.__kind__ ? this.__list__[t] : [this.__list__[t], this.__values__[t]]
		}), _unBind: o(function () {
			this.__values__ = null, u.call(this)
		}), toString: o(function () {
			return "[object Map Iterator]"
		})
	}), Object.defineProperty(n.prototype, a, o("c", "Map Iterator"))
}, function (t, e, i) {
	"use strict";
	t.exports = i(340)("key", "value", "key+value")
}, function (t, e) {
	"use strict";
	var i = Array.prototype.forEach, n = Object.create;
	t.exports = function (t) {
		var e = n(null);
		return i.call(arguments, function (t) {
			e[t] = !0
		}), e
	}
}, function (t, e) {
	"use strict";
	t.exports = function () {
		return "undefined" != typeof Map && "[object Map]" === Object.prototype.toString.call(new Map)
	}()
}, function (t, e, i) {
	var n, r, o;
	!function (s) {
		r = [i(113), i(343)], n = s, o = "function" == typeof n ? n.apply(e, r) : n, !(void 0 !== o && (t.exports = o))
	}(function (t) {
		var e = 0, i = Array.prototype.slice;
		return t.cleanData = function (e) {
			return function (i) {
				var n, r, o;
				for (o = 0; null != (r = i[o]); o++) try {
					n = t._data(r, "events"), n && n.remove && t(r).triggerHandler("remove")
				} catch (s) {
				}
				e(i)
			}
		}(t.cleanData), t.widget = function (e, i, n) {
			var r, o, s, a = {}, h = e.split(".")[0];
			e = e.split(".")[1];
			var l = h + "-" + e;
			return n || (n = i, i = t.Widget), t.isArray(n) && (n = t.extend.apply(null, [{}].concat(n))), t.expr[":"][l.toLowerCase()] = function (e) {
				return !!t.data(e, l)
			}, t[h] = t[h] || {}, r = t[h][e], o = t[h][e] = function (t, e) {
				return this._createWidget ? void(arguments.length && this._createWidget(t, e)) : new o(t, e)
			}, t.extend(o, r, {
				version: n.version,
				_proto: t.extend({}, n),
				_childConstructors: []
			}), s = new i, s.options = t.widget.extend({}, s.options), t.each(n, function (e, n) {
				return t.isFunction(n) ? void(a[e] = function () {
					function t() {
						return i.prototype[e].apply(this, arguments)
					}

					function r(t) {
						return i.prototype[e].apply(this, t)
					}

					return function () {
						var e, i = this._super, o = this._superApply;
						return this._super = t, this._superApply = r, e = n.apply(this, arguments), this._super = i, this._superApply = o, e
					}
				}()) : void(a[e] = n)
			}), o.prototype = t.widget.extend(s, {widgetEventPrefix: r ? s.widgetEventPrefix || e : e}, a, {
				constructor: o,
				namespace: h,
				widgetName: e,
				widgetFullName: l
			}), r ? (t.each(r._childConstructors, function (e, i) {
				var n = i.prototype;
				t.widget(n.namespace + "." + n.widgetName, o, i._proto)
			}), delete r._childConstructors) : i._childConstructors.push(o), t.widget.bridge(e, o), o
		}, t.widget.extend = function (e) {
			for (var n, r, o = i.call(arguments, 1), s = 0, a = o.length; s < a; s++) for (n in o[s]) r = o[s][n], o[s].hasOwnProperty(n) && void 0 !== r && (t.isPlainObject(r) ? e[n] = t.isPlainObject(e[n]) ? t.widget.extend({}, e[n], r) : t.widget.extend({}, r) : e[n] = r);
			return e
		}, t.widget.bridge = function (e, n) {
			var r = n.prototype.widgetFullName || e;
			t.fn[e] = function (o) {
				var s = "string" == typeof o, a = i.call(arguments, 1), h = this;
				return s ? this.length || "instance" !== o ? this.each(function () {
					var i, n = t.data(this, r);
					return "instance" === o ? (h = n, !1) : n ? t.isFunction(n[o]) && "_" !== o.charAt(0) ? (i = n[o].apply(n, a), i !== n && void 0 !== i ? (h = i && i.jquery ? h.pushStack(i.get()) : i, !1) : void 0) : t.error("no such method '" + o + "' for " + e + " widget instance") : t.error("cannot call methods on " + e + " prior to initialization; attempted to call method '" + o + "'")
				}) : h = void 0 : (a.length && (o = t.widget.extend.apply(null, [o].concat(a))), this.each(function () {
					var e = t.data(this, r);
					e ? (e.option(o || {}), e._init && e._init()) : t.data(this, r, new n(o, this))
				})), h
			}
		}, t.Widget = function () {
		}, t.Widget._childConstructors = [], t.Widget.prototype = {
			widgetName: "widget",
			widgetEventPrefix: "",
			defaultElement: "<div>",
			options: {classes: {}, disabled: !1, create: null},
			_createWidget: function (i, n) {
				n = t(n || this.defaultElement || this)[0], this.element = t(n), this.uuid = e++, this.eventNamespace = "." + this.widgetName + this.uuid, this.bindings = t(), this.hoverable = t(), this.focusable = t(), this.classesElementLookup = {}, n !== this && (t.data(n, this.widgetFullName, this), this._on(!0, this.element, {
					remove: function (t) {
						t.target === n && this.destroy()
					}
				}), this.document = t(n.style ? n.ownerDocument : n.document || n), this.window = t(this.document[0].defaultView || this.document[0].parentWindow)), this.options = t.widget.extend({}, this.options, this._getCreateOptions(), i), this._create(), this.options.disabled && this._setOptionDisabled(this.options.disabled), this._trigger("create", null, this._getCreateEventData()), this._init()
			},
			_getCreateOptions: function () {
				return {}
			},
			_getCreateEventData: t.noop,
			_create: t.noop,
			_init: t.noop,
			destroy: function () {
				var e = this;
				this._destroy(), t.each(this.classesElementLookup, function (t, i) {
					e._removeClass(i, t)
				}), this.element.off(this.eventNamespace).removeData(this.widgetFullName), this.widget().off(this.eventNamespace).removeAttr("aria-disabled"), this.bindings.off(this.eventNamespace)
			},
			_destroy: t.noop,
			widget: function () {
				return this.element
			},
			option: function (e, i) {
				var n, r, o, s = e;
				if (0 === arguments.length) return t.widget.extend({}, this.options);
				if ("string" == typeof e) if (s = {}, n = e.split("."), e = n.shift(), n.length) {
					for (r = s[e] = t.widget.extend({}, this.options[e]), o = 0; o < n.length - 1; o++) r[n[o]] = r[n[o]] || {}, r = r[n[o]];
					if (e = n.pop(), 1 === arguments.length) return void 0 === r[e] ? null : r[e];
					r[e] = i
				} else {
					if (1 === arguments.length) return void 0 === this.options[e] ? null : this.options[e];
					s[e] = i
				}
				return this._setOptions(s), this
			},
			_setOptions: function (t) {
				var e;
				for (e in t) this._setOption(e, t[e]);
				return this
			},
			_setOption: function (t, e) {
				return "classes" === t && this._setOptionClasses(e), this.options[t] = e, "disabled" === t && this._setOptionDisabled(e), this
			},
			_setOptionClasses: function (e) {
				var i, n, r;
				for (i in e) r = this.classesElementLookup[i], e[i] !== this.options.classes[i] && r && r.length && (n = t(r.get()), this._removeClass(r, i), n.addClass(this._classes({
					element: n,
					keys: i,
					classes: e,
					add: !0
				})))
			},
			_setOptionDisabled: function (t) {
				this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, !!t), t && (this._removeClass(this.hoverable, null, "ui-state-hover"), this._removeClass(this.focusable, null, "ui-state-focus"))
			},
			enable: function () {
				return this._setOptions({disabled: !1})
			},
			disable: function () {
				return this._setOptions({disabled: !0})
			},
			_classes: function (e) {
				function i(i, o) {
					var s, a;
					for (a = 0; a < i.length; a++) s = r.classesElementLookup[i[a]] || t(), s = t(e.add ? t.unique(s.get().concat(e.element.get())) : s.not(e.element).get()), r.classesElementLookup[i[a]] = s, n.push(i[a]), o && e.classes[i[a]] && n.push(e.classes[i[a]])
				}

				var n = [], r = this;
				return e = t.extend({
					element: this.element,
					classes: this.options.classes || {}
				}, e), this._on(e.element, {remove: "_untrackClassesElement"}), e.keys && i(e.keys.match(/\S+/g) || [], !0), e.extra && i(e.extra.match(/\S+/g) || []), n.join(" ")
			},
			_untrackClassesElement: function (e) {
				var i = this;
				t.each(i.classesElementLookup, function (n, r) {
					t.inArray(e.target, r) !== -1 && (i.classesElementLookup[n] = t(r.not(e.target).get()))
				})
			},
			_removeClass: function (t, e, i) {
				return this._toggleClass(t, e, i, !1)
			},
			_addClass: function (t, e, i) {
				return this._toggleClass(t, e, i, !0)
			},
			_toggleClass: function (t, e, i, n) {
				n = "boolean" == typeof n ? n : i;
				var r = "string" == typeof t || null === t,
					o = {extra: r ? e : i, keys: r ? t : e, element: r ? this.element : t, add: n};
				return o.element.toggleClass(this._classes(o), n), this
			},
			_on: function (e, i, n) {
				var r, o = this;
				"boolean" != typeof e && (n = i, i = e, e = !1), n ? (i = r = t(i), this.bindings = this.bindings.add(i)) : (n = i, i = this.element, r = this.widget()), t.each(n, function (n, s) {
					function a() {
						if (e || o.options.disabled !== !0 && !t(this).hasClass("ui-state-disabled")) return ("string" == typeof s ? o[s] : s).apply(o, arguments)
					}

					"string" != typeof s && (a.guid = s.guid = s.guid || a.guid || t.guid++);
					var h = n.match(/^([\w:-]*)\s*(.*)$/), l = h[1] + o.eventNamespace, u = h[2];
					u ? r.on(l, u, a) : i.on(l, a)
				})
			},
			_off: function (e, i) {
				i = (i || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, e.off(i).off(i), this.bindings = t(this.bindings.not(e).get()), this.focusable = t(this.focusable.not(e).get()), this.hoverable = t(this.hoverable.not(e).get())
			},
			_delay: function (t, e) {
				function i() {
					return ("string" == typeof t ? n[t] : t).apply(n, arguments)
				}

				var n = this;
				return setTimeout(i, e || 0)
			},
			_hoverable: function (e) {
				this.hoverable = this.hoverable.add(e), this._on(e, {
					mouseenter: function (e) {
						this._addClass(t(e.currentTarget), null, "ui-state-hover")
					}, mouseleave: function (e) {
						this._removeClass(t(e.currentTarget), null, "ui-state-hover")
					}
				})
			},
			_focusable: function (e) {
				this.focusable = this.focusable.add(e), this._on(e, {
					focusin: function (e) {
						this._addClass(t(e.currentTarget), null, "ui-state-focus")
					}, focusout: function (e) {
						this._removeClass(t(e.currentTarget), null, "ui-state-focus")
					}
				})
			},
			_trigger: function (e, i, n) {
				var r, o, s = this.options[e];
				if (n = n || {}, i = t.Event(i), i.type = (e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e).toLowerCase(), i.target = this.element[0], o = i.originalEvent) for (r in o) r in i || (i[r] = o[r]);
				return this.element.trigger(i, n), !(t.isFunction(s) && s.apply(this.element[0], [i].concat(n)) === !1 || i.isDefaultPrevented())
			}
		}, t.each({show: "fadeIn", hide: "fadeOut"}, function (e, i) {
			t.Widget.prototype["_" + e] = function (n, r, o) {
				"string" == typeof r && (r = {effect: r});
				var s, a = r ? r === !0 || "number" == typeof r ? i : r.effect || i : e;
				r = r || {}, "number" == typeof r && (r = {duration: r}), s = !t.isEmptyObject(r), r.complete = o, r.delay && n.delay(r.delay), s && t.effects && t.effects.effect[a] ? n[e](r) : a !== e && n[a] ? n[a](r.duration, r.easing, o) : n.queue(function (i) {
					t(this)[e](), o && o.call(n[0]), i()
				})
			}
		}), t.widget
	})
}, function (t, e, i) {
	var n, r, o;
	!function (s) {
		r = [i(113)], n = s, o = "function" == typeof n ? n.apply(e, r) : n, !(void 0 !== o && (t.exports = o))
	}(function (t) {
		return t.ui = t.ui || {}, t.ui.version = "1.12.1"
	})
}, function (t, e, i) {
	var n, r;
	!function (o, s) {
		n = s, r = "function" == typeof n ? n.call(e, i, e, t) : n, !(void 0 !== r && (t.exports = r))
	}(this, function () {
		"use strict";

		function t(e, i, n) {
			return void 0 === i ? t.get(e) : void(null === i ? t.remove(e) : t.set(e, i, n))
		}

		function e(t) {
			return t.replace(/[.*+?^$|[\](){}\\-]/g, "\\$&")
		}

		function i(t) {
			var e = "";
			for (var i in t) if (t.hasOwnProperty(i)) {
				if ("expires" === i) {
					var r = t[i];
					"object" != typeof r && (r += "number" == typeof r ? "D" : "", r = n(r)), t[i] = r.toUTCString()
				}
				e += ";" + i + "=" + t[i]
			}
			return t.hasOwnProperty("path") || (e += ";path=/"), e
		}

		function n(t) {
			var e = new Date, i = t.charAt(t.length - 1), n = parseInt(t, 10);
			switch (i) {
				case"Y":
					e.setFullYear(e.getFullYear() + n);
					break;
				case"M":
					e.setMonth(e.getMonth() + n);
					break;
				case"D":
					e.setDate(e.getDate() + n);
					break;
				case"h":
					e.setHours(e.getHours() + n);
					break;
				case"m":
					e.setMinutes(e.getMinutes() + n);
					break;
				case"s":
					e.setSeconds(e.getSeconds() + n);
					break;
				default:
					e = new Date(t)
			}
			return e
		}

		return t.enabled = function () {
			var e, i = "__test_key";
			return document.cookie = i + "=1", e = !!document.cookie, e && t.remove(i), e
		}, t.get = function (t, i) {
			if ("string" != typeof t || !t) return null;
			t = "(?:^|; )" + e(t) + "(?:=([^;]*?))?(?:;|$)";
			var n = new RegExp(t), r = n.exec(document.cookie);
			return null !== r ? i ? r[1] : decodeURIComponent(r[1]) : null
		}, t.getRaw = function (e) {
			return t.get(e, !0)
		}, t.set = function (t, e, n, r) {
			n !== !0 && (r = n, n = !1), r = i(r ? r : {});
			var o = t + "=" + (n ? e : encodeURIComponent(e)) + r;
			document.cookie = o
		}, t.setRaw = function (e, i, n) {
			t.set(e, i, !0, n)
		}, t.remove = function (e) {
			t.set(e, "a", {expires: new Date})
		}, t
	})
}, function (t, e, i) {
	"use strict";
	!function (e, n) {
		"undefined" != typeof t && t.exports && (t.exports = n(i(346), i(347))), e.canvg = n(e.RGBColor, e.stackBlur)
	}("undefined" != typeof window ? window : void 0, function (t, e) {
		function i(t) {
			var e = [0, 0, 0], i = function (i, n) {
				var r = t.match(i);
				null != r && (e[n] += r.length, t = t.replace(i, " "))
			};
			return t = t.replace(/:not\(([^\)]*)\)/g, "     $1 "), t = t.replace(/{[\s\S]*/gm, " "), i(s, 1), i(a, 0), i(h, 1), i(l, 2), i(u, 1), i(c, 1), t = t.replace(/[\*\s\+>~]/g, " "), t = t.replace(/[#\.]/g, " "), i(f, 2), e.join("")
		}

		function n(n) {
			var o = {opts: n};
			o.FRAMERATE = 30, o.MAX_VIRTUAL_PIXELS = 3e4, o.log = function (t) {
			}, 1 == o.opts.log && "undefined" != typeof console && (o.log = function (t) {
				void 0
			}), o.init = function (t) {
				var e = 0;
				o.UniqueId = function () {
					return e++, "canvg" + e
				}, o.Definitions = {}, o.Styles = {}, o.StylesSpecificity = {}, o.Animations = [], o.Images = [], o.ctx = t, o.ViewPort = new function () {
					this.viewPorts = [], this.Clear = function () {
						this.viewPorts = []
					}, this.SetCurrent = function (t, e) {
						this.viewPorts.push({width: t, height: e})
					}, this.RemoveCurrent = function () {
						this.viewPorts.pop()
					}, this.Current = function () {
						return this.viewPorts[this.viewPorts.length - 1]
					}, this.width = function () {
						return this.Current().width
					}, this.height = function () {
						return this.Current().height
					}, this.ComputeSize = function (t) {
						return null != t && "number" == typeof t ? t : "x" == t ? this.width() : "y" == t ? this.height() : Math.sqrt(Math.pow(this.width(), 2) + Math.pow(this.height(), 2)) / Math.sqrt(2)
					}
				}
			}, o.init(), o.ImagesLoaded = function () {
				for (var t = 0; t < o.Images.length; t++) if (!o.Images[t].loaded) return !1;
				return !0
			}, o.trim = function (t) {
				return t.replace(/^\s+|\s+$/g, "")
			}, o.compressSpaces = function (t) {
				return t.replace(/[\s\r\t\n]+/gm, " ")
			}, o.ajax = function (t) {
				var e;
				return e = window.XMLHttpRequest ? new XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP"), e ? (e.open("GET", t, !1), e.send(null), e.responseText) : null
			}, o.parseXml = function (t) {
				if ("undefined" != typeof Windows && "undefined" != typeof Windows.Data && "undefined" != typeof Windows.Data.Xml) {
					var e = new Windows.Data.Xml.Dom.XmlDocument, i = new Windows.Data.Xml.Dom.XmlLoadSettings;
					return i.prohibitDtd = !1, e.loadXml(t, i), e
				}
				if (window.DOMParser) {
					var n = new DOMParser;
					return n.parseFromString(t, "text/xml")
				}
				t = t.replace(/<!DOCTYPE svg[^>]*>/, "");
				var e = new ActiveXObject("Microsoft.XMLDOM");
				return e.async = "false", e.loadXML(t), e
			}, o.Property = function (t, e) {
				this.name = t, this.value = e
			}, o.Property.prototype.getValue = function () {
				return this.value
			}, o.Property.prototype.hasValue = function () {
				return null != this.value && "" !== this.value
			}, o.Property.prototype.numValue = function () {
				if (!this.hasValue()) return 0;
				var t = parseFloat(this.value);
				return (this.value + "").match(/%$/) && (t /= 100), t
			}, o.Property.prototype.valueOrDefault = function (t) {
				return this.hasValue() ? this.value : t
			}, o.Property.prototype.numValueOrDefault = function (t) {
				return this.hasValue() ? this.numValue() : t
			}, o.Property.prototype.addOpacity = function (e) {
				var i = this.value;
				if (null != e.value && "" != e.value && "string" == typeof this.value) {
					var n = new t(this.value);
					n.ok && (i = "rgba(" + n.r + ", " + n.g + ", " + n.b + ", " + e.numValue() + ")")
				}
				return new o.Property(this.name, i)
			}, o.Property.prototype.getDefinition = function () {
				var t = this.value.match(/#([^\)'"]+)/);
				return t && (t = t[1]), t || (t = this.value), o.Definitions[t]
			}, o.Property.prototype.isUrlDefinition = function () {
				return 0 == this.value.indexOf("url(")
			}, o.Property.prototype.getFillStyleDefinition = function (t, e) {
				var i = this.getDefinition();
				if (null != i && i.createGradient) return i.createGradient(o.ctx, t, e);
				if (null != i && i.createPattern) {
					if (i.getHrefAttribute().hasValue()) {
						var n = i.attribute("patternTransform");
						i = i.getHrefAttribute().getDefinition(), n.hasValue() && (i.attribute("patternTransform", !0).value = n.value)
					}
					return i.createPattern(o.ctx, t)
				}
				return null
			}, o.Property.prototype.getDPI = function (t) {
				return 96
			}, o.Property.prototype.getEM = function (t) {
				var e = 12, i = new o.Property("fontSize", o.Font.Parse(o.ctx.font).fontSize);
				return i.hasValue() && (e = i.toPixels(t)), e
			}, o.Property.prototype.getUnits = function () {
				var t = this.value + "";
				return t.replace(/[0-9\.\-]/g, "")
			}, o.Property.prototype.toPixels = function (t, e) {
				if (!this.hasValue()) return 0;
				var i = this.value + "";
				if (i.match(/em$/)) return this.numValue() * this.getEM(t);
				if (i.match(/ex$/)) return this.numValue() * this.getEM(t) / 2;
				if (i.match(/px$/)) return this.numValue();
				if (i.match(/pt$/)) return this.numValue() * this.getDPI(t) * (1 / 72);
				if (i.match(/pc$/)) return 15 * this.numValue();
				if (i.match(/cm$/)) return this.numValue() * this.getDPI(t) / 2.54;
				if (i.match(/mm$/)) return this.numValue() * this.getDPI(t) / 25.4;
				if (i.match(/in$/)) return this.numValue() * this.getDPI(t);
				if (i.match(/%$/)) return this.numValue() * o.ViewPort.ComputeSize(t);
				var n = this.numValue();
				return e && n < 1 ? n * o.ViewPort.ComputeSize(t) : n
			}, o.Property.prototype.toMilliseconds = function () {
				if (!this.hasValue()) return 0;
				var t = this.value + "";
				return t.match(/s$/) ? 1e3 * this.numValue() : t.match(/ms$/) ? this.numValue() : this.numValue()
			}, o.Property.prototype.toRadians = function () {
				if (!this.hasValue()) return 0;
				var t = this.value + "";
				return t.match(/deg$/) ? this.numValue() * (Math.PI / 180) : t.match(/grad$/) ? this.numValue() * (Math.PI / 200) : t.match(/rad$/) ? this.numValue() : this.numValue() * (Math.PI / 180)
			};
			var s = {
				baseline: "alphabetic",
				"before-edge": "top",
				"text-before-edge": "top",
				middle: "middle",
				central: "middle",
				"after-edge": "bottom",
				"text-after-edge": "bottom",
				ideographic: "ideographic",
				alphabetic: "alphabetic",
				hanging: "hanging",
				mathematical: "alphabetic"
			};
			return o.Property.prototype.toTextBaseline = function () {
				return this.hasValue() ? s[this.value] : null
			}, o.Font = new function () {
				this.Styles = "normal|italic|oblique|inherit", this.Variants = "normal|small-caps|inherit", this.Weights = "normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit", this.CreateFont = function (t, e, i, n, r, s) {
					var a = null != s ? this.Parse(s) : this.CreateFont("", "", "", "", "", o.ctx.font);
					return {
						fontFamily: r || a.fontFamily,
						fontSize: n || a.fontSize,
						fontStyle: t || a.fontStyle,
						fontWeight: i || a.fontWeight,
						fontVariant: e || a.fontVariant,
						toString: function () {
							return [this.fontStyle, this.fontVariant, this.fontWeight, this.fontSize, this.fontFamily].join(" ")
						}
					}
				};
				var t = this;
				this.Parse = function (e) {
					for (var i = {}, n = o.trim(o.compressSpaces(e || "")).split(" "), r = {
						fontSize: !1,
						fontStyle: !1,
						fontWeight: !1,
						fontVariant: !1
					}, s = "", a = 0; a < n.length; a++) r.fontStyle || t.Styles.indexOf(n[a]) == -1 ? r.fontVariant || t.Variants.indexOf(n[a]) == -1 ? r.fontWeight || t.Weights.indexOf(n[a]) == -1 ? r.fontSize ? "inherit" != n[a] && (s += n[a]) : ("inherit" != n[a] && (i.fontSize = n[a].split("/")[0]), r.fontStyle = r.fontVariant = r.fontWeight = r.fontSize = !0) : ("inherit" != n[a] && (i.fontWeight = n[a]), r.fontStyle = r.fontVariant = r.fontWeight = !0) : ("inherit" != n[a] && (i.fontVariant = n[a]), r.fontStyle = r.fontVariant = !0) : ("inherit" != n[a] && (i.fontStyle = n[a]), r.fontStyle = !0);
					return "" != s && (i.fontFamily = s), i
				}
			}, o.ToNumberArray = function (t) {
				for (var e = o.trim(o.compressSpaces((t || "").replace(/,/g, " "))).split(" "), i = 0; i < e.length; i++) e[i] = parseFloat(e[i]);
				return e
			}, o.Point = function (t, e) {
				this.x = t, this.y = e
			}, o.Point.prototype.angleTo = function (t) {
				return Math.atan2(t.y - this.y, t.x - this.x)
			}, o.Point.prototype.applyTransform = function (t) {
				var e = this.x * t[0] + this.y * t[2] + t[4], i = this.x * t[1] + this.y * t[3] + t[5];
				this.x = e, this.y = i
			}, o.CreatePoint = function (t) {
				var e = o.ToNumberArray(t);
				return new o.Point(e[0], e[1])
			}, o.CreatePath = function (t) {
				for (var e = o.ToNumberArray(t), i = [], n = 0; n < e.length; n += 2) i.push(new o.Point(e[n], e[n + 1]));
				return i
			}, o.BoundingBox = function (t, e, i, n) {
				this.x1 = Number.NaN, this.y1 = Number.NaN, this.x2 = Number.NaN, this.y2 = Number.NaN, this.x = function () {
					return this.x1
				}, this.y = function () {
					return this.y1
				}, this.width = function () {
					return this.x2 - this.x1
				}, this.height = function () {
					return this.y2 - this.y1
				}, this.addPoint = function (t, e) {
					null != t && ((isNaN(this.x1) || isNaN(this.x2)) && (this.x1 = t, this.x2 = t), t < this.x1 && (this.x1 = t), t > this.x2 && (this.x2 = t)), null != e && ((isNaN(this.y1) || isNaN(this.y2)) && (this.y1 = e, this.y2 = e), e < this.y1 && (this.y1 = e), e > this.y2 && (this.y2 = e))
				}, this.addX = function (t) {
					this.addPoint(t, null)
				}, this.addY = function (t) {
					this.addPoint(null, t)
				}, this.addBoundingBox = function (t) {
					this.addPoint(t.x1, t.y1), this.addPoint(t.x2, t.y2)
				}, this.addQuadraticCurve = function (t, e, i, n, r, o) {
					var s = t + 2 / 3 * (i - t), a = e + 2 / 3 * (n - e), h = s + 1 / 3 * (r - t),
						l = a + 1 / 3 * (o - e);
					this.addBezierCurve(t, e, s, h, a, l, r, o)
				}, this.addBezierCurve = function (t, e, i, n, r, o, s, a) {
					var h = [t, e], l = [i, n], u = [r, o], c = [s, a];
					this.addPoint(h[0], h[1]), this.addPoint(c[0], c[1]);
					var f;
					for (f = 0; f <= 1; f++) {
						var d = function (t) {
								return Math.pow(1 - t, 3) * h[f] + 3 * Math.pow(1 - t, 2) * t * l[f] + 3 * (1 - t) * Math.pow(t, 2) * u[f] + Math.pow(t, 3) * c[f]
							}, p = 6 * h[f] - 12 * l[f] + 6 * u[f], g = -3 * h[f] + 9 * l[f] - 9 * u[f] + 3 * c[f],
							m = 3 * l[f] - 3 * h[f];
						if (0 != g) {
							var y = Math.pow(p, 2) - 4 * m * g;
							if (!(y < 0)) {
								var v = (-p + Math.sqrt(y)) / (2 * g);
								0 < v && v < 1 && (0 == f && this.addX(d(v)), 1 == f && this.addY(d(v)));
								var _ = (-p - Math.sqrt(y)) / (2 * g);
								0 < _ && _ < 1 && (0 == f && this.addX(d(_)), 1 == f && this.addY(d(_)))
							}
						} else {
							if (0 == p) continue;
							var x = -m / p;
							0 < x && x < 1 && (0 == f && this.addX(d(x)), 1 == f && this.addY(d(x)))
						}
					}
				}, this.isPointInBox = function (t, e) {
					return this.x1 <= t && t <= this.x2 && this.y1 <= e && e <= this.y2
				}, this.addPoint(t, e), this.addPoint(i, n)
			}, o.Transform = function (t) {
				var e = this;
				this.Type = {}, this.Type.translate = function (t) {
					this.p = o.CreatePoint(t), this.apply = function (t) {
						t.translate(this.p.x || 0, this.p.y || 0)
					}, this.unapply = function (t) {
						t.translate(-1 * this.p.x || 0, -1 * this.p.y || 0)
					}, this.applyToPoint = function (t) {
						t.applyTransform([1, 0, 0, 1, this.p.x || 0, this.p.y || 0])
					}
				}, this.Type.rotate = function (t) {
					var e = o.ToNumberArray(t);
					this.angle = new o.Property("angle", e[0]), this.cx = e[1] || 0, this.cy = e[2] || 0, this.apply = function (t) {
						t.translate(this.cx, this.cy), t.rotate(this.angle.toRadians()), t.translate(-this.cx, -this.cy)
					}, this.unapply = function (t) {
						t.translate(this.cx, this.cy), t.rotate(-1 * this.angle.toRadians()), t.translate(-this.cx, -this.cy)
					}, this.applyToPoint = function (t) {
						var e = this.angle.toRadians();
						t.applyTransform([1, 0, 0, 1, this.p.x || 0, this.p.y || 0]), t.applyTransform([Math.cos(e), Math.sin(e), -Math.sin(e), Math.cos(e), 0, 0]), t.applyTransform([1, 0, 0, 1, -this.p.x || 0, -this.p.y || 0])
					}
				}, this.Type.scale = function (t) {
					this.p = o.CreatePoint(t), this.apply = function (t) {
						t.scale(this.p.x || 1, this.p.y || this.p.x || 1)
					}, this.unapply = function (t) {
						t.scale(1 / this.p.x || 1, 1 / this.p.y || this.p.x || 1)
					}, this.applyToPoint = function (t) {
						t.applyTransform([this.p.x || 0, 0, 0, this.p.y || 0, 0, 0])
					}
				}, this.Type.matrix = function (t) {
					this.m = o.ToNumberArray(t), this.apply = function (t) {
						t.transform(this.m[0], this.m[1], this.m[2], this.m[3], this.m[4], this.m[5])
					}, this.unapply = function (t) {
						var e = this.m[0], i = this.m[2], n = this.m[4], r = this.m[1], o = this.m[3], s = this.m[5],
							a = 0, h = 0, l = 1,
							u = 1 / (e * (o * l - s * h) - i * (r * l - s * a) + n * (r * h - o * a));
						t.transform(u * (o * l - s * h), u * (s * a - r * l), u * (n * h - i * l), u * (e * l - n * a), u * (i * s - n * o), u * (n * r - e * s))
					}, this.applyToPoint = function (t) {
						t.applyTransform(this.m)
					}
				}, this.Type.SkewBase = function (t) {
					this.base = e.Type.matrix, this.base(t), this.angle = new o.Property("angle", t)
				}, this.Type.SkewBase.prototype = new this.Type.matrix, this.Type.skewX = function (t) {
					this.base = e.Type.SkewBase, this.base(t), this.m = [1, 0, Math.tan(this.angle.toRadians()), 1, 0, 0]
				}, this.Type.skewX.prototype = new this.Type.SkewBase, this.Type.skewY = function (t) {
					this.base = e.Type.SkewBase, this.base(t), this.m = [1, Math.tan(this.angle.toRadians()), 0, 1, 0, 0]
				}, this.Type.skewY.prototype = new this.Type.SkewBase, this.transforms = [], this.apply = function (t) {
					for (var e = 0; e < this.transforms.length; e++) this.transforms[e].apply(t)
				}, this.unapply = function (t) {
					for (var e = this.transforms.length - 1; e >= 0; e--) this.transforms[e].unapply(t)
				}, this.applyToPoint = function (t) {
					for (var e = 0; e < this.transforms.length; e++) this.transforms[e].applyToPoint(t);
				};
				for (var i = o.trim(o.compressSpaces(t)).replace(/\)([a-zA-Z])/g, ") $1").replace(/\)(\s?,\s?)/g, ") ").split(/\s(?=[a-z])/), n = 0; n < i.length; n++) {
					var r = o.trim(i[n].split("(")[0]), s = i[n].split("(")[1].replace(")", ""), a = this.Type[r];
					if ("undefined" != typeof a) {
						var h = new a(s);
						h.type = r, this.transforms.push(h)
					}
				}
			}, o.AspectRatio = function (t, e, i, n, r, s, a, h, l, u) {
				e = o.compressSpaces(e), e = e.replace(/^defer\s/, "");
				var c = e.split(" ")[0] || "xMidYMid", f = e.split(" ")[1] || "meet", d = i / n, p = r / s,
					g = Math.min(d, p), m = Math.max(d, p);
				"meet" == f && (n *= g, s *= g), "slice" == f && (n *= m, s *= m), l = new o.Property("refX", l), u = new o.Property("refY", u), l.hasValue() && u.hasValue() ? t.translate(-g * l.toPixels("x"), -g * u.toPixels("y")) : (c.match(/^xMid/) && ("meet" == f && g == p || "slice" == f && m == p) && t.translate(i / 2 - n / 2, 0), c.match(/YMid$/) && ("meet" == f && g == d || "slice" == f && m == d) && t.translate(0, r / 2 - s / 2), c.match(/^xMax/) && ("meet" == f && g == p || "slice" == f && m == p) && t.translate(i - n, 0), c.match(/YMax$/) && ("meet" == f && g == d || "slice" == f && m == d) && t.translate(0, r - s)), "none" == c ? t.scale(d, p) : "meet" == f ? t.scale(g, g) : "slice" == f && t.scale(m, m), t.translate(null == a ? 0 : -a, null == h ? 0 : -h)
			}, o.Element = {}, o.EmptyProperty = new o.Property("EMPTY", ""), o.Element.ElementBase = function (t) {
				this.attributes = {}, this.styles = {}, this.stylesSpecificity = {}, this.children = [], this.attribute = function (t, e) {
					var i = this.attributes[t];
					return null != i ? i : (1 == e && (i = new o.Property(t, ""), this.attributes[t] = i), i || o.EmptyProperty)
				}, this.getHrefAttribute = function () {
					for (var t in this.attributes) if ("href" == t || t.match(/:href$/)) return this.attributes[t];
					return o.EmptyProperty
				}, this.style = function (t, e, i) {
					var n = this.styles[t];
					if (null != n) return n;
					var r = this.attribute(t);
					if (null != r && r.hasValue()) return this.styles[t] = r, r;
					if (1 != i) {
						var s = this.parent;
						if (null != s) {
							var a = s.style(t);
							if (null != a && a.hasValue()) return a
						}
					}
					return 1 == e && (n = new o.Property(t, ""), this.styles[t] = n), n || o.EmptyProperty
				}, this.render = function (t) {
					if ("none" != this.style("display").value && "hidden" != this.style("visibility").value) {
						if (t.save(), this.style("mask").hasValue()) {
							var e = this.style("mask").getDefinition();
							null != e && e.apply(t, this)
						} else if (this.style("filter").hasValue()) {
							var i = this.style("filter").getDefinition();
							null != i && i.apply(t, this)
						} else this.setContext(t), this.renderChildren(t), this.clearContext(t);
						t.restore()
					}
				}, this.setContext = function (t) {
				}, this.clearContext = function (t) {
				}, this.renderChildren = function (t) {
					for (var e = 0; e < this.children.length; e++) this.children[e].render(t)
				}, this.addChild = function (t, e) {
					var i = t;
					e && (i = o.CreateElement(t)), i.parent = this, "title" != i.type && this.children.push(i)
				}, this.addStylesFromStyleDefinition = function () {
					for (var e in o.Styles) if ("@" != e[0] && r(t, e)) {
						var i = o.Styles[e], n = o.StylesSpecificity[e];
						if (null != i) for (var s in i) {
							var a = this.stylesSpecificity[s];
							"undefined" == typeof a && (a = "000"), n > a && (this.styles[s] = i[s], this.stylesSpecificity[s] = n)
						}
					}
				};
				var e = new RegExp("^[A-Z-]+$"), i = function (t) {
					return e.test(t) ? t.toLowerCase() : t
				};
				if (null != t && 1 == t.nodeType) {
					for (var n = 0; n < t.attributes.length; n++) {
						var s = t.attributes[n], a = i(s.nodeName);
						this.attributes[a] = new o.Property(a, s.value)
					}
					if (this.addStylesFromStyleDefinition(), this.attribute("style").hasValue()) for (var h = this.attribute("style").value.split(";"), n = 0; n < h.length; n++) if ("" != o.trim(h[n])) {
						var l = h[n].split(":"), u = o.trim(l[0]), c = o.trim(l[1]);
						this.styles[u] = new o.Property(u, c)
					}
					this.attribute("id").hasValue() && null == o.Definitions[this.attribute("id").value] && (o.Definitions[this.attribute("id").value] = this);
					for (var n = 0; n < t.childNodes.length; n++) {
						var f = t.childNodes[n];
						if (1 == f.nodeType && this.addChild(f, !0), this.captureTextNodes && (3 == f.nodeType || 4 == f.nodeType)) {
							var d = f.value || f.text || f.textContent || "";
							"" != o.compressSpaces(d) && this.addChild(new o.Element.tspan(f), !1)
						}
					}
				}
			}, o.Element.RenderedElementBase = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.setContext = function (t) {
					if (this.style("fill").isUrlDefinition()) {
						var e = this.style("fill").getFillStyleDefinition(this, this.style("fill-opacity"));
						null != e && (t.fillStyle = e)
					} else if (this.style("fill").hasValue()) {
						var i = this.style("fill");
						"currentColor" == i.value && (i.value = this.style("color").value), "inherit" != i.value && (t.fillStyle = "none" == i.value ? "rgba(0,0,0,0)" : i.value)
					}
					if (this.style("fill-opacity").hasValue()) {
						var i = new o.Property("fill", t.fillStyle);
						i = i.addOpacity(this.style("fill-opacity")), t.fillStyle = i.value
					}
					if (this.style("stroke").isUrlDefinition()) {
						var e = this.style("stroke").getFillStyleDefinition(this, this.style("stroke-opacity"));
						null != e && (t.strokeStyle = e)
					} else if (this.style("stroke").hasValue()) {
						var n = this.style("stroke");
						"currentColor" == n.value && (n.value = this.style("color").value), "inherit" != n.value && (t.strokeStyle = "none" == n.value ? "rgba(0,0,0,0)" : n.value)
					}
					if (this.style("stroke-opacity").hasValue()) {
						var n = new o.Property("stroke", t.strokeStyle);
						n = n.addOpacity(this.style("stroke-opacity")), t.strokeStyle = n.value
					}
					if (this.style("stroke-width").hasValue()) {
						var r = this.style("stroke-width").toPixels();
						t.lineWidth = 0 == r ? .001 : r
					}
					if (this.style("stroke-linecap").hasValue() && (t.lineCap = this.style("stroke-linecap").value), this.style("stroke-linejoin").hasValue() && (t.lineJoin = this.style("stroke-linejoin").value), this.style("stroke-miterlimit").hasValue() && (t.miterLimit = this.style("stroke-miterlimit").value), this.style("stroke-dasharray").hasValue() && "none" != this.style("stroke-dasharray").value) {
						var s = o.ToNumberArray(this.style("stroke-dasharray").value);
						"undefined" != typeof t.setLineDash ? t.setLineDash(s) : "undefined" != typeof t.webkitLineDash ? t.webkitLineDash = s : "undefined" == typeof t.mozDash || 1 == s.length && 0 == s[0] || (t.mozDash = s);
						var a = this.style("stroke-dashoffset").numValueOrDefault(1);
						"undefined" != typeof t.lineDashOffset ? t.lineDashOffset = a : "undefined" != typeof t.webkitLineDashOffset ? t.webkitLineDashOffset = a : "undefined" != typeof t.mozDashOffset && (t.mozDashOffset = a)
					}
					if ("undefined" != typeof t.font && (t.font = o.Font.CreateFont(this.style("font-style").value, this.style("font-variant").value, this.style("font-weight").value, this.style("font-size").hasValue() ? this.style("font-size").toPixels() + "px" : "", this.style("font-family").value).toString()), this.style("transform", !1, !0).hasValue()) {
						var h = new o.Transform(this.style("transform", !1, !0).value);
						h.apply(t)
					}
					if (this.style("clip-path", !1, !0).hasValue()) {
						var l = this.style("clip-path", !1, !0).getDefinition();
						null != l && l.apply(t)
					}
					this.style("opacity").hasValue() && (t.globalAlpha = this.style("opacity").numValue())
				}
			}, o.Element.RenderedElementBase.prototype = new o.Element.ElementBase, o.Element.PathElementBase = function (t) {
				this.base = o.Element.RenderedElementBase, this.base(t), this.path = function (t) {
					return null != t && t.beginPath(), new o.BoundingBox
				}, this.renderChildren = function (t) {
					this.path(t), o.Mouse.checkPath(this, t), "" != t.fillStyle && ("inherit" != this.style("fill-rule").valueOrDefault("inherit") ? t.fill(this.style("fill-rule").value) : t.fill()), "" != t.strokeStyle && t.stroke();
					var e = this.getMarkers();
					if (null != e) {
						if (this.style("marker-start").isUrlDefinition()) {
							var i = this.style("marker-start").getDefinition();
							i.render(t, e[0][0], e[0][1])
						}
						if (this.style("marker-mid").isUrlDefinition()) for (var i = this.style("marker-mid").getDefinition(), n = 1; n < e.length - 1; n++) i.render(t, e[n][0], e[n][1]);
						if (this.style("marker-end").isUrlDefinition()) {
							var i = this.style("marker-end").getDefinition();
							i.render(t, e[e.length - 1][0], e[e.length - 1][1])
						}
					}
				}, this.getBoundingBox = function () {
					return this.path()
				}, this.getMarkers = function () {
					return null
				}
			}, o.Element.PathElementBase.prototype = new o.Element.RenderedElementBase, o.Element.svg = function (t) {
				this.base = o.Element.RenderedElementBase, this.base(t), this.baseClearContext = this.clearContext, this.clearContext = function (t) {
					this.baseClearContext(t), o.ViewPort.RemoveCurrent()
				}, this.baseSetContext = this.setContext, this.setContext = function (t) {
					t.strokeStyle = "rgba(0,0,0,0)", t.lineCap = "butt", t.lineJoin = "miter", t.miterLimit = 4, "undefined" != typeof t.font && "undefined" != typeof window.getComputedStyle && (t.font = window.getComputedStyle(t.canvas).getPropertyValue("font")), this.baseSetContext(t), this.attribute("x").hasValue() || (this.attribute("x", !0).value = 0), this.attribute("y").hasValue() || (this.attribute("y", !0).value = 0), t.translate(this.attribute("x").toPixels("x"), this.attribute("y").toPixels("y"));
					var e = o.ViewPort.width(), i = o.ViewPort.height();
					if (this.attribute("width").hasValue() || (this.attribute("width", !0).value = "100%"), this.attribute("height").hasValue() || (this.attribute("height", !0).value = "100%"), "undefined" == typeof this.root) {
						e = this.attribute("width").toPixels("x"), i = this.attribute("height").toPixels("y");
						var n = 0, r = 0;
						this.attribute("refX").hasValue() && this.attribute("refY").hasValue() && (n = -this.attribute("refX").toPixels("x"), r = -this.attribute("refY").toPixels("y")), "visible" != this.attribute("overflow").valueOrDefault("hidden") && (t.beginPath(), t.moveTo(n, r), t.lineTo(e, r), t.lineTo(e, i), t.lineTo(n, i), t.closePath(), t.clip())
					}
					if (o.ViewPort.SetCurrent(e, i), this.attribute("viewBox").hasValue()) {
						var s = o.ToNumberArray(this.attribute("viewBox").value), a = s[0], h = s[1];
						e = s[2], i = s[3], o.AspectRatio(t, this.attribute("preserveAspectRatio").value, o.ViewPort.width(), e, o.ViewPort.height(), i, a, h, this.attribute("refX").value, this.attribute("refY").value), o.ViewPort.RemoveCurrent(), o.ViewPort.SetCurrent(s[2], s[3])
					}
				}
			}, o.Element.svg.prototype = new o.Element.RenderedElementBase, o.Element.rect = function (t) {
				this.base = o.Element.PathElementBase, this.base(t), this.path = function (t) {
					var e = this.attribute("x").toPixels("x"), i = this.attribute("y").toPixels("y"),
						n = this.attribute("width").toPixels("x"), r = this.attribute("height").toPixels("y"),
						s = this.attribute("rx").toPixels("x"), a = this.attribute("ry").toPixels("y");
					return this.attribute("rx").hasValue() && !this.attribute("ry").hasValue() && (a = s), this.attribute("ry").hasValue() && !this.attribute("rx").hasValue() && (s = a), s = Math.min(s, n / 2), a = Math.min(a, r / 2), null != t && (t.beginPath(), t.moveTo(e + s, i), t.lineTo(e + n - s, i), t.quadraticCurveTo(e + n, i, e + n, i + a), t.lineTo(e + n, i + r - a), t.quadraticCurveTo(e + n, i + r, e + n - s, i + r), t.lineTo(e + s, i + r), t.quadraticCurveTo(e, i + r, e, i + r - a), t.lineTo(e, i + a), t.quadraticCurveTo(e, i, e + s, i), t.closePath()), new o.BoundingBox(e, i, e + n, i + r)
				}
			}, o.Element.rect.prototype = new o.Element.PathElementBase, o.Element.circle = function (t) {
				this.base = o.Element.PathElementBase, this.base(t), this.path = function (t) {
					var e = this.attribute("cx").toPixels("x"), i = this.attribute("cy").toPixels("y"),
						n = this.attribute("r").toPixels();
					return null != t && (t.beginPath(), t.arc(e, i, n, 0, 2 * Math.PI, !0), t.closePath()), new o.BoundingBox(e - n, i - n, e + n, i + n)
				}
			}, o.Element.circle.prototype = new o.Element.PathElementBase, o.Element.ellipse = function (t) {
				this.base = o.Element.PathElementBase, this.base(t), this.path = function (t) {
					var e = 4 * ((Math.sqrt(2) - 1) / 3), i = this.attribute("rx").toPixels("x"),
						n = this.attribute("ry").toPixels("y"), r = this.attribute("cx").toPixels("x"),
						s = this.attribute("cy").toPixels("y");
					return null != t && (t.beginPath(), t.moveTo(r, s - n), t.bezierCurveTo(r + e * i, s - n, r + i, s - e * n, r + i, s), t.bezierCurveTo(r + i, s + e * n, r + e * i, s + n, r, s + n), t.bezierCurveTo(r - e * i, s + n, r - i, s + e * n, r - i, s), t.bezierCurveTo(r - i, s - e * n, r - e * i, s - n, r, s - n), t.closePath()), new o.BoundingBox(r - i, s - n, r + i, s + n)
				}
			}, o.Element.ellipse.prototype = new o.Element.PathElementBase, o.Element.line = function (t) {
				this.base = o.Element.PathElementBase, this.base(t), this.getPoints = function () {
					return [new o.Point(this.attribute("x1").toPixels("x"), this.attribute("y1").toPixels("y")), new o.Point(this.attribute("x2").toPixels("x"), this.attribute("y2").toPixels("y"))]
				}, this.path = function (t) {
					var e = this.getPoints();
					return null != t && (t.beginPath(), t.moveTo(e[0].x, e[0].y), t.lineTo(e[1].x, e[1].y)), new o.BoundingBox(e[0].x, e[0].y, e[1].x, e[1].y)
				}, this.getMarkers = function () {
					var t = this.getPoints(), e = t[0].angleTo(t[1]);
					return [[t[0], e], [t[1], e]]
				}
			}, o.Element.line.prototype = new o.Element.PathElementBase, o.Element.polyline = function (t) {
				this.base = o.Element.PathElementBase, this.base(t), this.points = o.CreatePath(this.attribute("points").value), this.path = function (t) {
					var e = new o.BoundingBox(this.points[0].x, this.points[0].y);
					null != t && (t.beginPath(), t.moveTo(this.points[0].x, this.points[0].y));
					for (var i = 1; i < this.points.length; i++) e.addPoint(this.points[i].x, this.points[i].y), null != t && t.lineTo(this.points[i].x, this.points[i].y);
					return e
				}, this.getMarkers = function () {
					for (var t = [], e = 0; e < this.points.length - 1; e++) t.push([this.points[e], this.points[e].angleTo(this.points[e + 1])]);
					return t.length > 0 && t.push([this.points[this.points.length - 1], t[t.length - 1][1]]), t
				}
			}, o.Element.polyline.prototype = new o.Element.PathElementBase, o.Element.polygon = function (t) {
				this.base = o.Element.polyline, this.base(t), this.basePath = this.path, this.path = function (t) {
					var e = this.basePath(t);
					return null != t && (t.lineTo(this.points[0].x, this.points[0].y), t.closePath()), e
				}
			}, o.Element.polygon.prototype = new o.Element.polyline, o.Element.path = function (t) {
				this.base = o.Element.PathElementBase, this.base(t);
				var e = this.attribute("d").value;
				e = e.replace(/,/gm, " ");
				for (var i = 0; i < 2; i++) e = e.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm, "$1 $2");
				e = e.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm, "$1 $2"), e = e.replace(/([0-9])([+\-])/gm, "$1 $2");
				for (var i = 0; i < 2; i++) e = e.replace(/(\.[0-9]*)(\.)/gm, "$1 $2");
				e = e.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm, "$1 $3 $4 "), e = o.compressSpaces(e), e = o.trim(e), this.PathParser = new function (t) {
					this.tokens = t.split(" "), this.reset = function () {
						this.i = -1, this.command = "", this.previousCommand = "", this.start = new o.Point(0, 0), this.control = new o.Point(0, 0), this.current = new o.Point(0, 0), this.points = [], this.angles = []
					}, this.isEnd = function () {
						return this.i >= this.tokens.length - 1
					}, this.isCommandOrEnd = function () {
						return !!this.isEnd() || null != this.tokens[this.i + 1].match(/^[A-Za-z]$/)
					}, this.isRelativeCommand = function () {
						switch (this.command) {
							case"m":
							case"l":
							case"h":
							case"v":
							case"c":
							case"s":
							case"q":
							case"t":
							case"a":
							case"z":
								return !0
						}
						return !1
					}, this.getToken = function () {
						return this.i++, this.tokens[this.i]
					}, this.getScalar = function () {
						return parseFloat(this.getToken())
					}, this.nextCommand = function () {
						this.previousCommand = this.command, this.command = this.getToken()
					}, this.getPoint = function () {
						var t = new o.Point(this.getScalar(), this.getScalar());
						return this.makeAbsolute(t)
					}, this.getAsControlPoint = function () {
						var t = this.getPoint();
						return this.control = t, t
					}, this.getAsCurrentPoint = function () {
						var t = this.getPoint();
						return this.current = t, t
					}, this.getReflectedControlPoint = function () {
						if ("c" != this.previousCommand.toLowerCase() && "s" != this.previousCommand.toLowerCase() && "q" != this.previousCommand.toLowerCase() && "t" != this.previousCommand.toLowerCase()) return this.current;
						var t = new o.Point(2 * this.current.x - this.control.x, 2 * this.current.y - this.control.y);
						return t
					}, this.makeAbsolute = function (t) {
						return this.isRelativeCommand() && (t.x += this.current.x, t.y += this.current.y), t
					}, this.addMarker = function (t, e, i) {
						null != i && this.angles.length > 0 && null == this.angles[this.angles.length - 1] && (this.angles[this.angles.length - 1] = this.points[this.points.length - 1].angleTo(i)), this.addMarkerAngle(t, null == e ? null : e.angleTo(t))
					}, this.addMarkerAngle = function (t, e) {
						this.points.push(t), this.angles.push(e)
					}, this.getMarkerPoints = function () {
						return this.points
					}, this.getMarkerAngles = function () {
						for (var t = 0; t < this.angles.length; t++) if (null == this.angles[t]) for (var e = t + 1; e < this.angles.length; e++) if (null != this.angles[e]) {
							this.angles[t] = this.angles[e];
							break
						}
						return this.angles
					}
				}(e), this.path = function (t) {
					var e = this.PathParser;
					e.reset();
					var i = new o.BoundingBox;
					for (null != t && t.beginPath(); !e.isEnd();) switch (e.nextCommand(), e.command) {
						case"M":
						case"m":
							var n = e.getAsCurrentPoint();
							for (e.addMarker(n), i.addPoint(n.x, n.y), null != t && t.moveTo(n.x, n.y), e.start = e.current; !e.isCommandOrEnd();) {
								var n = e.getAsCurrentPoint();
								e.addMarker(n, e.start), i.addPoint(n.x, n.y), null != t && t.lineTo(n.x, n.y)
							}
							break;
						case"L":
						case"l":
							for (; !e.isCommandOrEnd();) {
								var r = e.current, n = e.getAsCurrentPoint();
								e.addMarker(n, r), i.addPoint(n.x, n.y), null != t && t.lineTo(n.x, n.y)
							}
							break;
						case"H":
						case"h":
							for (; !e.isCommandOrEnd();) {
								var s = new o.Point((e.isRelativeCommand() ? e.current.x : 0) + e.getScalar(), e.current.y);
								e.addMarker(s, e.current), e.current = s, i.addPoint(e.current.x, e.current.y), null != t && t.lineTo(e.current.x, e.current.y)
							}
							break;
						case"V":
						case"v":
							for (; !e.isCommandOrEnd();) {
								var s = new o.Point(e.current.x, (e.isRelativeCommand() ? e.current.y : 0) + e.getScalar());
								e.addMarker(s, e.current), e.current = s, i.addPoint(e.current.x, e.current.y), null != t && t.lineTo(e.current.x, e.current.y)
							}
							break;
						case"C":
						case"c":
							for (; !e.isCommandOrEnd();) {
								var a = e.current, h = e.getPoint(), l = e.getAsControlPoint(),
									u = e.getAsCurrentPoint();
								e.addMarker(u, l, h), i.addBezierCurve(a.x, a.y, h.x, h.y, l.x, l.y, u.x, u.y), null != t && t.bezierCurveTo(h.x, h.y, l.x, l.y, u.x, u.y)
							}
							break;
						case"S":
						case"s":
							for (; !e.isCommandOrEnd();) {
								var a = e.current, h = e.getReflectedControlPoint(), l = e.getAsControlPoint(),
									u = e.getAsCurrentPoint();
								e.addMarker(u, l, h), i.addBezierCurve(a.x, a.y, h.x, h.y, l.x, l.y, u.x, u.y), null != t && t.bezierCurveTo(h.x, h.y, l.x, l.y, u.x, u.y)
							}
							break;
						case"Q":
						case"q":
							for (; !e.isCommandOrEnd();) {
								var a = e.current, l = e.getAsControlPoint(), u = e.getAsCurrentPoint();
								e.addMarker(u, l, l), i.addQuadraticCurve(a.x, a.y, l.x, l.y, u.x, u.y), null != t && t.quadraticCurveTo(l.x, l.y, u.x, u.y)
							}
							break;
						case"T":
						case"t":
							for (; !e.isCommandOrEnd();) {
								var a = e.current, l = e.getReflectedControlPoint();
								e.control = l;
								var u = e.getAsCurrentPoint();
								e.addMarker(u, l, l), i.addQuadraticCurve(a.x, a.y, l.x, l.y, u.x, u.y), null != t && t.quadraticCurveTo(l.x, l.y, u.x, u.y)
							}
							break;
						case"A":
						case"a":
							for (; !e.isCommandOrEnd();) {
								var a = e.current, c = e.getScalar(), f = e.getScalar(),
									d = e.getScalar() * (Math.PI / 180), p = e.getScalar(), g = e.getScalar(),
									u = e.getAsCurrentPoint(),
									m = new o.Point(Math.cos(d) * (a.x - u.x) / 2 + Math.sin(d) * (a.y - u.y) / 2, -Math.sin(d) * (a.x - u.x) / 2 + Math.cos(d) * (a.y - u.y) / 2),
									y = Math.pow(m.x, 2) / Math.pow(c, 2) + Math.pow(m.y, 2) / Math.pow(f, 2);
								y > 1 && (c *= Math.sqrt(y), f *= Math.sqrt(y));
								var v = (p == g ? -1 : 1) * Math.sqrt((Math.pow(c, 2) * Math.pow(f, 2) - Math.pow(c, 2) * Math.pow(m.y, 2) - Math.pow(f, 2) * Math.pow(m.x, 2)) / (Math.pow(c, 2) * Math.pow(m.y, 2) + Math.pow(f, 2) * Math.pow(m.x, 2)));
								isNaN(v) && (v = 0);
								var _ = new o.Point(v * c * m.y / f, v * -f * m.x / c),
									x = new o.Point((a.x + u.x) / 2 + Math.cos(d) * _.x - Math.sin(d) * _.y, (a.y + u.y) / 2 + Math.sin(d) * _.x + Math.cos(d) * _.y),
									b = function (t) {
										return Math.sqrt(Math.pow(t[0], 2) + Math.pow(t[1], 2))
									}, w = function (t, e) {
										return (t[0] * e[0] + t[1] * e[1]) / (b(t) * b(e))
									}, T = function (t, e) {
										return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(w(t, e))
									}, C = T([1, 0], [(m.x - _.x) / c, (m.y - _.y) / f]),
									E = [(m.x - _.x) / c, (m.y - _.y) / f], M = [(-m.x - _.x) / c, (-m.y - _.y) / f],
									P = T(E, M);
								w(E, M) <= -1 && (P = Math.PI), w(E, M) >= 1 && (P = 0);
								var S = 1 - g ? 1 : -1, I = C + S * (P / 2),
									R = new o.Point(x.x + c * Math.cos(I), x.y + f * Math.sin(I));
								if (e.addMarkerAngle(R, I - S * Math.PI / 2), e.addMarkerAngle(u, I - S * Math.PI), i.addPoint(u.x, u.y), null != t) {
									var w = c > f ? c : f, A = c > f ? 1 : c / f, k = c > f ? f / c : 1;
									t.translate(x.x, x.y), t.rotate(d), t.scale(A, k), t.arc(0, 0, w, C, C + P, 1 - g), t.scale(1 / A, 1 / k), t.rotate(-d), t.translate(-x.x, -x.y)
								}
							}
							break;
						case"Z":
						case"z":
							null != t && t.closePath(), e.current = e.start
					}
					return i
				}, this.getMarkers = function () {
					for (var t = this.PathParser.getMarkerPoints(), e = this.PathParser.getMarkerAngles(), i = [], n = 0; n < t.length; n++) i.push([t[n], e[n]]);
					return i
				}
			}, o.Element.path.prototype = new o.Element.PathElementBase, o.Element.pattern = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.createPattern = function (t, e) {
					var i = this.attribute("width").toPixels("x", !0), n = this.attribute("height").toPixels("y", !0),
						r = new o.Element.svg;
					r.attributes.viewBox = new o.Property("viewBox", this.attribute("viewBox").value), r.attributes.width = new o.Property("width", i + "px"), r.attributes.height = new o.Property("height", n + "px"), r.attributes.transform = new o.Property("transform", this.attribute("patternTransform").value), r.children = this.children;
					var s = document.createElement("canvas");
					s.width = i, s.height = n;
					var a = s.getContext("2d");
					this.attribute("x").hasValue() && this.attribute("y").hasValue() && a.translate(this.attribute("x").toPixels("x", !0), this.attribute("y").toPixels("y", !0));
					for (var h = -1; h <= 1; h++) for (var l = -1; l <= 1; l++) a.save(), r.attributes.x = new o.Property("x", h * s.width), r.attributes.y = new o.Property("y", l * s.height), r.render(a), a.restore();
					var u = t.createPattern(s, "repeat");
					return u
				}
			}, o.Element.pattern.prototype = new o.Element.ElementBase, o.Element.marker = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.baseRender = this.render, this.render = function (t, e, i) {
					t.translate(e.x, e.y), "auto" == this.attribute("orient").valueOrDefault("auto") && t.rotate(i), "strokeWidth" == this.attribute("markerUnits").valueOrDefault("strokeWidth") && t.scale(t.lineWidth, t.lineWidth), t.save();
					var n = new o.Element.svg;
					n.attributes.viewBox = new o.Property("viewBox", this.attribute("viewBox").value), n.attributes.refX = new o.Property("refX", this.attribute("refX").value), n.attributes.refY = new o.Property("refY", this.attribute("refY").value), n.attributes.width = new o.Property("width", this.attribute("markerWidth").value), n.attributes.height = new o.Property("height", this.attribute("markerHeight").value), n.attributes.fill = new o.Property("fill", this.attribute("fill").valueOrDefault("black")), n.attributes.stroke = new o.Property("stroke", this.attribute("stroke").valueOrDefault("none")), n.children = this.children, n.render(t), t.restore(), "strokeWidth" == this.attribute("markerUnits").valueOrDefault("strokeWidth") && t.scale(1 / t.lineWidth, 1 / t.lineWidth), "auto" == this.attribute("orient").valueOrDefault("auto") && t.rotate(-i), t.translate(-e.x, -e.y)
				}
			}, o.Element.marker.prototype = new o.Element.ElementBase, o.Element.defs = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.render = function (t) {
				}
			}, o.Element.defs.prototype = new o.Element.ElementBase, o.Element.GradientBase = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.stops = [];
				for (var e = 0; e < this.children.length; e++) {
					var i = this.children[e];
					"stop" == i.type && this.stops.push(i)
				}
				this.getGradient = function () {
				}, this.gradientUnits = function () {
					return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")
				}, this.attributesToInherit = ["gradientUnits"], this.inheritStopContainer = function (t) {
					for (var e = 0; e < this.attributesToInherit.length; e++) {
						var i = this.attributesToInherit[e];
						!this.attribute(i).hasValue() && t.attribute(i).hasValue() && (this.attribute(i, !0).value = t.attribute(i).value)
					}
				}, this.createGradient = function (t, e, i) {
					var n = this;
					this.getHrefAttribute().hasValue() && (n = this.getHrefAttribute().getDefinition(), this.inheritStopContainer(n));
					var r = function (t) {
						if (i.hasValue()) {
							var e = new o.Property("color", t);
							return e.addOpacity(i).value
						}
						return t
					}, s = this.getGradient(t, e);
					if (null == s) return r(n.stops[n.stops.length - 1].color);
					for (var a = 0; a < n.stops.length; a++) s.addColorStop(n.stops[a].offset, r(n.stops[a].color));
					if (this.attribute("gradientTransform").hasValue()) {
						var h = o.ViewPort.viewPorts[0], l = new o.Element.rect;
						l.attributes.x = new o.Property("x", -o.MAX_VIRTUAL_PIXELS / 3), l.attributes.y = new o.Property("y", -o.MAX_VIRTUAL_PIXELS / 3), l.attributes.width = new o.Property("width", o.MAX_VIRTUAL_PIXELS), l.attributes.height = new o.Property("height", o.MAX_VIRTUAL_PIXELS);
						var u = new o.Element.g;
						u.attributes.transform = new o.Property("transform", this.attribute("gradientTransform").value), u.children = [l];
						var c = new o.Element.svg;
						c.attributes.x = new o.Property("x", 0), c.attributes.y = new o.Property("y", 0), c.attributes.width = new o.Property("width", h.width), c.attributes.height = new o.Property("height", h.height), c.children = [u];
						var f = document.createElement("canvas");
						f.width = h.width, f.height = h.height;
						var d = f.getContext("2d");
						return d.fillStyle = s, c.render(d), d.createPattern(f, "no-repeat")
					}
					return s
				}
			}, o.Element.GradientBase.prototype = new o.Element.ElementBase, o.Element.linearGradient = function (t) {
				this.base = o.Element.GradientBase, this.base(t), this.attributesToInherit.push("x1"), this.attributesToInherit.push("y1"), this.attributesToInherit.push("x2"), this.attributesToInherit.push("y2"), this.getGradient = function (t, e) {
					var i = "objectBoundingBox" == this.gradientUnits() ? e.getBoundingBox() : null;
					this.attribute("x1").hasValue() || this.attribute("y1").hasValue() || this.attribute("x2").hasValue() || this.attribute("y2").hasValue() || (this.attribute("x1", !0).value = 0, this.attribute("y1", !0).value = 0, this.attribute("x2", !0).value = 1, this.attribute("y2", !0).value = 0);
					var n = "objectBoundingBox" == this.gradientUnits() ? i.x() + i.width() * this.attribute("x1").numValue() : this.attribute("x1").toPixels("x"),
						r = "objectBoundingBox" == this.gradientUnits() ? i.y() + i.height() * this.attribute("y1").numValue() : this.attribute("y1").toPixels("y"),
						o = "objectBoundingBox" == this.gradientUnits() ? i.x() + i.width() * this.attribute("x2").numValue() : this.attribute("x2").toPixels("x"),
						s = "objectBoundingBox" == this.gradientUnits() ? i.y() + i.height() * this.attribute("y2").numValue() : this.attribute("y2").toPixels("y");
					return n == o && r == s ? null : t.createLinearGradient(n, r, o, s)
				}
			}, o.Element.linearGradient.prototype = new o.Element.GradientBase, o.Element.radialGradient = function (t) {
				this.base = o.Element.GradientBase, this.base(t), this.attributesToInherit.push("cx"), this.attributesToInherit.push("cy"), this.attributesToInherit.push("r"), this.attributesToInherit.push("fx"), this.attributesToInherit.push("fy"), this.getGradient = function (t, e) {
					var i = e.getBoundingBox();
					this.attribute("cx").hasValue() || (this.attribute("cx", !0).value = "50%"), this.attribute("cy").hasValue() || (this.attribute("cy", !0).value = "50%"), this.attribute("r").hasValue() || (this.attribute("r", !0).value = "50%");
					var n = "objectBoundingBox" == this.gradientUnits() ? i.x() + i.width() * this.attribute("cx").numValue() : this.attribute("cx").toPixels("x"),
						r = "objectBoundingBox" == this.gradientUnits() ? i.y() + i.height() * this.attribute("cy").numValue() : this.attribute("cy").toPixels("y"),
						o = n, s = r;
					this.attribute("fx").hasValue() && (o = "objectBoundingBox" == this.gradientUnits() ? i.x() + i.width() * this.attribute("fx").numValue() : this.attribute("fx").toPixels("x")), this.attribute("fy").hasValue() && (s = "objectBoundingBox" == this.gradientUnits() ? i.y() + i.height() * this.attribute("fy").numValue() : this.attribute("fy").toPixels("y"));
					var a = "objectBoundingBox" == this.gradientUnits() ? (i.width() + i.height()) / 2 * this.attribute("r").numValue() : this.attribute("r").toPixels();
					return t.createRadialGradient(o, s, 0, n, r, a)
				}
			}, o.Element.radialGradient.prototype = new o.Element.GradientBase, o.Element.stop = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.offset = this.attribute("offset").numValue(), this.offset < 0 && (this.offset = 0), this.offset > 1 && (this.offset = 1);
				var e = this.style("stop-color", !0);
				"" === e.value && (e.value = "#000"), this.style("stop-opacity").hasValue() && (e = e.addOpacity(this.style("stop-opacity"))), this.color = e.value
			}, o.Element.stop.prototype = new o.Element.ElementBase, o.Element.AnimateBase = function (t) {
				this.base = o.Element.ElementBase, this.base(t), o.Animations.push(this), this.duration = 0, this.begin = this.attribute("begin").toMilliseconds(), this.maxDuration = this.begin + this.attribute("dur").toMilliseconds(), this.getProperty = function () {
					var t = this.attribute("attributeType").value, e = this.attribute("attributeName").value;
					return "CSS" == t ? this.parent.style(e, !0) : this.parent.attribute(e, !0)
				}, this.initialValue = null, this.initialUnits = "", this.removed = !1, this.calcValue = function () {
					return ""
				}, this.update = function (t) {
					if (null == this.initialValue && (this.initialValue = this.getProperty().value, this.initialUnits = this.getProperty().getUnits()), this.duration > this.maxDuration) {
						if ("indefinite" == this.attribute("repeatCount").value || "indefinite" == this.attribute("repeatDur").value) this.duration = 0; else if ("freeze" != this.attribute("fill").valueOrDefault("remove") || this.frozen) {
							if ("remove" == this.attribute("fill").valueOrDefault("remove") && !this.removed) return this.removed = !0, this.getProperty().value = this.parent.animationFrozen ? this.parent.animationFrozenValue : this.initialValue, !0
						} else this.frozen = !0, this.parent.animationFrozen = !0, this.parent.animationFrozenValue = this.getProperty().value;
						return !1
					}
					this.duration = this.duration + t;
					var e = !1;
					if (this.begin < this.duration) {
						var i = this.calcValue();
						if (this.attribute("type").hasValue()) {
							var n = this.attribute("type").value;
							i = n + "(" + i + ")"
						}
						this.getProperty().value = i, e = !0
					}
					return e
				}, this.from = this.attribute("from"), this.to = this.attribute("to"), this.values = this.attribute("values"), this.values.hasValue() && (this.values.value = this.values.value.split(";")), this.progress = function () {
					var t = {progress: (this.duration - this.begin) / (this.maxDuration - this.begin)};
					if (this.values.hasValue()) {
						var e = t.progress * (this.values.value.length - 1), i = Math.floor(e), n = Math.ceil(e);
						t.from = new o.Property("from", parseFloat(this.values.value[i])), t.to = new o.Property("to", parseFloat(this.values.value[n])), t.progress = (e - i) / (n - i)
					} else t.from = this.from, t.to = this.to;
					return t
				}
			}, o.Element.AnimateBase.prototype = new o.Element.ElementBase, o.Element.animate = function (t) {
				this.base = o.Element.AnimateBase, this.base(t), this.calcValue = function () {
					var t = this.progress(), e = t.from.numValue() + (t.to.numValue() - t.from.numValue()) * t.progress;
					return e + this.initialUnits
				}
			}, o.Element.animate.prototype = new o.Element.AnimateBase, o.Element.animateColor = function (e) {
				this.base = o.Element.AnimateBase, this.base(e), this.calcValue = function () {
					var e = this.progress(), i = new t(e.from.value), n = new t(e.to.value);
					if (i.ok && n.ok) {
						var r = i.r + (n.r - i.r) * e.progress, o = i.g + (n.g - i.g) * e.progress,
							s = i.b + (n.b - i.b) * e.progress;
						return "rgb(" + parseInt(r, 10) + "," + parseInt(o, 10) + "," + parseInt(s, 10) + ")"
					}
					return this.attribute("from").value
				}
			}, o.Element.animateColor.prototype = new o.Element.AnimateBase, o.Element.animateTransform = function (t) {
				this.base = o.Element.AnimateBase, this.base(t), this.calcValue = function () {
					for (var t = this.progress(), e = o.ToNumberArray(t.from.value), i = o.ToNumberArray(t.to.value), n = "", r = 0; r < e.length; r++) n += e[r] + (i[r] - e[r]) * t.progress + " ";
					return n
				}
			}, o.Element.animateTransform.prototype = new o.Element.animate, o.Element.font = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.horizAdvX = this.attribute("horiz-adv-x").numValue(), this.isRTL = !1, this.isArabic = !1, this.fontFace = null, this.missingGlyph = null, this.glyphs = [];
				for (var e = 0; e < this.children.length; e++) {
					var i = this.children[e];
					"font-face" == i.type ? (this.fontFace = i, i.style("font-family").hasValue() && (o.Definitions[i.style("font-family").value] = this)) : "missing-glyph" == i.type ? this.missingGlyph = i : "glyph" == i.type && ("" != i.arabicForm ? (this.isRTL = !0, this.isArabic = !0, "undefined" == typeof this.glyphs[i.unicode] && (this.glyphs[i.unicode] = []), this.glyphs[i.unicode][i.arabicForm] = i) : this.glyphs[i.unicode] = i)
				}
			}, o.Element.font.prototype = new o.Element.ElementBase, o.Element.fontface = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.ascent = this.attribute("ascent").value, this.descent = this.attribute("descent").value, this.unitsPerEm = this.attribute("units-per-em").numValue()
			}, o.Element.fontface.prototype = new o.Element.ElementBase, o.Element.missingglyph = function (t) {
				this.base = o.Element.path, this.base(t), this.horizAdvX = 0
			}, o.Element.missingglyph.prototype = new o.Element.path, o.Element.glyph = function (t) {
				this.base = o.Element.path, this.base(t), this.horizAdvX = this.attribute("horiz-adv-x").numValue(), this.unicode = this.attribute("unicode").value, this.arabicForm = this.attribute("arabic-form").value
			}, o.Element.glyph.prototype = new o.Element.path, o.Element.text = function (t) {
				this.captureTextNodes = !0, this.base = o.Element.RenderedElementBase, this.base(t), this.baseSetContext = this.setContext, this.setContext = function (t) {
					this.baseSetContext(t);
					var e = this.style("dominant-baseline").toTextBaseline();
					null == e && (e = this.style("alignment-baseline").toTextBaseline()), null != e && (t.textBaseline = e)
				}, this.getBoundingBox = function () {
					var t = this.attribute("x").toPixels("x"), e = this.attribute("y").toPixels("y"),
						i = this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize);
					return new o.BoundingBox(t, e - i, t + Math.floor(2 * i / 3) * this.children[0].getText().length, e)
				}, this.renderChildren = function (t) {
					this.x = this.attribute("x").toPixels("x"), this.y = this.attribute("y").toPixels("y"), this.attribute("dx").hasValue() && (this.x += this.attribute("dx").toPixels("x")), this.attribute("dy").hasValue() && (this.y += this.attribute("dy").toPixels("y")), this.x += this.getAnchorDelta(t, this, 0);
					for (var e = 0; e < this.children.length; e++) this.renderChild(t, this, this, e)
				}, this.getAnchorDelta = function (t, e, i) {
					var n = this.style("text-anchor").valueOrDefault("start");
					if ("start" != n) {
						for (var r = 0, o = i; o < e.children.length; o++) {
							var s = e.children[o];
							if (o > i && s.attribute("x").hasValue()) break;
							r += s.measureTextRecursive(t);
						}
						return -1 * ("end" == n ? r : r / 2)
					}
					return 0
				}, this.renderChild = function (t, e, i, n) {
					var r = i.children[n];
					r.attribute("x").hasValue() ? (r.x = r.attribute("x").toPixels("x") + e.getAnchorDelta(t, i, n), r.attribute("dx").hasValue() && (r.x += r.attribute("dx").toPixels("x"))) : (r.attribute("dx").hasValue() && (e.x += r.attribute("dx").toPixels("x")), r.x = e.x), e.x = r.x + r.measureText(t), r.attribute("y").hasValue() ? (r.y = r.attribute("y").toPixels("y"), r.attribute("dy").hasValue() && (r.y += r.attribute("dy").toPixels("y"))) : (r.attribute("dy").hasValue() && (e.y += r.attribute("dy").toPixels("y")), r.y = e.y), e.y = r.y, r.render(t);
					for (var n = 0; n < r.children.length; n++) e.renderChild(t, e, r, n)
				}
			}, o.Element.text.prototype = new o.Element.RenderedElementBase, o.Element.TextElementBase = function (t) {
				this.base = o.Element.RenderedElementBase, this.base(t), this.getGlyph = function (t, e, i) {
					var n = e[i], r = null;
					if (t.isArabic) {
						var o = "isolated";
						(0 == i || " " == e[i - 1]) && i < e.length - 2 && " " != e[i + 1] && (o = "terminal"), i > 0 && " " != e[i - 1] && i < e.length - 2 && " " != e[i + 1] && (o = "medial"), i > 0 && " " != e[i - 1] && (i == e.length - 1 || " " == e[i + 1]) && (o = "initial"), "undefined" != typeof t.glyphs[n] && (r = t.glyphs[n][o], null == r && "glyph" == t.glyphs[n].type && (r = t.glyphs[n]))
					} else r = t.glyphs[n];
					return null == r && (r = t.missingGlyph), r
				}, this.renderChildren = function (t) {
					var e = this.parent.style("font-family").getDefinition();
					if (null == e) "" != t.fillStyle && t.fillText(this.getText(), this.x, this.y), "" != t.strokeStyle && t.strokeText(this.getText(), this.x, this.y); else {
						var i = this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize),
							n = this.parent.style("font-style").valueOrDefault(o.Font.Parse(o.ctx.font).fontStyle),
							r = this.getText();
						e.isRTL && (r = r.split("").reverse().join(""));
						for (var s = o.ToNumberArray(this.parent.attribute("dx").value), a = 0; a < r.length; a++) {
							var h = this.getGlyph(e, r, a), l = i / e.fontFace.unitsPerEm;
							t.translate(this.x, this.y), t.scale(l, -l);
							var u = t.lineWidth;
							t.lineWidth = t.lineWidth * e.fontFace.unitsPerEm / i, "italic" == n && t.transform(1, 0, .4, 1, 0, 0), h.render(t), "italic" == n && t.transform(1, 0, -.4, 1, 0, 0), t.lineWidth = u, t.scale(1 / l, -1 / l), t.translate(-this.x, -this.y), this.x += i * (h.horizAdvX || e.horizAdvX) / e.fontFace.unitsPerEm, "undefined" == typeof s[a] || isNaN(s[a]) || (this.x += s[a])
						}
					}
				}, this.getText = function () {
				}, this.measureTextRecursive = function (t) {
					for (var e = this.measureText(t), i = 0; i < this.children.length; i++) e += this.children[i].measureTextRecursive(t);
					return e
				}, this.measureText = function (t) {
					var e = this.parent.style("font-family").getDefinition();
					if (null != e) {
						var i = this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize),
							n = 0, r = this.getText();
						e.isRTL && (r = r.split("").reverse().join(""));
						for (var s = o.ToNumberArray(this.parent.attribute("dx").value), a = 0; a < r.length; a++) {
							var h = this.getGlyph(e, r, a);
							n += (h.horizAdvX || e.horizAdvX) * i / e.fontFace.unitsPerEm, "undefined" == typeof s[a] || isNaN(s[a]) || (n += s[a])
						}
						return n
					}
					var l = this.getText();
					if (!t.measureText) return 10 * l.length;
					t.save(), this.setContext(t);
					var u = t.measureText(l).width;
					return t.restore(), u
				}
			}, o.Element.TextElementBase.prototype = new o.Element.RenderedElementBase, o.Element.tspan = function (t) {
				this.captureTextNodes = !0, this.base = o.Element.TextElementBase, this.base(t), this.text = t.value || t.text || t.textContent || "", this.getText = function () {
					return this.children.length > 0 ? "" : this.text
				}
			}, o.Element.tspan.prototype = new o.Element.TextElementBase, o.Element.tref = function (t) {
				this.base = o.Element.TextElementBase, this.base(t), this.getText = function () {
					var t = this.getHrefAttribute().getDefinition();
					if (null != t) return t.children[0].getText()
				}
			}, o.Element.tref.prototype = new o.Element.TextElementBase, o.Element.a = function (t) {
				this.base = o.Element.TextElementBase, this.base(t), this.hasText = t.childNodes.length > 0;
				for (var e = 0; e < t.childNodes.length; e++) 3 != t.childNodes[e].nodeType && (this.hasText = !1);
				this.text = this.hasText ? t.childNodes[0].value : "", this.getText = function () {
					return this.text
				}, this.baseRenderChildren = this.renderChildren, this.renderChildren = function (t) {
					if (this.hasText) {
						this.baseRenderChildren(t);
						var e = new o.Property("fontSize", o.Font.Parse(o.ctx.font).fontSize);
						o.Mouse.checkBoundingBox(this, new o.BoundingBox(this.x, this.y - e.toPixels("y"), this.x + this.measureText(t), this.y))
					} else if (this.children.length > 0) {
						var i = new o.Element.g;
						i.children = this.children, i.parent = this, i.render(t)
					}
				}, this.onclick = function () {
					window.open(this.getHrefAttribute().value)
				}, this.onmousemove = function () {
					o.ctx.canvas.style.cursor = "pointer"
				}
			}, o.Element.a.prototype = new o.Element.TextElementBase, o.Element.image = function (t) {
				this.base = o.Element.RenderedElementBase, this.base(t);
				var e = this.getHrefAttribute().value;
				if ("" != e) {
					var i = e.match(/\.svg$/);
					if (o.Images.push(this), this.loaded = !1, i) this.img = o.ajax(e), this.loaded = !0; else {
						this.img = document.createElement("img"), 1 == o.opts.useCORS && (this.img.crossOrigin = "Anonymous");
						var n = this;
						this.img.onload = function () {
							n.loaded = !0
						}, this.img.onerror = function () {
							o.log('ERROR: image "' + e + '" not found'), n.loaded = !0
						}, this.img.src = e
					}
					this.renderChildren = function (t) {
						var e = this.attribute("x").toPixels("x"), n = this.attribute("y").toPixels("y"),
							r = this.attribute("width").toPixels("x"), s = this.attribute("height").toPixels("y");
						0 != r && 0 != s && (t.save(), i ? t.drawSvg(this.img, e, n, r, s) : (t.translate(e, n), o.AspectRatio(t, this.attribute("preserveAspectRatio").value, r, this.img.width, s, this.img.height, 0, 0), t.drawImage(this.img, 0, 0)), t.restore())
					}, this.getBoundingBox = function () {
						var t = this.attribute("x").toPixels("x"), e = this.attribute("y").toPixels("y"),
							i = this.attribute("width").toPixels("x"), n = this.attribute("height").toPixels("y");
						return new o.BoundingBox(t, e, t + i, e + n)
					}
				}
			}, o.Element.image.prototype = new o.Element.RenderedElementBase, o.Element.g = function (t) {
				this.base = o.Element.RenderedElementBase, this.base(t), this.getBoundingBox = function () {
					for (var t = new o.BoundingBox, e = 0; e < this.children.length; e++) t.addBoundingBox(this.children[e].getBoundingBox());
					return t
				}
			}, o.Element.g.prototype = new o.Element.RenderedElementBase, o.Element.symbol = function (t) {
				this.base = o.Element.RenderedElementBase, this.base(t), this.render = function (t) {
				}
			}, o.Element.symbol.prototype = new o.Element.RenderedElementBase, o.Element.style = function (t) {
				this.base = o.Element.ElementBase, this.base(t);
				for (var e = "", n = 0; n < t.childNodes.length; n++) e += t.childNodes[n].data;
				e = e.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm, ""), e = o.compressSpaces(e);
				for (var r = e.split("}"), n = 0; n < r.length; n++) if ("" != o.trim(r[n])) for (var s = r[n].split("{"), a = s[0].split(","), h = s[1].split(";"), l = 0; l < a.length; l++) {
					var u = o.trim(a[l]);
					if ("" != u) {
						for (var c = o.Styles[u] || {}, f = 0; f < h.length; f++) {
							var d = h[f].indexOf(":"), p = h[f].substr(0, d), g = h[f].substr(d + 1, h[f].length - d);
							null != p && null != g && (c[o.trim(p)] = new o.Property(o.trim(p), o.trim(g)))
						}
						if (o.Styles[u] = c, o.StylesSpecificity[u] = i(u), "@font-face" == u) for (var m = c["font-family"].value.replace(/"/g, ""), y = c.src.value.split(","), v = 0; v < y.length; v++) if (y[v].indexOf('format("svg")') > 0) for (var _ = y[v].indexOf("url"), x = y[v].indexOf(")", _), b = y[v].substr(_ + 5, x - _ - 6), w = o.parseXml(o.ajax(b)), T = w.getElementsByTagName("font"), C = 0; C < T.length; C++) {
							var E = o.CreateElement(T[C]);
							o.Definitions[m] = E
						}
					}
				}
			}, o.Element.style.prototype = new o.Element.ElementBase, o.Element.use = function (t) {
				this.base = o.Element.RenderedElementBase, this.base(t), this.baseSetContext = this.setContext, this.setContext = function (t) {
					this.baseSetContext(t), this.attribute("x").hasValue() && t.translate(this.attribute("x").toPixels("x"), 0), this.attribute("y").hasValue() && t.translate(0, this.attribute("y").toPixels("y"))
				};
				var e = this.getHrefAttribute().getDefinition();
				this.path = function (t) {
					null != e && e.path(t)
				}, this.getBoundingBox = function () {
					if (null != e) return e.getBoundingBox()
				}, this.renderChildren = function (t) {
					if (null != e) {
						var i = e;
						"symbol" == e.type && (i = new o.Element.svg, i.type = "svg", i.attributes.viewBox = new o.Property("viewBox", e.attribute("viewBox").value), i.attributes.preserveAspectRatio = new o.Property("preserveAspectRatio", e.attribute("preserveAspectRatio").value), i.attributes.overflow = new o.Property("overflow", e.attribute("overflow").value), i.children = e.children), "svg" == i.type && (this.attribute("width").hasValue() && (i.attributes.width = new o.Property("width", this.attribute("width").value)), this.attribute("height").hasValue() && (i.attributes.height = new o.Property("height", this.attribute("height").value)));
						var n = i.parent;
						i.parent = null, i.render(t), i.parent = n
					}
				}
			}, o.Element.use.prototype = new o.Element.RenderedElementBase, o.Element.mask = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.apply = function (t, e) {
					var i = this.attribute("x").toPixels("x"), n = this.attribute("y").toPixels("y"),
						r = this.attribute("width").toPixels("x"), s = this.attribute("height").toPixels("y");
					if (0 == r && 0 == s) {
						for (var a = new o.BoundingBox, h = 0; h < this.children.length; h++) a.addBoundingBox(this.children[h].getBoundingBox());
						var i = Math.floor(a.x1), n = Math.floor(a.y1), r = Math.floor(a.width()),
							s = Math.floor(a.height())
					}
					var l = e.attribute("mask").value;
					e.attribute("mask").value = "";
					var u = document.createElement("canvas");
					u.width = i + r, u.height = n + s;
					var c = u.getContext("2d");
					this.renderChildren(c);
					var f = document.createElement("canvas");
					f.width = i + r, f.height = n + s;
					var d = f.getContext("2d");
					e.render(d), d.globalCompositeOperation = "destination-in", d.fillStyle = c.createPattern(u, "no-repeat"), d.fillRect(0, 0, i + r, n + s), t.fillStyle = d.createPattern(f, "no-repeat"), t.fillRect(0, 0, i + r, n + s), e.attribute("mask").value = l
				}, this.render = function (t) {
				}
			}, o.Element.mask.prototype = new o.Element.ElementBase, o.Element.clipPath = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.apply = function (t) {
					var e = CanvasRenderingContext2D.prototype.beginPath;
					CanvasRenderingContext2D.prototype.beginPath = function () {
					};
					var i = CanvasRenderingContext2D.prototype.closePath;
					CanvasRenderingContext2D.prototype.closePath = function () {
					}, e.call(t);
					for (var n = 0; n < this.children.length; n++) {
						var r = this.children[n];
						if ("undefined" != typeof r.path) {
							var s = null;
							r.style("transform", !1, !0).hasValue() && (s = new o.Transform(r.style("transform", !1, !0).value), s.apply(t)), r.path(t), CanvasRenderingContext2D.prototype.closePath = i, s && s.unapply(t)
						}
					}
					i.call(t), t.clip(), CanvasRenderingContext2D.prototype.beginPath = e, CanvasRenderingContext2D.prototype.closePath = i
				}, this.render = function (t) {
				}
			}, o.Element.clipPath.prototype = new o.Element.ElementBase, o.Element.filter = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.apply = function (t, e) {
					var i = e.getBoundingBox(), n = Math.floor(i.x1), r = Math.floor(i.y1), o = Math.floor(i.width()),
						s = Math.floor(i.height()), a = e.style("filter").value;
					e.style("filter").value = "";
					for (var h = 0, l = 0, u = 0; u < this.children.length; u++) {
						var c = this.children[u].extraFilterDistance || 0;
						h = Math.max(h, c), l = Math.max(l, c)
					}
					var f = document.createElement("canvas");
					f.width = o + 2 * h, f.height = s + 2 * l;
					var d = f.getContext("2d");
					d.translate(-n + h, -r + l), e.render(d);
					for (var u = 0; u < this.children.length; u++) "function" == typeof this.children[u].apply && this.children[u].apply(d, 0, 0, o + 2 * h, s + 2 * l);
					t.drawImage(f, 0, 0, o + 2 * h, s + 2 * l, n - h, r - l, o + 2 * h, s + 2 * l), e.style("filter", !0).value = a
				}, this.render = function (t) {
				}
			}, o.Element.filter.prototype = new o.Element.ElementBase, o.Element.feMorphology = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.apply = function (t, e, i, n, r) {
				}
			}, o.Element.feMorphology.prototype = new o.Element.ElementBase, o.Element.feComposite = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.apply = function (t, e, i, n, r) {
				}
			}, o.Element.feComposite.prototype = new o.Element.ElementBase, o.Element.feColorMatrix = function (t) {
				function e(t, e, i, n, r, o) {
					return t[i * n * 4 + 4 * e + o]
				}

				function i(t, e, i, n, r, o, s) {
					t[i * n * 4 + 4 * e + o] = s
				}

				function n(t, e) {
					var i = r[t];
					return i * (i < 0 ? e - 255 : e)
				}

				this.base = o.Element.ElementBase, this.base(t);
				var r = o.ToNumberArray(this.attribute("values").value);
				switch (this.attribute("type").valueOrDefault("matrix")) {
					case"saturate":
						var s = r[0];
						r = [.213 + .787 * s, .715 - .715 * s, .072 - .072 * s, 0, 0, .213 - .213 * s, .715 + .285 * s, .072 - .072 * s, 0, 0, .213 - .213 * s, .715 - .715 * s, .072 + .928 * s, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1];
						break;
					case"hueRotate":
						var a = r[0] * Math.PI / 180, h = function (t, e, i) {
							return t + Math.cos(a) * e + Math.sin(a) * i
						};
						r = [h(.213, .787, -.213), h(.715, -.715, -.715), h(.072, -.072, .928), 0, 0, h(.213, -.213, .143), h(.715, .285, .14), h(.072, -.072, -.283), 0, 0, h(.213, -.213, -.787), h(.715, -.715, .715), h(.072, .928, .072), 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1];
						break;
					case"luminanceToAlpha":
						r = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, .2125, .7154, .0721, 0, 0, 0, 0, 0, 0, 1]
				}
				this.apply = function (t, r, o, s, a) {
					for (var h = t.getImageData(0, 0, s, a), o = 0; o < a; o++) for (var r = 0; r < s; r++) {
						var l = e(h.data, r, o, s, a, 0), u = e(h.data, r, o, s, a, 1), c = e(h.data, r, o, s, a, 2),
							f = e(h.data, r, o, s, a, 3);
						i(h.data, r, o, s, a, 0, n(0, l) + n(1, u) + n(2, c) + n(3, f) + n(4, 1)), i(h.data, r, o, s, a, 1, n(5, l) + n(6, u) + n(7, c) + n(8, f) + n(9, 1)), i(h.data, r, o, s, a, 2, n(10, l) + n(11, u) + n(12, c) + n(13, f) + n(14, 1)), i(h.data, r, o, s, a, 3, n(15, l) + n(16, u) + n(17, c) + n(18, f) + n(19, 1))
					}
					t.clearRect(0, 0, s, a), t.putImageData(h, 0, 0)
				}
			}, o.Element.feColorMatrix.prototype = new o.Element.ElementBase, o.Element.feGaussianBlur = function (t) {
				this.base = o.Element.ElementBase, this.base(t), this.blurRadius = Math.floor(this.attribute("stdDeviation").numValue()), this.extraFilterDistance = this.blurRadius, this.apply = function (t, i, n, r, s) {
					return "undefined" == typeof e.canvasRGBA ? void o.log("ERROR: StackBlur.js must be included for blur to work") : (t.canvas.id = o.UniqueId(), t.canvas.style.display = "none", document.body.appendChild(t.canvas), e.canvasRGBA(t.canvas.id, i, n, r, s, this.blurRadius), void document.body.removeChild(t.canvas))
				}
			}, o.Element.feGaussianBlur.prototype = new o.Element.ElementBase, o.Element.title = function (t) {
			}, o.Element.title.prototype = new o.Element.ElementBase, o.Element.desc = function (t) {
			},o.Element.desc.prototype = new o.Element.ElementBase,o.Element.MISSING = function (t) {
				o.log("ERROR: Element '" + t.nodeName + "' not yet implemented.")
			},o.Element.MISSING.prototype = new o.Element.ElementBase,o.CreateElement = function (t) {
				var e = t.nodeName.replace(/^[^:]+:/, "");
				e = e.replace(/\-/g, "");
				var i = null;
				return i = "undefined" != typeof o.Element[e] ? new o.Element[e](t) : new o.Element.MISSING(t), i.type = t.nodeName, i
			},o.load = function (t, e) {
				o.loadXml(t, o.ajax(e))
			},o.loadXml = function (t, e) {
				o.loadXmlDoc(t, o.parseXml(e))
			},o.loadXmlDoc = function (t, e) {
				o.init(t);
				var i = function (e) {
					for (var i = t.canvas; i;) e.x -= i.offsetLeft, e.y -= i.offsetTop, i = i.offsetParent;
					return window.scrollX && (e.x += window.scrollX), window.scrollY && (e.y += window.scrollY), e
				};
				1 != o.opts.ignoreMouse && (t.canvas.onclick = function (t) {
					var e = i(new o.Point(null != t ? t.clientX : event.clientX, null != t ? t.clientY : event.clientY));
					o.Mouse.onclick(e.x, e.y)
				}, t.canvas.onmousemove = function (t) {
					var e = i(new o.Point(null != t ? t.clientX : event.clientX, null != t ? t.clientY : event.clientY));
					o.Mouse.onmousemove(e.x, e.y)
				});
				var n = o.CreateElement(e.documentElement);
				n.root = !0, n.addStylesFromStyleDefinition();
				var r = !0, s = function () {
					o.ViewPort.Clear(), t.canvas.parentNode && o.ViewPort.SetCurrent(t.canvas.parentNode.clientWidth, t.canvas.parentNode.clientHeight), 1 != o.opts.ignoreDimensions && (n.style("width").hasValue() && (t.canvas.width = n.style("width").toPixels("x"), t.canvas.style.width = t.canvas.width + "px"), n.style("height").hasValue() && (t.canvas.height = n.style("height").toPixels("y"), t.canvas.style.height = t.canvas.height + "px"));
					var i = t.canvas.clientWidth || t.canvas.width, s = t.canvas.clientHeight || t.canvas.height;
					if (1 == o.opts.ignoreDimensions && n.style("width").hasValue() && n.style("height").hasValue() && (i = n.style("width").toPixels("x"), s = n.style("height").toPixels("y")), o.ViewPort.SetCurrent(i, s), null != o.opts.offsetX && (n.attribute("x", !0).value = o.opts.offsetX), null != o.opts.offsetY && (n.attribute("y", !0).value = o.opts.offsetY), null != o.opts.scaleWidth || null != o.opts.scaleHeight) {
						var a = null, h = null, l = o.ToNumberArray(n.attribute("viewBox").value);
						null != o.opts.scaleWidth && (n.attribute("width").hasValue() ? a = n.attribute("width").toPixels("x") / o.opts.scaleWidth : isNaN(l[2]) || (a = l[2] / o.opts.scaleWidth)), null != o.opts.scaleHeight && (n.attribute("height").hasValue() ? h = n.attribute("height").toPixels("y") / o.opts.scaleHeight : isNaN(l[3]) || (h = l[3] / o.opts.scaleHeight)), null == a && (a = h), null == h && (h = a), n.attribute("width", !0).value = o.opts.scaleWidth, n.attribute("height", !0).value = o.opts.scaleHeight, n.style("transform", !0, !0).value += " scale(" + 1 / a + "," + 1 / h + ")"
					}
					1 != o.opts.ignoreClear && t.clearRect(0, 0, i, s), n.render(t), r && (r = !1, "function" == typeof o.opts.renderCallback && o.opts.renderCallback(e))
				}, a = !0;
				o.ImagesLoaded() && (a = !1, s()), o.intervalID = setInterval(function () {
					var t = !1;
					if (a && o.ImagesLoaded() && (a = !1, t = !0), 1 != o.opts.ignoreMouse && (t |= o.Mouse.hasEvents()), 1 != o.opts.ignoreAnimation) for (var e = 0; e < o.Animations.length; e++) t |= o.Animations[e].update(1e3 / o.FRAMERATE);
					"function" == typeof o.opts.forceRedraw && 1 == o.opts.forceRedraw() && (t = !0), t && (s(), o.Mouse.runEvents())
				}, 1e3 / o.FRAMERATE)
			},o.stop = function () {
				o.intervalID && clearInterval(o.intervalID)
			},o.Mouse = new function () {
				this.events = [], this.hasEvents = function () {
					return 0 != this.events.length
				}, this.onclick = function (t, e) {
					this.events.push({
						type: "onclick", x: t, y: e, run: function (t) {
							t.onclick && t.onclick()
						}
					})
				}, this.onmousemove = function (t, e) {
					this.events.push({
						type: "onmousemove", x: t, y: e, run: function (t) {
							t.onmousemove && t.onmousemove()
						}
					})
				}, this.eventElements = [], this.checkPath = function (t, e) {
					for (var i = 0; i < this.events.length; i++) {
						var n = this.events[i];
						e.isPointInPath && e.isPointInPath(n.x, n.y) && (this.eventElements[i] = t)
					}
				}, this.checkBoundingBox = function (t, e) {
					for (var i = 0; i < this.events.length; i++) {
						var n = this.events[i];
						e.isPointInBox(n.x, n.y) && (this.eventElements[i] = t)
					}
				}, this.runEvents = function () {
					o.ctx.canvas.style.cursor = "";
					for (var t = 0; t < this.events.length; t++) for (var e = this.events[t], i = this.eventElements[t]; i;) e.run(i), i = i.parent;
					this.events = [], this.eventElements = []
				}
			},o
		}

		var r, o = function d(t, e, i) {
			if (null != t || null != e || null != i) {
				"string" == typeof t && (t = document.getElementById(t)), null != t.svg && t.svg.stop();
				var r = n(i || {});
				1 == t.childNodes.length && "OBJECT" == t.childNodes[0].nodeName || (t.svg = r);
				var o = t.getContext("2d");
				"undefined" != typeof e.documentElement ? r.loadXmlDoc(o, e) : "<" == e.substr(0, 1) ? r.loadXml(o, e) : r.load(o, e)
			} else for (var s = document.querySelectorAll("svg"), a = 0; a < s.length; a++) {
				var h = s[a], l = document.createElement("canvas");
				l.width = h.clientWidth, l.height = h.clientHeight, h.parentNode.insertBefore(l, h), h.parentNode.removeChild(h);
				var u = document.createElement("div");
				u.appendChild(h), d(l, u.innerHTML)
			}
		};
		"undefined" != typeof Element.prototype.matches ? r = function (t, e) {
			return t.matches(e)
		} : "undefined" != typeof Element.prototype.webkitMatchesSelector ? r = function (t, e) {
			return t.webkitMatchesSelector(e)
		} : "undefined" != typeof Element.prototype.mozMatchesSelector ? r = function (t, e) {
			return t.mozMatchesSelector(e)
		} : "undefined" != typeof Element.prototype.msMatchesSelector ? r = function (t, e) {
			return t.msMatchesSelector(e)
		} : "undefined" != typeof Element.prototype.oMatchesSelector ? r = function (t, e) {
			return t.oMatchesSelector(e)
		} : ("function" != typeof jQuery && "function" != typeof Zepto || (r = function (t, e) {
			return $(t).is(e)
		}), "undefined" == typeof r && (r = Sizzle.matchesSelector));
		var s = /(\[[^\]]+\])/g, a = /(#[^\s\+>~\.\[:]+)/g, h = /(\.[^\s\+>~\.\[:]+)/g,
			l = /(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi, u = /(:[\w-]+\([^\)]*\))/gi,
			c = /(:[^\s\+>~\.\[:]+)/g, f = /([^\s\+>~\.\[:]+)/g;
		return "undefined" != typeof CanvasRenderingContext2D && (CanvasRenderingContext2D.prototype.drawSvg = function (t, e, i, n, r, s) {
			var a = {
				ignoreMouse: !0,
				ignoreAnimation: !0,
				ignoreDimensions: !0,
				ignoreClear: !0,
				offsetX: e,
				offsetY: i,
				scaleWidth: n,
				scaleHeight: r
			};
			for (var h in s) s.hasOwnProperty(h) && (a[h] = s[h]);
			o(this.canvas, t, a)
		}), o
	})
}, function (t, e, i) {
	var n;
	!function (r) {
		function o(t) {
			this.ok = !1, "#" == t.charAt(0) && (t = t.substr(1, 6)), t = t.replace(/ /g, ""), t = t.toLowerCase();
			var e = {
				aliceblue: "f0f8ff",
				antiquewhite: "faebd7",
				aqua: "00ffff",
				aquamarine: "7fffd4",
				azure: "f0ffff",
				beige: "f5f5dc",
				bisque: "ffe4c4",
				black: "000000",
				blanchedalmond: "ffebcd",
				blue: "0000ff",
				blueviolet: "8a2be2",
				brown: "a52a2a",
				burlywood: "deb887",
				cadetblue: "5f9ea0",
				chartreuse: "7fff00",
				chocolate: "d2691e",
				coral: "ff7f50",
				cornflowerblue: "6495ed",
				cornsilk: "fff8dc",
				crimson: "dc143c",
				cyan: "00ffff",
				darkblue: "00008b",
				darkcyan: "008b8b",
				darkgoldenrod: "b8860b",
				darkgray: "a9a9a9",
				darkgreen: "006400",
				darkkhaki: "bdb76b",
				darkmagenta: "8b008b",
				darkolivegreen: "556b2f",
				darkorange: "ff8c00",
				darkorchid: "9932cc",
				darkred: "8b0000",
				darksalmon: "e9967a",
				darkseagreen: "8fbc8f",
				darkslateblue: "483d8b",
				darkslategray: "2f4f4f",
				darkturquoise: "00ced1",
				darkviolet: "9400d3",
				deeppink: "ff1493",
				deepskyblue: "00bfff",
				dimgray: "696969",
				dodgerblue: "1e90ff",
				feldspar: "d19275",
				firebrick: "b22222",
				floralwhite: "fffaf0",
				forestgreen: "228b22",
				fuchsia: "ff00ff",
				gainsboro: "dcdcdc",
				ghostwhite: "f8f8ff",
				gold: "ffd700",
				goldenrod: "daa520",
				gray: "808080",
				green: "008000",
				greenyellow: "adff2f",
				honeydew: "f0fff0",
				hotpink: "ff69b4",
				indianred: "cd5c5c",
				indigo: "4b0082",
				ivory: "fffff0",
				khaki: "f0e68c",
				lavender: "e6e6fa",
				lavenderblush: "fff0f5",
				lawngreen: "7cfc00",
				lemonchiffon: "fffacd",
				lightblue: "add8e6",
				lightcoral: "f08080",
				lightcyan: "e0ffff",
				lightgoldenrodyellow: "fafad2",
				lightgrey: "d3d3d3",
				lightgreen: "90ee90",
				lightpink: "ffb6c1",
				lightsalmon: "ffa07a",
				lightseagreen: "20b2aa",
				lightskyblue: "87cefa",
				lightslateblue: "8470ff",
				lightslategray: "778899",
				lightsteelblue: "b0c4de",
				lightyellow: "ffffe0",
				lime: "00ff00",
				limegreen: "32cd32",
				linen: "faf0e6",
				magenta: "ff00ff",
				maroon: "800000",
				mediumaquamarine: "66cdaa",
				mediumblue: "0000cd",
				mediumorchid: "ba55d3",
				mediumpurple: "9370d8",
				mediumseagreen: "3cb371",
				mediumslateblue: "7b68ee",
				mediumspringgreen: "00fa9a",
				mediumturquoise: "48d1cc",
				mediumvioletred: "c71585",
				midnightblue: "191970",
				mintcream: "f5fffa",
				mistyrose: "ffe4e1",
				moccasin: "ffe4b5",
				navajowhite: "ffdead",
				navy: "000080",
				oldlace: "fdf5e6",
				olive: "808000",
				olivedrab: "6b8e23",
				orange: "ffa500",
				orangered: "ff4500",
				orchid: "da70d6",
				palegoldenrod: "eee8aa",
				palegreen: "98fb98",
				paleturquoise: "afeeee",
				palevioletred: "d87093",
				papayawhip: "ffefd5",
				peachpuff: "ffdab9",
				peru: "cd853f",
				pink: "ffc0cb",
				plum: "dda0dd",
				powderblue: "b0e0e6",
				purple: "800080",
				red: "ff0000",
				rosybrown: "bc8f8f",
				royalblue: "4169e1",
				saddlebrown: "8b4513",
				salmon: "fa8072",
				sandybrown: "f4a460",
				seagreen: "2e8b57",
				seashell: "fff5ee",
				sienna: "a0522d",
				silver: "c0c0c0",
				skyblue: "87ceeb",
				slateblue: "6a5acd",
				slategray: "708090",
				snow: "fffafa",
				springgreen: "00ff7f",
				steelblue: "4682b4",
				tan: "d2b48c",
				teal: "008080",
				thistle: "d8bfd8",
				tomato: "ff6347",
				turquoise: "40e0d0",
				violet: "ee82ee",
				violetred: "d02090",
				wheat: "f5deb3",
				white: "ffffff",
				whitesmoke: "f5f5f5",
				yellow: "ffff00",
				yellowgreen: "9acd32"
			};
			for (var i in e) t == i && (t = e[i]);
			for (var n = [{
				re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,
				example: ["rgb(123, 234, 45)", "rgb(255,234,245)"],
				process: function (t) {
					return [parseInt(t[1]), parseInt(t[2]), parseInt(t[3])]
				}
			}, {
				re: /^(\w{2})(\w{2})(\w{2})$/, example: ["#00ff00", "336699"], process: function (t) {
					return [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)]
				}
			}, {
				re: /^(\w{1})(\w{1})(\w{1})$/, example: ["#fb0", "f0f"], process: function (t) {
					return [parseInt(t[1] + t[1], 16), parseInt(t[2] + t[2], 16), parseInt(t[3] + t[3], 16)]
				}
			}], r = 0; r < n.length; r++) {
				var s, a = n[r].re, h = n[r].process, l = a.exec(t);
				l && (s = h(l), this.r = s[0], this.g = s[1], this.b = s[2], this.ok = !0)
			}
			this.r = this.r < 0 || isNaN(this.r) ? 0 : this.r > 255 ? 255 : this.r, this.g = this.g < 0 || isNaN(this.g) ? 0 : this.g > 255 ? 255 : this.g, this.b = this.b < 0 || isNaN(this.b) ? 0 : this.b > 255 ? 255 : this.b, this.toRGB = function () {
				return "rgb(" + this.r + ", " + this.g + ", " + this.b + ")"
			}, this.toHex = function () {
				var t = this.r.toString(16), e = this.g.toString(16), i = this.b.toString(16);
				return 1 == t.length && (t = "0" + t), 1 == e.length && (e = "0" + e), 1 == i.length && (i = "0" + i), "#" + t + e + i
			}, this.getHelpXML = function () {
				for (var t = new Array, i = 0; i < n.length; i++) for (var r = n[i].example, s = 0; s < r.length; s++) t[t.length] = r[s];
				for (var a in e) t[t.length] = a;
				var h = document.createElement("ul");
				h.setAttribute("id", "rgbcolor-examples");
				for (var i = 0; i < t.length; i++) try {
					var l = document.createElement("li"), u = new o(t[i]), c = document.createElement("div");
					c.style.cssText = "margin: 3px; border: 1px solid black; background:" + u.toHex() + "; color:" + u.toHex(), c.appendChild(document.createTextNode("test"));
					var f = document.createTextNode(" " + t[i] + " -> " + u.toRGB() + " -> " + u.toHex());
					l.appendChild(c), l.appendChild(f), h.appendChild(l)
				} catch (d) {
				}
				return h
			}
		}

		n = function () {
			return o
		}.call(e, i, e, t), !(void 0 !== n && (t.exports = n)), r.RGBColor = o
	}("undefined" != typeof window ? window : void 0)
}, function (t, e, i) {
	var n;
	!function (r) {
		function o(t) {
			for (var e = t.data, i = t.width * t.height * 4, n = 0; n < i; n += 4) {
				var r = e[n + 3] / 255;
				e[n] *= r, e[n + 1] *= r, e[n + 2] *= r
			}
		}

		function s(t) {
			for (var e = t.data, i = t.width * t.height * 4, n = 0; n < i; n += 4) {
				var r = e[n + 3];
				0 != r && (r = 255 / r, e[n] *= r, e[n + 1] *= r, e[n + 2] *= r)
			}
		}

		function a(t, e, i, n) {
			var r = document.getElementById(t), o = r.naturalWidth, s = r.naturalHeight, a = document.getElementById(e);
			a.style.width = o + "px", a.style.height = s + "px", a.width = o, a.height = s;
			var u = a.getContext("2d");
			u.clearRect(0, 0, o, s), u.drawImage(r, 0, 0), isNaN(i) || i < 1 || (n ? h(e, 0, 0, o, s, i) : l(e, 0, 0, o, s, i))
		}

		function h(t, e, i, n, r, a) {
			if (!(isNaN(a) || a < 1)) {
				a |= 0;
				var h, l = document.getElementById(t), d = l.getContext("2d");
				try {
					try {
						h = d.getImageData(e, i, n, r)
					} catch (p) {
						try {
							netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"), h = d.getImageData(e, i, n, r)
						} catch (p) {
							throw void 0, new Error("unable to access local image data: " + p)
						}
					}
				} catch (p) {
					throw void 0, new Error("unable to access image data: " + p)
				}
				o(h);
				var g, m, y, v, _, x, b, w, T, C, E, M, P, S, I, R, A, k, O, L, D, B, N, F, z = h.data, H = a + a + 1,
					j = n - 1, U = r - 1, V = a + 1, X = V * (V + 1) / 2, W = new u, G = W;
				for (y = 1; y < H; y++) if (G = G.next = new u, y == V) var Y = G;
				G.next = W;
				var q = null, Q = null;
				b = x = 0;
				var J = c[a], Z = f[a];
				for (m = 0; m < r; m++) {
					for (R = A = k = O = w = T = C = E = 0, M = V * (L = z[x]), P = V * (D = z[x + 1]), S = V * (B = z[x + 2]), I = V * (N = z[x + 3]), w += X * L, T += X * D, C += X * B, E += X * N, G = W, y = 0; y < V; y++) G.r = L, G.g = D, G.b = B, G.a = N, G = G.next;
					for (y = 1; y < V; y++) v = x + ((j < y ? j : y) << 2), w += (G.r = L = z[v]) * (F = V - y), T += (G.g = D = z[v + 1]) * F, C += (G.b = B = z[v + 2]) * F, E += (G.a = N = z[v + 3]) * F, R += L, A += D, k += B, O += N, G = G.next;
					for (q = W, Q = Y, g = 0; g < n; g++) z[x] = w * J >> Z, z[x + 1] = T * J >> Z, z[x + 2] = C * J >> Z, z[x + 3] = E * J >> Z, w -= M, T -= P, C -= S, E -= I, M -= q.r, P -= q.g, S -= q.b, I -= q.a, v = b + ((v = g + a + 1) < j ? v : j) << 2, R += q.r = z[v], A += q.g = z[v + 1], k += q.b = z[v + 2], O += q.a = z[v + 3], w += R, T += A, C += k, E += O, q = q.next, M += L = Q.r, P += D = Q.g, S += B = Q.b, I += N = Q.a, R -= L, A -= D, k -= B, O -= N, Q = Q.next, x += 4;
					b += n
				}
				for (g = 0; g < n; g++) {
					for (A = k = O = R = T = C = E = w = 0, x = g << 2, M = V * (L = z[x]), P = V * (D = z[x + 1]), S = V * (B = z[x + 2]), I = V * (N = z[x + 3]), w += X * L, T += X * D, C += X * B, E += X * N, G = W, y = 0; y < V; y++) G.r = L, G.g = D, G.b = B, G.a = N, G = G.next;
					for (_ = n, y = 1; y <= a; y++) x = _ + g << 2, w += (G.r = L = z[x]) * (F = V - y), T += (G.g = D = z[x + 1]) * F, C += (G.b = B = z[x + 2]) * F, E += (G.a = N = z[x + 3]) * F, R += L, A += D, k += B, O += N, G = G.next, y < U && (_ += n);
					for (x = g, q = W, Q = Y, m = 0; m < r; m++) v = x << 2, z[v] = w * J >> Z, z[v + 1] = T * J >> Z, z[v + 2] = C * J >> Z, z[v + 3] = E * J >> Z, w -= M, T -= P, C -= S, E -= I, M -= q.r, P -= q.g, S -= q.b, I -= q.a, v = g + ((v = m + V) < U ? v : U) * n << 2, w += R += q.r = z[v], T += A += q.g = z[v + 1], C += k += q.b = z[v + 2], E += O += q.a = z[v + 3], q = q.next, M += L = Q.r, P += D = Q.g, S += B = Q.b, I += N = Q.a, R -= L, A -= D, k -= B, O -= N, Q = Q.next, x += n
				}
				s(h), d.putImageData(h, e, i)
			}
		}

		function l(t, e, i, n, r, o) {
			if (!(isNaN(o) || o < 1)) {
				o |= 0;
				var s, a = document.getElementById(t), h = a.getContext("2d");
				try {
					try {
						s = h.getImageData(e, i, n, r)
					} catch (l) {
						try {
							netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"), s = h.getImageData(e, i, n, r)
						} catch (l) {
							throw void 0, new Error("unable to access local image data: " + l)
						}
					}
				} catch (l) {
					throw void 0, new Error("unable to access image data: " + l)
				}
				var d, p, g, m, y, v, _, x, b, w, T, C, E, M, P, S, I, R, A, k, O = s.data, L = o + o + 1, D = n - 1,
					B = r - 1, N = o + 1, F = N * (N + 1) / 2, z = new u, H = z;
				for (g = 1; g < L; g++) if (H = H.next = new u, g == N) var j = H;
				H.next = z;
				var U = null, V = null;
				_ = v = 0;
				var X = c[o], W = f[o];
				for (p = 0; p < r; p++) {
					for (M = P = S = x = b = w = 0, T = N * (I = O[v]), C = N * (R = O[v + 1]), E = N * (A = O[v + 2]), x += F * I, b += F * R, w += F * A, H = z, g = 0; g < N; g++) H.r = I, H.g = R, H.b = A, H = H.next;
					for (g = 1; g < N; g++) m = v + ((D < g ? D : g) << 2), x += (H.r = I = O[m]) * (k = N - g), b += (H.g = R = O[m + 1]) * k, w += (H.b = A = O[m + 2]) * k, M += I, P += R, S += A, H = H.next;
					for (U = z, V = j, d = 0; d < n; d++) O[v] = x * X >> W, O[v + 1] = b * X >> W, O[v + 2] = w * X >> W, x -= T, b -= C, w -= E, T -= U.r, C -= U.g, E -= U.b, m = _ + ((m = d + o + 1) < D ? m : D) << 2, M += U.r = O[m], P += U.g = O[m + 1], S += U.b = O[m + 2], x += M, b += P, w += S, U = U.next, T += I = V.r, C += R = V.g, E += A = V.b, M -= I, P -= R, S -= A, V = V.next, v += 4;
					_ += n
				}
				for (d = 0; d < n; d++) {
					for (P = S = M = b = w = x = 0, v = d << 2, T = N * (I = O[v]), C = N * (R = O[v + 1]), E = N * (A = O[v + 2]), x += F * I, b += F * R, w += F * A, H = z, g = 0; g < N; g++) H.r = I, H.g = R, H.b = A, H = H.next;
					for (y = n, g = 1; g <= o; g++) v = y + d << 2, x += (H.r = I = O[v]) * (k = N - g), b += (H.g = R = O[v + 1]) * k, w += (H.b = A = O[v + 2]) * k, M += I, P += R, S += A, H = H.next, g < B && (y += n);
					for (v = d, U = z, V = j, p = 0; p < r; p++) m = v << 2, O[m] = x * X >> W, O[m + 1] = b * X >> W, O[m + 2] = w * X >> W, x -= T, b -= C, w -= E, T -= U.r, C -= U.g, E -= U.b, m = d + ((m = p + N) < B ? m : B) * n << 2, x += M += U.r = O[m], b += P += U.g = O[m + 1], w += S += U.b = O[m + 2], U = U.next, T += I = V.r, C += R = V.g, E += A = V.b, M -= I, P -= R, S -= A, V = V.next, v += n
				}
				h.putImageData(s, e, i)
			}
		}

		function u() {
			this.r = 0, this.g = 0, this.b = 0, this.a = 0, this.next = null
		}

		var c = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259],
			f = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24],
			d = {image: a, canvasRGBA: h, canvasRGB: l};
		n = function () {
			return d
		}.call(e, i, e, t), !(void 0 !== n && (t.exports = n)), r.stackBlur = d
	}("undefined" != typeof window ? window : void 0)
}, function (t, e) {
	"use strict";
	!function () {
		var e = {};
		e.jsfeat = e.jsfeat || {REVISION: "ALPHA"}, function (t) {
			var e = t, i = 1.192092896e-7, n = 1e-37, r = 256, o = 512, s = 1024, a = 2048, h = 4096, l = 1, u = 2,
				c = 3, f = 4, d = new Int32Array([-1, 1, 4, -1, 4, -1, -1, -1, 8, -1, -1, -1, -1, -1, -1, -1, 8]),
				p = function () {
					return function (t) {
						return 65280 & t
					}
				}(), g = function () {
					return function (t) {
						return 255 & t
					}
				}(), m = function () {
					return function (t) {
						return d[(65280 & t) >> 8]
					}
				}(), y = 0, v = 1, _ = 2, x = 3, b = 1, w = 1, T = 2, C = function () {
					function t(t, e) {
						this.size = (t + 7 | 0) & -8, "undefined" == typeof e ? this.buffer = new ArrayBuffer(this.size) : (this.buffer = e, this.size = e.length), this.u8 = new Uint8Array(this.buffer), this.i32 = new Int32Array(this.buffer), this.f32 = new Float32Array(this.buffer), this.f64 = new Float64Array(this.buffer)
					}

					return t
				}(), E = function () {
					function t(t, e, i, n) {
						this.type = 0 | p(i), this.channel = 0 | g(i), this.cols = 0 | t, this.rows = 0 | e, "undefined" == typeof n ? this.allocate() : (this.buffer = n, this.data = this.type & r ? this.buffer.u8 : this.type & o ? this.buffer.i32 : this.type & s ? this.buffer.f32 : this.buffer.f64)
					}

					return t.prototype.allocate = function () {
						delete this.data, delete this.buffer, this.buffer = new C(this.cols * m(this.type) * this.channel * this.rows), this.data = this.type & r ? this.buffer.u8 : this.type & o ? this.buffer.i32 : this.type & s ? this.buffer.f32 : this.buffer.f64
					}, t.prototype.resize = function (t, e, i) {
						"undefined" == typeof i && (i = this.channel);
						var n = t * m(this.type) * i * e;
						n > this.buffer.size ? (this.cols = t, this.rows = e, this.channel = i, this.allocate()) : (this.cols = t, this.rows = e, this.channel = i)
					}, t
				}(), M = function () {
					function t(t) {
						this.levels = 0 | t, this.data = new Array(t), this.pyrdown = e.imgproc.pyrdown
					}

					return t.prototype.allocate = function (t, e, i) {
						for (var n = this.levels; --n >= 0;) this.data[n] = new E(t >> n, e >> n, i)
					}, t.prototype.build = function (t, e) {
						"undefined" == typeof e && (e = !0);
						var i = 2, n = t, r = this.data[0];
						if (!e) for (var o = t.cols * t.rows; --o >= 0;) r.data[o] = t.data[o];
						for (r = this.data[1], this.pyrdown(n, r); i < this.levels; ++i) n = r, r = this.data[i], this.pyrdown(n, r)
					}, t
				}(), P = function () {
					function t(t, e, i, n, r) {
						"undefined" == typeof t && (t = 0), "undefined" == typeof e && (e = 0), "undefined" == typeof i && (i = 0), "undefined" == typeof n && (n = 0), "undefined" == typeof r && (r = -1), this.x = t, this.y = e, this.level = n, this.angle = r
					}

					return t
				}();
			t.U8_t = r, t.S32_t = o, t.F32_t = s, t.S64_t = a, t.F64_t = h, t.C1_t = l, t.C2_t = u, t.C3_t = c, t.C4_t = f, t.U8C1_t = r | l, t.U8C3_t = r | c, t.U8C4_t = r | f, t.F32C1_t = s | l, t.F32C2_t = s | u, t.S32C1_t = o | l, t.S32C2_t = o | u, t.EPSILON = i, t.FLT_MIN = n, t.COLOR_RGBA2GRAY = y, t.COLOR_RGB2GRAY = v, t.COLOR_BGRA2GRAY = _, t.COLOR_BGR2GRAY = x, t.BOX_BLUR_NOSCALE = b, t.SVD_U_T = w, t.SVD_V_T = T, t.get_data_type = p, t.get_channel = g, t.get_data_type_size = m, t.data_t = C, t.matrix_t = E, t.pyramid_t = M, t.keypoint_t = P
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t, i, n = function () {
					function t(t) {
						this.next = null, this.data = new e.data_t(t), this.size = this.data.size, this.buffer = this.data.buffer, this.u8 = this.data.u8, this.i32 = this.data.i32, this.f32 = this.data.f32, this.f64 = this.data.f64
					}

					return t.prototype.resize = function (t) {
						delete this.data, this.data = new e.data_t(t), this.size = this.data.size, this.buffer = this.data.buffer, this.u8 = this.data.u8, this.i32 = this.data.i32, this.f32 = this.data.f32, this.f64 = this.data.f64
					}, t
				}(), r = 0;
				return {
					allocate: function (e, o) {
						t = i = new n(o);
						for (var s = 0; s < e; ++s) {
							var a = new n(o);
							i = i.next = a, r++
						}
					}, get_buffer: function (e) {
						var i = t;
						return t = t.next, r--, e > i.size && i.resize(e), i
					}, put_buffer: function (t) {
						i = i.next = t, r++
					}
				}
			}();
			t.cache = i, i.allocate(30, 2560)
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				return {
					get_gaussian_kernel: function (t, i, n, r) {
						var o = 0, s = 0, a = 0, h = 0, l = 0, u = 0, c = e.cache.get_buffer(t << 2), f = c.f32;
						if (1 == (1 & t) && t <= 7 && i <= 0) switch (t >> 1) {
							case 0:
								f[0] = 1, u = 1;
								break;
							case 1:
								f[0] = .25, f[1] = .5, f[2] = .25, u = 1;
								break;
							case 2:
								f[0] = .0625, f[1] = .25, f[2] = .375, f[3] = .25, f[4] = .0625, u = 1;
								break;
							case 3:
								f[0] = .03125, f[1] = .109375, f[2] = .21875, f[3] = .28125, f[4] = .21875, f[5] = .109375, f[6] = .03125, u = 1
						} else for (h = i > 0 ? i : .3 * (.5 * (t - 1) - 1) + .8, l = -.5 / (h * h); o < t; ++o) s = o - .5 * (t - 1), a = Math.exp(l * s * s), f[o] = a, u += a;
						if (r & e.U8_t) for (u = 256 / u, o = 0; o < t; ++o) n[o] = f[o] * u + .5 | 0; else for (u = 1 / u, o = 0; o < t; ++o) n[o] = f[o] * u;
						e.cache.put_buffer(c)
					}
				}
			}();
			t.math = i
		}(e.jsfeat), function (t) {
			var e = function () {
				return {
					identity: function (t, e) {
						"undefined" == typeof e && (e = 1);
						for (var i = t.data, n = t.rows, r = t.cols, o = r + 1 | 0, s = n * r, a = s; --s >= 0;) i[s] = 0;
						for (s = a, a = 0; a < s;) i[a] = e, a += o
					}, transpose: function (t, e) {
						for (var i = 0, n = 0, r = e.rows, o = e.cols, s = 0, a = 0, h = 0, l = e.data, u = t.data; i < r; a += 1, s += o, i++) for (h = a, n = 0; n < o; h += r, n++) u[h] = l[s + n]
					}, multiply: function (t, e, i) {
						for (var n = 0, r = 0, o = 0, s = 0, a = 0, h = 0, l = 0, u = 0, c = e.cols, f = e.rows, d = i.cols, p = e.data, g = i.data, m = t.data, y = 0; n < f; s += c, n++) for (l = 0, r = 0; r < d; u++, l++, r++) {
							for (h = l, a = s, y = 0, o = 0; o < c; a++, h += d, o++) y += p[a] * g[h];
							m[u] = y
						}
					}, multiply_AtB: function (t, e, i) {
						for (var n = 0, r = 0, o = 0, s = 0, a = 0, h = 0, l = 0, u = 0, c = e.cols, f = e.rows, d = i.cols, p = e.data, g = i.data, m = t.data, y = 0; n < c; s++, n++) for (l = 0, r = 0; r < d; u++, l++, r++) {
							for (h = l, a = s, y = 0, o = 0; o < f; a += c, h += d, o++) y += p[a] * g[h];
							m[u] = y
						}
					}, multiply_AtA: function (t, e) {
						for (var i = 0, n = 0, r = 0, o = 0, s = 0, a = 0, h = 0, l = 0, u = 0, c = e.cols, f = e.rows, d = e.data, p = t.data, g = 0; i < c; h += c, i++) for (o = i, u = h + i, l = u, n = i; n < c; l++, u += c, n++) {
							for (s = o, a = n, g = 0, r = 0; r < f; s += c, a += c, r++) g += d[s] * d[a];
							p[l] = g, p[u] = g
						}
					}, invert_3x3: function (t, e) {
						var i = t.data, n = e.data, r = i[4], o = i[8], s = i[5], a = i[7], h = i[0], l = h * r,
							u = h * s, c = i[3], f = i[1], d = c * f, p = i[2], g = c * p, m = i[6], y = m * f,
							v = m * p, _ = 1 / (l * o - u * a - d * o + g * a + y * s - v * r);
						n[0] = (r * o - s * a) * _, n[1] = -(f * o - p * a) * _, n[2] = -(-f * s + p * r) * _, n[3] = -(c * o - s * m) * _, n[4] = (h * o - v) * _, n[5] = -(u - g) * _, n[6] = -(-c * a + r * m) * _, n[7] = -(h * a - y) * _, n[8] = (l - d) * _
					}, multiply_3x3: function (t, e, i) {
						var n = t.data, r = e.data, o = i.data, s = r[0], a = r[1], h = r[2], l = r[3], u = r[4],
							c = r[5], f = r[6], d = r[7], p = r[8], g = o[0], m = o[1], y = o[2], v = o[3], _ = o[4],
							x = o[5], b = o[6], w = o[7], T = o[8];
						n[0] = s * g + a * v + h * b, n[1] = s * m + a * _ + h * w, n[2] = s * y + a * x + h * T, n[3] = l * g + u * v + c * b, n[4] = l * m + u * _ + c * w, n[5] = l * y + u * x + c * T, n[6] = f * g + d * v + p * b, n[7] = f * m + d * _ + p * w, n[8] = f * y + d * x + p * T
					}
				}
			}();
			t.matmath = e
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t = function (t, e, i, n) {
					n = t[e], t[e] = t[i], t[i] = n
				};
				return {
					lu_solve: function (i, n) {
						var r, o, s, a, h = 0, l = 0, u = 0, c = 1, f = i.cols, d = i.data, p = n.data;
						for (h = 0; h < f; h++) {
							for (u = h, l = h + 1; l < f; l++) Math.abs(d[l * f + h]) > Math.abs(d[u * f + h]) && (u = l);
							if (Math.abs(d[u * f + h]) < e.EPSILON) return 0;
							if (u != h) {
								for (l = h; l < f; l++) t(d, h * f + l, u * f + l, r);
								t(p, h, u, r), c = -c
							}
							for (s = -1 / d[h * f + h], l = h + 1; l < f; l++) {
								for (o = d[l * f + h] * s, u = h + 1; u < f; u++) d[l * f + u] += o * d[h * f + u];
								p[l] += o * p[h]
							}
							d[h * f + h] = -s
						}
						for (h = f - 1; h >= 0; h--) {
							for (a = p[h], u = h + 1; u < f; u++) a -= d[h * f + u] * p[u];
							p[h] = a * d[h * f + h]
						}
						return 1
					}
				}
			}();
			t.linalg = i
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t = function (t) {
						return t * t
					}, i = function (t, e, i, n, r) {
						for (var o = 0, s = 0, a = 0, h = 0, l = 0, u = 0, c = 0, f = 0, d = 0, p = 0, g = 0; o < r; ++o) s += t[o].x, a += t[o].y, u += e[o].x, c += e[o].y;
						for (s /= r, a /= r, u /= r, c /= r, o = 0; o < r; ++o) p = t[o].x - s, g = t[o].y - a, h += Math.sqrt(p * p + g * g), p = e[o].x - u, g = e[o].y - c, f += Math.sqrt(p * p + g * g);
						h /= r, f /= r, l = Math.SQRT2 / h, d = Math.SQRT2 / f, i[0] = i[4] = l, i[2] = -s * l, i[5] = -a * l, i[1] = i[3] = i[6] = i[7] = 0, i[8] = 1, n[0] = n[4] = d, n[2] = -u * d, n[5] = -c * d, n[1] = n[3] = n[6] = n[7] = 0, n[8] = 1
					}, n = new e.matrix_t(3, 3, e.F32_t | e.C1_t), r = new e.matrix_t(3, 3, e.F32_t | e.C1_t),
					o = new e.matrix_t(6, 6, e.F32_t | e.C1_t), s = new e.matrix_t(6, 1, e.F32_t | e.C1_t),
					a = function () {
						function a() {
						}

						return a.prototype.run = function (t, a, h, l) {
							var u, c, f = 0, d = 0, p = h.type | e.C1_t, g = h.data, m = n.data, y = r.data, v = 0,
								_ = 0;
							i(t, a, m, y, l);
							for (var x = e.cache.get_buffer(2 * l * 6 << 3), b = e.cache.get_buffer(2 * l << 3), w = new e.matrix_t(6, 2 * l, p, x.data), T = new e.matrix_t(1, 2 * l, p, b.data), C = w.data, E = T.data; f < l; ++f) u = t[f], c = a[f], v = m[0] * u.x + m[1] * u.y + m[2], _ = m[3] * u.x + m[4] * u.y + m[5], d = 2 * f * 6, C[d] = v, C[d + 1] = _, C[d + 2] = 1, C[d + 3] = 0, C[d + 4] = 0, C[d + 5] = 0, d += 6, C[d] = 0, C[d + 1] = 0, C[d + 2] = 0, C[d + 3] = v, C[d + 4] = _, C[d + 5] = 1, E[f << 1] = y[0] * c.x + y[1] * c.y + y[2], E[(f << 1) + 1] = y[3] * c.x + y[4] * c.y + y[5];
							return e.matmath.multiply_AtA(o, w), e.matmath.multiply_AtB(s, w, T), e.linalg.lu_solve(o, s), g[0] = s.data[0], g[1] = s.data[1], g[2] = s.data[2], g[3] = s.data[3], g[4] = s.data[4], g[5] = s.data[5], g[6] = 0, g[7] = 0, g[8] = 1, e.matmath.invert_3x3(r, r), e.matmath.multiply_3x3(h, r, h), e.matmath.multiply_3x3(h, h, n), e.cache.put_buffer(x), e.cache.put_buffer(b), 1
						}, a.prototype.error = function (e, i, n, r, o) {
							for (var s, a, h = 0, l = n.data; h < o; ++h) s = e[h], a = i[h], r[h] = t(a.x - l[0] * s.x - l[1] * s.y - l[2]) + t(a.y - l[3] * s.x - l[4] * s.y - l[5])
						}, a
					}();
				return {affine2d: a}
			}(), n = function () {
				function t(t, e, i, n) {
					"undefined" == typeof t && (t = 0), this.size = t
				}

				return t
			}();
			t.ransac_params_t = n, t.motion_model = i
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t = function (t, e, i, n, r, o, s, a) {
					for (var h = 0, l = 0, u = 0, c = 0, f = 0, d = 0, p = 0, g = 0, m = 0, y = o[0], v = 0, _ = n << 1, x = 3 * n, b = n << 2; h < r; ++h) {
						for (d = e[c], l = 0; l < a; ++l) t[l] = d;
						for (l = 0; l <= n - 2; l += 2) t[l + a] = e[c + l], t[l + a + 1] = e[c + l + 1];
						for (; l < n; ++l) t[l + a] = e[c + l];
						for (d = e[c + n - 1], l = n; l < a + n; ++l) t[l + a] = d;
						for (l = 0; l <= n - 4; l += 4) {
							for (d = t[l] * y, p = t[l + 1] * y, g = t[l + 2] * y, m = t[l + 3] * y, u = 1; u < s; ++u) v = o[u], d += t[u + l] * v, p += t[u + l + 1] * v, g += t[u + l + 2] * v, m += t[u + l + 3] * v;
							i[f + l] = Math.min(d >> 8, 255), i[f + l + 1] = Math.min(p >> 8, 255), i[f + l + 2] = Math.min(g >> 8, 255), i[f + l + 3] = Math.min(m >> 8, 255)
						}
						for (; l < n; ++l) {
							for (d = t[l] * y, u = 1; u < s; ++u) d += t[u + l] * o[u];
							i[f + l] = Math.min(d >> 8, 255)
						}
						c += n, f += n
					}
					for (h = 0; h < n; ++h) {
						for (d = i[h], l = 0; l < a; ++l) t[l] = d;
						for (u = h, l = 0; l <= r - 2; l += 2, u += _) t[l + a] = i[u], t[l + a + 1] = i[u + n];
						for (; l < r; ++l, u += n) t[l + a] = i[u];
						for (d = i[(r - 1) * n + h], l = r; l < a + r; ++l) t[l + a] = d;
						for (f = h, l = 0; l <= r - 4; l += 4, f += b) {
							for (d = t[l] * y, p = t[l + 1] * y, g = t[l + 2] * y, m = t[l + 3] * y, u = 1; u < s; ++u) v = o[u], d += t[u + l] * v, p += t[u + l + 1] * v, g += t[u + l + 2] * v, m += t[u + l + 3] * v;
							i[f] = Math.min(d >> 8, 255), i[f + n] = Math.min(p >> 8, 255), i[f + _] = Math.min(g >> 8, 255), i[f + x] = Math.min(m >> 8, 255)
						}
						for (; l < r; ++l, f += n) {
							for (d = t[l] * y, u = 1; u < s; ++u) d += t[u + l] * o[u];
							i[f] = Math.min(d >> 8, 255)
						}
					}
				}, i = function (t, e, i, n, r, o, s, a) {
					for (var h = 0, l = 0, u = 0, c = 0, f = 0, d = 0, p = 0, g = 0, m = 0, y = o[0], v = 0, _ = n << 1, x = 3 * n, b = n << 2; h < r; ++h) {
						for (d = e[c], l = 0; l < a; ++l) t[l] = d;
						for (l = 0; l <= n - 2; l += 2) t[l + a] = e[c + l], t[l + a + 1] = e[c + l + 1];
						for (; l < n; ++l) t[l + a] = e[c + l];
						for (d = e[c + n - 1], l = n; l < a + n; ++l) t[l + a] = d;
						for (l = 0; l <= n - 4; l += 4) {
							for (d = t[l] * y, p = t[l + 1] * y, g = t[l + 2] * y, m = t[l + 3] * y, u = 1; u < s; ++u) v = o[u], d += t[u + l] * v, p += t[u + l + 1] * v, g += t[u + l + 2] * v, m += t[u + l + 3] * v;
							i[f + l] = d, i[f + l + 1] = p, i[f + l + 2] = g, i[f + l + 3] = m
						}
						for (; l < n; ++l) {
							for (d = t[l] * y, u = 1; u < s; ++u) d += t[u + l] * o[u];
							i[f + l] = d
						}
						c += n, f += n
					}
					for (h = 0; h < n; ++h) {
						for (d = i[h], l = 0; l < a; ++l) t[l] = d;
						for (u = h, l = 0; l <= r - 2; l += 2, u += _) t[l + a] = i[u], t[l + a + 1] = i[u + n];
						for (; l < r; ++l, u += n) t[l + a] = i[u];
						for (d = i[(r - 1) * n + h], l = r; l < a + r; ++l) t[l + a] = d;
						for (f = h, l = 0; l <= r - 4; l += 4, f += b) {
							for (d = t[l] * y, p = t[l + 1] * y, g = t[l + 2] * y, m = t[l + 3] * y, u = 1; u < s; ++u) v = o[u], d += t[u + l] * v, p += t[u + l + 1] * v, g += t[u + l + 2] * v, m += t[u + l + 3] * v;
							i[f] = d, i[f + n] = p, i[f + _] = g, i[f + x] = m
						}
						for (; l < r; ++l, f += n) {
							for (d = t[l] * y, u = 1; u < s; ++u) d += t[u + l] * o[u];
							i[f] = d
						}
					}
				};
				return {
					grayscale: function (t, i, n, r, o) {
						"undefined" == typeof o && (o = e.COLOR_RGBA2GRAY);
						var s = 0, a = 0, h = 0, l = 0, u = 0, c = 0, f = 4899, d = 9617, p = 1868, g = 4;
						o != e.COLOR_BGRA2GRAY && o != e.COLOR_BGR2GRAY || (f = 1868, p = 4899), o != e.COLOR_RGB2GRAY && o != e.COLOR_BGR2GRAY || (g = 3);
						var m = g << 1, y = 3 * g | 0;
						r.resize(i, n, 1);
						var v = r.data;
						for (a = 0; a < n; ++a, l += i, h += i * g) {
							for (s = 0, u = h, c = l; s <= i - 4; s += 4, u += g << 2, c += 4) v[c] = t[u] * f + t[u + 1] * d + t[u + 2] * p + 8192 >> 14, v[c + 1] = t[u + g] * f + t[u + g + 1] * d + t[u + g + 2] * p + 8192 >> 14, v[c + 2] = t[u + m] * f + t[u + m + 1] * d + t[u + m + 2] * p + 8192 >> 14, v[c + 3] = t[u + y] * f + t[u + y + 1] * d + t[u + y + 2] * p + 8192 >> 14;
							for (; s < i; ++s, ++c, u += g) v[c] = t[u] * f + t[u + 1] * d + t[u + 2] * p + 8192 >> 14
						}
					}, gaussian_blur: function (n, r, o, s) {
						"undefined" == typeof s && (s = 0), "undefined" == typeof o && (o = 0), o = 0 == o ? 2 * Math.max(1, 4 * s + 1 - 1e-8) + 1 | 0 : o;
						var a = o >> 1, h = n.cols, l = n.rows, u = n.type, c = u & e.U8_t;
						r.resize(h, l, n.channel);
						var f, d, p = n.data, g = r.data, m = o + Math.max(l, h) | 0, y = e.cache.get_buffer(m << 2),
							v = e.cache.get_buffer(o << 2);
						c ? (f = y.i32, d = v.i32) : u & e.S32_t ? (f = y.i32, d = v.f32) : (f = y.f32, d = v.f32), e.math.get_gaussian_kernel(o, s, d, u), c ? t(f, p, g, h, l, d, o, a) : i(f, p, g, h, l, d, o, a), e.cache.put_buffer(y), e.cache.put_buffer(v)
					}, pyrdown: function (t, e, i, n) {
						"undefined" == typeof i && (i = 0), "undefined" == typeof n && (n = 0);
						var r = t.cols, o = t.rows, s = r >> 1, a = o >> 1, h = s - (i << 1), l = a - (n << 1), u = 0,
							c = 0, f = i + n * r, d = 0, p = 0, g = 0;
						e.resize(s, a, t.channel);
						var m = t.data, y = e.data;
						for (c = 0; c < l; ++c) {
							for (d = f, g = p, u = 0; u <= h - 2; u += 2, g += 2, d += 4) y[g] = m[d] + m[d + 1] + m[d + r] + m[d + r + 1] + 2 >> 2, y[g + 1] = m[d + 2] + m[d + 3] + m[d + r + 2] + m[d + r + 3] + 2 >> 2;
							for (; u < h; ++u, ++g, d += 2) y[g] = m[d] + m[d + 1] + m[d + r] + m[d + r + 1] + 2 >> 2;
							f += r << 1, p += s
						}
					}, scharr_derivatives: function (t, i) {
						var n, r, o, s, a, h, l, u, c = t.cols, f = t.rows, d = c << 1, p = 0, g = 0, m = 0, y = 0,
							v = 0, _ = 0, x = 0;
						i.resize(c, f, 2);
						var b = t.data, w = i.data, T = e.cache.get_buffer(c + 2 << 2),
							C = e.cache.get_buffer(c + 2 << 2);
						for (t.type & e.U8_t || t.type & e.S32_t ? (l = T.i32, u = C.i32) : (l = T.f32, u = C.f32); g < f; ++g, v += c) {
							for (y = (g > 0 ? g - 1 : 1) * c | 0, _ = (g < f - 1 ? g + 1 : f - 2) * c | 0, x = g * d | 0, p = 0, m = 1; p <= c - 2; p += 2, m += 2) n = b[y + p], r = b[_ + p], l[m] = 3 * (n + r) + 10 * b[v + p], u[m] = r - n, n = b[y + p + 1], r = b[_ + p + 1], l[m + 1] = 3 * (n + r) + 10 * b[v + p + 1], u[m + 1] = r - n;
							for (; p < c; ++p, ++m) n = b[y + p], r = b[_ + p], l[m] = 3 * (n + r) + 10 * b[v + p], u[m] = r - n;
							for (p = c + 1 | 0, l[0] = l[1], l[p] = l[c], u[0] = u[1], u[p] = u[c], p = 0; p <= c - 4; p += 4) n = u[p + 2], r = u[p + 1], o = u[p + 3], s = u[p + 4], a = l[p + 2], h = l[p + 3], w[x++] = a - l[p], w[x++] = 3 * (n + u[p]) + 10 * r, w[x++] = h - l[p + 1], w[x++] = 3 * (o + r) + 10 * n, w[x++] = l[p + 4] - a, w[x++] = 3 * (s + n) + 10 * o, w[x++] = l[p + 5] - h, w[x++] = 3 * (u[p + 5] + o) + 10 * s;
							for (; p < c; ++p) w[x++] = l[p + 2] - l[p], w[x++] = 3 * (u[p + 2] + u[p]) + 10 * u[p + 1]
						}
						e.cache.put_buffer(T), e.cache.put_buffer(C)
					}, sobel_derivatives: function (t, i) {
						var n, r, o, s, a, h, l, u, c = t.cols, f = t.rows, d = c << 1, p = 0, g = 0, m = 0, y = 0,
							v = 0, _ = 0, x = 0;
						i.resize(c, f, 2);
						var b = t.data, w = i.data, T = e.cache.get_buffer(c + 2 << 2),
							C = e.cache.get_buffer(c + 2 << 2);
						for (t.type & e.U8_t || t.type & e.S32_t ? (l = T.i32, u = C.i32) : (l = T.f32, u = C.f32); g < f; ++g, v += c) {
							for (y = (g > 0 ? g - 1 : 1) * c | 0, _ = (g < f - 1 ? g + 1 : f - 2) * c | 0, x = g * d | 0, p = 0, m = 1; p <= c - 2; p += 2, m += 2) n = b[y + p], r = b[_ + p], l[m] = n + r + 2 * b[v + p], u[m] = r - n, n = b[y + p + 1], r = b[_ + p + 1], l[m + 1] = n + r + 2 * b[v + p + 1], u[m + 1] = r - n;
							for (; p < c; ++p, ++m) n = b[y + p], r = b[_ + p], l[m] = n + r + 2 * b[v + p], u[m] = r - n;
							for (p = c + 1 | 0, l[0] = l[1], l[p] = l[c], u[0] = u[1], u[p] = u[c], p = 0; p <= c - 4; p += 4) n = u[p + 2], r = u[p + 1], o = u[p + 3], s = u[p + 4], a = l[p + 2], h = l[p + 3], w[x++] = a - l[p], w[x++] = n + u[p] + 2 * r, w[x++] = h - l[p + 1], w[x++] = o + r + 2 * n, w[x++] = l[p + 4] - a, w[x++] = s + n + 2 * o, w[x++] = l[p + 5] - h, w[x++] = u[p + 5] + o + 2 * s;
							for (; p < c; ++p) w[x++] = l[p + 2] - l[p], w[x++] = u[p + 2] + u[p] + 2 * u[p + 1]
						}
						e.cache.put_buffer(T), e.cache.put_buffer(C)
					}, canny: function (t, i, n, r) {
						var o = t.cols, s = t.rows;
						t.data;
						i.resize(o, s, t.channel);
						var a = i.data, h = 0, l = 0, u = 0, c = o << 1, f = 0, d = 0, p = 0, g = 0, m = 0, y = 0,
							v = 0, _ = 0, x = e.cache.get_buffer(s * c << 2), b = e.cache.get_buffer(3 * (o + 2) << 2),
							w = e.cache.get_buffer((s + 2) * (o + 2) << 2), T = e.cache.get_buffer(s * o << 2),
							C = b.i32, E = w.i32, M = T.i32, P = x.i32, S = new e.matrix_t(o, s, e.S32C2_t, x.data),
							I = 1, R = o + 2 + 1 | 0, A = 2 * (o + 2) + 1 | 0, k = o + 2 | 0, O = k + 1 | 0, L = 0;
						for (this.sobel_derivatives(t, S), n > r && (h = n, n = r, r = h), h = 3 * (o + 2) | 0; --h >= 0;) C[h] = 0;
						for (h = (s + 2) * (o + 2) | 0; --h >= 0;) E[h] = 0;
						for (; l < o; ++l, u += 2) g = P[u], m = P[u + 1], C[R + l] = (g ^ g >> 31) - (g >> 31) + ((m ^ m >> 31) - (m >> 31));
						for (h = 1; h <= s; ++h, u += c) {
							if (h == s) for (l = A + o; --l >= A;) C[l] = 0; else for (l = 0; l < o; l++) g = P[u + (l << 1)], m = P[u + (l << 1) + 1], C[A + l] = (g ^ g >> 31) - (g >> 31) + ((m ^ m >> 31) - (m >> 31));
							for (f = u - c | 0, E[O - 1] = 0, d = 0, l = 0; l < o; ++l, f += 2) {
								if (p = C[R + l], p > n) if (g = P[f], m = P[f + 1], y = g ^ m, g = (g ^ g >> 31) - (g >> 31) | 0, m = (m ^ m >> 31) - (m >> 31) | 0, v = 13573 * g, _ = v + (g + g << 15), m <<= 15, m < v) {
									if (p > C[R + l - 1] && p >= C[R + l + 1]) {
										p > r && !d && 2 != E[O + l - k] ? (E[O + l] = 2, d = 1, M[L++] = O + l) : E[O + l] = 1;
										continue
									}
								} else if (m > _) {
									if (p > C[I + l] && p >= C[A + l]) {
										p > r && !d && 2 != E[O + l - k] ? (E[O + l] = 2, d = 1, M[L++] = O + l) : E[O + l] = 1;
										continue
									}
								} else if (y = y < 0 ? -1 : 1, p > C[I + l - y] && p > C[A + l + y]) {
									p > r && !d && 2 != E[O + l - k] ? (E[O + l] = 2, d = 1, M[L++] = O + l) : E[O + l] = 1;
									continue
								}
								E[O + l] = 0, d = 0
							}
							E[O + o] = 0, O += k, l = I, I = R, R = A, A = l
						}
						for (l = O - k - 1, h = 0; h < k; ++h, ++l) E[l] = 0;
						for (; L > 0;) O = M[--L], O -= k + 1, 1 == E[O] && (E[O] = 2, M[L++] = O), O += 1, 1 == E[O] && (E[O] = 2, M[L++] = O), O += 1, 1 == E[O] && (E[O] = 2, M[L++] = O), O += k, 1 == E[O] && (E[O] = 2, M[L++] = O), O -= 2, 1 == E[O] && (E[O] = 2, M[L++] = O), O += k, 1 == E[O] && (E[O] = 2, M[L++] = O), O += 1, 1 == E[O] && (E[O] = 2, M[L++] = O), O += 1, 1 == E[O] && (E[O] = 2, M[L++] = O);
						for (O = k + 1, I = 0, h = 0; h < s; ++h, O += k) for (l = 0; l < o; ++l) a[I++] = 255 * (2 == E[O + l]);
						e.cache.put_buffer(x), e.cache.put_buffer(b), e.cache.put_buffer(w), e.cache.put_buffer(T)
					}, warp_affine: function (t, e, i, n) {
						"undefined" == typeof n && (n = 0);
						for (var r = t.cols, o = t.rows, s = e.cols, a = e.rows, h = t.data, l = e.data, u = 0, c = 0, f = 0, d = 0, p = 0, g = 0, m = 0, y = 0, v = 0, _ = 0, x = 0, b = i.data, w = b[0], T = b[1], C = b[2], E = b[3], M = b[4], P = b[5], S = 0; c < a; ++c) for (g = T * c + C, m = M * c + P, u = 0; u < s; ++u, ++S, g += w, m += E) d = 0 | g, p = 0 | m, d >= 0 && p >= 0 && d < r - 1 && p < o - 1 ? (y = g - d, v = m - p, f = r * p + d, _ = h[f] + y * (h[f + 1] - h[f]), x = h[f + r] + y * (h[f + r + 1] - h[f + r]), l[S] = _ + v * (x - _)) : l[S] = n
					}
				}
			}();
			t.imgproc = i
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t = new Int32Array([0, 3, 1, 3, 2, 2, 3, 1, 3, 0, 3, -1, 2, -2, 1, -3, 0, -3, -1, -3, -2, -2, -3, -1, -3, 0, -3, 1, -2, 2, -1, 3]),
					i = new Uint8Array(512), n = new Int32Array(25), r = new Int32Array(25), o = function (e, i, n) {
						for (var r = 0, o = t; r < n; ++r) e[r] = o[r << 1] + o[(r << 1) + 1] * i;
						for (; r < 25; ++r) e[r] = e[r - n]
					}, s = function (t, e, i, n, r) {
						for (var o = 25, s = 0, a = t[e], h = r, l = 0, u = 0, c = 0; s < o; ++s) n[s] = a - t[e + i[s]];
						for (s = 0; s < 16; s += 2) l = Math.min(n[s + 1], n[s + 2]), l = Math.min(l, n[s + 3]), l <= h || (l = Math.min(l, n[s + 4]), l = Math.min(l, n[s + 5]), l = Math.min(l, n[s + 6]), l = Math.min(l, n[s + 7]), l = Math.min(l, n[s + 8]), h = Math.max(h, Math.min(l, n[s])), h = Math.max(h, Math.min(l, n[s + 9])));
						for (u = -h, s = 0; s < 16; s += 2) c = Math.max(n[s + 1], n[s + 2]), c = Math.max(c, n[s + 3]), c = Math.max(c, n[s + 4]), c = Math.max(c, n[s + 5]), c >= u || (c = Math.max(c, n[s + 6]), c = Math.max(c, n[s + 7]), c = Math.max(c, n[s + 8]), u = Math.min(u, Math.max(c, n[s])), u = Math.min(u, Math.max(c, n[s + 9])));
						return -u - 1
					}, a = 20;
				return {
					set_threshold: function (t) {
						a = Math.min(Math.max(t, 0), 255);
						for (var e = -255; e <= 255; ++e) i[e + 255] = e < -a ? 1 : e > a ? 2 : 0;
						return a
					}, detect: function (t, h, l) {
						"undefined" == typeof l && (l = 3);
						var u, c = 8, f = 25, d = t.data, p = t.cols, g = t.rows, m = 0, y = 0, v = 0, _ = 0, x = 0,
							b = 0, w = e.cache.get_buffer(3 * p), T = e.cache.get_buffer(3 * (p + 1) << 2), C = w.u8,
							E = T.i32, M = n, P = r, S = Math.max(3, l), I = Math.min(g - 2, g - l), R = Math.max(3, l),
							A = Math.min(p - 3, p - l), k = 0, O = 0, L = s, D = i, B = a, N = 0, F = 0, z = 0, H = 0,
							j = 0, U = 0, V = 0, X = 0, W = 0, G = 0, Y = 0, q = 0;
						o(M, p, 16);
						var Q = M[0], J = M[1], Z = M[2], K = M[3], $ = M[4], tt = M[5], et = M[6], it = M[7],
							nt = M[8], rt = M[9], ot = M[10], st = M[11], at = M[12], ht = M[13], lt = M[14],
							ut = M[15];
						for (m = 0; m < 3 * p; ++m) C[m] = 0;
						for (m = S; m < I; ++m) {
							for (V = m * p + R | 0, b = (m - 3) % 3, U = b * p | 0, j = b * (p + 1) | 0, y = 0; y < p; ++y) C[U + y] = 0;
							if (H = 0, m < I - 1) for (y = R; y < A; ++y, ++V) if (N = d[V], F = -N + 255, z = D[F + d[V + Q]] | D[F + d[V + nt]], 0 != z && (z &= D[F + d[V + Z]] | D[F + d[V + ot]], z &= D[F + d[V + $]] | D[F + d[V + at]], z &= D[F + d[V + et]] | D[F + d[V + lt]], 0 != z)) {
								if (z &= D[F + d[V + J]] | D[F + d[V + rt]], z &= D[F + d[V + K]] | D[F + d[V + st]], z &= D[F + d[V + tt]] | D[F + d[V + ht]], z &= D[F + d[V + it]] | D[F + d[V + ut]], 1 & z) for (_ = N - B, k = 0, v = 0; v < f; ++v) if (x = d[V + M[v]], x < _) {
									if (++k, k > c) {
										++H, E[j + H] = y, C[U + y] = L(d, V, M, P, B);
										break
									}
								} else k = 0;
								if (2 & z) for (_ = N + B, k = 0, v = 0; v < f; ++v) if (x = d[V + M[v]], x > _) {
									if (++k, k > c) {
										++H, E[j + H] = y, C[U + y] = L(d, V, M, P, B);
										break
									}
								} else k = 0
							}
							if (E[j + p] = H, m != S) for (b = (m - 4 + 3) % 3, X = b * p | 0, j = b * (p + 1) | 0, b = (m - 5 + 3) % 3, W = b * p | 0, H = E[j + p], v = 0; v < H; ++v) y = E[j + v], G = y + 1 | 0, Y = y - 1 | 0, q = C[X + y], q > C[X + G] && q > C[X + Y] && q > C[W + Y] && q > C[W + y] && q > C[W + G] && q > C[U + Y] && q > C[U + y] && q > C[U + G] && (u = h[O], u.x = y, u.y = m - 1, u.score = q, O++)
						}
						return e.cache.put_buffer(w), e.cache.put_buffer(T), O
					}
				}
			}();
			t.fast_corners = i, i.set_threshold(20)
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t = function (t, e, i, n, r, o, s, a, h, l) {
					var u = 0, c = 0, f = a * i + s | 0, d = f;
					for (u = a; u < l; ++u, f += i, d = f) for (c = s; c < h; ++c, ++d) e[d] = -4 * t[d] + t[d + r] + t[d - r] + t[d + o] + t[d - o]
				}, i = function (t, e, i, n, r, o, s) {
					var a = -2 * t[e] + t[e + n] + t[e - n], h = -2 * t[e] + t[e + r] + t[e - r],
						l = t[e + o] + t[e - o] - t[e + s] - t[e - s], u = 0 | Math.sqrt((a - h) * (a - h) + 4 * l * l);
					return Math.min(Math.abs(i - u), Math.abs(-(i + u)))
				};
				return {
					laplacian_threshold: 30, min_eigen_value_threshold: 25, detect: function (n, r, o) {
						"undefined" == typeof o && (o = 5);
						var s, a = n.cols, h = n.rows, l = n.data, u = 5, c = 5 * a | 0, f = 3 + 3 * a | 0,
							d = 3 - 3 * a | 0, p = e.cache.get_buffer(a * h << 2), g = p.i32, m = 0, v = 0, _ = 0,
							b = 0, w = this.laplacian_threshold, T = this.min_eigen_value_threshold,
							C = 0 | Math.max(5, o), E = 0 | Math.max(3, o), M = 0 | Math.min(a - 5, a - o),
							P = 0 | Math.min(h - 3, h - o);
						for (x = a * h; --x >= 0;) g[x] = 0;
						for (t(l, g, a, h, u, c, C, E, M, P), row = E * a + C | 0, y = E; y < P; ++y, row += a) for (x = C, v = row; x < M; ++x, ++v) m = g[v], (m < -w && m < g[v - 1] && m < g[v + 1] && m < g[v - a] && m < g[v + a] && m < g[v - a - 1] && m < g[v + a - 1] && m < g[v - a + 1] && m < g[v + a + 1] || m > w && m > g[v - 1] && m > g[v + 1] && m > g[v - a] && m > g[v + a] && m > g[v - a - 1] && m > g[v + a - 1] && m > g[v - a + 1] && m > g[v + a + 1]) && (_ = i(l, v, m, u, c, f, d), _ > T && (s = r[b], s.x = x, s.y = y, s.score = _, ++b, ++x, ++v));
						return e.cache.put_buffer(p), b
					}
				}
			}();
			t.yape06 = i
		}(e.jsfeat), function (t) {
			var e = function () {
				var t = function (t, e, i) {
					var n, r, o = 0;
					for (n = i, r = 0; r < n; r++, o++) n = Math.sqrt(i * i - r * r) + .5 | 0, e[o] = n + t * r;
					for (n--; n < r && n >= 0; n--, o++) r = Math.sqrt(i * i - n * n) + .5 | 0, e[o] = n + t * r;
					for (; -n < r; n--, o++) r = Math.sqrt(i * i - n * n) + .5 | 0, e[o] = n + t * r;
					for (r--; r >= 0; r--, o++) n = -Math.sqrt(i * i - r * r) - .5 | 0, e[o] = n + t * r;
					for (; r > n; r--, o++) n = -Math.sqrt(i * i - r * r) - .5 | 0, e[o] = n + t * r;
					for (n++; n <= 0; n++, o++) r = -Math.sqrt(i * i - n * n) - .5 | 0, e[o] = n + t * r;
					for (; n < -r; n++, o++) r = -Math.sqrt(i * i - n * n) - .5 | 0, e[o] = n + t * r;
					for (r++; r < 0; r++, o++) n = Math.sqrt(i * i - r * r) + .5 | 0, e[o] = n + t * r;
					return e[o] = e[0], e[o + 1] = e[1], o
				}, e = function (t, e, i) {
					var n = 0;
					return 0 != t[e + 1] && n++, 0 != t[e - 1] && n++, 0 != t[e + i] && n++, 0 != t[e + i + 1] && n++, 0 != t[e + i - 1] && n++, 0 != t[e - i] && n++, 0 != t[e - i + 1] && n++, 0 != t[e - i - 1] && n++, n
				}, i = function (t, e, i, n, r) {
					var o, s;
					if (i > 0) for (e -= n * r, s = -r; s <= r; ++s) {
						for (o = -r; o <= r; ++o) if (t[e + o] > i) return !1;
						e += n
					} else for (e -= n * r, s = -r; s <= r; ++s) {
						for (o = -r; o <= r; ++o) if (t[e + o] < i) return !1;
						e += n
					}
					return !0
				}, n = function (t, e, i, n, r, o, s, a) {
					var h = 0, l = 0, u = s - 1 | 0, c = 0, f = 0, d = 0, p = 0, g = 0;
					if (c = t[e + o[l]], c <= r) if (c >= n) if (f = t[e + o[u]], f <= r) {
						if (f >= n) return void(i[e] = 0);
						if (u++, d = t[e + o[u]], d > r) if (u++, p = t[e + o[u]], p > r) g = 3; else {
							if (!(p < n)) return void(i[e] = 0);
							g = 6
						} else if (u++, p = t[e + o[u]], p > r) g = 7; else {
							if (!(p < n)) return void(i[e] = 0);
							g = 2
						}
					} else if (u++, d = t[e + o[u]], d > r) if (u++, p = t[e + o[u]], p > r) g = 3; else {
						if (!(p < n)) return void(i[e] = 0);
						g = 6
					} else {
						if (!(d < n)) return void(i[e] = 0);
						if (u++, p = t[e + o[u]], p > r) g = 7; else {
							if (!(p < n)) return void(i[e] = 0);
							g = 2
						}
					} else {
						if (f = t[e + o[u]], f > r) return void(i[e] = 0);
						if (u++, d = t[e + o[u]], d > r) return void(i[e] = 0);
						if (u++, p = t[e + o[u]], p > r) return void(i[e] = 0);
						g = 1
					} else {
						if (f = t[e + o[u]], f < n) return void(i[e] = 0);
						if (u++, d = t[e + o[u]], d < n) return void(i[e] = 0);
						if (u++, p = t[e + o[u]], p < n) return void(i[e] = 0);
						g = 0
					}
					for (l = 1; l <= s; l++) switch (c = t[e + o[l]], g) {
						case 0:
							if (c > r) {
								if (d = p, u++, p = t[e + o[u]], p < n) return void(i[e] = 0);
								h -= c + d, g = 0;
								break
							}
							if (c < n) {
								if (d > r) return void(i[e] = 0);
								if (p > r) return void(i[e] = 0);
								if (d = p, u++, p = t[e + o[u]], p > r) return void(i[e] = 0);
								h -= c + d, g = 8;
								break
							}
							if (d <= r) return void(i[e] = 0);
							if (p <= r) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], p > r) {
								h -= c + d, g = 3;
								break
							}
							if (p < n) {
								h -= c + d, g = 6;
								break
							}
							return void(i[e] = 0);
						case 1:
							if (c < n) {
								if (d = p, u++, p = t[e + o[u]], p > r) return void(i[e] = 0);
								h -= c + d, g = 1;
								break
							}
							if (c > r) {
								if (d < n) return void(i[e] = 0);
								if (p < n) return void(i[e] = 0);
								if (d = p, u++, p = t[e + o[u]], p < n) return void(i[e] = 0);
								h -= c + d, g = 9;
								break
							}
							if (d >= n) return void(i[e] = 0);
							if (p >= n) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], p < n) {
								h -= c + d, g = 2;
								break
							}
							if (p > r) {
								h -= c + d, g = 7;
								break
							}
							return void(i[e] = 0);
						case 2:
							if (c > r) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], c < n) {
								if (p > r) return void(i[e] = 0);
								h -= c + d, g = 4;
								break
							}
							if (p > r) {
								h -= c + d, g = 7;
								break
							}
							if (p < n) {
								h -= c + d, g = 2;
								break
							}
							return void(i[e] = 0);
						case 3:
							if (c < n) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], c > r) {
								if (p < n) return void(i[e] = 0);
								h -= c + d, g = 5;
								break
							}
							if (p > r) {
								h -= c + d, g = 3;
								break
							}
							if (p < n) {
								h -= c + d, g = 6;
								break
							}
							return void(i[e] = 0);
						case 4:
							if (c > r) return void(i[e] = 0);
							if (c < n) {
								if (d = p, u++, p = t[e + o[u]], p > r) return void(i[e] = 0);
								h -= c + d, g = 1;
								break
							}
							if (p >= n) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], p < n) {
								h -= c + d, g = 2;
								break
							}
							if (p > r) {
								h -= c + d, g = 7;
								break
							}
							return void(i[e] = 0);
						case 5:
							if (c < n) return void(i[e] = 0);
							if (c > r) {
								if (d = p, u++, p = t[e + o[u]], p < n) return void(i[e] = 0);
								h -= c + d, g = 0;
								break
							}
							if (p <= r) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], p > r) {
								h -= c + d, g = 3;
								break
							}
							if (p < n) {
								h -= c + d, g = 6;
								break
							}
							return void(i[e] = 0);
						case 7:
							if (c > r) return void(i[e] = 0);
							if (c < n) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], p > r) {
								h -= c + d, g = 3;
								break
							}
							if (p < n) {
								h -= c + d, g = 6;
								break
							}
							return void(i[e] = 0);
						case 6:
							if (c > r) return void(i[e] = 0);
							if (c < n) return void(i[e] = 0);
							if (d = p, u++, p = t[e + o[u]], p < n) {
								h -= c + d, g = 2;
								break
							}
							if (p > r) {
								h -= c + d, g = 7;
								break
							}
							return void(i[e] = 0);
						case 8:
							if (c > r) {
								if (p < n) return void(i[e] = 0);
								if (d = p, u++, p = t[e + o[u]], p < n) return void(i[e] = 0);
								h -= c + d, g = 9;
								break
							}
							if (c < n) {
								if (d = p, u++, p = t[e + o[u]], p > r) return void(i[e] = 0);
								h -= c + d, g = 1;
								break
							}
							return void(i[e] = 0);
						case 9:
							if (c < n) {
								if (p > r) return void(i[e] = 0);
								if (d = p, u++, p = t[e + o[u]], p > r) return void(i[e] = 0);
								h -= c + d, g = 8;
								break
							}
							if (c > r) {
								if (d = p, u++, p = t[e + o[u]], p < n) return void(i[e] = 0);
								h -= c + d, g = 0;
								break
							}
							return void(i[e] = 0)
					}
					i[e] = h + a * t[e]
				}, r = function () {
					function e(e, i, n) {
						this.dirs = new Int32Array(1024), this.dirs_count = 0 | t(e, this.dirs, n), this.scores = new Int32Array(e * i), this.radius = 0 | n
					}

					return e
				}();
				return {
					level_tables: [], tau: 7, init: function (t, e, i, n) {
						"undefined" == typeof n && (n = 1);
						var o;
						for (i = Math.min(i, 7), i = Math.max(i, 3), o = 0; o < n; ++o) this.level_tables[o] = new r(t >> o, e >> o, i)
					}, detect: function (t, r, o) {
						"undefined" == typeof o && (o = 4);
						var s, a = this.level_tables[0], h = 0 | a.radius, l = h - 1 | 0, u = a.dirs,
							c = 0 | a.dirs_count, f = c >> 1, d = t.data, p = 0 | t.cols, g = 0 | t.rows, m = p >> 1,
							y = a.scores, v = 0, _ = 0, x = 0, b = 0, w = 0, T = 0, C = 0, E = 0, M = 0 | this.tau,
							P = 0, S = 0 | Math.max(h + 1, o), I = 0 | Math.max(h + 1, o),
							R = 0 | Math.min(p - h - 2, p - o), A = 0 | Math.min(g - h - 2, g - o);
						for (x = I * p + S | 0, _ = I; _ < A; ++_, x += p) for (v = S, b = x; v < R; ++v, ++b) w = d[b] + M, T = d[b] - M, T < d[b + h] && d[b + h] < w && T < d[b - h] && d[b - h] < w ? y[b] = 0 : n(d, b, y, T, w, u, f, c);
						for (x = I * p + S | 0, _ = I; _ < A; ++_, x += p) for (v = S, b = x; v < R; ++v, ++b) E = y[b], C = Math.abs(E), C < 5 ? (++v, ++b) : e(y, b, p) >= 3 && i(y, b, E, m, h) && (s = r[P], s.x = v, s.y = _, s.score = C, ++P, v += l, b += l);
						return P
					}
				}
			}();
			t.yape = e
		}(e.jsfeat), function (t) {
			var e = t, n = function () {
				var t = new Int32Array([8, -3, 9, 5, 4, 2, 7, -12, -11, 9, -8, 2, 7, -12, 12, -13, 2, -13, 2, 12, 1, -7, 1, 6, -2, -10, -2, -4, -13, -13, -11, -8, -13, -3, -12, -9, 10, 4, 11, 9, -13, -8, -8, -9, -11, 7, -9, 12, 7, 7, 12, 6, -4, -5, -3, 0, -13, 2, -12, -3, -9, 0, -7, 5, 12, -6, 12, -1, -3, 6, -2, 12, -6, -13, -4, -8, 11, -13, 12, -8, 4, 7, 5, 1, 5, -3, 10, -3, 3, -7, 6, 12, -8, -7, -6, -2, -2, 11, -1, -10, -13, 12, -8, 10, -7, 3, -5, -3, -4, 2, -3, 7, -10, -12, -6, 11, 5, -12, 6, -7, 5, -6, 7, -1, 1, 0, 4, -5, 9, 11, 11, -13, 4, 7, 4, 12, 2, -1, 4, 4, -4, -12, -2, 7, -8, -5, -7, -10, 4, 11, 9, 12, 0, -8, 1, -13, -13, -2, -8, 2, -3, -2, -2, 3, -6, 9, -4, -9, 8, 12, 10, 7, 0, 9, 1, 3, 7, -5, 11, -10, -13, -6, -11, 0, 10, 7, 12, 1, -6, -3, -6, 12, 10, -9, 12, -4, -13, 8, -8, -12, -13, 0, -8, -4, 3, 3, 7, 8, 5, 7, 10, -7, -1, 7, 1, -12, 3, -10, 5, 6, 2, -4, 3, -10, -13, 0, -13, 5, -13, -7, -12, 12, -13, 3, -11, 8, -7, 12, -4, 7, 6, -10, 12, 8, -9, -1, -7, -6, -2, -5, 0, 12, -12, 5, -7, 5, 3, -10, 8, -13, -7, -7, -4, 5, -3, -2, -1, -7, 2, 9, 5, -11, -11, -13, -5, -13, -1, 6, 0, -1, 5, -3, 5, 2, -4, -13, -4, 12, -9, -6, -9, 6, -12, -10, -8, -4, 10, 2, 12, -3, 7, 12, 12, 12, -7, -13, -6, 5, -4, 9, -3, 4, 7, -1, 12, 2, -7, 6, -5, 1, -13, 11, -12, 5, -3, 7, -2, -6, 7, -8, 12, -7, -13, -7, -11, -12, 1, -3, 12, 12, 2, -6, 3, 0, -4, 3, -2, -13, -1, -13, 1, 9, 7, 1, 8, -6, 1, -1, 3, 12, 9, 1, 12, 6, -1, -9, -1, 3, -13, -13, -10, 5, 7, 7, 10, 12, 12, -5, 12, 9, 6, 3, 7, 11, 5, -13, 6, 10, 2, -12, 2, 3, 3, 8, 4, -6, 2, 6, 12, -13, 9, -12, 10, 3, -8, 4, -7, 9, -11, 12, -4, -6, 1, 12, 2, -8, 6, -9, 7, -4, 2, 3, 3, -2, 6, 3, 11, 0, 3, -3, 8, -8, 7, 8, 9, 3, -11, -5, -6, -4, -10, 11, -5, 10, -5, -8, -3, 12, -10, 5, -9, 0, 8, -1, 12, -6, 4, -6, 6, -11, -10, 12, -8, 7, 4, -2, 6, 7, -2, 0, -2, 12, -5, -8, -5, 2, 7, -6, 10, 12, -9, -13, -8, -8, -5, -13, -5, -2, 8, -8, 9, -13, -9, -11, -9, 0, 1, -8, 1, -2, 7, -4, 9, 1, -2, 1, -1, -4, 11, -6, 12, -11, -12, -9, -6, 4, 3, 7, 7, 12, 5, 5, 10, 8, 0, -4, 2, 8, -9, 12, -5, -13, 0, 7, 2, 12, -1, 2, 1, 7, 5, 11, 7, -9, 3, 5, 6, -8, -13, -4, -8, 9, -5, 9, -3, -3, -4, -7, -3, -12, 6, 5, 8, 0, -7, 6, -6, 12, -13, 6, -5, -2, 1, -10, 3, 10, 4, 1, 8, -4, -2, -2, 2, -13, 2, -12, 12, 12, -2, -13, 0, -6, 4, 1, 9, 3, -6, -10, -3, -5, -3, -13, -1, 1, 7, 5, 12, -11, 4, -2, 5, -7, -13, 9, -9, -5, 7, 1, 8, 6, 7, -8, 7, 6, -7, -4, -7, 1, -8, 11, -7, -8, -13, 6, -12, -8, 2, 4, 3, 9, 10, -5, 12, 3, -6, -5, -6, 7, 8, -3, 9, -8, 2, -12, 2, 8, -11, -2, -10, 3, -12, -13, -7, -9, -11, 0, -10, -5, 5, -3, 11, 8, -2, -13, -1, 12, -1, -8, 0, 9, -13, -11, -12, -5, -10, -2, -10, 11, -3, 9, -2, -13, 2, -3, 3, 2, -9, -13, -4, 0, -4, 6, -3, -10, -4, 12, -2, -7, -6, -11, -4, 9, 6, -3, 6, 11, -13, 11, -5, 5, 11, 11, 12, 6, 7, -5, 12, -2, -1, 12, 0, 7, -4, -8, -3, -2, -7, 1, -6, 7, -13, -12, -8, -13, -7, -2, -6, -8, -8, 5, -6, -9, -5, -1, -4, 5, -13, 7, -8, 10, 1, 5, 5, -13, 1, 0, 10, -13, 9, 12, 10, -1, 5, -8, 10, -9, -1, 11, 1, -13, -9, -3, -6, 2, -1, -10, 1, 12, -13, 1, -8, -10, 8, -11, 10, -6, 2, -13, 3, -6, 7, -13, 12, -9, -10, -10, -5, -7, -10, -8, -8, -13, 4, -6, 8, 5, 3, 12, 8, -13, -4, 2, -3, -3, 5, -13, 10, -12, 4, -13, 5, -1, -9, 9, -4, 3, 0, 3, 3, -9, -12, 1, -6, 1, 3, 2, 4, -8, -10, -10, -10, 9, 8, -13, 12, 12, -8, -12, -6, -5, 2, 2, 3, 7, 10, 6, 11, -8, 6, 8, 8, -12, -7, 10, -6, 5, -3, -9, -3, 9, -1, -13, -1, 5, -3, -7, -3, 4, -8, -2, -8, 3, 4, 2, 12, 12, 2, -5, 3, 11, 6, -9, 11, -13, 3, -1, 7, 12, 11, -1, 12, 4, -3, 0, -3, 6, 4, -11, 4, 12, 2, -4, 2, 1, -10, -6, -8, 1, -13, 7, -11, 1, -13, 12, -11, -13, 6, 0, 11, -13, 0, -1, 1, 4, -13, 3, -9, -2, -9, 8, -6, -3, -13, -6, -8, -2, 5, -9, 8, 10, 2, 7, 3, -9, -1, -6, -1, -1, 9, 5, 11, -2, 11, -3, 12, -8, 3, 0, 3, 5, -1, 4, 0, 10, 3, -6, 4, 5, -13, 0, -10, 5, 5, 8, 12, 11, 8, 9, 9, -6, 7, -4, 8, -12, -10, 4, -10, 9, 7, 3, 12, 4, 9, -7, 10, -2, 7, 0, 12, -2, -1, -6, 0, -11]),
					n = new e.matrix_t(3, 3, e.F32_t | e.C1_t), r = new e.matrix_t(32, 32, e.U8_t | e.C1_t),
					o = function (t, i, r, o, s, a) {
						var h = Math.cos(r), l = Math.sin(r);
						n.data[0] = h, n.data[1] = -l, n.data[2] = (-h + l) * a * .5 + o, n.data[3] = l, n.data[4] = h, n.data[5] = (-l - h) * a * .5 + s, e.imgproc.warp_affine(t, i, n, 128)
					};
				return {
					describe: function (n, s, a, h) {
						var l = 32, u = 0, c = 0, f = 0, d = 0, p = 0, g = 0, m = 0, y = r.data, v = 528, _ = 0;
						h.type & e.U8_t ? h.resize(l, a, 1) : (h.type = e.U8_t, h.cols = l, h.rows = a, h.channel = 1, h.allocate());
						var x = h.data, b = 0;
						for (i = 0; i < a; ++i) {
							for (c = s[i].x, f = s[i].y, d = s[i].angle, o(n, r, d, c, f, 32), _ = 0, u = 0; u < l; ++u) p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m = p < g | 0, p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m |= (p < g) << 1, p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m |= (p < g) << 2, p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m |= (p < g) << 3, p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m |= (p < g) << 4, p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m |= (p < g) << 5, p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m |= (p < g) << 6, p = y[v + 32 * t[_ + 1] + t[_]], _ += 2, g = y[v + 32 * t[_ + 1] + t[_]], _ += 2, m |= (p < g) << 7, x[b + u] = m;
							b += l
						}
					}
				}
			}();
			t.orb = n
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t = e.imgproc.scharr_derivatives;
				return {
					track: function (i, n, r, o, s, a, h, l, u, c) {
						"undefined" == typeof h && (h = 30), "undefined" == typeof l && (l = new Uint8Array(s)), "undefined" == typeof u && (u = .01), "undefined" == typeof c && (c = 1e-4);
						var f = .5 * (a - 1), d = a * a | 0, p = d << 1, g = i.data, m = n.data, y = g[0].data,
							v = m[0].data, _ = g[0].cols, x = g[0].rows, b = 0, w = 0, T = e.cache.get_buffer(d << 2),
							C = e.cache.get_buffer(p << 2), E = e.cache.get_buffer(x * (_ << 1) << 2),
							M = new e.matrix_t(_, x, e.S32C2_t, E.data), P = T.i32, S = C.i32, I = E.i32, R = 0, A = 0,
							k = 0, O = 0, L = 0, D = 0, B = 0, N = 0, F = 0, z = 0, H = 0, j = 0, U = 0, V = 0, X = 0,
							W = 0, G = 0, Y = 0, q = 0, Q = 0, J = 0, Z = 0, K = 0, $ = 0, tt = 0, et = 0, it = 0,
							nt = 0, rt = 0, ot = 0, st = 0, at = 0, ht = 0, lt = 14, ut = 14, ct = ut - 5,
							ft = 1 << ct - 1, dt = 1 << lt, pt = 1 << ut - 1, gt = 1 / (1 << 20), mt = 0, yt = 0,
							vt = 0, _t = 0, xt = 0, bt = 0, wt = 0, Tt = 0, Ct = 0, Et = 0, Mt = 0, Pt = 0,
							St = 1.1920929e-7;
						for (u *= u; Q < s; ++Q) l[Q] = 1;
						var It = i.levels - 1 | 0;
						for ($ = It; $ >= 0; --$) for (B = 1 / (1 << $), b = _ >> $, w = x >> $, R = b << 1, y = g[$].data, v = m[$].data, nt = b - a | 0, rt = w - a | 0, t(g[$], M), tt = 0; tt < s; ++tt) if (Q = tt << 1, J = Q + 1, N = r[Q] * B, F = r[J] * B, $ == It ? (z = N, H = F) : (z = 2 * o[Q], H = 2 * o[J]), o[Q] = z, o[J] = H, N -= f, F -= f, W = 0 | N, G = 0 | F, Z = W <= it | W >= nt | G <= it | G >= rt, 0 == Z) {
							for (ot = N - W, st = F - G, mt = (1 - ot) * (1 - st) * dt + .5 | 0, yt = ot * (1 - st) * dt + .5 | 0, vt = (1 - ot) * st * dt + .5 | 0, _t = dt - mt - yt - vt, Tt = 0, Ct = 0, Et = 0, K = 0; K < a; ++K) for (A = (K + G) * b + W | 0, k = A << 1, O = K * a | 0, L = O << 1, Z = 0; Z < a; ++Z, ++A, ++O, k += 2) xt = y[A] * mt + y[A + 1] * yt + y[A + b] * vt + y[A + b + 1] * _t, xt = xt + ft >> ct, bt = I[k] * mt + I[k + 2] * yt + I[k + R] * vt + I[k + R + 2] * _t, bt = bt + pt >> ut, wt = I[k + 1] * mt + I[k + 3] * yt + I[k + R + 1] * vt + I[k + R + 3] * _t, wt = wt + pt >> ut, P[O] = xt, S[L++] = bt, S[L++] = wt, Tt += bt * bt, Ct += bt * wt, Et += wt * wt;
							if (Tt *= gt, Ct *= gt, Et *= gt, Mt = Tt * Et - Ct * Ct, Pt = (Et + Tt - Math.sqrt((Tt - Et) * (Tt - Et) + 4 * Ct * Ct)) / p, Pt < c || Mt < St) 0 == $ && (l[tt] = 0); else for (Mt = 1 / Mt, z -= f, H -= f, j = 0, U = 0, et = 0; et < h; ++et) {
								if (Y = 0 | z, q = 0 | H, Z = Y <= it | Y >= nt | q <= it | q >= rt, 0 != Z) {
									0 == $ && (l[tt] = 0);
									break
								}
								for (ot = z - Y, st = H - q, mt = (1 - ot) * (1 - st) * dt + .5 | 0, yt = ot * (1 - st) * dt + .5 | 0, vt = (1 - ot) * st * dt + .5 | 0, _t = dt - mt - yt - vt, at = 0, ht = 0, K = 0; K < a; ++K) for (D = (K + q) * b + Y | 0, O = K * a | 0, L = O << 1, Z = 0; Z < a; ++Z, ++D, ++O) xt = v[D] * mt + v[D + 1] * yt + v[D + b] * vt + v[D + b + 1] * _t, xt = xt + ft >> ct, xt -= P[O], at += xt * S[L++], ht += xt * S[L++];
								if (at *= gt, ht *= gt, V = (Ct * ht - Et * at) * Mt, X = (Ct * at - Tt * ht) * Mt, z += V, H += X, o[Q] = z + f, o[J] = H + f, V * V + X * X <= u) break;
								if (et > 0 && Math.abs(V + j) < .01 && Math.abs(X + U) < .01) {
									o[Q] -= .5 * V, o[J] -= .5 * X;
									break
								}
								j = V, U = X
							}
						} else 0 == $ && (l[tt] = 0);
						e.cache.put_buffer(T), e.cache.put_buffer(C), e.cache.put_buffer(E)
					}
				}
			}();
			t.optical_flow_lk = i
		}(e.jsfeat), function (t) {
			var e = function () {
				var t = function (t, e) {
					var i = .25 * t.width + .5 | 0;
					return e.x <= t.x + i && e.x >= t.x - i && e.y <= t.y + i && e.y >= t.y - i && e.width <= 1.5 * t.width + .5 | 0 && 1.5 * e.width + .5 | 0 >= t.width
				};
				return {
					edges_density: .07, group_rectangles: function (e, i) {
						"undefined" == typeof i && (i = 1);
						var n, r, o = e.length, s = [];
						for (n = 0; n < o; ++n) s[n] = {parent: -1, element: e[n], rank: 0};
						for (n = 0; n < o; ++n) if (s[n].element) {
							for (var a = n; s[a].parent != -1;) a = s[a].parent;
							for (r = 0; r < o; ++r) if (n != r && s[r].element && t(s[n].element, s[r].element)) {
								for (var h = r; s[h].parent != -1;) h = s[h].parent;
								if (h != a) {
									s[a].rank > s[h].rank ? s[h].parent = a : (s[a].parent = h, s[a].rank == s[h].rank && s[h].rank++, a = h);
									for (var l, u = r; s[u].parent != -1;) l = u, u = s[u].parent, s[l].parent = a;
									for (u = n; s[u].parent != -1;) l = u, u = s[u].parent, s[l].parent = a
								}
							}
						}
						var c = [], f = 0;
						for (n = 0; n < o; n++) {
							r = -1;
							var d = n;
							if (s[d].element) {
								for (; s[d].parent != -1;) d = s[d].parent;
								s[d].rank >= 0 && (s[d].rank = ~f++), r = ~s[d].rank
							}
							c[n] = r
						}
						var p = [];
						for (n = 0; n < f + 1; ++n) p[n] = {
							neighbors: 0,
							x: 0,
							y: 0,
							width: 0,
							height: 0,
							confidence: 0
						};
						for (n = 0; n < o; ++n) {
							var g = e[n], m = c[n];
							0 == p[m].neighbors && (p[m].confidence = g.confidence), ++p[m].neighbors, p[m].x += g.x, p[m].y += g.y, p[m].width += g.width, p[m].height += g.height, p[m].confidence = Math.max(p[m].confidence, g.confidence)
						}
						var y = [];
						for (n = 0; n < f; ++n) o = p[n].neighbors, o >= i && y.push({
							x: (2 * p[n].x + o) / (2 * o),
							y: (2 * p[n].y + o) / (2 * o),
							width: (2 * p[n].width + o) / (2 * o),
							height: (2 * p[n].height + o) / (2 * o),
							neighbors: p[n].neighbors,
							confidence: p[n].confidence
						});
						var v = [];
						for (o = y.length, n = 0; n < o; ++n) {
							var g = y[n], _ = !0;
							for (r = 0; r < o; ++r) {
								var x = y[r], b = .25 * x.width + .5 | 0;
								if (n != r && g.x >= x.x - b && g.y >= x.y - b && g.x + g.width <= x.x + x.width + b && g.y + g.height <= x.y + x.height + b && (x.neighbors > Math.max(3, g.neighbors) || g.neighbors < 3)) {
									_ = !1;
									break
								}
							}
							_ && v.push(g)
						}
						return v
					}
				}
			}();
			t.haar = e
		}(e.jsfeat), function (t) {
			var e = t, i = function () {
				var t = function (t, e) {
					var i = .25 * t.width + .5 | 0;
					return e.x <= t.x + i && e.x >= t.x - i && e.y <= t.y + i && e.y >= t.y - i && e.width <= 1.5 * t.width + .5 | 0 && 1.5 * e.width + .5 | 0 >= t.width
				};
				new e.pyramid_t(1);
				return {
					interval: 4, scale: 1.1486, next: 5, scale_to: 1, detect: function (t, e) {
						var i, n, r, o, s, a = this.scale, h = this.next, l = this.scale_to, u = 0, c = 0, f = 0, d = 0,
							p = 0, g = 0, m = 0, y = 0, v = 0, _ = 0, x = 0, b = 0, w = 0, T = 0, C = 0, E = 0, M = 0,
							P = 0, S = !0, I = !0, R = 1, A = 1, k = [0, 1, 0, 1], O = [0, 0, 1, 1], L = [], D = t.data,
							B = 1, N = 2, F = 4, z = [], H = [0, 0, 0], j = [0, 0, 0], U = [0, 0, 0];
						for (u = 0; u < l; u++) {
							for (C = u << 2, E = D[C + (h << 3)].cols - (e.width >> 2), M = D[C + (h << 3)].rows - (e.height >> 2), j[0] = D[C].cols * B, j[1] = D[C + (h << 2)].cols * B, j[2] = D[C + (h << 3)].cols * B, U[0] = D[C].cols * F - E * F, U[1] = D[C + (h << 2)].cols * N - E * N, U[2] = D[C + (h << 3)].cols * B - E * B, y = e.stage_classifier.length, c = 0; c < y; c++) for (r = e.stage_classifier[c].feature, n = e.stage_classifier[c]._feature, v = e.stage_classifier[c].count, f = 0; f < v; f++) for (o = n[f], s = r[f], _ = 0 | s.size, m = 0; m < _; m++) o.px[m] = s.px[m] * B + s.py[m] * j[s.pz[m]], o.pz[m] = s.pz[m], o.nx[m] = s.nx[m] * B + s.ny[m] * j[s.nz[m]], o.nz[m] = s.nz[m];
							for (z[0] = D[C].data, z[1] = D[C + (h << 2)].data, m = 0; m < 4; m++) for (z[2] = D[C + (h << 3) + m].data, H[0] = k[m] * N + O[m] * (D[C].cols * N), H[1] = k[m] * B + O[m] * (D[C + (h << 2)].cols * B), H[2] = 0, g = 0; g < M; g++) {
								for (p = 0; p < E; p++) {
									for (P = 0, S = !0, y = e.stage_classifier.length, c = 0; c < y; c++) {
										for (P = 0, i = e.stage_classifier[c].alpha, n = e.stage_classifier[c]._feature, v = e.stage_classifier[c].count, f = 0; f < v; f++) if (o = n[f], b = z[o.pz[0]][H[o.pz[0]] + o.px[0]], w = z[o.nz[0]][H[o.nz[0]] + o.nx[0]], b <= w) P += i[f << 1]; else {
											for (I = !0, _ = o.size, T = 1; T < _; T++) {
												if (o.pz[T] >= 0 && (x = z[o.pz[T]][H[o.pz[T]] + o.px[T]],
													x < b)) {
													if (x <= w) {
														I = !1;
														break
													}
													b = x
												}
												if (o.nz[T] >= 0 && (d = z[o.nz[T]][H[o.nz[T]] + o.nx[T]], d > w)) {
													if (b <= d) {
														I = !1;
														break
													}
													w = d
												}
											}
											P += I ? i[(f << 1) + 1] : i[f << 1]
										}
										if (P < e.stage_classifier[c].threshold) {
											S = !1;
											break
										}
									}
									S && (L.push({
										x: (4 * p + 2 * k[m]) * R,
										y: (4 * g + 2 * O[m]) * A,
										width: e.width * R,
										height: e.height * A,
										neighbor: 1,
										confidence: P
									}), ++p, H[0] += F, H[1] += N, H[2] += B), H[0] += F, H[1] += N, H[2] += B
								}
								H[0] += U[0], H[1] += U[1], H[2] += U[2]
							}
							R *= a, A *= a
						}
						return L
					}, group_rectangles: function (e, i) {
						"undefined" == typeof i && (i = 1);
						var n, r, o = e.length, s = [];
						for (n = 0; n < o; ++n) s[n] = {parent: -1, element: e[n], rank: 0};
						for (n = 0; n < o; ++n) if (s[n].element) {
							for (var a = n; s[a].parent != -1;) a = s[a].parent;
							for (r = 0; r < o; ++r) if (n != r && s[r].element && t(s[n].element, s[r].element)) {
								for (var h = r; s[h].parent != -1;) h = s[h].parent;
								if (h != a) {
									s[a].rank > s[h].rank ? s[h].parent = a : (s[a].parent = h, s[a].rank == s[h].rank && s[h].rank++, a = h);
									for (var l, u = r; s[u].parent != -1;) l = u, u = s[u].parent, s[l].parent = a;
									for (u = n; s[u].parent != -1;) l = u, u = s[u].parent, s[l].parent = a
								}
							}
						}
						var c = [], f = 0;
						for (n = 0; n < o; n++) {
							r = -1;
							var d = n;
							if (s[d].element) {
								for (; s[d].parent != -1;) d = s[d].parent;
								s[d].rank >= 0 && (s[d].rank = ~f++), r = ~s[d].rank
							}
							c[n] = r
						}
						var p = [];
						for (n = 0; n < f + 1; ++n) p[n] = {
							neighbors: 0,
							x: 0,
							y: 0,
							width: 0,
							height: 0,
							confidence: 0
						};
						for (n = 0; n < o; ++n) {
							var g = e[n], m = c[n];
							0 == p[m].neighbors && (p[m].confidence = g.confidence), ++p[m].neighbors, p[m].x += g.x, p[m].y += g.y, p[m].width += g.width, p[m].height += g.height, p[m].confidence = Math.max(p[m].confidence, g.confidence)
						}
						var y = [];
						for (n = 0; n < f; ++n) o = p[n].neighbors, o >= i && y.push({
							x: (2 * p[n].x + o) / (2 * o),
							y: (2 * p[n].y + o) / (2 * o),
							width: (2 * p[n].width + o) / (2 * o),
							height: (2 * p[n].height + o) / (2 * o),
							neighbors: p[n].neighbors,
							confidence: p[n].confidence
						});
						var v = [];
						for (o = y.length, n = 0; n < o; ++n) {
							var g = y[n], _ = !0;
							for (r = 0; r < o; ++r) {
								var x = y[r], b = .25 * x.width + .5 | 0;
								if (n != r && g.x >= x.x - b && g.y >= x.y - b && g.x + g.width <= x.x + x.width + b && g.y + g.height <= x.y + x.height + b && (x.neighbors > Math.max(3, g.neighbors) || g.neighbors < 3)) {
									_ = !1;
									break
								}
							}
							_ && v.push(g)
						}
						return v
					}
				}
			}();
			t.bbf = i
		}(e.jsfeat), function (e) {
			if ("undefined" == typeof t || "undefined" == typeof t.exports) {
				var i = usenamespace("editor.utils");
				i.jsfeat = e
			} else t.exports.jsfeat = e
		}(e.jsfeat)
	}()
}]);